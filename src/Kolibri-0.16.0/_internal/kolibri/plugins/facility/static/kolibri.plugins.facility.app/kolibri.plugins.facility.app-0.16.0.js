/*! For license information please see kolibri.plugins.facility.app-0.16.0.js.LICENSE.txt */
!function(){var __webpack_modules__={9224:function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[exports,module],__WEBPACK_AMD_DEFINE_FACTORY__=function(exports,module){"use strict";var keys,values,map="function"==typeof Map?new Map:(keys=[],values=[],{has:function(key){return keys.indexOf(key)>-1},get:function(key){return values[keys.indexOf(key)]},set:function(key,value){-1===keys.indexOf(key)&&(keys.push(key),values.push(value))},delete:function(key){var index=keys.indexOf(key);index>-1&&(keys.splice(index,1),values.splice(index,1))}}),createEvent=function(name){return new Event(name,{bubbles:!0})};try{new Event("test")}catch(e){createEvent=function(name){var evt=document.createEvent("Event");return evt.initEvent(name,!0,!1),evt}}function assign(ta){if(ta&&ta.nodeName&&"TEXTAREA"===ta.nodeName&&!map.has(ta)){var heightOffset=null,clientWidth=ta.clientWidth,cachedHeight=null,pageResize=function(){ta.clientWidth!==clientWidth&&update()},destroy=function(style){window.removeEventListener("resize",pageResize,!1),ta.removeEventListener("input",update,!1),ta.removeEventListener("keyup",update,!1),ta.removeEventListener("autosize:destroy",destroy,!1),ta.removeEventListener("autosize:update",update,!1),Object.keys(style).forEach((function(key){ta.style[key]=style[key]})),map.delete(ta)}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener("autosize:destroy",destroy,!1),"onpropertychange"in ta&&"oninput"in ta&&ta.addEventListener("keyup",update,!1),window.addEventListener("resize",pageResize,!1),ta.addEventListener("input",update,!1),ta.addEventListener("autosize:update",update,!1),ta.style.overflowX="hidden",ta.style.wordWrap="break-word",map.set(ta,{destroy:destroy,update:update}),init()}function init(){var style=window.getComputedStyle(ta,null);"vertical"===style.resize?ta.style.resize="none":"both"===style.resize&&(ta.style.resize="horizontal"),heightOffset="content-box"===style.boxSizing?-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom)):parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth),isNaN(heightOffset)&&(heightOffset=0),update()}function changeOverflow(value){var width=ta.style.width;ta.style.width="0px",ta.offsetWidth,ta.style.width=width,ta.style.overflowY=value}function getParentOverflows(el){for(var arr=[];el&&el.parentNode&&el.parentNode instanceof Element;)el.parentNode.scrollTop&&arr.push({node:el.parentNode,scrollTop:el.parentNode.scrollTop}),el=el.parentNode;return arr}function resize(){var originalHeight=ta.style.height,overflows=getParentOverflows(ta),docTop=document.documentElement&&document.documentElement.scrollTop;ta.style.height="auto";var endHeight=ta.scrollHeight+heightOffset;0!==ta.scrollHeight?(ta.style.height=endHeight+"px",clientWidth=ta.clientWidth,overflows.forEach((function(el){el.node.scrollTop=el.scrollTop})),docTop&&(document.documentElement.scrollTop=docTop)):ta.style.height=originalHeight}function update(){resize();var styleHeight=Math.round(parseFloat(ta.style.height)),computed=window.getComputedStyle(ta,null),actualHeight="content-box"===computed.boxSizing?Math.round(parseFloat(computed.height)):ta.offsetHeight;if(actualHeight!==styleHeight?"hidden"===computed.overflowY&&(changeOverflow("scroll"),resize(),actualHeight="content-box"===computed.boxSizing?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight):"hidden"!==computed.overflowY&&(changeOverflow("hidden"),resize(),actualHeight="content-box"===computed.boxSizing?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight),cachedHeight!==actualHeight){cachedHeight=actualHeight;var evt=createEvent("autosize:resized");try{ta.dispatchEvent(evt)}catch(err){}}}}function destroy(ta){var methods=map.get(ta);methods&&methods.destroy()}function update(ta){var methods=map.get(ta);methods&&methods.update()}var autosize=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((autosize=function(el){return el}).destroy=function(el){return el},autosize.update=function(el){return el}):((autosize=function(el,options){return el&&Array.prototype.forEach.call(el.length?el:[el],(function(x){return assign(x,options)})),el}).destroy=function(el){return el&&Array.prototype.forEach.call(el.length?el:[el],destroy),el},autosize.update=function(el){return el&&Array.prototype.forEach.call(el.length?el:[el],update),el}),module.exports=autosize},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},1908:function(module){module.exports=function(dirtyDate){var date=new Date(dirtyDate.getTime()),baseTimezoneOffset=date.getTimezoneOffset();return date.setSeconds(0,0),6e4*baseTimezoneOffset+date.getTime()%6e4}},906:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyAmount){var date=parse(dirtyDate),amount=Number(dirtyAmount);return date.setDate(date.getDate()+amount),date}},6858:function(module,__unused_webpack_exports,__webpack_require__){var addMilliseconds=__webpack_require__(6585);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMilliseconds(dirtyDate,36e5*amount)}},6200:function(module,__unused_webpack_exports,__webpack_require__){var getISOYear=__webpack_require__(7173),setISOYear=__webpack_require__(1579);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return setISOYear(dirtyDate,getISOYear(dirtyDate)+amount)}},6585:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyAmount){var timestamp=parse(dirtyDate).getTime(),amount=Number(dirtyAmount);return new Date(timestamp+amount)}},3475:function(module,__unused_webpack_exports,__webpack_require__){var addMilliseconds=__webpack_require__(6585);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMilliseconds(dirtyDate,6e4*amount)}},6362:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),getDaysInMonth=__webpack_require__(3043);module.exports=function(dirtyDate,dirtyAmount){var date=parse(dirtyDate),amount=Number(dirtyAmount),desiredMonth=date.getMonth()+amount,dateWithDesiredMonth=new Date(0);dateWithDesiredMonth.setFullYear(date.getFullYear(),desiredMonth,1),dateWithDesiredMonth.setHours(0,0,0,0);var daysInMonth=getDaysInMonth(dateWithDesiredMonth);return date.setMonth(desiredMonth,Math.min(daysInMonth,date.getDate())),date}},2935:function(module,__unused_webpack_exports,__webpack_require__){var addMonths=__webpack_require__(6362);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMonths(dirtyDate,3*amount)}},8771:function(module,__unused_webpack_exports,__webpack_require__){var addMilliseconds=__webpack_require__(6585);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMilliseconds(dirtyDate,1e3*amount)}},3804:function(module,__unused_webpack_exports,__webpack_require__){var addDays=__webpack_require__(906);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addDays(dirtyDate,7*amount)}},1830:function(module,__unused_webpack_exports,__webpack_require__){var addMonths=__webpack_require__(6362);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMonths(dirtyDate,12*amount)}},2171:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyInitialRangeStartDate,dirtyInitialRangeEndDate,dirtyComparedRangeStartDate,dirtyComparedRangeEndDate){var initialStartTime=parse(dirtyInitialRangeStartDate).getTime(),initialEndTime=parse(dirtyInitialRangeEndDate).getTime(),comparedStartTime=parse(dirtyComparedRangeStartDate).getTime(),comparedEndTime=parse(dirtyComparedRangeEndDate).getTime();if(initialStartTime>initialEndTime||comparedStartTime>comparedEndTime)throw new Error("The start of the range cannot be after the end of the range");return initialStartTime<comparedEndTime&&comparedStartTime<initialEndTime}},4937:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateToCompare,dirtyDatesArray){if(!(dirtyDatesArray instanceof Array))throw new TypeError(toString.call(dirtyDatesArray)+" is not an instance of Array");var result,minDistance,timeToCompare=parse(dirtyDateToCompare).getTime();return dirtyDatesArray.forEach((function(dirtyDate,index){var currentDate=parse(dirtyDate),distance=Math.abs(timeToCompare-currentDate.getTime());(void 0===result||distance<minDistance)&&(result=index,minDistance=distance)})),result}},8224:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateToCompare,dirtyDatesArray){if(!(dirtyDatesArray instanceof Array))throw new TypeError(toString.call(dirtyDatesArray)+" is not an instance of Array");var result,minDistance,timeToCompare=parse(dirtyDateToCompare).getTime();return dirtyDatesArray.forEach((function(dirtyDate){var currentDate=parse(dirtyDate),distance=Math.abs(timeToCompare-currentDate.getTime());(void 0===result||distance<minDistance)&&(result=currentDate,minDistance=distance)})),result}},709:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var timeLeft=parse(dirtyDateLeft).getTime(),timeRight=parse(dirtyDateRight).getTime();return timeLeft<timeRight?-1:timeLeft>timeRight?1:0}},2365:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var timeLeft=parse(dirtyDateLeft).getTime(),timeRight=parse(dirtyDateRight).getTime();return timeLeft>timeRight?-1:timeLeft<timeRight?1:0}},7850:function(module,__unused_webpack_exports,__webpack_require__){var startOfDay=__webpack_require__(6586);module.exports=function(dirtyDateLeft,dirtyDateRight){var startOfDayLeft=startOfDay(dirtyDateLeft),startOfDayRight=startOfDay(dirtyDateRight),timestampLeft=startOfDayLeft.getTime()-6e4*startOfDayLeft.getTimezoneOffset(),timestampRight=startOfDayRight.getTime()-6e4*startOfDayRight.getTimezoneOffset();return Math.round((timestampLeft-timestampRight)/864e5)}},646:function(module,__unused_webpack_exports,__webpack_require__){var startOfISOWeek=__webpack_require__(5012);module.exports=function(dirtyDateLeft,dirtyDateRight){var startOfISOWeekLeft=startOfISOWeek(dirtyDateLeft),startOfISOWeekRight=startOfISOWeek(dirtyDateRight),timestampLeft=startOfISOWeekLeft.getTime()-6e4*startOfISOWeekLeft.getTimezoneOffset(),timestampRight=startOfISOWeekRight.getTime()-6e4*startOfISOWeekRight.getTimezoneOffset();return Math.round((timestampLeft-timestampRight)/6048e5)}},3080:function(module,__unused_webpack_exports,__webpack_require__){var getISOYear=__webpack_require__(7173);module.exports=function(dirtyDateLeft,dirtyDateRight){return getISOYear(dirtyDateLeft)-getISOYear(dirtyDateRight)}},8266:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight);return 12*(dateLeft.getFullYear()-dateRight.getFullYear())+(dateLeft.getMonth()-dateRight.getMonth())}},7982:function(module,__unused_webpack_exports,__webpack_require__){var getQuarter=__webpack_require__(7274),parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight);return 4*(dateLeft.getFullYear()-dateRight.getFullYear())+(getQuarter(dateLeft)-getQuarter(dateRight))}},7999:function(module,__unused_webpack_exports,__webpack_require__){var startOfWeek=__webpack_require__(1250);module.exports=function(dirtyDateLeft,dirtyDateRight,dirtyOptions){var startOfWeekLeft=startOfWeek(dirtyDateLeft,dirtyOptions),startOfWeekRight=startOfWeek(dirtyDateRight,dirtyOptions),timestampLeft=startOfWeekLeft.getTime()-6e4*startOfWeekLeft.getTimezoneOffset(),timestampRight=startOfWeekRight.getTime()-6e4*startOfWeekRight.getTimezoneOffset();return Math.round((timestampLeft-timestampRight)/6048e5)}},2004:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight);return dateLeft.getFullYear()-dateRight.getFullYear()}},7901:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),differenceInCalendarDays=__webpack_require__(7850),compareAsc=__webpack_require__(709);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight),sign=compareAsc(dateLeft,dateRight),difference=Math.abs(differenceInCalendarDays(dateLeft,dateRight));return dateLeft.setDate(dateLeft.getDate()-sign*difference),sign*(difference-(compareAsc(dateLeft,dateRight)===-sign))}},6837:function(module,__unused_webpack_exports,__webpack_require__){var differenceInMilliseconds=__webpack_require__(2967);module.exports=function(dirtyDateLeft,dirtyDateRight){var diff=differenceInMilliseconds(dirtyDateLeft,dirtyDateRight)/36e5;return diff>0?Math.floor(diff):Math.ceil(diff)}},4463:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),differenceInCalendarISOYears=__webpack_require__(3080),compareAsc=__webpack_require__(709),subISOYears=__webpack_require__(1312);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight),sign=compareAsc(dateLeft,dateRight),difference=Math.abs(differenceInCalendarISOYears(dateLeft,dateRight));return dateLeft=subISOYears(dateLeft,sign*difference),sign*(difference-(compareAsc(dateLeft,dateRight)===-sign))}},2967:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight);return dateLeft.getTime()-dateRight.getTime()}},8217:function(module,__unused_webpack_exports,__webpack_require__){var differenceInMilliseconds=__webpack_require__(2967);module.exports=function(dirtyDateLeft,dirtyDateRight){var diff=differenceInMilliseconds(dirtyDateLeft,dirtyDateRight)/6e4;return diff>0?Math.floor(diff):Math.ceil(diff)}},4363:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),differenceInCalendarMonths=__webpack_require__(8266),compareAsc=__webpack_require__(709);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight),sign=compareAsc(dateLeft,dateRight),difference=Math.abs(differenceInCalendarMonths(dateLeft,dateRight));return dateLeft.setMonth(dateLeft.getMonth()-sign*difference),sign*(difference-(compareAsc(dateLeft,dateRight)===-sign))}},3081:function(module,__unused_webpack_exports,__webpack_require__){var differenceInMonths=__webpack_require__(4363);module.exports=function(dirtyDateLeft,dirtyDateRight){var diff=differenceInMonths(dirtyDateLeft,dirtyDateRight)/3;return diff>0?Math.floor(diff):Math.ceil(diff)}},7424:function(module,__unused_webpack_exports,__webpack_require__){var differenceInMilliseconds=__webpack_require__(2967);module.exports=function(dirtyDateLeft,dirtyDateRight){var diff=differenceInMilliseconds(dirtyDateLeft,dirtyDateRight)/1e3;return diff>0?Math.floor(diff):Math.ceil(diff)}},1887:function(module,__unused_webpack_exports,__webpack_require__){var differenceInDays=__webpack_require__(7901);module.exports=function(dirtyDateLeft,dirtyDateRight){var diff=differenceInDays(dirtyDateLeft,dirtyDateRight)/7;return diff>0?Math.floor(diff):Math.ceil(diff)}},7568:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),differenceInCalendarYears=__webpack_require__(2004),compareAsc=__webpack_require__(709);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight),sign=compareAsc(dateLeft,dateRight),difference=Math.abs(differenceInCalendarYears(dateLeft,dateRight));return dateLeft.setFullYear(dateLeft.getFullYear()-sign*difference),sign*(difference-(compareAsc(dateLeft,dateRight)===-sign))}},5922:function(module,__unused_webpack_exports,__webpack_require__){var compareDesc=__webpack_require__(2365),parse=__webpack_require__(2733),differenceInSeconds=__webpack_require__(7424),differenceInMonths=__webpack_require__(4363),enLocale=__webpack_require__(3987);module.exports=function(dirtyDateToCompare,dirtyDate,dirtyOptions){var options=dirtyOptions||{},comparison=compareDesc(dirtyDateToCompare,dirtyDate),locale=options.locale,localize=enLocale.distanceInWords.localize;locale&&locale.distanceInWords&&locale.distanceInWords.localize&&(localize=locale.distanceInWords.localize);var dateLeft,dateRight,localizeOptions={addSuffix:Boolean(options.addSuffix),comparison:comparison};comparison>0?(dateLeft=parse(dirtyDateToCompare),dateRight=parse(dirtyDate)):(dateLeft=parse(dirtyDate),dateRight=parse(dirtyDateToCompare));var months,seconds=differenceInSeconds(dateRight,dateLeft),offset=dateRight.getTimezoneOffset()-dateLeft.getTimezoneOffset(),minutes=Math.round(seconds/60)-offset;if(minutes<2)return options.includeSeconds?seconds<5?localize("lessThanXSeconds",5,localizeOptions):seconds<10?localize("lessThanXSeconds",10,localizeOptions):seconds<20?localize("lessThanXSeconds",20,localizeOptions):seconds<40?localize("halfAMinute",null,localizeOptions):localize(seconds<60?"lessThanXMinutes":"xMinutes",1,localizeOptions):0===minutes?localize("lessThanXMinutes",1,localizeOptions):localize("xMinutes",minutes,localizeOptions);if(minutes<45)return localize("xMinutes",minutes,localizeOptions);if(minutes<90)return localize("aboutXHours",1,localizeOptions);if(minutes<1440)return localize("aboutXHours",Math.round(minutes/60),localizeOptions);if(minutes<2520)return localize("xDays",1,localizeOptions);if(minutes<43200)return localize("xDays",Math.round(minutes/1440),localizeOptions);if(minutes<86400)return localize("aboutXMonths",months=Math.round(minutes/43200),localizeOptions);if((months=differenceInMonths(dateRight,dateLeft))<12)return localize("xMonths",Math.round(minutes/43200),localizeOptions);var monthsSinceStartOfYear=months%12,years=Math.floor(months/12);return monthsSinceStartOfYear<3?localize("aboutXYears",years,localizeOptions):monthsSinceStartOfYear<9?localize("overXYears",years,localizeOptions):localize("almostXYears",years+1,localizeOptions)}},394:function(module,__unused_webpack_exports,__webpack_require__){var compareDesc=__webpack_require__(2365),parse=__webpack_require__(2733),differenceInSeconds=__webpack_require__(7424),enLocale=__webpack_require__(3987);module.exports=function(dirtyDateToCompare,dirtyDate,dirtyOptions){var options=dirtyOptions||{},comparison=compareDesc(dirtyDateToCompare,dirtyDate),locale=options.locale,localize=enLocale.distanceInWords.localize;locale&&locale.distanceInWords&&locale.distanceInWords.localize&&(localize=locale.distanceInWords.localize);var dateLeft,dateRight,unit,localizeOptions={addSuffix:Boolean(options.addSuffix),comparison:comparison};comparison>0?(dateLeft=parse(dirtyDateToCompare),dateRight=parse(dirtyDate)):(dateLeft=parse(dirtyDate),dateRight=parse(dirtyDateToCompare));var mathPartial=Math[options.partialMethod?String(options.partialMethod):"floor"],seconds=differenceInSeconds(dateRight,dateLeft),offset=dateRight.getTimezoneOffset()-dateLeft.getTimezoneOffset(),minutes=mathPartial(seconds/60)-offset;if("s"===(unit=options.unit?String(options.unit):minutes<1?"s":minutes<60?"m":minutes<1440?"h":minutes<43200?"d":minutes<525600?"M":"Y"))return localize("xSeconds",seconds,localizeOptions);if("m"===unit)return localize("xMinutes",minutes,localizeOptions);if("h"===unit)return localize("xHours",mathPartial(minutes/60),localizeOptions);if("d"===unit)return localize("xDays",mathPartial(minutes/1440),localizeOptions);if("M"===unit)return localize("xMonths",mathPartial(minutes/43200),localizeOptions);if("Y"===unit)return localize("xYears",mathPartial(minutes/525600),localizeOptions);throw new Error("Unknown unit: "+unit)}},4582:function(module,__unused_webpack_exports,__webpack_require__){var distanceInWords=__webpack_require__(5922);module.exports=function(dirtyDate,dirtyOptions){return distanceInWords(Date.now(),dirtyDate,dirtyOptions)}},1663:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyStartDate,dirtyEndDate,dirtyStep){var startDate=parse(dirtyStartDate),step=void 0!==dirtyStep?dirtyStep:1,endTime=parse(dirtyEndDate).getTime();if(startDate.getTime()>endTime)throw new Error("The first date cannot be after the second date");var dates=[],currentDate=startDate;for(currentDate.setHours(0,0,0,0);currentDate.getTime()<=endTime;)dates.push(parse(currentDate)),currentDate.setDate(currentDate.getDate()+step);return dates}},5739:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setHours(23,59,59,999),date}},9202:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setMinutes(59,59,999),date}},3264:function(module,__unused_webpack_exports,__webpack_require__){var endOfWeek=__webpack_require__(7262);module.exports=function(dirtyDate){return endOfWeek(dirtyDate,{weekStartsOn:1})}},5900:function(module,__unused_webpack_exports,__webpack_require__){var getISOYear=__webpack_require__(7173),startOfISOWeek=__webpack_require__(5012);module.exports=function(dirtyDate){var year=getISOYear(dirtyDate),fourthOfJanuaryOfNextYear=new Date(0);fourthOfJanuaryOfNextYear.setFullYear(year+1,0,4),fourthOfJanuaryOfNextYear.setHours(0,0,0,0);var date=startOfISOWeek(fourthOfJanuaryOfNextYear);return date.setMilliseconds(date.getMilliseconds()-1),date}},1475:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setSeconds(59,999),date}},8e3:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),month=date.getMonth();return date.setFullYear(date.getFullYear(),month+1,0),date.setHours(23,59,59,999),date}},2443:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),currentMonth=date.getMonth(),month=currentMonth-currentMonth%3+3;return date.setMonth(month,0),date.setHours(23,59,59,999),date}},3200:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setMilliseconds(999),date}},834:function(module,__unused_webpack_exports,__webpack_require__){var endOfDay=__webpack_require__(5739);module.exports=function(){return endOfDay(new Date)}},4422:function(module){module.exports=function(){var now=new Date,year=now.getFullYear(),month=now.getMonth(),day=now.getDate(),date=new Date(0);return date.setFullYear(year,month,day+1),date.setHours(23,59,59,999),date}},7262:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyOptions){var weekStartsOn=dirtyOptions&&Number(dirtyOptions.weekStartsOn)||0,date=parse(dirtyDate),day=date.getDay(),diff=6+(day<weekStartsOn?-7:0)-(day-weekStartsOn);return date.setDate(date.getDate()+diff),date.setHours(23,59,59,999),date}},6779:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),year=date.getFullYear();return date.setFullYear(year+1,0,0),date.setHours(23,59,59,999),date}},816:function(module){module.exports=function(){var now=new Date,year=now.getFullYear(),month=now.getMonth(),day=now.getDate(),date=new Date(0);return date.setFullYear(year,month,day-1),date.setHours(23,59,59,999),date}},5276:function(module,__unused_webpack_exports,__webpack_require__){var getDayOfYear=__webpack_require__(5917),getISOWeek=__webpack_require__(1454),getISOYear=__webpack_require__(7173),parse=__webpack_require__(2733),isValid=__webpack_require__(8504),enLocale=__webpack_require__(3987);var formatters={M:function(date){return date.getMonth()+1},MM:function(date){return addLeadingZeros(date.getMonth()+1,2)},Q:function(date){return Math.ceil((date.getMonth()+1)/3)},D:function(date){return date.getDate()},DD:function(date){return addLeadingZeros(date.getDate(),2)},DDD:function(date){return getDayOfYear(date)},DDDD:function(date){return addLeadingZeros(getDayOfYear(date),3)},d:function(date){return date.getDay()},E:function(date){return date.getDay()||7},W:function(date){return getISOWeek(date)},WW:function(date){return addLeadingZeros(getISOWeek(date),2)},YY:function(date){return addLeadingZeros(date.getFullYear(),4).substr(2)},YYYY:function(date){return addLeadingZeros(date.getFullYear(),4)},GG:function(date){return String(getISOYear(date)).substr(2)},GGGG:function(date){return getISOYear(date)},H:function(date){return date.getHours()},HH:function(date){return addLeadingZeros(date.getHours(),2)},h:function(date){var hours=date.getHours();return 0===hours?12:hours>12?hours%12:hours},hh:function(date){return addLeadingZeros(formatters.h(date),2)},m:function(date){return date.getMinutes()},mm:function(date){return addLeadingZeros(date.getMinutes(),2)},s:function(date){return date.getSeconds()},ss:function(date){return addLeadingZeros(date.getSeconds(),2)},S:function(date){return Math.floor(date.getMilliseconds()/100)},SS:function(date){return addLeadingZeros(Math.floor(date.getMilliseconds()/10),2)},SSS:function(date){return addLeadingZeros(date.getMilliseconds(),3)},Z:function(date){return formatTimezone(date.getTimezoneOffset(),":")},ZZ:function(date){return formatTimezone(date.getTimezoneOffset())},X:function(date){return Math.floor(date.getTime()/1e3)},x:function(date){return date.getTime()}};function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|]$/g,""):input.replace(/\\/g,"")}function formatTimezone(offset,delimeter){delimeter=delimeter||"";var sign=offset>0?"-":"+",absOffset=Math.abs(offset),minutes=absOffset%60;return sign+addLeadingZeros(Math.floor(absOffset/60),2)+delimeter+addLeadingZeros(minutes,2)}function addLeadingZeros(number,targetLength){for(var output=Math.abs(number).toString();output.length<targetLength;)output="0"+output;return output}module.exports=function(dirtyDate,dirtyFormatStr,dirtyOptions){var formatStr=dirtyFormatStr?String(dirtyFormatStr):"YYYY-MM-DDTHH:mm:ss.SSSZ",locale=(dirtyOptions||{}).locale,localeFormatters=enLocale.format.formatters,formattingTokensRegExp=enLocale.format.formattingTokensRegExp;locale&&locale.format&&locale.format.formatters&&(localeFormatters=locale.format.formatters,locale.format.formattingTokensRegExp&&(formattingTokensRegExp=locale.format.formattingTokensRegExp));var date=parse(dirtyDate);return isValid(date)?function(formatStr,localeFormatters,formattingTokensRegExp){var i,formatter,array=formatStr.match(formattingTokensRegExp),length=array.length;for(i=0;i<length;i++)formatter=localeFormatters[array[i]]||formatters[array[i]],array[i]=formatter||removeFormattingTokens(array[i]);return function(date){for(var output="",i=0;i<length;i++)array[i]instanceof Function?output+=array[i](date,formatters):output+=array[i];return output}}(formatStr,localeFormatters,formattingTokensRegExp)(date):"Invalid Date"}},7122:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getDate()}},5873:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getDay()}},5917:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),startOfYear=__webpack_require__(7482),differenceInCalendarDays=__webpack_require__(7850);module.exports=function(dirtyDate){var date=parse(dirtyDate);return differenceInCalendarDays(date,startOfYear(date))+1}},3043:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),year=date.getFullYear(),monthIndex=date.getMonth(),lastDayOfMonth=new Date(0);return lastDayOfMonth.setFullYear(year,monthIndex+1,0),lastDayOfMonth.setHours(0,0,0,0),lastDayOfMonth.getDate()}},4053:function(module,__unused_webpack_exports,__webpack_require__){var isLeapYear=__webpack_require__(6126);module.exports=function(dirtyDate){return isLeapYear(dirtyDate)?366:365}},8575:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getHours()}},1287:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var day=parse(dirtyDate).getDay();return 0===day&&(day=7),day}},1454:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),startOfISOWeek=__webpack_require__(5012),startOfISOYear=__webpack_require__(9594);module.exports=function(dirtyDate){var date=parse(dirtyDate),diff=startOfISOWeek(date).getTime()-startOfISOYear(date).getTime();return Math.round(diff/6048e5)+1}},6816:function(module,__unused_webpack_exports,__webpack_require__){var startOfISOYear=__webpack_require__(9594),addWeeks=__webpack_require__(3804);module.exports=function(dirtyDate){var thisYear=startOfISOYear(dirtyDate),diff=startOfISOYear(addWeeks(thisYear,60)).valueOf()-thisYear.valueOf();return Math.round(diff/6048e5)}},7173:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),startOfISOWeek=__webpack_require__(5012);module.exports=function(dirtyDate){var date=parse(dirtyDate),year=date.getFullYear(),fourthOfJanuaryOfNextYear=new Date(0);fourthOfJanuaryOfNextYear.setFullYear(year+1,0,4),fourthOfJanuaryOfNextYear.setHours(0,0,0,0);var startOfNextYear=startOfISOWeek(fourthOfJanuaryOfNextYear),fourthOfJanuaryOfThisYear=new Date(0);fourthOfJanuaryOfThisYear.setFullYear(year,0,4),fourthOfJanuaryOfThisYear.setHours(0,0,0,0);var startOfThisYear=startOfISOWeek(fourthOfJanuaryOfThisYear);return date.getTime()>=startOfNextYear.getTime()?year+1:date.getTime()>=startOfThisYear.getTime()?year:year-1}},5748:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getMilliseconds()}},1748:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getMinutes()}},4653:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getMonth()}},7976:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyInitialRangeStartDate,dirtyInitialRangeEndDate,dirtyComparedRangeStartDate,dirtyComparedRangeEndDate){var initialStartTime=parse(dirtyInitialRangeStartDate).getTime(),initialEndTime=parse(dirtyInitialRangeEndDate).getTime(),comparedStartTime=parse(dirtyComparedRangeStartDate).getTime(),comparedEndTime=parse(dirtyComparedRangeEndDate).getTime();if(initialStartTime>initialEndTime||comparedStartTime>comparedEndTime)throw new Error("The start of the range cannot be after the end of the range");if(!(initialStartTime<comparedEndTime&&comparedStartTime<initialEndTime))return 0;var differenceInMs=(comparedEndTime>initialEndTime?initialEndTime:comparedEndTime)-(comparedStartTime<initialStartTime?initialStartTime:comparedStartTime);return Math.ceil(differenceInMs/864e5)}},7274:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return Math.floor(date.getMonth()/3)+1}},3478:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getSeconds()}},1631:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getTime()}},781:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getFullYear()}},6190:function(module,__unused_webpack_exports,__webpack_require__){module.exports={addDays:__webpack_require__(906),addHours:__webpack_require__(6858),addISOYears:__webpack_require__(6200),addMilliseconds:__webpack_require__(6585),addMinutes:__webpack_require__(3475),addMonths:__webpack_require__(6362),addQuarters:__webpack_require__(2935),addSeconds:__webpack_require__(8771),addWeeks:__webpack_require__(3804),addYears:__webpack_require__(1830),areRangesOverlapping:__webpack_require__(2171),closestIndexTo:__webpack_require__(4937),closestTo:__webpack_require__(8224),compareAsc:__webpack_require__(709),compareDesc:__webpack_require__(2365),differenceInCalendarDays:__webpack_require__(7850),differenceInCalendarISOWeeks:__webpack_require__(646),differenceInCalendarISOYears:__webpack_require__(3080),differenceInCalendarMonths:__webpack_require__(8266),differenceInCalendarQuarters:__webpack_require__(7982),differenceInCalendarWeeks:__webpack_require__(7999),differenceInCalendarYears:__webpack_require__(2004),differenceInDays:__webpack_require__(7901),differenceInHours:__webpack_require__(6837),differenceInISOYears:__webpack_require__(4463),differenceInMilliseconds:__webpack_require__(2967),differenceInMinutes:__webpack_require__(8217),differenceInMonths:__webpack_require__(4363),differenceInQuarters:__webpack_require__(3081),differenceInSeconds:__webpack_require__(7424),differenceInWeeks:__webpack_require__(1887),differenceInYears:__webpack_require__(7568),distanceInWords:__webpack_require__(5922),distanceInWordsStrict:__webpack_require__(394),distanceInWordsToNow:__webpack_require__(4582),eachDay:__webpack_require__(1663),endOfDay:__webpack_require__(5739),endOfHour:__webpack_require__(9202),endOfISOWeek:__webpack_require__(3264),endOfISOYear:__webpack_require__(5900),endOfMinute:__webpack_require__(1475),endOfMonth:__webpack_require__(8e3),endOfQuarter:__webpack_require__(2443),endOfSecond:__webpack_require__(3200),endOfToday:__webpack_require__(834),endOfTomorrow:__webpack_require__(4422),endOfWeek:__webpack_require__(7262),endOfYear:__webpack_require__(6779),endOfYesterday:__webpack_require__(816),format:__webpack_require__(5276),getDate:__webpack_require__(7122),getDay:__webpack_require__(5873),getDayOfYear:__webpack_require__(5917),getDaysInMonth:__webpack_require__(3043),getDaysInYear:__webpack_require__(4053),getHours:__webpack_require__(8575),getISODay:__webpack_require__(1287),getISOWeek:__webpack_require__(1454),getISOWeeksInYear:__webpack_require__(6816),getISOYear:__webpack_require__(7173),getMilliseconds:__webpack_require__(5748),getMinutes:__webpack_require__(1748),getMonth:__webpack_require__(4653),getOverlappingDaysInRanges:__webpack_require__(7976),getQuarter:__webpack_require__(7274),getSeconds:__webpack_require__(3478),getTime:__webpack_require__(1631),getYear:__webpack_require__(781),isAfter:__webpack_require__(543),isBefore:__webpack_require__(9461),isDate:__webpack_require__(3710),isEqual:__webpack_require__(7824),isFirstDayOfMonth:__webpack_require__(3126),isFriday:__webpack_require__(8650),isFuture:__webpack_require__(1931),isLastDayOfMonth:__webpack_require__(7217),isLeapYear:__webpack_require__(6126),isMonday:__webpack_require__(2990),isPast:__webpack_require__(7658),isSameDay:__webpack_require__(1610),isSameHour:__webpack_require__(7851),isSameISOWeek:__webpack_require__(5928),isSameISOYear:__webpack_require__(4272),isSameMinute:__webpack_require__(5543),isSameMonth:__webpack_require__(4103),isSameQuarter:__webpack_require__(2124),isSameSecond:__webpack_require__(498),isSameWeek:__webpack_require__(814),isSameYear:__webpack_require__(3902),isSaturday:__webpack_require__(2005),isSunday:__webpack_require__(4703),isThisHour:__webpack_require__(8722),isThisISOWeek:__webpack_require__(6065),isThisISOYear:__webpack_require__(2699),isThisMinute:__webpack_require__(6032),isThisMonth:__webpack_require__(1665),isThisQuarter:__webpack_require__(2916),isThisSecond:__webpack_require__(7910),isThisWeek:__webpack_require__(9688),isThisYear:__webpack_require__(6514),isThursday:__webpack_require__(1054),isToday:__webpack_require__(3223),isTomorrow:__webpack_require__(6676),isTuesday:__webpack_require__(6125),isValid:__webpack_require__(8504),isWednesday:__webpack_require__(8825),isWeekend:__webpack_require__(2575),isWithinRange:__webpack_require__(2949),isYesterday:__webpack_require__(8934),lastDayOfISOWeek:__webpack_require__(5037),lastDayOfISOYear:__webpack_require__(7873),lastDayOfMonth:__webpack_require__(4843),lastDayOfQuarter:__webpack_require__(457),lastDayOfWeek:__webpack_require__(9476),lastDayOfYear:__webpack_require__(4565),max:__webpack_require__(4292),min:__webpack_require__(8684),parse:__webpack_require__(2733),setDate:__webpack_require__(4311),setDay:__webpack_require__(7522),setDayOfYear:__webpack_require__(8305),setHours:__webpack_require__(5684),setISODay:__webpack_require__(1829),setISOWeek:__webpack_require__(9007),setISOYear:__webpack_require__(1579),setMilliseconds:__webpack_require__(8519),setMinutes:__webpack_require__(2526),setMonth:__webpack_require__(8802),setQuarter:__webpack_require__(86),setSeconds:__webpack_require__(5049),setYear:__webpack_require__(2100),startOfDay:__webpack_require__(6586),startOfHour:__webpack_require__(6530),startOfISOWeek:__webpack_require__(5012),startOfISOYear:__webpack_require__(9594),startOfMinute:__webpack_require__(6907),startOfMonth:__webpack_require__(1510),startOfQuarter:__webpack_require__(7133),startOfSecond:__webpack_require__(8657),startOfToday:__webpack_require__(9812),startOfTomorrow:__webpack_require__(345),startOfWeek:__webpack_require__(1250),startOfYear:__webpack_require__(7482),startOfYesterday:__webpack_require__(9358),subDays:__webpack_require__(7508),subHours:__webpack_require__(8477),subISOYears:__webpack_require__(1312),subMilliseconds:__webpack_require__(4405),subMinutes:__webpack_require__(9967),subMonths:__webpack_require__(1280),subQuarters:__webpack_require__(9858),subSeconds:__webpack_require__(8884),subWeeks:__webpack_require__(1745),subYears:__webpack_require__(3055)}},543:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyDateToCompare){var date=parse(dirtyDate),dateToCompare=parse(dirtyDateToCompare);return date.getTime()>dateToCompare.getTime()}},9461:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyDateToCompare){var date=parse(dirtyDate),dateToCompare=parse(dirtyDateToCompare);return date.getTime()<dateToCompare.getTime()}},3710:function(module){module.exports=function(argument){return argument instanceof Date}},7824:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyLeftDate,dirtyRightDate){var dateLeft=parse(dirtyLeftDate),dateRight=parse(dirtyRightDate);return dateLeft.getTime()===dateRight.getTime()}},3126:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 1===parse(dirtyDate).getDate()}},8650:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 5===parse(dirtyDate).getDay()}},1931:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getTime()>(new Date).getTime()}},7217:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),endOfDay=__webpack_require__(5739),endOfMonth=__webpack_require__(8e3);module.exports=function(dirtyDate){var date=parse(dirtyDate);return endOfDay(date).getTime()===endOfMonth(date).getTime()}},6126:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var year=parse(dirtyDate).getFullYear();return year%400==0||year%4==0&&year%100!=0}},2990:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 1===parse(dirtyDate).getDay()}},7658:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return parse(dirtyDate).getTime()<(new Date).getTime()}},1610:function(module,__unused_webpack_exports,__webpack_require__){var startOfDay=__webpack_require__(6586);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeftStartOfDay=startOfDay(dirtyDateLeft),dateRightStartOfDay=startOfDay(dirtyDateRight);return dateLeftStartOfDay.getTime()===dateRightStartOfDay.getTime()}},7851:function(module,__unused_webpack_exports,__webpack_require__){var startOfHour=__webpack_require__(6530);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeftStartOfHour=startOfHour(dirtyDateLeft),dateRightStartOfHour=startOfHour(dirtyDateRight);return dateLeftStartOfHour.getTime()===dateRightStartOfHour.getTime()}},5928:function(module,__unused_webpack_exports,__webpack_require__){var isSameWeek=__webpack_require__(814);module.exports=function(dirtyDateLeft,dirtyDateRight){return isSameWeek(dirtyDateLeft,dirtyDateRight,{weekStartsOn:1})}},4272:function(module,__unused_webpack_exports,__webpack_require__){var startOfISOYear=__webpack_require__(9594);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeftStartOfYear=startOfISOYear(dirtyDateLeft),dateRightStartOfYear=startOfISOYear(dirtyDateRight);return dateLeftStartOfYear.getTime()===dateRightStartOfYear.getTime()}},5543:function(module,__unused_webpack_exports,__webpack_require__){var startOfMinute=__webpack_require__(6907);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeftStartOfMinute=startOfMinute(dirtyDateLeft),dateRightStartOfMinute=startOfMinute(dirtyDateRight);return dateLeftStartOfMinute.getTime()===dateRightStartOfMinute.getTime()}},4103:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight);return dateLeft.getFullYear()===dateRight.getFullYear()&&dateLeft.getMonth()===dateRight.getMonth()}},2124:function(module,__unused_webpack_exports,__webpack_require__){var startOfQuarter=__webpack_require__(7133);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeftStartOfQuarter=startOfQuarter(dirtyDateLeft),dateRightStartOfQuarter=startOfQuarter(dirtyDateRight);return dateLeftStartOfQuarter.getTime()===dateRightStartOfQuarter.getTime()}},498:function(module,__unused_webpack_exports,__webpack_require__){var startOfSecond=__webpack_require__(8657);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeftStartOfSecond=startOfSecond(dirtyDateLeft),dateRightStartOfSecond=startOfSecond(dirtyDateRight);return dateLeftStartOfSecond.getTime()===dateRightStartOfSecond.getTime()}},814:function(module,__unused_webpack_exports,__webpack_require__){var startOfWeek=__webpack_require__(1250);module.exports=function(dirtyDateLeft,dirtyDateRight,dirtyOptions){var dateLeftStartOfWeek=startOfWeek(dirtyDateLeft,dirtyOptions),dateRightStartOfWeek=startOfWeek(dirtyDateRight,dirtyOptions);return dateLeftStartOfWeek.getTime()===dateRightStartOfWeek.getTime()}},3902:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight);return dateLeft.getFullYear()===dateRight.getFullYear()}},2005:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 6===parse(dirtyDate).getDay()}},4703:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 0===parse(dirtyDate).getDay()}},8722:function(module,__unused_webpack_exports,__webpack_require__){var isSameHour=__webpack_require__(7851);module.exports=function(dirtyDate){return isSameHour(new Date,dirtyDate)}},6065:function(module,__unused_webpack_exports,__webpack_require__){var isSameISOWeek=__webpack_require__(5928);module.exports=function(dirtyDate){return isSameISOWeek(new Date,dirtyDate)}},2699:function(module,__unused_webpack_exports,__webpack_require__){var isSameISOYear=__webpack_require__(4272);module.exports=function(dirtyDate){return isSameISOYear(new Date,dirtyDate)}},6032:function(module,__unused_webpack_exports,__webpack_require__){var isSameMinute=__webpack_require__(5543);module.exports=function(dirtyDate){return isSameMinute(new Date,dirtyDate)}},1665:function(module,__unused_webpack_exports,__webpack_require__){var isSameMonth=__webpack_require__(4103);module.exports=function(dirtyDate){return isSameMonth(new Date,dirtyDate)}},2916:function(module,__unused_webpack_exports,__webpack_require__){var isSameQuarter=__webpack_require__(2124);module.exports=function(dirtyDate){return isSameQuarter(new Date,dirtyDate)}},7910:function(module,__unused_webpack_exports,__webpack_require__){var isSameSecond=__webpack_require__(498);module.exports=function(dirtyDate){return isSameSecond(new Date,dirtyDate)}},9688:function(module,__unused_webpack_exports,__webpack_require__){var isSameWeek=__webpack_require__(814);module.exports=function(dirtyDate,dirtyOptions){return isSameWeek(new Date,dirtyDate,dirtyOptions)}},6514:function(module,__unused_webpack_exports,__webpack_require__){var isSameYear=__webpack_require__(3902);module.exports=function(dirtyDate){return isSameYear(new Date,dirtyDate)}},1054:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 4===parse(dirtyDate).getDay()}},3223:function(module,__unused_webpack_exports,__webpack_require__){var startOfDay=__webpack_require__(6586);module.exports=function(dirtyDate){return startOfDay(dirtyDate).getTime()===startOfDay(new Date).getTime()}},6676:function(module,__unused_webpack_exports,__webpack_require__){var startOfDay=__webpack_require__(6586);module.exports=function(dirtyDate){var tomorrow=new Date;return tomorrow.setDate(tomorrow.getDate()+1),startOfDay(dirtyDate).getTime()===startOfDay(tomorrow).getTime()}},6125:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 2===parse(dirtyDate).getDay()}},8504:function(module,__unused_webpack_exports,__webpack_require__){var isDate=__webpack_require__(3710);module.exports=function(dirtyDate){if(isDate(dirtyDate))return!isNaN(dirtyDate);throw new TypeError(toString.call(dirtyDate)+" is not an instance of Date")}},8825:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){return 3===parse(dirtyDate).getDay()}},2575:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var day=parse(dirtyDate).getDay();return 0===day||6===day}},2949:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyStartDate,dirtyEndDate){var time=parse(dirtyDate).getTime(),startTime=parse(dirtyStartDate).getTime(),endTime=parse(dirtyEndDate).getTime();if(startTime>endTime)throw new Error("The start of the range cannot be after the end of the range");return time>=startTime&&time<=endTime}},8934:function(module,__unused_webpack_exports,__webpack_require__){var startOfDay=__webpack_require__(6586);module.exports=function(dirtyDate){var yesterday=new Date;return yesterday.setDate(yesterday.getDate()-1),startOfDay(dirtyDate).getTime()===startOfDay(yesterday).getTime()}},5037:function(module,__unused_webpack_exports,__webpack_require__){var lastDayOfWeek=__webpack_require__(9476);module.exports=function(dirtyDate){return lastDayOfWeek(dirtyDate,{weekStartsOn:1})}},7873:function(module,__unused_webpack_exports,__webpack_require__){var getISOYear=__webpack_require__(7173),startOfISOWeek=__webpack_require__(5012);module.exports=function(dirtyDate){var year=getISOYear(dirtyDate),fourthOfJanuary=new Date(0);fourthOfJanuary.setFullYear(year+1,0,4),fourthOfJanuary.setHours(0,0,0,0);var date=startOfISOWeek(fourthOfJanuary);return date.setDate(date.getDate()-1),date}},4843:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),month=date.getMonth();return date.setFullYear(date.getFullYear(),month+1,0),date.setHours(0,0,0,0),date}},457:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),currentMonth=date.getMonth(),month=currentMonth-currentMonth%3+3;return date.setMonth(month,0),date.setHours(0,0,0,0),date}},9476:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyOptions){var weekStartsOn=dirtyOptions&&Number(dirtyOptions.weekStartsOn)||0,date=parse(dirtyDate),day=date.getDay(),diff=6+(day<weekStartsOn?-7:0)-(day-weekStartsOn);return date.setHours(0,0,0,0),date.setDate(date.getDate()+diff),date}},4565:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),year=date.getFullYear();return date.setFullYear(year+1,0,0),date.setHours(0,0,0,0),date}},7815:function(module){var commonFormatterKeys=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];module.exports=function(formatters){var formatterKeys=[];for(var key in formatters)formatters.hasOwnProperty(key)&&formatterKeys.push(key);var formattingTokens=commonFormatterKeys.concat(formatterKeys).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+formattingTokens.join("|")+"|.)","g")}},7936:function(module){module.exports=function(){var distanceInWordsLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(token,count,options){var result;return options=options||{},result="string"==typeof distanceInWordsLocale[token]?distanceInWordsLocale[token]:1===count?distanceInWordsLocale[token].one:distanceInWordsLocale[token].other.replace("{{count}}",count),options.addSuffix?options.comparison>0?"in "+result:result+" ago":result}}}},1995:function(module,__unused_webpack_exports,__webpack_require__){var buildFormattingTokensRegExp=__webpack_require__(7815);module.exports=function(){var months3char=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsFull=["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays2char=["Su","Mo","Tu","We","Th","Fr","Sa"],weekdays3char=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysFull=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],meridiemUppercase=["AM","PM"],meridiemLowercase=["am","pm"],meridiemFull=["a.m.","p.m."],formatters={MMM:function(date){return months3char[date.getMonth()]},MMMM:function(date){return monthsFull[date.getMonth()]},dd:function(date){return weekdays2char[date.getDay()]},ddd:function(date){return weekdays3char[date.getDay()]},dddd:function(date){return weekdaysFull[date.getDay()]},A:function(date){return date.getHours()/12>=1?meridiemUppercase[1]:meridiemUppercase[0]},a:function(date){return date.getHours()/12>=1?meridiemLowercase[1]:meridiemLowercase[0]},aa:function(date){return date.getHours()/12>=1?meridiemFull[1]:meridiemFull[0]}};return["M","D","DDD","d","Q","W"].forEach((function(formatterToken){formatters[formatterToken+"o"]=function(date,formatters){return function(number){var rem100=number%100;if(rem100>20||rem100<10)switch(rem100%10){case 1:return number+"st";case 2:return number+"nd";case 3:return number+"rd"}return number+"th"}(formatters[formatterToken](date))}})),{formatters:formatters,formattingTokensRegExp:buildFormattingTokensRegExp(formatters)}}},3987:function(module,__unused_webpack_exports,__webpack_require__){var buildDistanceInWordsLocale=__webpack_require__(7936),buildFormatLocale=__webpack_require__(1995);module.exports={distanceInWords:buildDistanceInWordsLocale(),format:buildFormatLocale()}},4292:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(){var dates=Array.prototype.slice.call(arguments).map((function(dirtyDate){return parse(dirtyDate)})),latestTimestamp=Math.max.apply(null,dates);return new Date(latestTimestamp)}},8684:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(){var dates=Array.prototype.slice.call(arguments).map((function(dirtyDate){return parse(dirtyDate)})),earliestTimestamp=Math.min.apply(null,dates);return new Date(earliestTimestamp)}},2733:function(module,__unused_webpack_exports,__webpack_require__){var getTimezoneOffsetInMilliseconds=__webpack_require__(1908),isDate=__webpack_require__(3710),MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,parseTokenDateTimeDelimeter=/[T ]/,parseTokenPlainTime=/:/,parseTokenYY=/^(\d{2})$/,parseTokensYYY=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],parseTokenYYYY=/^(\d{4})/,parseTokensYYYYY=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],parseTokenMM=/^-(\d{2})$/,parseTokenDDD=/^-?(\d{3})$/,parseTokenMMDD=/^-?(\d{2})-?(\d{2})$/,parseTokenWww=/^-?W(\d{2})$/,parseTokenWwwD=/^-?W(\d{2})-?(\d{1})$/,parseTokenHH=/^(\d{2}([.,]\d*)?)$/,parseTokenHHMM=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenHHMMSS=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenTimezone=/([Z+-].*)$/,parseTokenTimezoneZ=/^(Z)$/,parseTokenTimezoneHH=/^([+-])(\d{2})$/,parseTokenTimezoneHHMM=/^([+-])(\d{2}):?(\d{2})$/;function dayOfISOYear(isoYear,week,day){week=week||0,day=day||0;var date=new Date(0);date.setUTCFullYear(isoYear,0,4);var diff=7*week+day+1-(date.getUTCDay()||7);return date.setUTCDate(date.getUTCDate()+diff),date}module.exports=function(argument,dirtyOptions){if(isDate(argument))return new Date(argument.getTime());if("string"!=typeof argument)return new Date(argument);var additionalDigits=(dirtyOptions||{}).additionalDigits;additionalDigits=null==additionalDigits?2:Number(additionalDigits);var dateStrings=function(dateString){var timeString,dateStrings={},array=dateString.split(parseTokenDateTimeDelimeter);parseTokenPlainTime.test(array[0])?(dateStrings.date=null,timeString=array[0]):(dateStrings.date=array[0],timeString=array[1]);if(timeString){var token=parseTokenTimezone.exec(timeString);token?(dateStrings.time=timeString.replace(token[1],""),dateStrings.timezone=token[1]):dateStrings.time=timeString}return dateStrings}(argument),parseYearResult=function(dateString,additionalDigits){var token,parseTokenYYY=parseTokensYYY[additionalDigits],parseTokenYYYYY=parseTokensYYYYY[additionalDigits];if(token=parseTokenYYYY.exec(dateString)||parseTokenYYYYY.exec(dateString)){var yearString=token[1];return{year:parseInt(yearString,10),restDateString:dateString.slice(yearString.length)}}if(token=parseTokenYY.exec(dateString)||parseTokenYYY.exec(dateString)){var centuryString=token[1];return{year:100*parseInt(centuryString,10),restDateString:dateString.slice(centuryString.length)}}return{year:null}}(dateStrings.date,additionalDigits),year=parseYearResult.year,date=function(dateString,year){if(null===year)return null;var token,date,month;if(0===dateString.length)return(date=new Date(0)).setUTCFullYear(year),date;if(token=parseTokenMM.exec(dateString))return date=new Date(0),month=parseInt(token[1],10)-1,date.setUTCFullYear(year,month),date;if(token=parseTokenDDD.exec(dateString)){date=new Date(0);var dayOfYear=parseInt(token[1],10);return date.setUTCFullYear(year,0,dayOfYear),date}if(token=parseTokenMMDD.exec(dateString)){date=new Date(0),month=parseInt(token[1],10)-1;var day=parseInt(token[2],10);return date.setUTCFullYear(year,month,day),date}if(token=parseTokenWww.exec(dateString))return dayOfISOYear(year,parseInt(token[1],10)-1);if(token=parseTokenWwwD.exec(dateString)){return dayOfISOYear(year,parseInt(token[1],10)-1,parseInt(token[2],10)-1)}return null}(parseYearResult.restDateString,year);if(date){var offset,timestamp=date.getTime(),time=0;if(dateStrings.time&&(time=function(timeString){var token,hours,minutes;if(token=parseTokenHH.exec(timeString))return(hours=parseFloat(token[1].replace(",",".")))%24*MILLISECONDS_IN_HOUR;if(token=parseTokenHHMM.exec(timeString))return hours=parseInt(token[1],10),minutes=parseFloat(token[2].replace(",",".")),hours%24*MILLISECONDS_IN_HOUR+minutes*MILLISECONDS_IN_MINUTE;if(token=parseTokenHHMMSS.exec(timeString)){hours=parseInt(token[1],10),minutes=parseInt(token[2],10);var seconds=parseFloat(token[3].replace(",","."));return hours%24*MILLISECONDS_IN_HOUR+minutes*MILLISECONDS_IN_MINUTE+1e3*seconds}return null}(dateStrings.time)),dateStrings.timezone)offset=function(timezoneString){var token,absoluteOffset;if(token=parseTokenTimezoneZ.exec(timezoneString))return 0;if(token=parseTokenTimezoneHH.exec(timezoneString))return absoluteOffset=60*parseInt(token[2],10),"+"===token[1]?-absoluteOffset:absoluteOffset;if(token=parseTokenTimezoneHHMM.exec(timezoneString))return absoluteOffset=60*parseInt(token[2],10)+parseInt(token[3],10),"+"===token[1]?-absoluteOffset:absoluteOffset;return 0}(dateStrings.timezone)*MILLISECONDS_IN_MINUTE;else{var fullTime=timestamp+time,fullTimeDate=new Date(fullTime);offset=getTimezoneOffsetInMilliseconds(fullTimeDate);var fullTimeDateNextDay=new Date(fullTime);fullTimeDateNextDay.setDate(fullTimeDate.getDate()+1);var offsetDiff=getTimezoneOffsetInMilliseconds(fullTimeDateNextDay)-getTimezoneOffsetInMilliseconds(fullTimeDate);offsetDiff>0&&(offset+=offsetDiff)}return new Date(timestamp+time+offset)}return new Date(argument)}},4311:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyDayOfMonth){var date=parse(dirtyDate),dayOfMonth=Number(dirtyDayOfMonth);return date.setDate(dayOfMonth),date}},7522:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),addDays=__webpack_require__(906);module.exports=function(dirtyDate,dirtyDay,dirtyOptions){var weekStartsOn=dirtyOptions&&Number(dirtyOptions.weekStartsOn)||0,date=parse(dirtyDate),day=Number(dirtyDay),currentDay=date.getDay();return addDays(date,((day%7+7)%7<weekStartsOn?7:0)+day-currentDay)}},8305:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyDayOfYear){var date=parse(dirtyDate),dayOfYear=Number(dirtyDayOfYear);return date.setMonth(0),date.setDate(dayOfYear),date}},5684:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyHours){var date=parse(dirtyDate),hours=Number(dirtyHours);return date.setHours(hours),date}},1829:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),addDays=__webpack_require__(906),getISODay=__webpack_require__(1287);module.exports=function(dirtyDate,dirtyDay){var date=parse(dirtyDate),day=Number(dirtyDay),currentDay=getISODay(date);return addDays(date,day-currentDay)}},9007:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),getISOWeek=__webpack_require__(1454);module.exports=function(dirtyDate,dirtyISOWeek){var date=parse(dirtyDate),isoWeek=Number(dirtyISOWeek),diff=getISOWeek(date)-isoWeek;return date.setDate(date.getDate()-7*diff),date}},1579:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),startOfISOYear=__webpack_require__(9594),differenceInCalendarDays=__webpack_require__(7850);module.exports=function(dirtyDate,dirtyISOYear){var date=parse(dirtyDate),isoYear=Number(dirtyISOYear),diff=differenceInCalendarDays(date,startOfISOYear(date)),fourthOfJanuary=new Date(0);return fourthOfJanuary.setFullYear(isoYear,0,4),fourthOfJanuary.setHours(0,0,0,0),(date=startOfISOYear(fourthOfJanuary)).setDate(date.getDate()+diff),date}},8519:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyMilliseconds){var date=parse(dirtyDate),milliseconds=Number(dirtyMilliseconds);return date.setMilliseconds(milliseconds),date}},2526:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyMinutes){var date=parse(dirtyDate),minutes=Number(dirtyMinutes);return date.setMinutes(minutes),date}},8802:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),getDaysInMonth=__webpack_require__(3043);module.exports=function(dirtyDate,dirtyMonth){var date=parse(dirtyDate),month=Number(dirtyMonth),year=date.getFullYear(),day=date.getDate(),dateWithDesiredMonth=new Date(0);dateWithDesiredMonth.setFullYear(year,month,15),dateWithDesiredMonth.setHours(0,0,0,0);var daysInMonth=getDaysInMonth(dateWithDesiredMonth);return date.setMonth(month,Math.min(day,daysInMonth)),date}},86:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733),setMonth=__webpack_require__(8802);module.exports=function(dirtyDate,dirtyQuarter){var date=parse(dirtyDate),diff=Number(dirtyQuarter)-(Math.floor(date.getMonth()/3)+1);return setMonth(date,date.getMonth()+3*diff)}},5049:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtySeconds){var date=parse(dirtyDate),seconds=Number(dirtySeconds);return date.setSeconds(seconds),date}},2100:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyYear){var date=parse(dirtyDate),year=Number(dirtyYear);return date.setFullYear(year),date}},6586:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setHours(0,0,0,0),date}},6530:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setMinutes(0,0,0),date}},5012:function(module,__unused_webpack_exports,__webpack_require__){var startOfWeek=__webpack_require__(1250);module.exports=function(dirtyDate){return startOfWeek(dirtyDate,{weekStartsOn:1})}},9594:function(module,__unused_webpack_exports,__webpack_require__){var getISOYear=__webpack_require__(7173),startOfISOWeek=__webpack_require__(5012);module.exports=function(dirtyDate){var year=getISOYear(dirtyDate),fourthOfJanuary=new Date(0);return fourthOfJanuary.setFullYear(year,0,4),fourthOfJanuary.setHours(0,0,0,0),startOfISOWeek(fourthOfJanuary)}},6907:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setSeconds(0,0),date}},1510:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setDate(1),date.setHours(0,0,0,0),date}},7133:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate),currentMonth=date.getMonth(),month=currentMonth-currentMonth%3;return date.setMonth(month,1),date.setHours(0,0,0,0),date}},8657:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setMilliseconds(0),date}},9812:function(module,__unused_webpack_exports,__webpack_require__){var startOfDay=__webpack_require__(6586);module.exports=function(){return startOfDay(new Date)}},345:function(module){module.exports=function(){var now=new Date,year=now.getFullYear(),month=now.getMonth(),day=now.getDate(),date=new Date(0);return date.setFullYear(year,month,day+1),date.setHours(0,0,0,0),date}},1250:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate,dirtyOptions){var weekStartsOn=dirtyOptions&&Number(dirtyOptions.weekStartsOn)||0,date=parse(dirtyDate),day=date.getDay(),diff=(day<weekStartsOn?7:0)+day-weekStartsOn;return date.setDate(date.getDate()-diff),date.setHours(0,0,0,0),date}},7482:function(module,__unused_webpack_exports,__webpack_require__){var parse=__webpack_require__(2733);module.exports=function(dirtyDate){var cleanDate=parse(dirtyDate),date=new Date(0);return date.setFullYear(cleanDate.getFullYear(),0,1),date.setHours(0,0,0,0),date}},9358:function(module){module.exports=function(){var now=new Date,year=now.getFullYear(),month=now.getMonth(),day=now.getDate(),date=new Date(0);return date.setFullYear(year,month,day-1),date.setHours(0,0,0,0),date}},7508:function(module,__unused_webpack_exports,__webpack_require__){var addDays=__webpack_require__(906);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addDays(dirtyDate,-amount)}},8477:function(module,__unused_webpack_exports,__webpack_require__){var addHours=__webpack_require__(6858);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addHours(dirtyDate,-amount)}},1312:function(module,__unused_webpack_exports,__webpack_require__){var addISOYears=__webpack_require__(6200);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addISOYears(dirtyDate,-amount)}},4405:function(module,__unused_webpack_exports,__webpack_require__){var addMilliseconds=__webpack_require__(6585);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMilliseconds(dirtyDate,-amount)}},9967:function(module,__unused_webpack_exports,__webpack_require__){var addMinutes=__webpack_require__(3475);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMinutes(dirtyDate,-amount)}},1280:function(module,__unused_webpack_exports,__webpack_require__){var addMonths=__webpack_require__(6362);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addMonths(dirtyDate,-amount)}},9858:function(module,__unused_webpack_exports,__webpack_require__){var addQuarters=__webpack_require__(2935);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addQuarters(dirtyDate,-amount)}},8884:function(module,__unused_webpack_exports,__webpack_require__){var addSeconds=__webpack_require__(8771);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addSeconds(dirtyDate,-amount)}},1745:function(module,__unused_webpack_exports,__webpack_require__){var addWeeks=__webpack_require__(3804);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addWeeks(dirtyDate,-amount)}},3055:function(module,__unused_webpack_exports,__webpack_require__){var addYears=__webpack_require__(1830);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addYears(dirtyDate,-amount)}},14:function(__unused_webpack_module,exports){"use strict";var throttleFactory=function(callback,thisArg){for(var argArray=[],_i=2;_i<arguments.length;_i++)argArray[_i-2]=arguments[_i];var wrapper=function(wrapperContext){var resetCancelToken=function(){wrapperContext.cancelToken=!1},wrapper=function(cbThis,cb){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];wrapperContext.callbackThis=cbThis,wrapperContext.args=args,wrapperContext.cancelToken||("requestAnimationFrame"in window?wrapperContext.cancelToken=window.requestAnimationFrame((function(){cb.apply(wrapperContext.callbackThis,wrapperContext.args),resetCancelToken()})):(cb.apply(wrapperContext.callbackThis,wrapperContext.args),wrapperContext.cancelToken=window.setTimeout(resetCancelToken,1e3/60)))};return wrapper.cancel=function(){"requestAnimationFrame"in window&&window.cancelAnimationFrame(wrapperContext.cancelToken),window.clearTimeout(wrapperContext.cancelToken),resetCancelToken()},wrapper}({}),argCount=arguments.length,throttledCallback=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];wrapper.apply(void 0,[argCount>1?thisArg:this,callback].concat(argArray,args))};return throttledCallback.cancel=function(){return wrapper.cancel()},throttledCallback};exports.P=function(callback){var throttledCallback=throttleFactory(callback);return throttledCallback.bind=throttleFactory.bind(null,callback),throttledCallback}},4911:function(module,__unused_webpack_exports,__webpack_require__){var DataView=__webpack_require__(7790)(__webpack_require__(3909),"DataView");module.exports=DataView},2167:function(module,__unused_webpack_exports,__webpack_require__){var hashClear=__webpack_require__(3719),hashDelete=__webpack_require__(8695),hashGet=__webpack_require__(1608),hashHas=__webpack_require__(4633),hashSet=__webpack_require__(4876);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},7407:function(module,__unused_webpack_exports,__webpack_require__){var listCacheClear=__webpack_require__(2411),listCacheDelete=__webpack_require__(9140),listCacheGet=__webpack_require__(2332),listCacheHas=__webpack_require__(7870),listCacheSet=__webpack_require__(8700);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},8927:function(module,__unused_webpack_exports,__webpack_require__){var Map=__webpack_require__(7790)(__webpack_require__(3909),"Map");module.exports=Map},722:function(module,__unused_webpack_exports,__webpack_require__){var mapCacheClear=__webpack_require__(7291),mapCacheDelete=__webpack_require__(5661),mapCacheGet=__webpack_require__(5e3),mapCacheHas=__webpack_require__(7615),mapCacheSet=__webpack_require__(2823);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},7577:function(module,__unused_webpack_exports,__webpack_require__){var Promise=__webpack_require__(7790)(__webpack_require__(3909),"Promise");module.exports=Promise},7400:function(module,__unused_webpack_exports,__webpack_require__){var Set=__webpack_require__(7790)(__webpack_require__(3909),"Set");module.exports=Set},3128:function(module,__unused_webpack_exports,__webpack_require__){var MapCache=__webpack_require__(722),setCacheAdd=__webpack_require__(4219),setCacheHas=__webpack_require__(21);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},9805:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(7407),stackClear=__webpack_require__(3059),stackDelete=__webpack_require__(9446),stackGet=__webpack_require__(6885),stackHas=__webpack_require__(2132),stackSet=__webpack_require__(8984);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},7429:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(3909).Symbol;module.exports=_Symbol},3052:function(module,__unused_webpack_exports,__webpack_require__){var Uint8Array=__webpack_require__(3909).Uint8Array;module.exports=Uint8Array},2504:function(module,__unused_webpack_exports,__webpack_require__){var WeakMap=__webpack_require__(7790)(__webpack_require__(3909),"WeakMap");module.exports=WeakMap},259:function(module){module.exports=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},4309:function(module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},4693:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}},6825:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},7435:function(module,__unused_webpack_exports,__webpack_require__){var baseIndexOf=__webpack_require__(6266);module.exports=function(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},4202:function(module){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},3e3:function(module,__unused_webpack_exports,__webpack_require__){var baseTimes=__webpack_require__(6810),isArguments=__webpack_require__(9783),isArray=__webpack_require__(8239),isBuffer=__webpack_require__(5656),isIndex=__webpack_require__(5472),isTypedArray=__webpack_require__(3727),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},2602:function(module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},8143:function(module){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},8140:function(module){module.exports=function(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},6612:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},5654:function(module){module.exports=function(string){return string.split("")}},8142:function(module){var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=function(string){return string.match(reAsciiWord)||[]}},1922:function(module,__unused_webpack_exports,__webpack_require__){var baseAssignValue=__webpack_require__(5914),eq=__webpack_require__(1404);module.exports=function(object,key,value){(void 0!==value&&!eq(object[key],value)||void 0===value&&!(key in object))&&baseAssignValue(object,key,value)}},6361:function(module,__unused_webpack_exports,__webpack_require__){var baseAssignValue=__webpack_require__(5914),eq=__webpack_require__(1404),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},6244:function(module,__unused_webpack_exports,__webpack_require__){var eq=__webpack_require__(1404);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},9122:function(module,__unused_webpack_exports,__webpack_require__){var copyObject=__webpack_require__(5951),keys=__webpack_require__(8145);module.exports=function(object,source){return object&&copyObject(source,keys(source),object)}},3567:function(module,__unused_webpack_exports,__webpack_require__){var copyObject=__webpack_require__(5951),keysIn=__webpack_require__(4782);module.exports=function(object,source){return object&&copyObject(source,keysIn(source),object)}},5914:function(module,__unused_webpack_exports,__webpack_require__){var defineProperty=__webpack_require__(7987);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},3682:function(module){module.exports=function(number,lower,upper){return number==number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}},3879:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(9805),arrayEach=__webpack_require__(4309),assignValue=__webpack_require__(6361),baseAssign=__webpack_require__(9122),baseAssignIn=__webpack_require__(3567),cloneBuffer=__webpack_require__(5046),copyArray=__webpack_require__(5992),copySymbols=__webpack_require__(3042),copySymbolsIn=__webpack_require__(9487),getAllKeys=__webpack_require__(4124),getAllKeysIn=__webpack_require__(6841),getTag=__webpack_require__(1157),initCloneArray=__webpack_require__(417),initCloneByTag=__webpack_require__(327),initCloneObject=__webpack_require__(3094),isArray=__webpack_require__(8239),isBuffer=__webpack_require__(5656),isMap=__webpack_require__(1005),isObject=__webpack_require__(7943),isSet=__webpack_require__(5429),keys=__webpack_require__(8145),keysIn=__webpack_require__(4782),cloneableTags={};cloneableTags["[object Arguments]"]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags["[object Object]"]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags["[object Function]"]=cloneableTags["[object WeakMap]"]=!1,module.exports=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc="[object Function]"==tag||"[object GeneratorFunction]"==tag;if(isBuffer(value))return cloneBuffer(value,isDeep);if("[object Object]"==tag||"[object Arguments]"==tag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var props=isArr?void 0:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}},1407:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(7943),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},1806:function(module,__unused_webpack_exports,__webpack_require__){var baseForOwn=__webpack_require__(7102),baseEach=__webpack_require__(5097)(baseForOwn);module.exports=baseEach},4519:function(module,__unused_webpack_exports,__webpack_require__){var baseEach=__webpack_require__(1806);module.exports=function(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}},3626:function(module){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},1764:function(module,__unused_webpack_exports,__webpack_require__){var baseFor=__webpack_require__(6384)();module.exports=baseFor},7102:function(module,__unused_webpack_exports,__webpack_require__){var baseFor=__webpack_require__(1764),keys=__webpack_require__(8145);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},3617:function(module,__unused_webpack_exports,__webpack_require__){var castPath=__webpack_require__(650),toKey=__webpack_require__(4156);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},2326:function(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__(8143),isArray=__webpack_require__(8239);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},5337:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7429),getRawTag=__webpack_require__(6697),objectToString=__webpack_require__(8877),symToStringTag=_Symbol?_Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},1825:function(module){module.exports=function(object,key){return null!=object&&key in Object(object)}},6266:function(module,__unused_webpack_exports,__webpack_require__){var baseFindIndex=__webpack_require__(3626),baseIsNaN=__webpack_require__(3058),strictIndexOf=__webpack_require__(8036);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},7290:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(5337),isObjectLike=__webpack_require__(2816);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},8240:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(5373),isObjectLike=__webpack_require__(2816);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},5373:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(9805),equalArrays=__webpack_require__(3406),equalByTag=__webpack_require__(7721),equalObjects=__webpack_require__(3257),getTag=__webpack_require__(1157),isArray=__webpack_require__(8239),isBuffer=__webpack_require__(5656),isTypedArray=__webpack_require__(3727),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},9374:function(module,__unused_webpack_exports,__webpack_require__){var getTag=__webpack_require__(1157),isObjectLike=__webpack_require__(2816);module.exports=function(value){return isObjectLike(value)&&"[object Map]"==getTag(value)}},3551:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(9805),baseIsEqual=__webpack_require__(8240);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},3058:function(module){module.exports=function(value){return value!=value}},8485:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(6512),isMasked=__webpack_require__(4737),isObject=__webpack_require__(7943),toSource=__webpack_require__(8588),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},5740:function(module,__unused_webpack_exports,__webpack_require__){var getTag=__webpack_require__(1157),isObjectLike=__webpack_require__(2816);module.exports=function(value){return isObjectLike(value)&&"[object Set]"==getTag(value)}},792:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(5337),isLength=__webpack_require__(3785),isObjectLike=__webpack_require__(2816),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},3895:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var baseMatches=__webpack_require__(3125),baseMatchesProperty=__webpack_require__(5482),identity=__webpack_require__(9610),isArray=__webpack_require__(8239),property=__webpack_require__(5140);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==_typeof(value)?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},3462:function(module,__unused_webpack_exports,__webpack_require__){var isPrototype=__webpack_require__(7935),nativeKeys=__webpack_require__(6499),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},2956:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(7943),isPrototype=__webpack_require__(7935),nativeKeysIn=__webpack_require__(7630),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},3372:function(module,__unused_webpack_exports,__webpack_require__){var baseEach=__webpack_require__(1806),isArrayLike=__webpack_require__(7491);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},3125:function(module,__unused_webpack_exports,__webpack_require__){var baseIsMatch=__webpack_require__(3551),getMatchData=__webpack_require__(9239),matchesStrictComparable=__webpack_require__(6962);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},5482:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqual=__webpack_require__(8240),get=__webpack_require__(2151),hasIn=__webpack_require__(9723),isKey=__webpack_require__(3595),isStrictComparable=__webpack_require__(1980),matchesStrictComparable=__webpack_require__(6962),toKey=__webpack_require__(4156);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},4968:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(9805),assignMergeValue=__webpack_require__(1922),baseFor=__webpack_require__(1764),baseMergeDeep=__webpack_require__(5736),isObject=__webpack_require__(7943),keysIn=__webpack_require__(4782),safeGet=__webpack_require__(3589);module.exports=function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,(function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}}),keysIn)}},5736:function(module,__unused_webpack_exports,__webpack_require__){var assignMergeValue=__webpack_require__(1922),cloneBuffer=__webpack_require__(5046),cloneTypedArray=__webpack_require__(8500),copyArray=__webpack_require__(5992),initCloneObject=__webpack_require__(3094),isArguments=__webpack_require__(9783),isArray=__webpack_require__(8239),isArrayLikeObject=__webpack_require__(4717),isBuffer=__webpack_require__(5656),isFunction=__webpack_require__(6512),isObject=__webpack_require__(7943),isPlainObject=__webpack_require__(9266),isTypedArray=__webpack_require__(3727),safeGet=__webpack_require__(3589),toPlainObject=__webpack_require__(4447);module.exports=function(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}},5461:function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__(2602),baseGet=__webpack_require__(3617),baseIteratee=__webpack_require__(3895),baseMap=__webpack_require__(3372),baseSortBy=__webpack_require__(2270),baseUnary=__webpack_require__(3455),compareMultiple=__webpack_require__(3172),identity=__webpack_require__(9610),isArray=__webpack_require__(8239);module.exports=function(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,(function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[identity];var index=-1;iteratees=arrayMap(iteratees,baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}},8998:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(3617),baseSet=__webpack_require__(1876),castPath=__webpack_require__(650);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},8856:function(module){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},5122:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(3617);module.exports=function(path){return function(object){return baseGet(object,path)}}},493:function(module){module.exports=function(object){return function(key){return null==object?void 0:object[key]}}},5204:function(module,__unused_webpack_exports,__webpack_require__){var identity=__webpack_require__(9610),overRest=__webpack_require__(7553),setToString=__webpack_require__(3488);module.exports=function(func,start){return setToString(overRest(func,start,identity),func+"")}},1876:function(module,__unused_webpack_exports,__webpack_require__){var assignValue=__webpack_require__(6361),castPath=__webpack_require__(650),isIndex=__webpack_require__(5472),isObject=__webpack_require__(7943),toKey=__webpack_require__(4156);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},6836:function(module,__unused_webpack_exports,__webpack_require__){var constant=__webpack_require__(3486),defineProperty=__webpack_require__(7987),identity=__webpack_require__(9610),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},8044:function(module){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},2270:function(module){module.exports=function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},6810:function(module){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},3408:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7429),arrayMap=__webpack_require__(2602),isArray=__webpack_require__(8239),isSymbol=__webpack_require__(6431),symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},7691:function(module,__unused_webpack_exports,__webpack_require__){var trimmedEndIndex=__webpack_require__(6371),reTrimStart=/^\s+/;module.exports=function(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},3455:function(module){module.exports=function(func){return function(value){return func(value)}}},7760:function(module,__unused_webpack_exports,__webpack_require__){var SetCache=__webpack_require__(3128),arrayIncludes=__webpack_require__(7435),arrayIncludesWith=__webpack_require__(4202),cacheHas=__webpack_require__(5165),createSet=__webpack_require__(7209),setToArray=__webpack_require__(8397);module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},5165:function(module){module.exports=function(cache,key){return cache.has(key)}},3277:function(module,__unused_webpack_exports,__webpack_require__){var identity=__webpack_require__(9610);module.exports=function(value){return"function"==typeof value?value:identity}},650:function(module,__unused_webpack_exports,__webpack_require__){var isArray=__webpack_require__(8239),isKey=__webpack_require__(3595),stringToPath=__webpack_require__(5776),toString=__webpack_require__(1796);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},8245:function(module,__unused_webpack_exports,__webpack_require__){var baseSlice=__webpack_require__(8044);module.exports=function(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},9615:function(module,__unused_webpack_exports,__webpack_require__){var Uint8Array=__webpack_require__(3052);module.exports=function(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},5046:function(module,exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module=__webpack_require__.nmd(module);var root=__webpack_require__(3909),freeExports="object"==_typeof(exports)&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==_typeof(module)&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}},3568:function(module,__unused_webpack_exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(9615);module.exports=function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}},9656:function(module){var reFlags=/\w*$/;module.exports=function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}},2014:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7429),symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}},8500:function(module,__unused_webpack_exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(9615);module.exports=function(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},6191:function(module,__unused_webpack_exports,__webpack_require__){var isSymbol=__webpack_require__(6431);module.exports=function(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},3172:function(module,__unused_webpack_exports,__webpack_require__){var compareAscending=__webpack_require__(6191);module.exports=function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},5992:function(module){module.exports=function(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},5951:function(module,__unused_webpack_exports,__webpack_require__){var assignValue=__webpack_require__(6361),baseAssignValue=__webpack_require__(5914);module.exports=function(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},3042:function(module,__unused_webpack_exports,__webpack_require__){var copyObject=__webpack_require__(5951),getSymbols=__webpack_require__(421);module.exports=function(source,object){return copyObject(source,getSymbols(source),object)}},9487:function(module,__unused_webpack_exports,__webpack_require__){var copyObject=__webpack_require__(5951),getSymbolsIn=__webpack_require__(2358);module.exports=function(source,object){return copyObject(source,getSymbolsIn(source),object)}},7212:function(module,__unused_webpack_exports,__webpack_require__){var coreJsData=__webpack_require__(3909)["__core-js_shared__"];module.exports=coreJsData},4951:function(module,__unused_webpack_exports,__webpack_require__){var baseRest=__webpack_require__(5204),isIterateeCall=__webpack_require__(7054);module.exports=function(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}},5097:function(module,__unused_webpack_exports,__webpack_require__){var isArrayLike=__webpack_require__(7491);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},6384:function(module){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},6770:function(module,__unused_webpack_exports,__webpack_require__){var castSlice=__webpack_require__(8245),hasUnicode=__webpack_require__(8750),stringToArray=__webpack_require__(1667),toString=__webpack_require__(1796);module.exports=function(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},7275:function(module,__unused_webpack_exports,__webpack_require__){var arrayReduce=__webpack_require__(8140),deburr=__webpack_require__(6099),words=__webpack_require__(8607),reApos=RegExp("[']","g");module.exports=function(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}},2224:function(module,__unused_webpack_exports,__webpack_require__){var baseIteratee=__webpack_require__(3895),isArrayLike=__webpack_require__(7491),keys=__webpack_require__(8145);module.exports=function(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}},7209:function(module,__unused_webpack_exports,__webpack_require__){var Set=__webpack_require__(7400),noop=__webpack_require__(6159),setToArray=__webpack_require__(8397),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},2387:function(module,__unused_webpack_exports,__webpack_require__){var deburrLetter=__webpack_require__(493)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});module.exports=deburrLetter},7987:function(module,__unused_webpack_exports,__webpack_require__){var getNative=__webpack_require__(7790),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},3406:function(module,__unused_webpack_exports,__webpack_require__){var SetCache=__webpack_require__(3128),arraySome=__webpack_require__(6612),cacheHas=__webpack_require__(5165);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},7721:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7429),Uint8Array=__webpack_require__(3052),eq=__webpack_require__(1404),equalArrays=__webpack_require__(3406),mapToArray=__webpack_require__(6002),setToArray=__webpack_require__(8397),symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},3257:function(module,__unused_webpack_exports,__webpack_require__){var getAllKeys=__webpack_require__(4124),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},6745:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var freeGlobal="object"==(void 0===__webpack_require__.g?"undefined":_typeof(__webpack_require__.g))&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g;module.exports=freeGlobal},4124:function(module,__unused_webpack_exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(2326),getSymbols=__webpack_require__(421),keys=__webpack_require__(8145);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},6841:function(module,__unused_webpack_exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(2326),getSymbolsIn=__webpack_require__(2358),keysIn=__webpack_require__(4782);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},4542:function(module,__unused_webpack_exports,__webpack_require__){var isKeyable=__webpack_require__(1391);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},9239:function(module,__unused_webpack_exports,__webpack_require__){var isStrictComparable=__webpack_require__(1980),keys=__webpack_require__(8145);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},7790:function(module,__unused_webpack_exports,__webpack_require__){var baseIsNative=__webpack_require__(8485),getValue=__webpack_require__(8159);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},3073:function(module,__unused_webpack_exports,__webpack_require__){var getPrototype=__webpack_require__(9373)(Object.getPrototypeOf,Object);module.exports=getPrototype},6697:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7429),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},421:function(module,__unused_webpack_exports,__webpack_require__){var arrayFilter=__webpack_require__(6825),stubArray=__webpack_require__(2233),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},2358:function(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__(8143),getPrototype=__webpack_require__(3073),getSymbols=__webpack_require__(421),stubArray=__webpack_require__(2233),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},1157:function(module,__unused_webpack_exports,__webpack_require__){var DataView=__webpack_require__(4911),Map=__webpack_require__(8927),Promise=__webpack_require__(7577),Set=__webpack_require__(7400),WeakMap=__webpack_require__(2504),baseGetTag=__webpack_require__(5337),toSource=__webpack_require__(8588),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},8159:function(module){module.exports=function(object,key){return null==object?void 0:object[key]}},2253:function(module,__unused_webpack_exports,__webpack_require__){var castPath=__webpack_require__(650),isArguments=__webpack_require__(9783),isArray=__webpack_require__(8239),isIndex=__webpack_require__(5472),isLength=__webpack_require__(3785),toKey=__webpack_require__(4156);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},8750:function(module){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function(string){return reHasUnicode.test(string)}},1063:function(module){var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=function(string){return reHasUnicodeWord.test(string)}},3719:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(5390);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},8695:function(module){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},1608:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(5390),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},4633:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(5390),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},4876:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(5390);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},417:function(module){var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}},327:function(module,__unused_webpack_exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(9615),cloneDataView=__webpack_require__(3568),cloneRegExp=__webpack_require__(9656),cloneSymbol=__webpack_require__(2014),cloneTypedArray=__webpack_require__(8500);module.exports=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return cloneArrayBuffer(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return cloneDataView(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cloneTypedArray(object,isDeep);case"[object Map]":case"[object Set]":return new Ctor;case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return cloneRegExp(object);case"[object Symbol]":return cloneSymbol(object)}}},3094:function(module,__unused_webpack_exports,__webpack_require__){var baseCreate=__webpack_require__(1407),getPrototype=__webpack_require__(3073),isPrototype=__webpack_require__(7935);module.exports=function(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},5472:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=_typeof(value);return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},7054:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var eq=__webpack_require__(1404),isArrayLike=__webpack_require__(7491),isIndex=__webpack_require__(5472),isObject=__webpack_require__(7943);module.exports=function(value,index,object){if(!isObject(object))return!1;var type=_typeof(index);return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},3595:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var isArray=__webpack_require__(8239),isSymbol=__webpack_require__(6431),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=_typeof(value);return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},1391:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){var type=_typeof(value);return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},4737:function(module,__unused_webpack_exports,__webpack_require__){var uid,coreJsData=__webpack_require__(7212),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},7935:function(module){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},1980:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(7943);module.exports=function(value){return value==value&&!isObject(value)}},2411:function(module){module.exports=function(){this.__data__=[],this.size=0}},9140:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6244),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},2332:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6244);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},7870:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6244);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},8700:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6244);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},7291:function(module,__unused_webpack_exports,__webpack_require__){var Hash=__webpack_require__(2167),ListCache=__webpack_require__(7407),Map=__webpack_require__(8927);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},5661:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(4542);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},5e3:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(4542);module.exports=function(key){return getMapData(this,key).get(key)}},7615:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(4542);module.exports=function(key){return getMapData(this,key).has(key)}},2823:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(4542);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},6002:function(module){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},6962:function(module){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},3555:function(module,__unused_webpack_exports,__webpack_require__){var memoize=__webpack_require__(1461);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},5390:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(7790)(Object,"create");module.exports=nativeCreate},6499:function(module,__unused_webpack_exports,__webpack_require__){var nativeKeys=__webpack_require__(9373)(Object.keys,Object);module.exports=nativeKeys},7630:function(module){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},2447:function(module,exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module=__webpack_require__.nmd(module);var freeGlobal=__webpack_require__(6745),freeExports="object"==_typeof(exports)&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==_typeof(module)&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil},8877:function(module){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},9373:function(module){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},7553:function(module,__unused_webpack_exports,__webpack_require__){var apply=__webpack_require__(259),nativeMax=Math.max;module.exports=function(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},3909:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var freeGlobal=__webpack_require__(6745),freeSelf="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},3589:function(module){module.exports=function(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}},4219:function(module){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},21:function(module){module.exports=function(value){return this.__data__.has(value)}},8397:function(module){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},3488:function(module,__unused_webpack_exports,__webpack_require__){var baseSetToString=__webpack_require__(6836),setToString=__webpack_require__(5905)(baseSetToString);module.exports=setToString},5905:function(module){var nativeNow=Date.now;module.exports=function(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},3059:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(7407);module.exports=function(){this.__data__=new ListCache,this.size=0}},9446:function(module){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},6885:function(module){module.exports=function(key){return this.__data__.get(key)}},2132:function(module){module.exports=function(key){return this.__data__.has(key)}},8984:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(7407),Map=__webpack_require__(8927),MapCache=__webpack_require__(722);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},8036:function(module){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},1667:function(module,__unused_webpack_exports,__webpack_require__){var asciiToArray=__webpack_require__(5654),hasUnicode=__webpack_require__(8750),unicodeToArray=__webpack_require__(4168);module.exports=function(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},5776:function(module,__unused_webpack_exports,__webpack_require__){var memoizeCapped=__webpack_require__(3555),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},4156:function(module,__unused_webpack_exports,__webpack_require__){var isSymbol=__webpack_require__(6431);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},8588:function(module){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},6371:function(module){var reWhitespace=/\s/;module.exports=function(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},4168:function(module){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function(string){return string.match(reUnicode)||[]}},4180:function(module){var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");module.exports=function(string){return string.match(reUnicodeWord)||[]}},393:function(module,__unused_webpack_exports,__webpack_require__){var capitalize=__webpack_require__(5284),camelCase=__webpack_require__(7275)((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));module.exports=camelCase},5284:function(module,__unused_webpack_exports,__webpack_require__){var toString=__webpack_require__(1796),upperFirst=__webpack_require__(793);module.exports=function(string){return upperFirst(toString(string).toLowerCase())}},4420:function(module,__unused_webpack_exports,__webpack_require__){var baseClamp=__webpack_require__(3682),toNumber=__webpack_require__(3534);module.exports=function(number,lower,upper){return void 0===upper&&(upper=lower,lower=void 0),void 0!==upper&&(upper=(upper=toNumber(upper))==upper?upper:0),void 0!==lower&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)}},3622:function(module,__unused_webpack_exports,__webpack_require__){var baseClone=__webpack_require__(3879);module.exports=function(value){return baseClone(value,5)}},3486:function(module){module.exports=function(value){return function(){return value}}},4161:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(7943),now=__webpack_require__(4228),toNumber=__webpack_require__(3534),nativeMax=Math.max,nativeMin=Math.min;module.exports=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}},6099:function(module,__unused_webpack_exports,__webpack_require__){var deburrLetter=__webpack_require__(2387),toString=__webpack_require__(1796),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");module.exports=function(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}},1404:function(module){module.exports=function(value,other){return value===other||value!=value&&other!=other}},8211:function(module,__unused_webpack_exports,__webpack_require__){var arrayEvery=__webpack_require__(4693),baseEvery=__webpack_require__(4519),baseIteratee=__webpack_require__(3895),isArray=__webpack_require__(8239),isIterateeCall=__webpack_require__(7054);module.exports=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}},7586:function(module,__unused_webpack_exports,__webpack_require__){var find=__webpack_require__(2224)(__webpack_require__(4546));module.exports=find},4546:function(module,__unused_webpack_exports,__webpack_require__){var baseFindIndex=__webpack_require__(3626),baseIteratee=__webpack_require__(3895),toInteger=__webpack_require__(6300),nativeMax=Math.max;module.exports=function(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}},591:function(module,__unused_webpack_exports,__webpack_require__){var arrayEach=__webpack_require__(4309),baseEach=__webpack_require__(1806),castFunction=__webpack_require__(3277),isArray=__webpack_require__(8239);module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},2151:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(3617);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},9723:function(module,__unused_webpack_exports,__webpack_require__){var baseHasIn=__webpack_require__(1825),hasPath=__webpack_require__(2253);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},9610:function(module){module.exports=function(value){return value}},9783:function(module,__unused_webpack_exports,__webpack_require__){var baseIsArguments=__webpack_require__(7290),isObjectLike=__webpack_require__(2816),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},8239:function(module){var isArray=Array.isArray;module.exports=isArray},7491:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(6512),isLength=__webpack_require__(3785);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},4717:function(module,__unused_webpack_exports,__webpack_require__){var isArrayLike=__webpack_require__(7491),isObjectLike=__webpack_require__(2816);module.exports=function(value){return isObjectLike(value)&&isArrayLike(value)}},5656:function(module,exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module=__webpack_require__.nmd(module);var root=__webpack_require__(3909),stubFalse=__webpack_require__(5655),freeExports="object"==_typeof(exports)&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==_typeof(module)&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer},5099:function(module,__unused_webpack_exports,__webpack_require__){var baseKeys=__webpack_require__(3462),getTag=__webpack_require__(1157),isArguments=__webpack_require__(9783),isArray=__webpack_require__(8239),isArrayLike=__webpack_require__(7491),isBuffer=__webpack_require__(5656),isPrototype=__webpack_require__(7935),isTypedArray=__webpack_require__(3727),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},6241:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqual=__webpack_require__(8240);module.exports=function(value,other){return baseIsEqual(value,other)}},6512:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(5337),isObject=__webpack_require__(7943);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},3785:function(module){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},1005:function(module,__unused_webpack_exports,__webpack_require__){var baseIsMap=__webpack_require__(9374),baseUnary=__webpack_require__(3455),nodeUtil=__webpack_require__(2447),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},7943:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){var type=_typeof(value);return null!=value&&("object"==type||"function"==type)}},2816:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){return null!=value&&"object"==_typeof(value)}},9266:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(5337),getPrototype=__webpack_require__(3073),isObjectLike=__webpack_require__(2816),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},5429:function(module,__unused_webpack_exports,__webpack_require__){var baseIsSet=__webpack_require__(5740),baseUnary=__webpack_require__(3455),nodeUtil=__webpack_require__(2447),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},6431:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var baseGetTag=__webpack_require__(5337),isObjectLike=__webpack_require__(2816);module.exports=function(value){return"symbol"==_typeof(value)||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},3727:function(module,__unused_webpack_exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(792),baseUnary=__webpack_require__(3455),nodeUtil=__webpack_require__(2447),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},8145:function(module,__unused_webpack_exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(3e3),baseKeys=__webpack_require__(3462),isArrayLike=__webpack_require__(7491);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},4782:function(module,__unused_webpack_exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(3e3),baseKeysIn=__webpack_require__(2956),isArrayLike=__webpack_require__(7491);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},1461:function(module,__unused_webpack_exports,__webpack_require__){var MapCache=__webpack_require__(722);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function memoized(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},387:function(module,__unused_webpack_exports,__webpack_require__){var baseMerge=__webpack_require__(4968),merge=__webpack_require__(4951)((function(object,source,srcIndex){baseMerge(object,source,srcIndex)}));module.exports=merge},6159:function(module){module.exports=function(){}},4228:function(module,__unused_webpack_exports,__webpack_require__){var root=__webpack_require__(3909);module.exports=function(){return root.Date.now()}},8074:function(module,__unused_webpack_exports,__webpack_require__){var baseOrderBy=__webpack_require__(5461),isArray=__webpack_require__(8239);module.exports=function(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?void 0:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}},5084:function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__(2602),baseIteratee=__webpack_require__(3895),basePickBy=__webpack_require__(8998),getAllKeysIn=__webpack_require__(6841);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},5140:function(module,__unused_webpack_exports,__webpack_require__){var baseProperty=__webpack_require__(8856),basePropertyDeep=__webpack_require__(5122),isKey=__webpack_require__(3595),toKey=__webpack_require__(4156);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},2233:function(module){module.exports=function(){return[]}},5655:function(module){module.exports=function(){return!1}},3852:function(module,__unused_webpack_exports,__webpack_require__){var toNumber=__webpack_require__(3534);module.exports=function(value){return value?Infinity===(value=toNumber(value))||-Infinity===value?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}},6300:function(module,__unused_webpack_exports,__webpack_require__){var toFinite=__webpack_require__(3852);module.exports=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},3534:function(module,__unused_webpack_exports,__webpack_require__){var baseTrim=__webpack_require__(7691),isObject=__webpack_require__(7943),isSymbol=__webpack_require__(6431),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},4447:function(module,__unused_webpack_exports,__webpack_require__){var copyObject=__webpack_require__(5951),keysIn=__webpack_require__(4782);module.exports=function(value){return copyObject(value,keysIn(value))}},1796:function(module,__unused_webpack_exports,__webpack_require__){var baseToString=__webpack_require__(3408);module.exports=function(value){return null==value?"":baseToString(value)}},541:function(module,__unused_webpack_exports,__webpack_require__){var baseUniq=__webpack_require__(7760);module.exports=function(array){return array&&array.length?baseUniq(array):[]}},793:function(module,__unused_webpack_exports,__webpack_require__){var upperFirst=__webpack_require__(6770)("toUpperCase");module.exports=upperFirst},8607:function(module,__unused_webpack_exports,__webpack_require__){var asciiWords=__webpack_require__(8142),hasUnicodeWord=__webpack_require__(1063),toString=__webpack_require__(1796),unicodeWords=__webpack_require__(4180);module.exports=function(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}},7562:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,timeoutDuration=function(){for(var longerTimeoutBrowsers=["Edge","Trident","Firefox"],i=0;i<longerTimeoutBrowsers.length;i+=1)if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0)return 1;return 0}();var debounce=isBrowser&&window.Promise?function(fn){var called=!1;return function(){called||(called=!0,window.Promise.resolve().then((function(){called=!1,fn()})))}}:function(fn){var scheduled=!1;return function(){scheduled||(scheduled=!0,setTimeout((function(){scheduled=!1,fn()}),timeoutDuration))}};function isFunction(functionToCheck){return functionToCheck&&"[object Function]"==={}.toString.call(functionToCheck)}function getStyleComputedProperty(element,property){if(1!==element.nodeType)return[];var css=element.ownerDocument.defaultView.getComputedStyle(element,null);return property?css[property]:css}function getParentNode(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function getScrollParent(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var _getStyleComputedProp=getStyleComputedProperty(element),overflow=_getStyleComputedProp.overflow,overflowX=_getStyleComputedProp.overflowX,overflowY=_getStyleComputedProp.overflowY;return/(auto|scroll|overlay)/.test(overflow+overflowY+overflowX)?element:getScrollParent(getParentNode(element))}function getReferenceNode(reference){return reference&&reference.referenceNode?reference.referenceNode:reference}var isIE11=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent);function isIE(version){return 11===version?isIE11:10===version?isIE10:isIE11||isIE10}function getOffsetParent(element){if(!element)return document.documentElement;for(var noOffsetParent=isIE(10)?document.body:null,offsetParent=element.offsetParent||null;offsetParent===noOffsetParent&&element.nextElementSibling;)offsetParent=(element=element.nextElementSibling).offsetParent;var nodeName=offsetParent&&offsetParent.nodeName;return nodeName&&"BODY"!==nodeName&&"HTML"!==nodeName?-1!==["TH","TD","TABLE"].indexOf(offsetParent.nodeName)&&"static"===getStyleComputedProperty(offsetParent,"position")?getOffsetParent(offsetParent):offsetParent:element?element.ownerDocument.documentElement:document.documentElement}function getRoot(node){return null!==node.parentNode?getRoot(node.parentNode):node}function findCommonOffsetParent(element1,element2){if(!(element1&&element1.nodeType&&element2&&element2.nodeType))return document.documentElement;var order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING,start=order?element1:element2,end=order?element2:element1,range=document.createRange();range.setStart(start,0),range.setEnd(end,0);var element,nodeName,commonAncestorContainer=range.commonAncestorContainer;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end))return"BODY"===(nodeName=(element=commonAncestorContainer).nodeName)||"HTML"!==nodeName&&getOffsetParent(element.firstElementChild)!==element?getOffsetParent(commonAncestorContainer):commonAncestorContainer;var element1root=getRoot(element1);return element1root.host?findCommonOffsetParent(element1root.host,element2):findCommonOffsetParent(element1,getRoot(element2).host)}function getScroll(element){var upperSide="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName){var html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[upperSide]}return element[upperSide]}function getBordersSize(styles,axis){var sideA="x"===axis?"Left":"Top",sideB="Left"===sideA?"Right":"Bottom";return parseFloat(styles["border"+sideA+"Width"])+parseFloat(styles["border"+sideB+"Width"])}function getSize(axis,body,html,computedStyle){return Math.max(body["offset"+axis],body["scroll"+axis],html["client"+axis],html["offset"+axis],html["scroll"+axis],isIE(10)?parseInt(html["offset"+axis])+parseInt(computedStyle["margin"+("Height"===axis?"Top":"Left")])+parseInt(computedStyle["margin"+("Height"===axis?"Bottom":"Right")]):0)}function getWindowSizes(document){var body=document.body,html=document.documentElement,computedStyle=isIE(10)&&getComputedStyle(html);return{height:getSize("Height",body,html,computedStyle),width:getSize("Width",body,html,computedStyle)}}var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function getClientRect(offsets){return _extends({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height})}function getBoundingClientRect(element){var rect={};try{if(isIE(10)){rect=element.getBoundingClientRect();var scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left");rect.top+=scrollTop,rect.left+=scrollLeft,rect.bottom+=scrollTop,rect.right+=scrollLeft}else rect=element.getBoundingClientRect()}catch(e){}var result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},sizes="HTML"===element.nodeName?getWindowSizes(element.ownerDocument):{},width=sizes.width||element.clientWidth||result.width,height=sizes.height||element.clientHeight||result.height,horizScrollbar=element.offsetWidth-width,vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){var styles=getStyleComputedProperty(element);horizScrollbar-=getBordersSize(styles,"x"),vertScrollbar-=getBordersSize(styles,"y"),result.width-=horizScrollbar,result.height-=vertScrollbar}return getClientRect(result)}function getOffsetRectRelativeToArbitraryNode(children,parent){var fixedPosition=arguments.length>2&&void 0!==arguments[2]&&arguments[2],isIE10=isIE(10),isHTML="HTML"===parent.nodeName,childrenRect=getBoundingClientRect(children),parentRect=getBoundingClientRect(parent),scrollParent=getScrollParent(children),styles=getStyleComputedProperty(parent),borderTopWidth=parseFloat(styles.borderTopWidth),borderLeftWidth=parseFloat(styles.borderLeftWidth);fixedPosition&&isHTML&&(parentRect.top=Math.max(parentRect.top,0),parentRect.left=Math.max(parentRect.left,0));var offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,height:childrenRect.height});if(offsets.marginTop=0,offsets.marginLeft=0,!isIE10&&isHTML){var marginTop=parseFloat(styles.marginTop),marginLeft=parseFloat(styles.marginLeft);offsets.top-=borderTopWidth-marginTop,offsets.bottom-=borderTopWidth-marginTop,offsets.left-=borderLeftWidth-marginLeft,offsets.right-=borderLeftWidth-marginLeft,offsets.marginTop=marginTop,offsets.marginLeft=marginLeft}return(isIE10&&!fixedPosition?parent.contains(scrollParent):parent===scrollParent&&"BODY"!==scrollParent.nodeName)&&(offsets=function(rect,element){var subtract=arguments.length>2&&void 0!==arguments[2]&&arguments[2],scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left"),modifier=subtract?-1:1;return rect.top+=scrollTop*modifier,rect.bottom+=scrollTop*modifier,rect.left+=scrollLeft*modifier,rect.right+=scrollLeft*modifier,rect}(offsets,parent)),offsets}function isFixed(element){var nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName)return!1;if("fixed"===getStyleComputedProperty(element,"position"))return!0;var parentNode=getParentNode(element);return!!parentNode&&isFixed(parentNode)}function getFixedPositionOffsetParent(element){if(!element||!element.parentElement||isIE())return document.documentElement;for(var el=element.parentElement;el&&"none"===getStyleComputedProperty(el,"transform");)el=el.parentElement;return el||document.documentElement}function getBoundaries(popper,reference,padding,boundariesElement){var fixedPosition=arguments.length>4&&void 0!==arguments[4]&&arguments[4],boundaries={top:0,left:0},offsetParent=fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,getReferenceNode(reference));if("viewport"===boundariesElement)boundaries=function(element){var excludeScroll=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html),width=Math.max(html.clientWidth,window.innerWidth||0),height=Math.max(html.clientHeight,window.innerHeight||0),scrollTop=excludeScroll?0:getScroll(html),scrollLeft=excludeScroll?0:getScroll(html,"left");return getClientRect({top:scrollTop-relativeOffset.top+relativeOffset.marginTop,left:scrollLeft-relativeOffset.left+relativeOffset.marginLeft,width:width,height:height})}(offsetParent,fixedPosition);else{var boundariesNode=void 0;"scrollParent"===boundariesElement?"BODY"===(boundariesNode=getScrollParent(getParentNode(reference))).nodeName&&(boundariesNode=popper.ownerDocument.documentElement):boundariesNode="window"===boundariesElement?popper.ownerDocument.documentElement:boundariesElement;var offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent,fixedPosition);if("HTML"!==boundariesNode.nodeName||isFixed(offsetParent))boundaries=offsets;else{var _getWindowSizes=getWindowSizes(popper.ownerDocument),height=_getWindowSizes.height,width=_getWindowSizes.width;boundaries.top+=offsets.top-offsets.marginTop,boundaries.bottom=height+offsets.top,boundaries.left+=offsets.left-offsets.marginLeft,boundaries.right=width+offsets.left}}var isPaddingNumber="number"==typeof(padding=padding||0);return boundaries.left+=isPaddingNumber?padding:padding.left||0,boundaries.top+=isPaddingNumber?padding:padding.top||0,boundaries.right-=isPaddingNumber?padding:padding.right||0,boundaries.bottom-=isPaddingNumber?padding:padding.bottom||0,boundaries}function computeAutoPlacement(placement,refRect,popper,reference,boundariesElement){var padding=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===placement.indexOf("auto"))return placement;var boundaries=getBoundaries(popper,reference,padding,boundariesElement),rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,height:boundaries.height}},sortedAreas=Object.keys(rects).map((function(key){return _extends({key:key},rects[key],{area:(_ref=rects[key],_ref.width*_ref.height)});var _ref})).sort((function(a,b){return b.area-a.area})),filteredAreas=sortedAreas.filter((function(_ref2){var width=_ref2.width,height=_ref2.height;return width>=popper.clientWidth&&height>=popper.clientHeight})),computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key,variation=placement.split("-")[1];return computedPlacement+(variation?"-"+variation:"")}function getReferenceOffsets(state,popper,reference){var fixedPosition=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(reference,fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,getReferenceNode(reference)),fixedPosition)}function getOuterSizes(element){var styles=element.ownerDocument.defaultView.getComputedStyle(element),x=parseFloat(styles.marginTop||0)+parseFloat(styles.marginBottom||0),y=parseFloat(styles.marginLeft||0)+parseFloat(styles.marginRight||0);return{width:element.offsetWidth+y,height:element.offsetHeight+x}}function getOppositePlacement(placement){var hash={left:"right",right:"left",bottom:"top",top:"bottom"};return placement.replace(/left|right|bottom|top/g,(function(matched){return hash[matched]}))}function getPopperOffsets(popper,referenceOffsets,placement){placement=placement.split("-")[0];var popperRect=getOuterSizes(popper),popperOffsets={width:popperRect.width,height:popperRect.height},isHoriz=-1!==["right","left"].indexOf(placement),mainSide=isHoriz?"top":"left",secondarySide=isHoriz?"left":"top",measurement=isHoriz?"height":"width",secondaryMeasurement=isHoriz?"width":"height";return popperOffsets[mainSide]=referenceOffsets[mainSide]+referenceOffsets[measurement]/2-popperRect[measurement]/2,popperOffsets[secondarySide]=placement===secondarySide?referenceOffsets[secondarySide]-popperRect[secondaryMeasurement]:referenceOffsets[getOppositePlacement(secondarySide)],popperOffsets}function find(arr,check){return Array.prototype.find?arr.find(check):arr.filter(check)[0]}function runModifiers(modifiers,data,ends){return(void 0===ends?modifiers:modifiers.slice(0,function(arr,prop,value){if(Array.prototype.findIndex)return arr.findIndex((function(cur){return cur[prop]===value}));var match=find(arr,(function(obj){return obj[prop]===value}));return arr.indexOf(match)}(modifiers,"name",ends))).forEach((function(modifier){modifier.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var fn=modifier.function||modifier.fn;modifier.enabled&&isFunction(fn)&&(data.offsets.popper=getClientRect(data.offsets.popper),data.offsets.reference=getClientRect(data.offsets.reference),data=fn(data,modifier))})),data}function update(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=computeAutoPlacement(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=getPopperOffsets(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=runModifiers(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}function isModifierEnabled(modifiers,modifierName){return modifiers.some((function(_ref){var name=_ref.name;return _ref.enabled&&name===modifierName}))}function getSupportedPropertyName(property){for(var prefixes=[!1,"ms","Webkit","Moz","O"],upperProp=property.charAt(0).toUpperCase()+property.slice(1),i=0;i<prefixes.length;i++){var prefix=prefixes[i],toCheck=prefix?""+prefix+upperProp:property;if(void 0!==document.body.style[toCheck])return toCheck}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(element){var ownerDocument=element.ownerDocument;return ownerDocument?ownerDocument.defaultView:window}function attachToScrollParents(scrollParent,event,callback,scrollParents){var isBody="BODY"===scrollParent.nodeName,target=isBody?scrollParent.ownerDocument.defaultView:scrollParent;target.addEventListener(event,callback,{passive:!0}),isBody||attachToScrollParents(getScrollParent(target.parentNode),event,callback,scrollParents),scrollParents.push(target)}function setupEventListeners(reference,options,state,updateBound){state.updateBound=updateBound,getWindow(reference).addEventListener("resize",state.updateBound,{passive:!0});var scrollElement=getScrollParent(reference);return attachToScrollParents(scrollElement,"scroll",state.updateBound,state.scrollParents),state.scrollElement=scrollElement,state.eventsEnabled=!0,state}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){var reference,state;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(reference=this.reference,state=this.state,getWindow(reference).removeEventListener("resize",state.updateBound),state.scrollParents.forEach((function(target){target.removeEventListener("scroll",state.updateBound)})),state.updateBound=null,state.scrollParents=[],state.scrollElement=null,state.eventsEnabled=!1,state))}function isNumeric(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function setStyles(element,styles){Object.keys(styles).forEach((function(prop){var unit="";-1!==["width","height","top","right","bottom","left"].indexOf(prop)&&isNumeric(styles[prop])&&(unit="px"),element.style[prop]=styles[prop]+unit}))}var isFirefox=isBrowser&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(modifiers,requestingName,requestedName){var requesting=find(modifiers,(function(_ref){return _ref.name===requestingName})),isRequired=!!requesting&&modifiers.some((function(modifier){return modifier.name===requestedName&&modifier.enabled&&modifier.order<requesting.order}));if(!isRequired){var _requesting="`"+requestingName+"`",requested="`"+requestedName+"`";console.warn(requested+" modifier is required by "+_requesting+" modifier in order to work, be sure to include it before "+_requesting+"!")}return isRequired}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(placement){var counter=arguments.length>1&&void 0!==arguments[1]&&arguments[1],index=validPlacements.indexOf(placement),arr=validPlacements.slice(index+1).concat(validPlacements.slice(0,index));return counter?arr.reverse():arr}var BEHAVIORS_FLIP="flip",BEHAVIORS_CLOCKWISE="clockwise",BEHAVIORS_COUNTERCLOCKWISE="counterclockwise";function parseOffset(offset,popperOffsets,referenceOffsets,basePlacement){var offsets=[0,0],useHeight=-1!==["right","left"].indexOf(basePlacement),fragments=offset.split(/(\+|\-)/).map((function(frag){return frag.trim()})),divider=fragments.indexOf(find(fragments,(function(frag){return-1!==frag.search(/,|\s/)})));fragments[divider]&&-1===fragments[divider].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var splitRegex=/\s*,\s*|\s+/,ops=-1!==divider?[fragments.slice(0,divider).concat([fragments[divider].split(splitRegex)[0]]),[fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider+1))]:[fragments];return ops=ops.map((function(op,index){var measurement=(1===index?!useHeight:useHeight)?"height":"width",mergeWithPrevious=!1;return op.reduce((function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,mergeWithPrevious=!0,a):mergeWithPrevious?(a[a.length-1]+=b,mergeWithPrevious=!1,a):a.concat(b)}),[]).map((function(str){return function(str,measurement,popperOffsets,referenceOffsets){var split=str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),value=+split[1],unit=split[2];if(!value)return str;if(0===unit.indexOf("%")){return getClientRect("%p"===unit?popperOffsets:referenceOffsets)[measurement]/100*value}if("vh"===unit||"vw"===unit)return("vh"===unit?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*value;return value}(str,measurement,popperOffsets,referenceOffsets)}))})),ops.forEach((function(op,index){op.forEach((function(frag,index2){isNumeric(frag)&&(offsets[index]+=frag*("-"===op[index2-1]?-1:1))}))})),offsets}var modifiers={shift:{order:100,enabled:!0,fn:function(data){var placement=data.placement,basePlacement=placement.split("-")[0],shiftvariation=placement.split("-")[1];if(shiftvariation){var _data$offsets=data.offsets,reference=_data$offsets.reference,popper=_data$offsets.popper,isVertical=-1!==["bottom","top"].indexOf(basePlacement),side=isVertical?"left":"top",measurement=isVertical?"width":"height",shiftOffsets={start:defineProperty({},side,reference[side]),end:defineProperty({},side,reference[side]+reference[measurement]-popper[measurement])};data.offsets.popper=_extends({},popper,shiftOffsets[shiftvariation])}return data}},offset:{order:200,enabled:!0,fn:function(data,_ref){var offset=_ref.offset,placement=data.placement,_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,basePlacement=placement.split("-")[0],offsets=void 0;return offsets=isNumeric(+offset)?[+offset,0]:parseOffset(offset,popper,reference,basePlacement),"left"===basePlacement?(popper.top+=offsets[0],popper.left-=offsets[1]):"right"===basePlacement?(popper.top+=offsets[0],popper.left+=offsets[1]):"top"===basePlacement?(popper.left+=offsets[0],popper.top-=offsets[1]):"bottom"===basePlacement&&(popper.left+=offsets[0],popper.top+=offsets[1]),data.popper=popper,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(data,options){var boundariesElement=options.boundariesElement||getOffsetParent(data.instance.popper);data.instance.reference===boundariesElement&&(boundariesElement=getOffsetParent(boundariesElement));var transformProp=getSupportedPropertyName("transform"),popperStyles=data.instance.popper.style,top=popperStyles.top,left=popperStyles.left,transform=popperStyles[transformProp];popperStyles.top="",popperStyles.left="",popperStyles[transformProp]="";var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,boundariesElement,data.positionFixed);popperStyles.top=top,popperStyles.left=left,popperStyles[transformProp]=transform,options.boundaries=boundaries;var order=options.priority,popper=data.offsets.popper,check={primary:function(placement){var value=popper[placement];return popper[placement]<boundaries[placement]&&!options.escapeWithReference&&(value=Math.max(popper[placement],boundaries[placement])),defineProperty({},placement,value)},secondary:function(placement){var mainSide="right"===placement?"left":"top",value=popper[mainSide];return popper[placement]>boundaries[placement]&&!options.escapeWithReference&&(value=Math.min(popper[mainSide],boundaries[placement]-("right"===placement?popper.width:popper.height))),defineProperty({},mainSide,value)}};return order.forEach((function(placement){var side=-1!==["left","top"].indexOf(placement)?"primary":"secondary";popper=_extends({},popper,check[side](placement))})),data.offsets.popper=popper,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(data){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,placement=data.placement.split("-")[0],floor=Math.floor,isVertical=-1!==["top","bottom"].indexOf(placement),side=isVertical?"right":"bottom",opSide=isVertical?"left":"top",measurement=isVertical?"width":"height";return popper[side]<floor(reference[opSide])&&(data.offsets.popper[opSide]=floor(reference[opSide])-popper[measurement]),popper[opSide]>floor(reference[side])&&(data.offsets.popper[opSide]=floor(reference[side])),data}},arrow:{order:500,enabled:!0,fn:function(data,options){var _data$offsets$arrow;if(!isModifierRequired(data.instance.modifiers,"arrow","keepTogether"))return data;var arrowElement=options.element;if("string"==typeof arrowElement){if(!(arrowElement=data.instance.popper.querySelector(arrowElement)))return data}else if(!data.instance.popper.contains(arrowElement))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var placement=data.placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isVertical=-1!==["left","right"].indexOf(placement),len=isVertical?"height":"width",sideCapitalized=isVertical?"Top":"Left",side=sideCapitalized.toLowerCase(),altSide=isVertical?"left":"top",opSide=isVertical?"bottom":"right",arrowElementSize=getOuterSizes(arrowElement)[len];reference[opSide]-arrowElementSize<popper[side]&&(data.offsets.popper[side]-=popper[side]-(reference[opSide]-arrowElementSize)),reference[side]+arrowElementSize>popper[opSide]&&(data.offsets.popper[side]+=reference[side]+arrowElementSize-popper[opSide]),data.offsets.popper=getClientRect(data.offsets.popper);var center=reference[side]+reference[len]/2-arrowElementSize/2,css=getStyleComputedProperty(data.instance.popper),popperMarginSide=parseFloat(css["margin"+sideCapitalized]),popperBorderSide=parseFloat(css["border"+sideCapitalized+"Width"]),sideValue=center-data.offsets.popper[side]-popperMarginSide-popperBorderSide;return sideValue=Math.max(Math.min(popper[len]-arrowElementSize,sideValue),0),data.arrowElement=arrowElement,data.offsets.arrow=(defineProperty(_data$offsets$arrow={},side,Math.round(sideValue)),defineProperty(_data$offsets$arrow,altSide,""),_data$offsets$arrow),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(data,options){if(isModifierEnabled(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,options.boundariesElement,data.positionFixed),placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement),variation=data.placement.split("-")[1]||"",flipOrder=[];switch(options.behavior){case BEHAVIORS_FLIP:flipOrder=[placement,placementOpposite];break;case BEHAVIORS_CLOCKWISE:flipOrder=clockwise(placement);break;case BEHAVIORS_COUNTERCLOCKWISE:flipOrder=clockwise(placement,!0);break;default:flipOrder=options.behavior}return flipOrder.forEach((function(step,index){if(placement!==step||flipOrder.length===index+1)return data;placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement);var popperOffsets=data.offsets.popper,refOffsets=data.offsets.reference,floor=Math.floor,overlapsRef="left"===placement&&floor(popperOffsets.right)>floor(refOffsets.left)||"right"===placement&&floor(popperOffsets.left)<floor(refOffsets.right)||"top"===placement&&floor(popperOffsets.bottom)>floor(refOffsets.top)||"bottom"===placement&&floor(popperOffsets.top)<floor(refOffsets.bottom),overflowsLeft=floor(popperOffsets.left)<floor(boundaries.left),overflowsRight=floor(popperOffsets.right)>floor(boundaries.right),overflowsTop=floor(popperOffsets.top)<floor(boundaries.top),overflowsBottom=floor(popperOffsets.bottom)>floor(boundaries.bottom),overflowsBoundaries="left"===placement&&overflowsLeft||"right"===placement&&overflowsRight||"top"===placement&&overflowsTop||"bottom"===placement&&overflowsBottom,isVertical=-1!==["top","bottom"].indexOf(placement),flippedVariationByRef=!!options.flipVariations&&(isVertical&&"start"===variation&&overflowsLeft||isVertical&&"end"===variation&&overflowsRight||!isVertical&&"start"===variation&&overflowsTop||!isVertical&&"end"===variation&&overflowsBottom),flippedVariationByContent=!!options.flipVariationsByContent&&(isVertical&&"start"===variation&&overflowsRight||isVertical&&"end"===variation&&overflowsLeft||!isVertical&&"start"===variation&&overflowsBottom||!isVertical&&"end"===variation&&overflowsTop),flippedVariation=flippedVariationByRef||flippedVariationByContent;(overlapsRef||overflowsBoundaries||flippedVariation)&&(data.flipped=!0,(overlapsRef||overflowsBoundaries)&&(placement=flipOrder[index+1]),flippedVariation&&(variation=function(variation){return"end"===variation?"start":"start"===variation?"end":variation}(variation)),data.placement=placement+(variation?"-"+variation:""),data.offsets.popper=_extends({},data.offsets.popper,getPopperOffsets(data.instance.popper,data.offsets.reference,data.placement)),data=runModifiers(data.instance.modifiers,data,"flip"))})),data},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(data){var placement=data.placement,basePlacement=placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isHoriz=-1!==["left","right"].indexOf(basePlacement),subtractLength=-1===["top","left"].indexOf(basePlacement);return popper[isHoriz?"left":"top"]=reference[basePlacement]-(subtractLength?popper[isHoriz?"width":"height"]:0),data.placement=getOppositePlacement(placement),data.offsets.popper=getClientRect(popper),data}},hide:{order:800,enabled:!0,fn:function(data){if(!isModifierRequired(data.instance.modifiers,"hide","preventOverflow"))return data;var refRect=data.offsets.reference,bound=find(data.instance.modifiers,(function(modifier){return"preventOverflow"===modifier.name})).boundaries;if(refRect.bottom<bound.top||refRect.left>bound.right||refRect.top>bound.bottom||refRect.right<bound.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function(data,options){var x=options.x,y=options.y,popper=data.offsets.popper,legacyGpuAccelerationOption=find(data.instance.modifiers,(function(modifier){return"applyStyle"===modifier.name})).gpuAcceleration;void 0!==legacyGpuAccelerationOption&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var gpuAcceleration=void 0!==legacyGpuAccelerationOption?legacyGpuAccelerationOption:options.gpuAcceleration,offsetParent=getOffsetParent(data.instance.popper),offsetParentRect=getBoundingClientRect(offsetParent),styles={position:popper.position},offsets=function(data,shouldRound){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,round=Math.round,floor=Math.floor,noRound=function(v){return v},referenceWidth=round(reference.width),popperWidth=round(popper.width),isVertical=-1!==["left","right"].indexOf(data.placement),isVariation=-1!==data.placement.indexOf("-"),horizontalToInteger=shouldRound?isVertical||isVariation||referenceWidth%2==popperWidth%2?round:floor:noRound,verticalToInteger=shouldRound?round:noRound;return{left:horizontalToInteger(referenceWidth%2==1&&popperWidth%2==1&&!isVariation&&shouldRound?popper.left-1:popper.left),top:verticalToInteger(popper.top),bottom:verticalToInteger(popper.bottom),right:horizontalToInteger(popper.right)}}(data,window.devicePixelRatio<2||!isFirefox),sideA="bottom"===x?"top":"bottom",sideB="right"===y?"left":"right",prefixedProperty=getSupportedPropertyName("transform"),left=void 0,top=void 0;if(top="bottom"===sideA?"HTML"===offsetParent.nodeName?-offsetParent.clientHeight+offsets.bottom:-offsetParentRect.height+offsets.bottom:offsets.top,left="right"===sideB?"HTML"===offsetParent.nodeName?-offsetParent.clientWidth+offsets.right:-offsetParentRect.width+offsets.right:offsets.left,gpuAcceleration&&prefixedProperty)styles[prefixedProperty]="translate3d("+left+"px, "+top+"px, 0)",styles[sideA]=0,styles[sideB]=0,styles.willChange="transform";else{var invertTop="bottom"===sideA?-1:1,invertLeft="right"===sideB?-1:1;styles[sideA]=top*invertTop,styles[sideB]=left*invertLeft,styles.willChange=sideA+", "+sideB}var attributes={"x-placement":data.placement};return data.attributes=_extends({},attributes,data.attributes),data.styles=_extends({},styles,data.styles),data.arrowStyles=_extends({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(data){var element,attributes;return setStyles(data.instance.popper,data.styles),element=data.instance.popper,attributes=data.attributes,Object.keys(attributes).forEach((function(prop){!1!==attributes[prop]?element.setAttribute(prop,attributes[prop]):element.removeAttribute(prop)})),data.arrowElement&&Object.keys(data.arrowStyles).length&&setStyles(data.arrowElement,data.arrowStyles),data},onLoad:function(reference,popper,options,modifierOptions,state){var referenceOffsets=getReferenceOffsets(state,popper,reference,options.positionFixed),placement=computeAutoPlacement(options.placement,referenceOffsets,popper,reference,options.modifiers.flip.boundariesElement,options.modifiers.flip.padding);return popper.setAttribute("x-placement",placement),setStyles(popper,{position:options.positionFixed?"fixed":"absolute"}),options},gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:modifiers},Popper=function(){function Popper(reference,popper){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(_this.update)},this.update=debounce(this.update.bind(this)),this.options=_extends({},Popper.Defaults,options),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=reference&&reference.jquery?reference[0]:reference,this.popper=popper&&popper.jquery?popper[0]:popper,this.options.modifiers={},Object.keys(_extends({},Popper.Defaults.modifiers,options.modifiers)).forEach((function(name){_this.options.modifiers[name]=_extends({},Popper.Defaults.modifiers[name]||{},options.modifiers?options.modifiers[name]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(name){return _extends({name:name},_this.options.modifiers[name])})).sort((function(a,b){return a.order-b.order})),this.modifiers.forEach((function(modifierOptions){modifierOptions.enabled&&isFunction(modifierOptions.onLoad)&&modifierOptions.onLoad(_this.reference,_this.popper,_this.options,modifierOptions,_this.state)})),this.update();var eventsEnabled=this.options.eventsEnabled;eventsEnabled&&this.enableEventListeners(),this.state.eventsEnabled=eventsEnabled}return createClass(Popper,[{key:"update",value:function(){return update.call(this)}},{key:"destroy",value:function(){return destroy.call(this)}},{key:"enableEventListeners",value:function(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function(){return disableEventListeners.call(this)}}]),Popper}();Popper.Utils=("undefined"!=typeof window?window:__webpack_require__.g).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults,__webpack_exports__.default=Popper},1469:function(module){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},269:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}factory=function(Popper){"use strict";function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}Popper=Popper&&Popper.hasOwnProperty("default")?Popper.default:Popper;var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,ua=isBrowser?navigator.userAgent:"",isIE=/MSIE |Trident\//.test(ua),isUCBrowser=/UCBrowser\//.test(ua),isIOS=isBrowser&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,defaultProps={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},POPPER_INSTANCE_DEPENDENCIES=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],elementProto=isBrowser?Element.prototype:{},matches=elementProto.matches||elementProto.matchesSelector||elementProto.webkitMatchesSelector||elementProto.mozMatchesSelector||elementProto.msMatchesSelector;function arrayFrom(value){return[].slice.call(value)}function closest(element,selector){return closestCallback(element,(function(el){return matches.call(el,selector)}))}function closestCallback(element,callback){for(;element;){if(callback(element))return element;element=element.parentElement}return null}var PASSIVE={passive:!0},PADDING=4,PLACEMENT_ATTRIBUTE="x-placement",OUT_OF_BOUNDARIES_ATTRIBUTE="x-out-of-boundaries",IOS_CLASS="tippy-iOS",ACTIVE_CLASS="tippy-active",POPPER_CLASS="tippy-popper",TOOLTIP_CLASS="tippy-tooltip",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",ROUND_ARROW_CLASS="tippy-roundarrow",POPPER_SELECTOR=".".concat(POPPER_CLASS),TOOLTIP_SELECTOR=".".concat(TOOLTIP_CLASS),CONTENT_SELECTOR=".".concat(CONTENT_CLASS),BACKDROP_SELECTOR=".".concat(BACKDROP_CLASS),ARROW_SELECTOR=".".concat(ARROW_CLASS),ROUND_ARROW_SELECTOR=".".concat(ROUND_ARROW_CLASS),isUsingTouch=!1;function onDocumentTouch(){isUsingTouch||(isUsingTouch=!0,isIOS&&document.body.classList.add(IOS_CLASS),window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}var lastMouseMoveTime=0;function onDocumentMouseMove(){var now=performance.now();now-lastMouseMoveTime<20&&(isUsingTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove),isIOS||document.body.classList.remove(IOS_CLASS)),lastMouseMoveTime=now}function onWindowBlur(){var activeElement=document.activeElement;activeElement&&activeElement.blur&&activeElement._tippy&&activeElement.blur()}var keys=Object.keys(defaultProps);function hasOwnProperty(obj,key){return{}.hasOwnProperty.call(obj,key)}function getValue(value,index,defaultValue){if(Array.isArray(value)){var v=value[index];return null==v?defaultValue:v}return value}function debounce(fn,ms){return 0===ms?fn:function(arg){clearTimeout(timeout),timeout=setTimeout((function(){fn(arg)}),ms)};var timeout}function getModifier(obj,key){return obj&&obj.modifiers&&obj.modifiers[key]}function includes(a,b){return a.indexOf(b)>-1}function isRealElement(value){return value instanceof Element}function isSingular(value){return!(!value||!hasOwnProperty(value,"isVirtual"))||isRealElement(value)}function invokeWithArgsOrReturn(value,args){return"function"==typeof value?value.apply(null,args):value}function setFlipModifierEnabled(modifiers,value){modifiers.filter((function(m){return"flip"===m.name}))[0].enabled=value}function div(){return document.createElement("div")}function setTransitionDuration(els,value){els.forEach((function(el){el&&(el.style.transitionDuration="".concat(value,"ms"))}))}function setVisibilityState(els,state){els.forEach((function(el){el&&el.setAttribute("data-state",state)}))}function evaluateProps(reference,props){var out=_extends({},props,{content:invokeWithArgsOrReturn(props.content,[reference])},props.ignoreAttributes?{}:function(reference){return keys.reduce((function(acc,key){var valueAsString=(reference.getAttribute("data-tippy-".concat(key))||"").trim();if(!valueAsString)return acc;if("content"===key)acc[key]=valueAsString;else try{acc[key]=JSON.parse(valueAsString)}catch(e){acc[key]=valueAsString}return acc}),{})}(reference));return(out.arrow||isUCBrowser)&&(out.animateFill=!1),out}function validateOptions(options,defaultProps){Object.keys(options).forEach((function(option){if(!hasOwnProperty(defaultProps,option))throw new Error("[tippy]: `".concat(option,"` is not a valid option"))}))}function setInnerHTML(element,html){element.innerHTML=isRealElement(html)?html.innerHTML:html}function setContent(contentEl,props){isRealElement(props.content)?(setInnerHTML(contentEl,""),contentEl.appendChild(props.content)):"function"!=typeof props.content&&(contentEl[props.allowHTML?"innerHTML":"textContent"]=props.content)}function getChildren(popper){return{tooltip:popper.querySelector(TOOLTIP_SELECTOR),backdrop:popper.querySelector(BACKDROP_SELECTOR),content:popper.querySelector(CONTENT_SELECTOR),arrow:popper.querySelector(ARROW_SELECTOR)||popper.querySelector(ROUND_ARROW_SELECTOR)}}function addInertia(tooltip){tooltip.setAttribute("data-inertia","")}function createArrowElement(arrowType){var arrow=div();return"round"===arrowType?(arrow.className=ROUND_ARROW_CLASS,setInnerHTML(arrow,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):arrow.className=ARROW_CLASS,arrow}function createBackdropElement(){var backdrop=div();return backdrop.className=BACKDROP_CLASS,backdrop.setAttribute("data-state","hidden"),backdrop}function addInteractive(popper,tooltip){popper.setAttribute("tabindex","-1"),tooltip.setAttribute("data-interactive","")}function updateTransitionEndListener(tooltip,action,listener){var eventName=isUCBrowser&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";tooltip[action+"EventListener"](eventName,listener)}function getBasicPlacement(popper){var fullPlacement=popper.getAttribute(PLACEMENT_ATTRIBUTE);return fullPlacement?fullPlacement.split("-")[0]:""}function updateTheme(tooltip,action,theme){theme.split(" ").forEach((function(themeName){tooltip.classList[action](themeName+"-theme")}))}function createPopperElement(id,props){var popper=div();popper.className=POPPER_CLASS,popper.id="tippy-".concat(id),popper.style.zIndex=""+props.zIndex,popper.style.position="absolute",popper.style.top="0",popper.style.left="0",props.role&&popper.setAttribute("role",props.role);var tooltip=div();tooltip.className=TOOLTIP_CLASS,tooltip.style.maxWidth=props.maxWidth+("number"==typeof props.maxWidth?"px":""),tooltip.setAttribute("data-size",props.size),tooltip.setAttribute("data-animation",props.animation),tooltip.setAttribute("data-state","hidden"),updateTheme(tooltip,"add",props.theme);var content=div();return content.className=CONTENT_CLASS,content.setAttribute("data-state","hidden"),props.interactive&&addInteractive(popper,tooltip),props.arrow&&tooltip.appendChild(createArrowElement(props.arrowType)),props.animateFill&&(tooltip.appendChild(createBackdropElement()),tooltip.setAttribute("data-animatefill","")),props.inertia&&addInertia(tooltip),setContent(content,props),tooltip.appendChild(content),popper.appendChild(tooltip),popper}function updatePopperElement(popper,prevProps,nextProps){var _getChildren=getChildren(popper),tooltip=_getChildren.tooltip,content=_getChildren.content,backdrop=_getChildren.backdrop,arrow=_getChildren.arrow;popper.style.zIndex=""+nextProps.zIndex,tooltip.setAttribute("data-size",nextProps.size),tooltip.setAttribute("data-animation",nextProps.animation),tooltip.style.maxWidth=nextProps.maxWidth+("number"==typeof nextProps.maxWidth?"px":""),nextProps.role?popper.setAttribute("role",nextProps.role):popper.removeAttribute("role"),prevProps.content!==nextProps.content&&setContent(content,nextProps),!prevProps.animateFill&&nextProps.animateFill?(tooltip.appendChild(createBackdropElement()),tooltip.setAttribute("data-animatefill","")):prevProps.animateFill&&!nextProps.animateFill&&(tooltip.removeChild(backdrop),tooltip.removeAttribute("data-animatefill")),!prevProps.arrow&&nextProps.arrow?tooltip.appendChild(createArrowElement(nextProps.arrowType)):prevProps.arrow&&!nextProps.arrow&&tooltip.removeChild(arrow),prevProps.arrow&&nextProps.arrow&&prevProps.arrowType!==nextProps.arrowType&&tooltip.replaceChild(createArrowElement(nextProps.arrowType),arrow),!prevProps.interactive&&nextProps.interactive?addInteractive(popper,tooltip):prevProps.interactive&&!nextProps.interactive&&function(popper,tooltip){popper.removeAttribute("tabindex"),tooltip.removeAttribute("data-interactive")}(popper,tooltip),!prevProps.inertia&&nextProps.inertia?addInertia(tooltip):prevProps.inertia&&!nextProps.inertia&&function(tooltip){tooltip.removeAttribute("data-inertia")}(tooltip),prevProps.theme!==nextProps.theme&&(updateTheme(tooltip,"remove",prevProps.theme),updateTheme(tooltip,"add",nextProps.theme))}var idCounter=1,mouseMoveListeners=[];function createTippy(reference,collectionProps){var lastTriggerEventType,lastMouseMoveEvent,showTimeoutId,hideTimeoutId,scheduleHideAnimationFrameId,props=evaluateProps(reference,collectionProps);if(!props.multiple&&reference._tippy)return null;var previousPlacement,currentMountCallback,currentTransitionEndListener,currentComputedPadding,element,isScheduledToShow=!1,isBeingDestroyed=!1,wasVisibleDuringPreviousUpdate=!1,hasMountCallbackRun=!1,listeners=[],debouncedOnMouseMove=debounce(onMouseMove,props.interactiveDebounce),id=idCounter++,popper=createPopperElement(id,props),popperChildren=getChildren(popper),instance={id:id,reference:reference,popper:popper,popperChildren:popperChildren,popperInstance:null,props:props,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:clearDelayTimeouts,set:set,setContent:function(content){set({content:content})},show:show,hide:hide,enable:function(){instance.state.isEnabled=!0},disable:function(){instance.state.isEnabled=!1},destroy:function(destroyTargetInstances){if(!instance.state.isDestroyed){isBeingDestroyed=!0,instance.state.isMounted&&hide(0),removeTriggersFromReference(),delete reference._tippy;var target=instance.props.target;target&&destroyTargetInstances&&isRealElement(reference)&&arrayFrom(reference.querySelectorAll(target)).forEach((function(child){child._tippy&&child._tippy.destroy()})),instance.popperInstance&&instance.popperInstance.destroy(),isBeingDestroyed=!1,instance.state.isDestroyed=!0}}};return reference._tippy=instance,popper._tippy=instance,addTriggersToReference(),props.lazy||createPopperInstance(),props.showOnInit&&scheduleShow(),!props.a11y||props.target||!isRealElement(element=getEventListenersTarget())||matches.call(element,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!element.hasAttribute("disabled")||getEventListenersTarget().setAttribute("tabindex","0"),popper.addEventListener("mouseenter",(function(event){instance.props.interactive&&instance.state.isVisible&&"mouseenter"===lastTriggerEventType&&scheduleShow(event,!0)})),popper.addEventListener("mouseleave",(function(){instance.props.interactive&&"mouseenter"===lastTriggerEventType&&document.addEventListener("mousemove",debouncedOnMouseMove)})),instance;function removeFollowCursorListener(){document.removeEventListener("mousemove",positionVirtualReferenceNearCursor)}function cleanupInteractiveMouseListeners(){document.body.removeEventListener("mouseleave",scheduleHide),document.removeEventListener("mousemove",debouncedOnMouseMove),mouseMoveListeners=mouseMoveListeners.filter((function(listener){return listener!==debouncedOnMouseMove}))}function getEventListenersTarget(){return instance.props.triggerTarget||reference}function addDocumentClickListener(){document.addEventListener("click",onDocumentClick,!0)}function removeDocumentClickListener(){document.removeEventListener("click",onDocumentClick,!0)}function getTransitionableElements(){return[instance.popperChildren.tooltip,instance.popperChildren.backdrop,instance.popperChildren.content]}function getIsInLooseFollowCursorMode(){var followCursor=instance.props.followCursor;return followCursor&&"focus"!==lastTriggerEventType||isUsingTouch&&"initial"===followCursor}function onTransitionEnd(duration,callback){var tooltip=instance.popperChildren.tooltip;function listener(event){event.target===tooltip&&(updateTransitionEndListener(tooltip,"remove",listener),callback())}if(0===duration)return callback();updateTransitionEndListener(tooltip,"remove",currentTransitionEndListener),updateTransitionEndListener(tooltip,"add",listener),currentTransitionEndListener=listener}function on(eventType,handler){var options=arguments.length>2&&void 0!==arguments[2]&&arguments[2];getEventListenersTarget().addEventListener(eventType,handler,options),listeners.push({eventType:eventType,handler:handler,options:options})}function addTriggersToReference(){instance.props.touchHold&&!instance.props.target&&(on("touchstart",onTrigger,PASSIVE),on("touchend",onMouseLeave,PASSIVE)),instance.props.trigger.trim().split(" ").forEach((function(eventType){if("manual"!==eventType)if(instance.props.target)switch(eventType){case"mouseenter":on("mouseover",onDelegateShow),on("mouseout",onDelegateHide);break;case"focus":on("focusin",onDelegateShow),on("focusout",onDelegateHide);break;case"click":on(eventType,onDelegateShow)}else switch(on(eventType,onTrigger),eventType){case"mouseenter":on("mouseleave",onMouseLeave);break;case"focus":on(isIE?"focusout":"blur",onBlur)}}))}function removeTriggersFromReference(){listeners.forEach((function(_ref){var eventType=_ref.eventType,handler=_ref.handler,options=_ref.options;getEventListenersTarget().removeEventListener(eventType,handler,options)})),listeners=[]}function positionVirtualReferenceNearCursor(event){var _lastMouseMoveEvent=lastMouseMoveEvent=event,x=_lastMouseMoveEvent.clientX,y=_lastMouseMoveEvent.clientY;if(currentComputedPadding){var isCursorOverReference=closestCallback(event.target,(function(el){return el===reference})),rect=reference.getBoundingClientRect(),followCursor=instance.props.followCursor,isHorizontal="horizontal"===followCursor,isVertical="vertical"===followCursor,isVerticalPlacement=includes(["top","bottom"],getBasicPlacement(popper)),fullPlacement=popper.getAttribute(PLACEMENT_ATTRIBUTE),isVariation=!!fullPlacement&&!!fullPlacement.split("-")[1],size=isVerticalPlacement?popper.offsetWidth:popper.offsetHeight,halfSize=size/2,verticalIncrease=isVerticalPlacement?0:isVariation?size:halfSize,horizontalIncrease=isVerticalPlacement?isVariation?size:halfSize:0;!isCursorOverReference&&instance.props.interactive||(instance.popperInstance.reference=_extends({},instance.popperInstance.reference,{referenceNode:reference,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:isVerticalPlacement?size:0,height:isVerticalPlacement?0:size,top:(isHorizontal?rect.top:y)-verticalIncrease,bottom:(isHorizontal?rect.bottom:y)+verticalIncrease,left:(isVertical?rect.left:x)-horizontalIncrease,right:(isVertical?rect.right:x)+horizontalIncrease}}}),instance.popperInstance.update()),"initial"===followCursor&&instance.state.isVisible&&removeFollowCursorListener()}}function onTrigger(event){instance.state.isEnabled&&!isEventListenerStopped(event)&&(instance.state.isVisible||(lastTriggerEventType=event.type,event instanceof MouseEvent&&(lastMouseMoveEvent=event,mouseMoveListeners.forEach((function(listener){return listener(event)})))),"click"===event.type&&!1!==instance.props.hideOnClick&&instance.state.isVisible?scheduleHide():scheduleShow(event))}function onMouseMove(event){var isCursorOverPopper=closest(event.target,POPPER_SELECTOR)===popper,isCursorOverReference=closestCallback(event.target,(function(el){return el===reference}));isCursorOverPopper||isCursorOverReference||function(popperPlacement,popperRect,event,props){if(!popperPlacement)return!0;var x=event.clientX,y=event.clientY,interactiveBorder=props.interactiveBorder,distance=props.distance,exceedsTop=popperRect.top-y>("top"===popperPlacement?interactiveBorder+distance:interactiveBorder),exceedsBottom=y-popperRect.bottom>("bottom"===popperPlacement?interactiveBorder+distance:interactiveBorder),exceedsLeft=popperRect.left-x>("left"===popperPlacement?interactiveBorder+distance:interactiveBorder),exceedsRight=x-popperRect.right>("right"===popperPlacement?interactiveBorder+distance:interactiveBorder);return exceedsTop||exceedsBottom||exceedsLeft||exceedsRight}(getBasicPlacement(popper),popper.getBoundingClientRect(),event,instance.props)&&(cleanupInteractiveMouseListeners(),scheduleHide())}function onMouseLeave(event){if(!isEventListenerStopped(event))return instance.props.interactive?(document.body.addEventListener("mouseleave",scheduleHide),document.addEventListener("mousemove",debouncedOnMouseMove),void mouseMoveListeners.push(debouncedOnMouseMove)):void scheduleHide()}function onBlur(event){event.target===getEventListenersTarget()&&(instance.props.interactive&&event.relatedTarget&&popper.contains(event.relatedTarget)||scheduleHide())}function onDelegateShow(event){closest(event.target,instance.props.target)&&scheduleShow(event)}function onDelegateHide(event){closest(event.target,instance.props.target)&&scheduleHide()}function isEventListenerStopped(event){var supportsTouch="ontouchstart"in window,isTouchEvent=includes(event.type,"touch"),touchHold=instance.props.touchHold;return supportsTouch&&isUsingTouch&&touchHold&&!isTouchEvent||isUsingTouch&&!touchHold&&isTouchEvent}function runMountCallback(){!hasMountCallbackRun&&currentMountCallback&&(hasMountCallbackRun=!0,function(popper){popper.offsetHeight}(popper),currentMountCallback())}function createPopperInstance(){var popperOptions=instance.props.popperOptions,_instance$popperChild=instance.popperChildren,tooltip=_instance$popperChild.tooltip,arrow=_instance$popperChild.arrow,preventOverflowModifier=getModifier(popperOptions,"preventOverflow");function applyMutations(data){instance.props.flip&&!instance.props.flipOnUpdate&&(data.flipped&&(instance.popperInstance.options.placement=data.placement),setFlipModifierEnabled(instance.popperInstance.modifiers,!1)),tooltip.setAttribute(PLACEMENT_ATTRIBUTE,data.placement),!1!==data.attributes[OUT_OF_BOUNDARIES_ATTRIBUTE]?tooltip.setAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE,""):tooltip.removeAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE),previousPlacement&&previousPlacement!==data.placement&&wasVisibleDuringPreviousUpdate&&(tooltip.style.transition="none",requestAnimationFrame((function(){tooltip.style.transition=""}))),previousPlacement=data.placement,wasVisibleDuringPreviousUpdate=instance.state.isVisible;var basicPlacement=getBasicPlacement(popper),styles=tooltip.style;styles.top=styles.bottom=styles.left=styles.right="",styles[basicPlacement]=-(instance.props.distance-10)+"px";var padding=preventOverflowModifier&&void 0!==preventOverflowModifier.padding?preventOverflowModifier.padding:PADDING,isPaddingNumber="number"==typeof padding,computedPadding=_extends({top:isPaddingNumber?padding:padding.top,bottom:isPaddingNumber?padding:padding.bottom,left:isPaddingNumber?padding:padding.left,right:isPaddingNumber?padding:padding.right},!isPaddingNumber&&padding);computedPadding[basicPlacement]=isPaddingNumber?padding+instance.props.distance:(padding[basicPlacement]||0)+instance.props.distance,instance.popperInstance.modifiers.filter((function(m){return"preventOverflow"===m.name}))[0].padding=computedPadding,currentComputedPadding=computedPadding}var config=_extends({eventsEnabled:!1,placement:instance.props.placement},popperOptions,{modifiers:_extends({},popperOptions?popperOptions.modifiers:{},{preventOverflow:_extends({boundariesElement:instance.props.boundary,padding:PADDING},preventOverflowModifier),arrow:_extends({element:arrow,enabled:!!arrow},getModifier(popperOptions,"arrow")),flip:_extends({enabled:instance.props.flip,padding:instance.props.distance+PADDING,behavior:instance.props.flipBehavior},getModifier(popperOptions,"flip")),offset:_extends({offset:instance.props.offset},getModifier(popperOptions,"offset"))}),onCreate:function(data){applyMutations(data),runMountCallback(),popperOptions&&popperOptions.onCreate&&popperOptions.onCreate(data)},onUpdate:function(data){applyMutations(data),runMountCallback(),popperOptions&&popperOptions.onUpdate&&popperOptions.onUpdate(data)}});instance.popperInstance=new Popper(reference,popper,config)}function scheduleShow(event,shouldAvoidCallingOnTrigger){if(clearDelayTimeouts(),!instance.state.isVisible){if(instance.props.target)return function(event){if(event){var targetEl=closest(event.target,instance.props.target);targetEl&&!targetEl._tippy&&createTippy(targetEl,_extends({},instance.props,{content:invokeWithArgsOrReturn(collectionProps.content,[targetEl]),appendTo:collectionProps.appendTo,target:"",showOnInit:!0}))}}(event);if(isScheduledToShow=!0,event&&!shouldAvoidCallingOnTrigger&&instance.props.onTrigger(instance,event),instance.props.wait)return instance.props.wait(instance,event);getIsInLooseFollowCursorMode()&&!instance.state.isMounted&&(instance.popperInstance||createPopperInstance(),document.addEventListener("mousemove",positionVirtualReferenceNearCursor)),addDocumentClickListener();var delay=getValue(instance.props.delay,0,defaultProps.delay);delay?showTimeoutId=setTimeout((function(){show()}),delay):show()}}function scheduleHide(){if(clearDelayTimeouts(),!instance.state.isVisible)return removeFollowCursorListener(),void removeDocumentClickListener();isScheduledToShow=!1;var delay=getValue(instance.props.delay,1,defaultProps.delay);delay?hideTimeoutId=setTimeout((function(){instance.state.isVisible&&hide()}),delay):scheduleHideAnimationFrameId=requestAnimationFrame((function(){hide()}))}function onDocumentClick(event){if(!instance.props.interactive||!popper.contains(event.target)){if(getEventListenersTarget().contains(event.target)){if(isUsingTouch)return;if(instance.state.isVisible&&includes(instance.props.trigger,"click"))return}!0===instance.props.hideOnClick&&(clearDelayTimeouts(),hide())}}function clearDelayTimeouts(){clearTimeout(showTimeoutId),clearTimeout(hideTimeoutId),cancelAnimationFrame(scheduleHideAnimationFrameId)}function set(options){validateOptions(options=options||{},defaultProps),removeTriggersFromReference();var prevProps=instance.props,nextProps=evaluateProps(reference,_extends({},instance.props,{},options,{ignoreAttributes:!0}));nextProps.ignoreAttributes=hasOwnProperty(options,"ignoreAttributes")?options.ignoreAttributes||!1:prevProps.ignoreAttributes,instance.props=nextProps,addTriggersToReference(),cleanupInteractiveMouseListeners(),debouncedOnMouseMove=debounce(onMouseMove,nextProps.interactiveDebounce),updatePopperElement(popper,prevProps,nextProps),instance.popperChildren=getChildren(popper),instance.popperInstance&&(POPPER_INSTANCE_DEPENDENCIES.some((function(prop){return hasOwnProperty(options,prop)&&options[prop]!==prevProps[prop]}))?(instance.popperInstance.destroy(),createPopperInstance(),instance.state.isVisible&&instance.popperInstance.enableEventListeners(),instance.props.followCursor&&lastMouseMoveEvent&&positionVirtualReferenceNearCursor(lastMouseMoveEvent)):instance.popperInstance.update())}function show(){var duration=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getValue(instance.props.duration,0,defaultProps.duration[1]);if(!instance.state.isDestroyed&&instance.state.isEnabled&&(!isUsingTouch||instance.props.touch)&&!getEventListenersTarget().hasAttribute("disabled")&&!1!==instance.props.onShow(instance)){addDocumentClickListener(),popper.style.visibility="visible",instance.state.isVisible=!0,instance.props.interactive&&getEventListenersTarget().classList.add(ACTIVE_CLASS);var transitionableElements=getTransitionableElements();setTransitionDuration(transitionableElements.concat(popper),0),currentMountCallback=function(){if(instance.state.isVisible){var isInLooseFollowCursorMode=getIsInLooseFollowCursorMode();isInLooseFollowCursorMode&&lastMouseMoveEvent?positionVirtualReferenceNearCursor(lastMouseMoveEvent):isInLooseFollowCursorMode||instance.popperInstance.update(),instance.popperChildren.backdrop&&(instance.popperChildren.content.style.transitionDelay=Math.round(duration/12)+"ms"),instance.props.sticky&&function(){setTransitionDuration([popper],isIE?0:instance.props.updateDuration);var prevRefRect=reference.getBoundingClientRect();!function updatePosition(){var currentRefRect=reference.getBoundingClientRect();prevRefRect.top===currentRefRect.top&&prevRefRect.right===currentRefRect.right&&prevRefRect.bottom===currentRefRect.bottom&&prevRefRect.left===currentRefRect.left||instance.popperInstance.scheduleUpdate(),prevRefRect=currentRefRect,instance.state.isMounted&&requestAnimationFrame(updatePosition)}()}(),setTransitionDuration([popper],instance.props.updateDuration),setTransitionDuration(transitionableElements,duration),setVisibilityState(transitionableElements,"visible"),function(duration,callback){onTransitionEnd(duration,callback)}(duration,(function(){instance.props.aria&&getEventListenersTarget().setAttribute("aria-".concat(instance.props.aria),popper.id),instance.props.onShown(instance),instance.state.isShown=!0}))}},function(){hasMountCallbackRun=!1;var isInLooseFollowCursorMode=getIsInLooseFollowCursorMode();instance.popperInstance?(setFlipModifierEnabled(instance.popperInstance.modifiers,instance.props.flip),isInLooseFollowCursorMode||(instance.popperInstance.reference=reference,instance.popperInstance.enableEventListeners()),instance.popperInstance.scheduleUpdate()):(createPopperInstance(),isInLooseFollowCursorMode||instance.popperInstance.enableEventListeners());var appendTo=instance.props.appendTo,parentNode="parent"===appendTo?reference.parentNode:invokeWithArgsOrReturn(appendTo,[reference]);parentNode.contains(popper)||(parentNode.appendChild(popper),instance.props.onMount(instance),instance.state.isMounted=!0)}()}}function hide(){var duration=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getValue(instance.props.duration,1,defaultProps.duration[1]);if(!instance.state.isDestroyed&&(instance.state.isEnabled||isBeingDestroyed)&&(!1!==instance.props.onHide(instance)||isBeingDestroyed)){removeDocumentClickListener(),popper.style.visibility="hidden",instance.state.isVisible=!1,instance.state.isShown=!1,wasVisibleDuringPreviousUpdate=!1,instance.props.interactive&&getEventListenersTarget().classList.remove(ACTIVE_CLASS);var transitionableElements=getTransitionableElements();setTransitionDuration(transitionableElements,duration),setVisibilityState(transitionableElements,"hidden"),function(duration,callback){onTransitionEnd(duration,(function(){!instance.state.isVisible&&popper.parentNode&&popper.parentNode.contains(popper)&&callback()}))}(duration,(function(){isScheduledToShow||removeFollowCursorListener(),instance.props.aria&&getEventListenersTarget().removeAttribute("aria-".concat(instance.props.aria)),instance.popperInstance.disableEventListeners(),instance.popperInstance.options.placement=instance.props.placement,popper.parentNode.removeChild(popper),instance.props.onHidden(instance),instance.state.isMounted=!1}))}}}var globalEventListenersBound=!1;function tippy(targets,options){validateOptions(options||{},defaultProps),globalEventListenersBound||(document.addEventListener("touchstart",onDocumentTouch,PASSIVE),window.addEventListener("blur",onWindowBlur),globalEventListenersBound=!0);var value,props=_extends({},defaultProps,{},options);value=targets,"[object Object]"!=={}.toString.call(value)||value.addEventListener||function(virtualReference){var polyfills={isVirtual:!0,attributes:virtualReference.attributes||{},contains:function(){},setAttribute:function(key,value){virtualReference.attributes[key]=value},getAttribute:function(key){return virtualReference.attributes[key]},removeAttribute:function(key){delete virtualReference.attributes[key]},hasAttribute:function(key){return key in virtualReference.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(key){virtualReference.classList.classNames[key]=!0},remove:function(key){delete virtualReference.classList.classNames[key]},contains:function(key){return key in virtualReference.classList.classNames}}};for(var key in polyfills)virtualReference[key]=polyfills[key]}(targets);var instances=function(value){if(isSingular(value))return[value];if(value instanceof NodeList)return arrayFrom(value);if(Array.isArray(value))return value;try{return arrayFrom(document.querySelectorAll(value))}catch(e){return[]}}(targets).reduce((function(acc,reference){var instance=reference&&createTippy(reference,props);return instance&&acc.push(instance),acc}),[]);return isSingular(targets)?instances[0]:instances}return tippy.version="4.3.5",tippy.defaults=defaultProps,tippy.setDefaults=function(partialDefaults){Object.keys(partialDefaults).forEach((function(key){defaultProps[key]=partialDefaults[key]}))},tippy.hideAll=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},excludedReferenceOrInstance=_ref.exclude,duration=_ref.duration;arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach((function(popper){var value,instance=popper._tippy;if(instance){var isExcluded=!1;excludedReferenceOrInstance&&(isExcluded=(value=excludedReferenceOrInstance)._tippy&&!matches.call(value,POPPER_SELECTOR)?instance.reference===excludedReferenceOrInstance:popper===excludedReferenceOrInstance.popper),isExcluded||instance.hide(duration)}}))},tippy.group=function(instances){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$delay=_ref.delay,delay=void 0===_ref$delay?instances[0].props.delay:_ref$delay,_ref$duration=_ref.duration,duration=void 0===_ref$duration?0:_ref$duration,isAnyTippyOpen=!1;function setIsAnyTippyOpen(value){isAnyTippyOpen=value,updateInstances()}function onShow(instance){instance._originalProps.onShow(instance),instances.forEach((function(instance){instance.set({duration:duration}),instance.state.isVisible&&instance.hide()})),setIsAnyTippyOpen(!0)}function onHide(instance){instance._originalProps.onHide(instance),setIsAnyTippyOpen(!1)}function onShown(instance){instance._originalProps.onShown(instance),instance.set({duration:instance._originalProps.duration})}function updateInstances(){instances.forEach((function(instance){instance.set({onShow:onShow,onShown:onShown,onHide:onHide,delay:isAnyTippyOpen?[0,Array.isArray(delay)?delay[1]:delay]:delay,duration:isAnyTippyOpen?duration:instance._originalProps.duration})}))}instances.forEach((function(instance){instance._originalProps?instance.set(instance._originalProps):instance._originalProps=_extends({},instance.props)})),updateInstances()},isBrowser&&setTimeout((function(){arrayFrom(document.querySelectorAll("[data-tippy]")).forEach((function(el){var content=el.getAttribute("data-tippy");content&&tippy(el,{content:content})}))})),tippy},"object"===_typeof(exports)?module.exports=factory(__webpack_require__(7562)):(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7562)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},7970:function(__unused_webpack_module,exports){function cloneRoute(to,from){var clone={name:to.name,path:to.path,hash:to.hash,query:to.query,params:to.params,fullPath:to.fullPath,meta:to.meta};return from&&(clone.from=cloneRoute(from)),Object.freeze(clone)}exports.Z=function(store,router,options){var moduleName=(options||{}).moduleName||"route";store.registerModule(moduleName,{namespaced:!0,state:cloneRoute(router.currentRoute),mutations:{ROUTE_CHANGED:function(state,transition){store.state[moduleName]=cloneRoute(transition.to,transition.from)}}});var currentPath,isTimeTraveling=!1,storeUnwatch=store.watch((function(state){return state[moduleName]}),(function(route){var fullPath=route.fullPath;fullPath!==currentPath&&(null!=currentPath&&(isTimeTraveling=!0,router.push(route)),currentPath=fullPath)}),{sync:!0}),afterEachUnHook=router.afterEach((function(to,from){isTimeTraveling?isTimeTraveling=!1:(currentPath=to.fullPath,store.commit(moduleName+"/ROUTE_CHANGED",{to:to,from:from}))}));return function(){null!=afterEachUnHook&&afterEachUnHook(),null!=storeUnwatch&&storeUnwatch(),store.unregisterModule(moduleName)}}}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={id:moduleId,loaded:!1,exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.nmd=function(module){return module.paths=[],module.children||(module.children=[]),module},function(){var scriptUrl;__webpack_require__.g.importScripts&&(scriptUrl=__webpack_require__.g.location+"");var document=__webpack_require__.g.document;if(!scriptUrl&&document&&(document.currentScript&&(scriptUrl=document.currentScript.src),!scriptUrl)){var scripts=document.getElementsByTagName("script");if(scripts.length)for(var i=scripts.length-1;i>-1&&!scriptUrl;)scriptUrl=scripts[i--].src}if(!scriptUrl)throw new Error("Automatic publicPath is not supported in this browser");scriptUrl=scriptUrl.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=scriptUrl}(),function(){"use strict";var userManagement_actions_namespaceObject={};__webpack_require__.r(userManagement_actions_namespaceObject),__webpack_require__.d(userManagement_actions_namespaceObject,{createFacilityUser:function(){return createFacilityUser},deleteFacilityUser:function(){return deleteFacilityUser},updateFacilityUserDetails:function(){return updateFacilityUserDetails},updateFacilityUserPassword:function(){return updateFacilityUserPassword}});var _vue,external_kolibriCoreAppGlobal_lib_vue_namespaceObject=kolibriCoreAppGlobal.lib.vue,external_kolibriCoreAppGlobal_lib_vue_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_vue_namespaceObject),external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject=kolibriCoreAppGlobal.lib.vueCompositionApi,external_kolibriCoreAppGlobal_lib_vueCompositionApi_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject);(_vue=(_vue=external_kolibriCoreAppGlobal_lib_vue_default())||external_kolibriCoreAppGlobal_lib_vue_default())&&!_vue.__composition_api_installed__&&external_kolibriCoreAppGlobal_lib_vue_default().use(external_kolibriCoreAppGlobal_lib_vueCompositionApi_default());var isVue2=!0;external_kolibriCoreAppGlobal_lib_vue_default().version;var _a;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var isClient="undefined"!=typeof window;Object.prototype.toString,isClient&&(null==(_a=null==window?void 0:window.navigator)?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function set(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];if(2===args.length){var _ref3=args[0],value=args[1];_ref3.value=value}if(3===args.length)if(isVue2)external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.set.apply(void 0,args);else{var target=args[0],key=args[1],_value2=args[2];target[key]=_value2}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var external_kolibriCoreAppGlobal_coreVue_composables_useUser_namespaceObject=kolibriCoreAppGlobal.coreVue.composables.useUser,external_kolibriCoreAppGlobal_coreVue_composables_useUser_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_composables_useUser_namespaceObject),external_kolibriCoreAppGlobal_utils_redirectBrowser_namespaceObject=kolibriCoreAppGlobal.utils.redirectBrowser,external_kolibriCoreAppGlobal_utils_redirectBrowser_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_redirectBrowser_namespaceObject),external_kolibriCoreAppGlobal_coreVue_router_namespaceObject=kolibriCoreAppGlobal.coreVue.router,external_kolibriCoreAppGlobal_coreVue_router_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_router_namespaceObject),render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("NotificationsRoot",{attrs:{authorized:this.userIsAuthorized,authorizationErrorDetails:this.$tr("adminOrSuperuser")}},[_c("router-view")],1)};render._withStripped=!0;var external_kolibriCoreAppGlobal_lib_vuex_namespaceObject=kolibriCoreAppGlobal.lib.vuex,external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_namespaceObject=kolibriCoreAppGlobal.coreVue.components.NotificationsRoot,external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_namespaceObject),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.commonCoreStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_namespaceObject);function constants_typeof(o){return constants_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},constants_typeof(o)}function constants_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=constants_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=constants_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==constants_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var PageNames_CLASS_MGMT_PAGE="CLASS_MGMT_PAGE",PageNames_CLASS_EDIT_MGMT_PAGE="CLASS_EDIT_MGMT_PAGE",PageNames_CLASS_ENROLL_LEARNER="CLASS_ENROLL_LEARNER",PageNames_CLASS_ASSIGN_COACH="CLASS_ASSIGN_COACH",PageNames_USER_MGMT_PAGE="USER_MGMT_PAGE",PageNames_USER_CREATE_PAGE="USER_CREATE_PAGE",PageNames_USER_EDIT_PAGE="USER_EDIT_PAGE",PageNames_IMPORT_CSV_PAGE="IMPORT_CSV_PAGE",PageNames_DATA_EXPORT_PAGE="DATA_EXPORT_PAGE",PageNames_FACILITY_CONFIG_PAGE="FACILITY_CONFIG_PAGE",PageNames_ALL_FACILITIES_PAGE="ALL_FACILITIES_PAGE",constants_Modals={CREATE_CLASS:"CREATE_CLASS",DELETE_CLASS:"DELETE_CLASS",EDIT_CLASS_NAME:"EDIT_CLASS_NAME",REMOVE_USER:"REMOVE_USER",CONFIRM_ENROLLMENT:"CONFIRM_ENROLLMENT",CREATE_USER:"CREATE_USER",EDIT_USER:"EDIT_USER",RESET_USER_PASSWORD:"RESET_USER_PASSWORD",DELETE_USER:"DELETE_USER"},pageNameToModuleMap=constants_defineProperty(constants_defineProperty(constants_defineProperty(constants_defineProperty(constants_defineProperty(constants_defineProperty({},PageNames_CLASS_MGMT_PAGE,"classManagement"),PageNames_CLASS_EDIT_MGMT_PAGE,"classEditManagement"),PageNames_CLASS_ASSIGN_COACH,"classAssignMembers"),PageNames_CLASS_ENROLL_LEARNER,"classAssignMembers"),PageNames_USER_MGMT_PAGE,"userManagement"),PageNames_FACILITY_CONFIG_PAGE,"facilityConfig"),CSVGenerationStatuses_NO_LOGS_CREATED="NOLOGSCREATED",CSVGenerationStatuses_GENERATING="GENERATING",CSVGenerationStatuses_AVAILABLE="AVAILABLE",constants_CSVImportStatuses={NOT_STARTED:"NOTSTARTED",VALIDATING:"VALIDATING",VALIDATED:"VALIDATED",SAVING:"SAVING",VALIDATION_ERRORS:"VALIDATION_ERRORS",ERRORS:"ERRORS",FINISHED:"FINISHED"},UsersExportStatuses_EXPORTING="EXPORTING",UsersExportStatuses_FINISHED="FINISHED";function FacilityIndexvue_type_script_lang_js_typeof(o){return FacilityIndexvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FacilityIndexvue_type_script_lang_js_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){FacilityIndexvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function FacilityIndexvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=FacilityIndexvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=FacilityIndexvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==FacilityIndexvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options:options}}var FacilityIndex=normalizeComponent({name:"FacilityIndex",components:{NotificationsRoot:external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],computed:_objectSpread(_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isAdmin","isSuperuser","activeFacilityId"])),{},{pageName:function(){return this.$route.name},inAllFacilitiesPage:function(){return this.pageName===PageNames_ALL_FACILITIES_PAGE},userIsAuthorized:function(){return!!this.isSuperuser||!!this.isAdmin&&(!this.inAllFacilitiesPage&&this.$store.state.core.session.facility_id===this.activeFacilityId)}}),$trs:{adminOrSuperuser:{message:"You must be signed in as an admin or super admin to view this page",context:"Message to users indicating the types of users who can view the specified page."}}},render,[],!1,null,"fcb2add2",null).exports,external_kolibriCoreAppGlobal_coreVue_vuex_store_namespaceObject=kolibriCoreAppGlobal.coreVue.vuex.store,external_kolibriCoreAppGlobal_coreVue_vuex_store_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_vuex_store_namespaceObject),external_kolibriCoreAppGlobal_lib_logging_namespaceObject=kolibriCoreAppGlobal.lib.logging,external_kolibriCoreAppGlobal_lib_logging_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_logging_namespaceObject);function vue_router_esm_typeof(o){return vue_router_esm_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},vue_router_esm_typeof(o)}function extend(a,b){for(var key in b)a[key]=b[key];return a}var encodeReserveRE=/[!'()*]/g,encodeReserveReplacer=function(c){return"%"+c.charCodeAt(0).toString(16)},commaRE=/%2C/g,encode=function(str){return encodeURIComponent(str).replace(encodeReserveRE,encodeReserveReplacer).replace(commaRE,",")};function decode(str){try{return decodeURIComponent(str)}catch(err){0}return str}var castQueryParamValue=function(value){return null==value||"object"===vue_router_esm_typeof(value)?value:String(value)};function parseQuery(query){var res={};return(query=query.trim().replace(/^(\?|#|&)/,""))?(query.split("&").forEach((function(param){var parts=param.replace(/\+/g," ").split("="),key=decode(parts.shift()),val=parts.length>0?decode(parts.join("=")):null;void 0===res[key]?res[key]=val:Array.isArray(res[key])?res[key].push(val):res[key]=[res[key],val]})),res):res}function stringifyQuery(obj){var res=obj?Object.keys(obj).map((function(key){var val=obj[key];if(void 0===val)return"";if(null===val)return encode(key);if(Array.isArray(val)){var result=[];return val.forEach((function(val2){void 0!==val2&&(null===val2?result.push(encode(key)):result.push(encode(key)+"="+encode(val2)))})),result.join("&")}return encode(key)+"="+encode(val)})).filter((function(x){return x.length>0})).join("&"):null;return res?"?"+res:""}var trailingSlashRE=/\/?$/;function createRoute(record,location,redirectedFrom,router){var stringifyQuery=router&&router.options.stringifyQuery,query=location.query||{};try{query=clone(query)}catch(e){}var route={name:location.name||record&&record.name,meta:record&&record.meta||{},path:location.path||"/",hash:location.hash||"",query:query,params:location.params||{},fullPath:getFullPath(location,stringifyQuery),matched:record?formatMatch(record):[]};return redirectedFrom&&(route.redirectedFrom=getFullPath(redirectedFrom,stringifyQuery)),Object.freeze(route)}function clone(value){if(Array.isArray(value))return value.map(clone);if(value&&"object"===vue_router_esm_typeof(value)){var res={};for(var key in value)res[key]=clone(value[key]);return res}return value}var START=createRoute(null,{path:"/"});function formatMatch(record){for(var res=[];record;)res.unshift(record),record=record.parent;return res}function getFullPath(ref,_stringifyQuery){var path=ref.path,query=ref.query;void 0===query&&(query={});var hash=ref.hash;return void 0===hash&&(hash=""),(path||"/")+(_stringifyQuery||stringifyQuery)(query)+hash}function isSameRoute(a,b,onlyPath){return b===START?a===b:!!b&&(a.path&&b.path?a.path.replace(trailingSlashRE,"")===b.path.replace(trailingSlashRE,"")&&(onlyPath||a.hash===b.hash&&isObjectEqual(a.query,b.query)):!(!a.name||!b.name)&&(a.name===b.name&&(onlyPath||a.hash===b.hash&&isObjectEqual(a.query,b.query)&&isObjectEqual(a.params,b.params))))}function isObjectEqual(a,b){if(void 0===a&&(a={}),void 0===b&&(b={}),!a||!b)return a===b;var aKeys=Object.keys(a).sort(),bKeys=Object.keys(b).sort();return aKeys.length===bKeys.length&&aKeys.every((function(key,i){var aVal=a[key];if(bKeys[i]!==key)return!1;var bVal=b[key];return null==aVal||null==bVal?aVal===bVal:"object"===vue_router_esm_typeof(aVal)&&"object"===vue_router_esm_typeof(bVal)?isObjectEqual(aVal,bVal):String(aVal)===String(bVal)}))}function handleRouteEntered(route){for(var i=0;i<route.matched.length;i++){var record=route.matched[i];for(var name in record.instances){var instance=record.instances[name],cbs=record.enteredCbs[name];if(instance&&cbs){delete record.enteredCbs[name];for(var i$1=0;i$1<cbs.length;i$1++)instance._isBeingDestroyed||cbs[i$1](instance)}}}}var View={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(_,ref){var props=ref.props,children=ref.children,parent=ref.parent,data=ref.data;data.routerView=!0;for(var h=parent.$createElement,name=props.name,route=parent.$route,cache=parent._routerViewCache||(parent._routerViewCache={}),depth=0,inactive=!1;parent&&parent._routerRoot!==parent;){var vnodeData=parent.$vnode?parent.$vnode.data:{};vnodeData.routerView&&depth++,vnodeData.keepAlive&&parent._directInactive&&parent._inactive&&(inactive=!0),parent=parent.$parent}if(data.routerViewDepth=depth,inactive){var cachedData=cache[name],cachedComponent=cachedData&&cachedData.component;return cachedComponent?(cachedData.configProps&&fillPropsinData(cachedComponent,data,cachedData.route,cachedData.configProps),h(cachedComponent,data,children)):h()}var matched=route.matched[depth],component=matched&&matched.components[name];if(!matched||!component)return cache[name]=null,h();cache[name]={component:component},data.registerRouteInstance=function(vm,val){var current=matched.instances[name];(val&&current!==vm||!val&&current===vm)&&(matched.instances[name]=val)},(data.hook||(data.hook={})).prepatch=function(_,vnode){matched.instances[name]=vnode.componentInstance},data.hook.init=function(vnode){vnode.data.keepAlive&&vnode.componentInstance&&vnode.componentInstance!==matched.instances[name]&&(matched.instances[name]=vnode.componentInstance),handleRouteEntered(route)};var configProps=matched.props&&matched.props[name];return configProps&&(extend(cache[name],{route:route,configProps:configProps}),fillPropsinData(component,data,route,configProps)),h(component,data,children)}};function fillPropsinData(component,data,route,configProps){var propsToPass=data.props=function(route,config){switch(vue_router_esm_typeof(config)){case"undefined":return;case"object":return config;case"function":return config(route);case"boolean":return config?route.params:void 0}}(route,configProps);if(propsToPass){propsToPass=data.props=extend({},propsToPass);var attrs=data.attrs=data.attrs||{};for(var key in propsToPass)component.props&&key in component.props||(attrs[key]=propsToPass[key],delete propsToPass[key])}}function resolvePath(relative,base,append){var firstChar=relative.charAt(0);if("/"===firstChar)return relative;if("?"===firstChar||"#"===firstChar)return base+relative;var stack=base.split("/");append&&stack[stack.length-1]||stack.pop();for(var segments=relative.replace(/^\//,"").split("/"),i=0;i<segments.length;i++){var segment=segments[i];".."===segment?stack.pop():"."!==segment&&stack.push(segment)}return""!==stack[0]&&stack.unshift(""),stack.join("/")}function cleanPath(path){return path.replace(/\/(?:\s*\/)+/g,"/")}var isarray=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)},pathToRegexp_1=pathToRegexp,parse_1=parse,compile_1=function(str,options){return tokensToFunction(parse(str,options),options)},tokensToFunction_1=tokensToFunction,tokensToRegExp_1=tokensToRegExp,PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str,options){for(var res,tokens=[],key=0,index=0,path="",defaultDelimiter=options&&options.delimiter||"/";null!=(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1];else{var next=str[index],prefix=res[2],name=res[3],capture=res[4],group=res[5],modifier=res[6],asterisk=res[7];path&&(tokens.push(path),path="");var partial=null!=prefix&&null!=next&&next!==prefix,repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,delimiter=res[2]||defaultDelimiter,pattern=capture||group;tokens.push({name:name||key++,prefix:prefix||"",delimiter:delimiter,optional:optional,repeat:repeat,partial:partial,asterisk:!!asterisk,pattern:pattern?escapeGroup(pattern):asterisk?".*":"[^"+escapeString(delimiter)+"]+?"})}}return index<str.length&&(path+=str.substr(index)),path&&tokens.push(path),tokens}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,(function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(tokens,options){for(var matches=new Array(tokens.length),i=0;i<tokens.length;i++)"object"===vue_router_esm_typeof(tokens[i])&&(matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$",flags(options)));return function(obj,opts){for(var path="",data=obj||{},encode=(opts||{}).pretty?encodeURIComponentPretty:encodeURIComponent,i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var segment,value=data[token.name];if(null==value){if(token.optional){token.partial&&(path+=token.prefix);continue}throw new TypeError('Expected "'+token.name+'" to be defined')}if(isarray(value)){if(!token.repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`");if(0===value.length){if(token.optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){if(segment=encode(value[j]),!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`");path+=(0===j?token.prefix:token.delimiter)+segment}}else{if(segment=token.asterisk?encodeURI(value).replace(/[?#]/g,(function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})):encode(value),!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"');path+=token.prefix+segment}}else path+=token}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){return re.keys=keys,re}function flags(options){return options&&options.sensitive?"":"i"}function tokensToRegExp(tokens,keys,options){isarray(keys)||(options=keys||options,keys=[]);for(var strict=(options=options||{}).strict,end=!1!==options.end,route="",i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token);else{var prefix=escapeString(token.prefix),capture="(?:"+token.pattern+")";keys.push(token),token.repeat&&(capture+="(?:"+prefix+capture+")*"),route+=capture=token.optional?token.partial?prefix+"("+capture+")?":"(?:"+prefix+"("+capture+"))?":prefix+"("+capture+")"}}var delimiter=escapeString(options.delimiter||"/"),endsWithDelimiter=route.slice(-delimiter.length)===delimiter;return strict||(route=(endsWithDelimiter?route.slice(0,-delimiter.length):route)+"(?:"+delimiter+"(?=$))?"),route+=end?"$":strict&&endsWithDelimiter?"":"(?="+delimiter+"|$)",attachKeys(new RegExp("^"+route,flags(options)),keys)}function pathToRegexp(path,keys,options){return isarray(keys)||(options=keys||options,keys=[]),options=options||{},path instanceof RegExp?function(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(path,keys)}(path,keys):isarray(path)?function(path,keys,options){for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);return attachKeys(new RegExp("(?:"+parts.join("|")+")",flags(options)),keys)}(path,keys,options):function(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}(path,keys,options)}pathToRegexp_1.parse=parse_1,pathToRegexp_1.compile=compile_1,pathToRegexp_1.tokensToFunction=tokensToFunction_1,pathToRegexp_1.tokensToRegExp=tokensToRegExp_1;var regexpCompileCache=Object.create(null);function fillParams(path,params,routeMsg){params=params||{};try{var filler=regexpCompileCache[path]||(regexpCompileCache[path]=pathToRegexp_1.compile(path));return"string"==typeof params.pathMatch&&(params[0]=params.pathMatch),filler(params,{pretty:!0})}catch(e){return""}finally{delete params[0]}}function normalizeLocation(raw,current,append,router){var next="string"==typeof raw?{path:raw}:raw;if(next._normalized)return next;if(next.name){var params=(next=extend({},raw)).params;return params&&"object"===vue_router_esm_typeof(params)&&(next.params=extend({},params)),next}if(!next.path&&next.params&&current){(next=extend({},next))._normalized=!0;var params$1=extend(extend({},current.params),next.params);if(current.name)next.name=current.name,next.params=params$1;else if(current.matched.length){var rawPath=current.matched[current.matched.length-1].path;next.path=fillParams(rawPath,params$1,current.path)}else 0;return next}var parsedPath=function(path){var hash="",query="",hashIndex=path.indexOf("#");hashIndex>=0&&(hash=path.slice(hashIndex),path=path.slice(0,hashIndex));var queryIndex=path.indexOf("?");return queryIndex>=0&&(query=path.slice(queryIndex+1),path=path.slice(0,queryIndex)),{path:path,query:query,hash:hash}}(next.path||""),basePath=current&&current.path||"/",path=parsedPath.path?resolvePath(parsedPath.path,basePath,append||next.append):basePath,query=function(query,extraQuery,_parseQuery){void 0===extraQuery&&(extraQuery={});var parsedQuery,parse=_parseQuery||parseQuery;try{parsedQuery=parse(query||"")}catch(e){parsedQuery={}}for(var key in extraQuery){var value=extraQuery[key];parsedQuery[key]=Array.isArray(value)?value.map(castQueryParamValue):castQueryParamValue(value)}return parsedQuery}(parsedPath.query,next.query,router&&router.options.parseQuery),hash=next.hash||parsedPath.hash;return hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),{_normalized:!0,path:path,query:query,hash:hash}}var _Vue,vue_router_esm_noop=function(){},Link={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(h){var this$1$1=this,router=this.$router,current=this.$route,ref=router.resolve(this.to,current,this.append),location=ref.location,route=ref.route,href=ref.href,classes={},globalActiveClass=router.options.linkActiveClass,globalExactActiveClass=router.options.linkExactActiveClass,activeClassFallback=null==globalActiveClass?"router-link-active":globalActiveClass,exactActiveClassFallback=null==globalExactActiveClass?"router-link-exact-active":globalExactActiveClass,activeClass=null==this.activeClass?activeClassFallback:this.activeClass,exactActiveClass=null==this.exactActiveClass?exactActiveClassFallback:this.exactActiveClass,compareTarget=route.redirectedFrom?createRoute(null,normalizeLocation(route.redirectedFrom),null,router):route;classes[exactActiveClass]=isSameRoute(current,compareTarget,this.exactPath),classes[activeClass]=this.exact||this.exactPath?classes[exactActiveClass]:function(current,target){return 0===current.path.replace(trailingSlashRE,"/").indexOf(target.path.replace(trailingSlashRE,"/"))&&(!target.hash||current.hash===target.hash)&&function(current,target){for(var key in target)if(!(key in current))return!1;return!0}(current.query,target.query)}(current,compareTarget);var ariaCurrentValue=classes[exactActiveClass]?this.ariaCurrentValue:null,handler=function(e){guardEvent(e)&&(this$1$1.replace?router.replace(location,vue_router_esm_noop):router.push(location,vue_router_esm_noop))},on={click:guardEvent};Array.isArray(this.event)?this.event.forEach((function(e){on[e]=handler})):on[this.event]=handler;var data={class:classes},scopedSlot=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:href,route:route,navigate:handler,isActive:classes[activeClass],isExactActive:classes[exactActiveClass]});if(scopedSlot){if(1===scopedSlot.length)return scopedSlot[0];if(scopedSlot.length>1||!scopedSlot.length)return 0===scopedSlot.length?h():h("span",{},scopedSlot)}if("a"===this.tag)data.on=on,data.attrs={href:href,"aria-current":ariaCurrentValue};else{var a=findAnchor(this.$slots.default);if(a){a.isStatic=!1;var aData=a.data=extend({},a.data);for(var event in aData.on=aData.on||{},aData.on){var handler$1=aData.on[event];event in on&&(aData.on[event]=Array.isArray(handler$1)?handler$1:[handler$1])}for(var event$1 in on)event$1 in aData.on?aData.on[event$1].push(on[event$1]):aData.on[event$1]=handler;var aAttrs=a.data.attrs=extend({},a.data.attrs);aAttrs.href=href,aAttrs["aria-current"]=ariaCurrentValue}else data.on=on}return h(this.tag,data,this.$slots.default)}};function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var target=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(target))return}return e.preventDefault&&e.preventDefault(),!0}}function findAnchor(children){if(children)for(var child,i=0;i<children.length;i++){if("a"===(child=children[i]).tag)return child;if(child.children&&(child=findAnchor(child.children)))return child}}var inBrowser="undefined"!=typeof window;function createRouteMap(routes,oldPathList,oldPathMap,oldNameMap,parentRoute){var pathList=oldPathList||[],pathMap=oldPathMap||Object.create(null),nameMap=oldNameMap||Object.create(null);routes.forEach((function(route){addRouteRecord(pathList,pathMap,nameMap,route,parentRoute)}));for(var i=0,l=pathList.length;i<l;i++)"*"===pathList[i]&&(pathList.push(pathList.splice(i,1)[0]),l--,i--);return{pathList:pathList,pathMap:pathMap,nameMap:nameMap}}function addRouteRecord(pathList,pathMap,nameMap,route,parent,matchAs){var path=route.path,name=route.name;var pathToRegexpOptions=route.pathToRegexpOptions||{},normalizedPath=function(path,parent,strict){strict||(path=path.replace(/\/$/,""));if("/"===path[0])return path;if(null==parent)return path;return cleanPath(parent.path+"/"+path)}(path,parent,pathToRegexpOptions.strict);"boolean"==typeof route.caseSensitive&&(pathToRegexpOptions.sensitive=route.caseSensitive);var record={path:normalizedPath,regex:compileRouteRegex(normalizedPath,pathToRegexpOptions),components:route.components||{default:route.component},alias:route.alias?"string"==typeof route.alias?[route.alias]:route.alias:[],instances:{},enteredCbs:{},name:name,parent:parent,matchAs:matchAs,redirect:route.redirect,beforeEnter:route.beforeEnter,meta:route.meta||{},props:null==route.props?{}:route.components?route.props:{default:route.props}};if(route.children&&route.children.forEach((function(child){var childMatchAs=matchAs?cleanPath(matchAs+"/"+child.path):void 0;addRouteRecord(pathList,pathMap,nameMap,child,record,childMatchAs)})),pathMap[record.path]||(pathList.push(record.path),pathMap[record.path]=record),void 0!==route.alias)for(var aliases=Array.isArray(route.alias)?route.alias:[route.alias],i=0;i<aliases.length;++i){0;var aliasRoute={path:aliases[i],children:route.children};addRouteRecord(pathList,pathMap,nameMap,aliasRoute,parent,record.path||"/")}name&&(nameMap[name]||(nameMap[name]=record))}function compileRouteRegex(path,pathToRegexpOptions){return pathToRegexp_1(path,[],pathToRegexpOptions)}function createMatcher(routes,router){var ref=createRouteMap(routes),pathList=ref.pathList,pathMap=ref.pathMap,nameMap=ref.nameMap;function match(raw,currentRoute,redirectedFrom){var location=normalizeLocation(raw,currentRoute,!1,router),name=location.name;if(name){var record=nameMap[name];if(!record)return _createRoute(null,location);var paramNames=record.regex.keys.filter((function(key){return!key.optional})).map((function(key){return key.name}));if("object"!==vue_router_esm_typeof(location.params)&&(location.params={}),currentRoute&&"object"===vue_router_esm_typeof(currentRoute.params))for(var key in currentRoute.params)!(key in location.params)&&paramNames.indexOf(key)>-1&&(location.params[key]=currentRoute.params[key]);return location.path=fillParams(record.path,location.params),_createRoute(record,location,redirectedFrom)}if(location.path){location.params={};for(var i=0;i<pathList.length;i++){var path=pathList[i],record$1=pathMap[path];if(matchRoute(record$1.regex,location.path,location.params))return _createRoute(record$1,location,redirectedFrom)}}return _createRoute(null,location)}function redirect(record,location){var originalRedirect=record.redirect,redirect="function"==typeof originalRedirect?originalRedirect(createRoute(record,location,null,router)):originalRedirect;if("string"==typeof redirect&&(redirect={path:redirect}),!redirect||"object"!==vue_router_esm_typeof(redirect))return _createRoute(null,location);var re=redirect,name=re.name,path=re.path,query=location.query,hash=location.hash,params=location.params;if(query=re.hasOwnProperty("query")?re.query:query,hash=re.hasOwnProperty("hash")?re.hash:hash,params=re.hasOwnProperty("params")?re.params:params,name){nameMap[name];return match({_normalized:!0,name:name,query:query,hash:hash,params:params},void 0,location)}if(path){var rawPath=function(path,record){return resolvePath(path,record.parent?record.parent.path:"/",!0)}(path,record);return match({_normalized:!0,path:fillParams(rawPath,params),query:query,hash:hash},void 0,location)}return _createRoute(null,location)}function _createRoute(record,location,redirectedFrom){return record&&record.redirect?redirect(record,redirectedFrom||location):record&&record.matchAs?function(record,location,matchAs){var aliasedMatch=match({_normalized:!0,path:fillParams(matchAs,location.params)});if(aliasedMatch){var matched=aliasedMatch.matched,aliasedRecord=matched[matched.length-1];return location.params=aliasedMatch.params,_createRoute(aliasedRecord,location)}return _createRoute(null,location)}(0,location,record.matchAs):createRoute(record,location,redirectedFrom,router)}return{match:match,addRoute:function(parentOrRoute,route){var parent="object"!==vue_router_esm_typeof(parentOrRoute)?nameMap[parentOrRoute]:void 0;createRouteMap([route||parentOrRoute],pathList,pathMap,nameMap,parent),parent&&parent.alias.length&&createRouteMap(parent.alias.map((function(alias){return{path:alias,children:[route]}})),pathList,pathMap,nameMap,parent)},getRoutes:function(){return pathList.map((function(path){return pathMap[path]}))},addRoutes:function(routes){createRouteMap(routes,pathList,pathMap,nameMap)}}}function matchRoute(regex,path,params){var m=path.match(regex);if(!m)return!1;if(!params)return!0;for(var i=1,len=m.length;i<len;++i){var key=regex.keys[i-1];key&&(params[key.name||"pathMatch"]="string"==typeof m[i]?decode(m[i]):m[i])}return!0}var Time=inBrowser&&window.performance&&window.performance.now?window.performance:Date;function genStateKey(){return Time.now().toFixed(3)}var _key=genStateKey();function getStateKey(){return _key}function setStateKey(key){return _key=key}var positionStore=Object.create(null);function setupScroll(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var protocolAndPath=window.location.protocol+"//"+window.location.host,absolutePath=window.location.href.replace(protocolAndPath,""),stateCopy=extend({},window.history.state);return stateCopy.key=getStateKey(),window.history.replaceState(stateCopy,"",absolutePath),window.addEventListener("popstate",handlePopState),function(){window.removeEventListener("popstate",handlePopState)}}function handleScroll(router,to,from,isPop){if(router.app){var behavior=router.options.scrollBehavior;behavior&&router.app.$nextTick((function(){var position=function(){var key=getStateKey();if(key)return positionStore[key]}(),shouldScroll=behavior.call(router,to,from,isPop?position:null);shouldScroll&&("function"==typeof shouldScroll.then?shouldScroll.then((function(shouldScroll){scrollToPosition(shouldScroll,position)})).catch((function(err){0})):scrollToPosition(shouldScroll,position))}))}}function saveScrollPosition(){var key=getStateKey();key&&(positionStore[key]={x:window.pageXOffset,y:window.pageYOffset})}function handlePopState(e){saveScrollPosition(),e.state&&e.state.key&&setStateKey(e.state.key)}function isValidPosition(obj){return vue_router_esm_isNumber(obj.x)||vue_router_esm_isNumber(obj.y)}function normalizePosition(obj){return{x:vue_router_esm_isNumber(obj.x)?obj.x:window.pageXOffset,y:vue_router_esm_isNumber(obj.y)?obj.y:window.pageYOffset}}function vue_router_esm_isNumber(v){return"number"==typeof v}var hashStartsWithNumberRE=/^#\d/;function scrollToPosition(shouldScroll,position){var obj,isObject="object"===vue_router_esm_typeof(shouldScroll);if(isObject&&"string"==typeof shouldScroll.selector){var el=hashStartsWithNumberRE.test(shouldScroll.selector)?document.getElementById(shouldScroll.selector.slice(1)):document.querySelector(shouldScroll.selector);if(el){var offset=shouldScroll.offset&&"object"===vue_router_esm_typeof(shouldScroll.offset)?shouldScroll.offset:{};position=function(el,offset){var docRect=document.documentElement.getBoundingClientRect(),elRect=el.getBoundingClientRect();return{x:elRect.left-docRect.left-offset.x,y:elRect.top-docRect.top-offset.y}}(el,offset={x:vue_router_esm_isNumber((obj=offset).x)?obj.x:0,y:vue_router_esm_isNumber(obj.y)?obj.y:0})}else isValidPosition(shouldScroll)&&(position=normalizePosition(shouldScroll))}else isObject&&isValidPosition(shouldScroll)&&(position=normalizePosition(shouldScroll));position&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:position.x,top:position.y,behavior:shouldScroll.behavior}):window.scrollTo(position.x,position.y))}var ua,supportsPushState=inBrowser&&((-1===(ua=window.navigator.userAgent).indexOf("Android 2.")&&-1===ua.indexOf("Android 4.0")||-1===ua.indexOf("Mobile Safari")||-1!==ua.indexOf("Chrome")||-1!==ua.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function pushState(url,replace){saveScrollPosition();var history=window.history;try{if(replace){var stateCopy=extend({},history.state);stateCopy.key=getStateKey(),history.replaceState(stateCopy,"",url)}else history.pushState({key:setStateKey(genStateKey())},"",url)}catch(e){window.location[replace?"replace":"assign"](url)}}function replaceState(url){pushState(url,!0)}var NavigationFailureType={redirected:2,aborted:4,cancelled:8,duplicated:16};function createNavigationRedirectedError(from,to){return createRouterError(from,to,NavigationFailureType.redirected,'Redirected when going from "'+from.fullPath+'" to "'+function(to){if("string"==typeof to)return to;if("path"in to)return to.path;var location={};return propertiesToLog.forEach((function(key){key in to&&(location[key]=to[key])})),JSON.stringify(location,null,2)}(to)+'" via a navigation guard.')}function createNavigationCancelledError(from,to){return createRouterError(from,to,NavigationFailureType.cancelled,'Navigation cancelled from "'+from.fullPath+'" to "'+to.fullPath+'" with a new navigation.')}function createRouterError(from,to,type,message){var error=new Error(message);return error._isRouter=!0,error.from=from,error.to=to,error.type=type,error}var propertiesToLog=["params","query","hash"];function isError(err){return Object.prototype.toString.call(err).indexOf("Error")>-1}function isNavigationFailure(err,errorType){return isError(err)&&err._isRouter&&(null==errorType||err.type===errorType)}function runQueue(queue,fn,cb){!function step(index){index>=queue.length?cb():queue[index]?fn(queue[index],(function(){step(index+1)})):step(index+1)}(0)}function resolveAsyncComponents(matched){return function(to,from,next){var hasAsync=!1,pending=0,error=null;flatMapComponents(matched,(function(def,_,match,key){if("function"==typeof def&&void 0===def.cid){hasAsync=!0,pending++;var res,resolve=once((function(resolvedDef){var obj;((obj=resolvedDef).__esModule||hasSymbol&&"Module"===obj[Symbol.toStringTag])&&(resolvedDef=resolvedDef.default),def.resolved="function"==typeof resolvedDef?resolvedDef:_Vue.extend(resolvedDef),match.components[key]=resolvedDef,--pending<=0&&next()})),reject=once((function(reason){var msg="Failed to resolve async component "+key+": "+reason;error||(error=isError(reason)?reason:new Error(msg),next(error))}));try{res=def(resolve,reject)}catch(e){reject(e)}if(res)if("function"==typeof res.then)res.then(resolve,reject);else{var comp=res.component;comp&&"function"==typeof comp.then&&comp.then(resolve,reject)}}})),hasAsync||next()}}function flatMapComponents(matched,fn){return flatten(matched.map((function(m){return Object.keys(m.components).map((function(key){return fn(m.components[key],m.instances[key],m,key)}))})))}function flatten(arr){return Array.prototype.concat.apply([],arr)}var hasSymbol="function"==typeof Symbol&&"symbol"===vue_router_esm_typeof(Symbol.toStringTag);function once(fn){var called=!1;return function(){for(var args=[],len=arguments.length;len--;)args[len]=arguments[len];if(!called)return called=!0,fn.apply(this,args)}}var History=function(router,base){this.router=router,this.base=function(base){if(!base)if(inBrowser){var baseEl=document.querySelector("base");base=(base=baseEl&&baseEl.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else base="/";"/"!==base.charAt(0)&&(base="/"+base);return base.replace(/\/$/,"")}(base),this.current=START,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function extractGuards(records,name,bind,reverse){var guards=flatMapComponents(records,(function(def,instance,match,key){var guard=function(def,key){"function"!=typeof def&&(def=_Vue.extend(def));return def.options[key]}(def,name);if(guard)return Array.isArray(guard)?guard.map((function(guard){return bind(guard,instance,match,key)})):bind(guard,instance,match,key)}));return flatten(reverse?guards.reverse():guards)}function bindGuard(guard,instance){if(instance)return function(){return guard.apply(instance,arguments)}}History.prototype.listen=function(cb){this.cb=cb},History.prototype.onReady=function(cb,errorCb){this.ready?cb():(this.readyCbs.push(cb),errorCb&&this.readyErrorCbs.push(errorCb))},History.prototype.onError=function(errorCb){this.errorCbs.push(errorCb)},History.prototype.transitionTo=function(location,onComplete,onAbort){var route,this$1$1=this;try{route=this.router.match(location,this.current)}catch(e){throw this.errorCbs.forEach((function(cb){cb(e)})),e}var prev=this.current;this.confirmTransition(route,(function(){this$1$1.updateRoute(route),onComplete&&onComplete(route),this$1$1.ensureURL(),this$1$1.router.afterHooks.forEach((function(hook){hook&&hook(route,prev)})),this$1$1.ready||(this$1$1.ready=!0,this$1$1.readyCbs.forEach((function(cb){cb(route)})))}),(function(err){onAbort&&onAbort(err),err&&!this$1$1.ready&&(isNavigationFailure(err,NavigationFailureType.redirected)&&prev===START||(this$1$1.ready=!0,this$1$1.readyErrorCbs.forEach((function(cb){cb(err)}))))}))},History.prototype.confirmTransition=function(route,onComplete,onAbort){var this$1$1=this,current=this.current;this.pending=route;var abort=function(err){!isNavigationFailure(err)&&isError(err)&&(this$1$1.errorCbs.length?this$1$1.errorCbs.forEach((function(cb){cb(err)})):console.error(err)),onAbort&&onAbort(err)},lastRouteIndex=route.matched.length-1,lastCurrentIndex=current.matched.length-1;if(isSameRoute(route,current)&&lastRouteIndex===lastCurrentIndex&&route.matched[lastRouteIndex]===current.matched[lastCurrentIndex])return this.ensureURL(),route.hash&&handleScroll(this.router,current,route,!1),abort(function(from,to){var error=createRouterError(from,to,NavigationFailureType.duplicated,'Avoided redundant navigation to current location: "'+from.fullPath+'".');return error.name="NavigationDuplicated",error}(current,route));var ref=function(current,next){var i,max=Math.max(current.length,next.length);for(i=0;i<max&&current[i]===next[i];i++);return{updated:next.slice(0,i),activated:next.slice(i),deactivated:current.slice(i)}}(this.current.matched,route.matched),updated=ref.updated,deactivated=ref.deactivated,activated=ref.activated,queue=[].concat(function(deactivated){return extractGuards(deactivated,"beforeRouteLeave",bindGuard,!0)}(deactivated),this.router.beforeHooks,function(updated){return extractGuards(updated,"beforeRouteUpdate",bindGuard)}(updated),activated.map((function(m){return m.beforeEnter})),resolveAsyncComponents(activated)),iterator=function(hook,next){if(this$1$1.pending!==route)return abort(createNavigationCancelledError(current,route));try{hook(route,current,(function(to){!1===to?(this$1$1.ensureURL(!0),abort(function(from,to){return createRouterError(from,to,NavigationFailureType.aborted,'Navigation aborted from "'+from.fullPath+'" to "'+to.fullPath+'" via a navigation guard.')}(current,route))):isError(to)?(this$1$1.ensureURL(!0),abort(to)):"string"==typeof to||"object"===vue_router_esm_typeof(to)&&("string"==typeof to.path||"string"==typeof to.name)?(abort(createNavigationRedirectedError(current,route)),"object"===vue_router_esm_typeof(to)&&to.replace?this$1$1.replace(to):this$1$1.push(to)):next(to)}))}catch(e){abort(e)}};runQueue(queue,iterator,(function(){var enterGuards=function(activated){return extractGuards(activated,"beforeRouteEnter",(function(guard,_,match,key){return function(guard,match,key){return function(to,from,next){return guard(to,from,(function(cb){"function"==typeof cb&&(match.enteredCbs[key]||(match.enteredCbs[key]=[]),match.enteredCbs[key].push(cb)),next(cb)}))}}(guard,match,key)}))}(activated);runQueue(enterGuards.concat(this$1$1.router.resolveHooks),iterator,(function(){if(this$1$1.pending!==route)return abort(createNavigationCancelledError(current,route));this$1$1.pending=null,onComplete(route),this$1$1.router.app&&this$1$1.router.app.$nextTick((function(){handleRouteEntered(route)}))}))}))},History.prototype.updateRoute=function(route){this.current=route,this.cb&&this.cb(route)},History.prototype.setupListeners=function(){},History.prototype.teardown=function(){this.listeners.forEach((function(cleanupListener){cleanupListener()})),this.listeners=[],this.current=START,this.pending=null};var HTML5History=function(History){function HTML5History(router,base){History.call(this,router,base),this._startLocation=getLocation(this.base)}return History&&(HTML5History.__proto__=History),HTML5History.prototype=Object.create(History&&History.prototype),HTML5History.prototype.constructor=HTML5History,HTML5History.prototype.setupListeners=function(){var this$1$1=this;if(!(this.listeners.length>0)){var router=this.router,expectScroll=router.options.scrollBehavior,supportsScroll=supportsPushState&&expectScroll;supportsScroll&&this.listeners.push(setupScroll());var handleRoutingEvent=function(){var current=this$1$1.current,location=getLocation(this$1$1.base);this$1$1.current===START&&location===this$1$1._startLocation||this$1$1.transitionTo(location,(function(route){supportsScroll&&handleScroll(router,route,current,!0)}))};window.addEventListener("popstate",handleRoutingEvent),this.listeners.push((function(){window.removeEventListener("popstate",handleRoutingEvent)}))}},HTML5History.prototype.go=function(n){window.history.go(n)},HTML5History.prototype.push=function(location,onComplete,onAbort){var this$1$1=this,fromRoute=this.current;this.transitionTo(location,(function(route){pushState(cleanPath(this$1$1.base+route.fullPath)),handleScroll(this$1$1.router,route,fromRoute,!1),onComplete&&onComplete(route)}),onAbort)},HTML5History.prototype.replace=function(location,onComplete,onAbort){var this$1$1=this,fromRoute=this.current;this.transitionTo(location,(function(route){replaceState(cleanPath(this$1$1.base+route.fullPath)),handleScroll(this$1$1.router,route,fromRoute,!1),onComplete&&onComplete(route)}),onAbort)},HTML5History.prototype.ensureURL=function(push){if(getLocation(this.base)!==this.current.fullPath){var current=cleanPath(this.base+this.current.fullPath);push?pushState(current):replaceState(current)}},HTML5History.prototype.getCurrentLocation=function(){return getLocation(this.base)},HTML5History}(History);function getLocation(base){var path=window.location.pathname,pathLowerCase=path.toLowerCase(),baseLowerCase=base.toLowerCase();return!base||pathLowerCase!==baseLowerCase&&0!==pathLowerCase.indexOf(cleanPath(baseLowerCase+"/"))||(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash}var HashHistory=function(History){function HashHistory(router,base,fallback){History.call(this,router,base),fallback&&function(base){var location=getLocation(base);if(!/^\/#/.test(location))return window.location.replace(cleanPath(base+"/#"+location)),!0}(this.base)||ensureSlash()}return History&&(HashHistory.__proto__=History),HashHistory.prototype=Object.create(History&&History.prototype),HashHistory.prototype.constructor=HashHistory,HashHistory.prototype.setupListeners=function(){var this$1$1=this;if(!(this.listeners.length>0)){var expectScroll=this.router.options.scrollBehavior,supportsScroll=supportsPushState&&expectScroll;supportsScroll&&this.listeners.push(setupScroll());var handleRoutingEvent=function(){var current=this$1$1.current;ensureSlash()&&this$1$1.transitionTo(getHash(),(function(route){supportsScroll&&handleScroll(this$1$1.router,route,current,!0),supportsPushState||replaceHash(route.fullPath)}))},eventType=supportsPushState?"popstate":"hashchange";window.addEventListener(eventType,handleRoutingEvent),this.listeners.push((function(){window.removeEventListener(eventType,handleRoutingEvent)}))}},HashHistory.prototype.push=function(location,onComplete,onAbort){var this$1$1=this,fromRoute=this.current;this.transitionTo(location,(function(route){pushHash(route.fullPath),handleScroll(this$1$1.router,route,fromRoute,!1),onComplete&&onComplete(route)}),onAbort)},HashHistory.prototype.replace=function(location,onComplete,onAbort){var this$1$1=this,fromRoute=this.current;this.transitionTo(location,(function(route){replaceHash(route.fullPath),handleScroll(this$1$1.router,route,fromRoute,!1),onComplete&&onComplete(route)}),onAbort)},HashHistory.prototype.go=function(n){window.history.go(n)},HashHistory.prototype.ensureURL=function(push){var current=this.current.fullPath;getHash()!==current&&(push?pushHash(current):replaceHash(current))},HashHistory.prototype.getCurrentLocation=function(){return getHash()},HashHistory}(History);function ensureSlash(){var path=getHash();return"/"===path.charAt(0)||(replaceHash("/"+path),!1)}function getHash(){var href=window.location.href,index=href.indexOf("#");return index<0?"":href=href.slice(index+1)}function getUrl(path){var href=window.location.href,i=href.indexOf("#");return(i>=0?href.slice(0,i):href)+"#"+path}function pushHash(path){supportsPushState?pushState(getUrl(path)):window.location.hash=path}function replaceHash(path){supportsPushState?replaceState(getUrl(path)):window.location.replace(getUrl(path))}var AbstractHistory=function(History){function AbstractHistory(router,base){History.call(this,router,base),this.stack=[],this.index=-1}return History&&(AbstractHistory.__proto__=History),AbstractHistory.prototype=Object.create(History&&History.prototype),AbstractHistory.prototype.constructor=AbstractHistory,AbstractHistory.prototype.push=function(location,onComplete,onAbort){var this$1$1=this;this.transitionTo(location,(function(route){this$1$1.stack=this$1$1.stack.slice(0,this$1$1.index+1).concat(route),this$1$1.index++,onComplete&&onComplete(route)}),onAbort)},AbstractHistory.prototype.replace=function(location,onComplete,onAbort){var this$1$1=this;this.transitionTo(location,(function(route){this$1$1.stack=this$1$1.stack.slice(0,this$1$1.index).concat(route),onComplete&&onComplete(route)}),onAbort)},AbstractHistory.prototype.go=function(n){var this$1$1=this,targetIndex=this.index+n;if(!(targetIndex<0||targetIndex>=this.stack.length)){var route=this.stack[targetIndex];this.confirmTransition(route,(function(){var prev=this$1$1.current;this$1$1.index=targetIndex,this$1$1.updateRoute(route),this$1$1.router.afterHooks.forEach((function(hook){hook&&hook(route,prev)}))}),(function(err){isNavigationFailure(err,NavigationFailureType.duplicated)&&(this$1$1.index=targetIndex)}))}},AbstractHistory.prototype.getCurrentLocation=function(){var current=this.stack[this.stack.length-1];return current?current.fullPath:"/"},AbstractHistory.prototype.ensureURL=function(){},AbstractHistory}(History),VueRouter=function(options){void 0===options&&(options={}),this.app=null,this.apps=[],this.options=options,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=createMatcher(options.routes||[],this);var mode=options.mode||"hash";switch(this.fallback="history"===mode&&!supportsPushState&&!1!==options.fallback,this.fallback&&(mode="hash"),inBrowser||(mode="abstract"),this.mode=mode,mode){case"history":this.history=new HTML5History(this,options.base);break;case"hash":this.history=new HashHistory(this,options.base,this.fallback);break;case"abstract":this.history=new AbstractHistory(this,options.base)}},prototypeAccessors={currentRoute:{configurable:!0}};VueRouter.prototype.match=function(raw,current,redirectedFrom){return this.matcher.match(raw,current,redirectedFrom)},prototypeAccessors.currentRoute.get=function(){return this.history&&this.history.current},VueRouter.prototype.init=function(app){var this$1$1=this;if(this.apps.push(app),app.$once("hook:destroyed",(function(){var index=this$1$1.apps.indexOf(app);index>-1&&this$1$1.apps.splice(index,1),this$1$1.app===app&&(this$1$1.app=this$1$1.apps[0]||null),this$1$1.app||this$1$1.history.teardown()})),!this.app){this.app=app;var history=this.history;if(history instanceof HTML5History||history instanceof HashHistory){var setupListeners=function(routeOrError){history.setupListeners(),function(routeOrError){var from=history.current,expectScroll=this$1$1.options.scrollBehavior;supportsPushState&&expectScroll&&"fullPath"in routeOrError&&handleScroll(this$1$1,routeOrError,from,!1)}(routeOrError)};history.transitionTo(history.getCurrentLocation(),setupListeners,setupListeners)}history.listen((function(route){this$1$1.apps.forEach((function(app){app._route=route}))}))}},VueRouter.prototype.beforeEach=function(fn){return registerHook(this.beforeHooks,fn)},VueRouter.prototype.beforeResolve=function(fn){return registerHook(this.resolveHooks,fn)},VueRouter.prototype.afterEach=function(fn){return registerHook(this.afterHooks,fn)},VueRouter.prototype.onReady=function(cb,errorCb){this.history.onReady(cb,errorCb)},VueRouter.prototype.onError=function(errorCb){this.history.onError(errorCb)},VueRouter.prototype.push=function(location,onComplete,onAbort){var this$1$1=this;if(!onComplete&&!onAbort&&"undefined"!=typeof Promise)return new Promise((function(resolve,reject){this$1$1.history.push(location,resolve,reject)}));this.history.push(location,onComplete,onAbort)},VueRouter.prototype.replace=function(location,onComplete,onAbort){var this$1$1=this;if(!onComplete&&!onAbort&&"undefined"!=typeof Promise)return new Promise((function(resolve,reject){this$1$1.history.replace(location,resolve,reject)}));this.history.replace(location,onComplete,onAbort)},VueRouter.prototype.go=function(n){this.history.go(n)},VueRouter.prototype.back=function(){this.go(-1)},VueRouter.prototype.forward=function(){this.go(1)},VueRouter.prototype.getMatchedComponents=function(to){var route=to?to.matched?to:this.resolve(to).route:this.currentRoute;return route?[].concat.apply([],route.matched.map((function(m){return Object.keys(m.components).map((function(key){return m.components[key]}))}))):[]},VueRouter.prototype.resolve=function(to,current,append){var location=normalizeLocation(to,current=current||this.history.current,append,this),route=this.match(location,current),fullPath=route.redirectedFrom||route.fullPath,href=function(base,fullPath,mode){var path="hash"===mode?"#"+fullPath:fullPath;return base?cleanPath(base+"/"+path):path}(this.history.base,fullPath,this.mode);return{location:location,route:route,href:href,normalizedTo:location,resolved:route}},VueRouter.prototype.getRoutes=function(){return this.matcher.getRoutes()},VueRouter.prototype.addRoute=function(parentOrRoute,route){this.matcher.addRoute(parentOrRoute,route),this.history.current!==START&&this.history.transitionTo(this.history.getCurrentLocation())},VueRouter.prototype.addRoutes=function(routes){this.matcher.addRoutes(routes),this.history.current!==START&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(VueRouter.prototype,prototypeAccessors);var VueRouter$1=VueRouter;function registerHook(list,fn){return list.push(fn),function(){var i=list.indexOf(fn);i>-1&&list.splice(i,1)}}VueRouter.install=function vue_router_esm_install(Vue){if(!vue_router_esm_install.installed||_Vue!==Vue){vue_router_esm_install.installed=!0,_Vue=Vue;var isDef=function(v){return void 0!==v},registerInstance=function(vm,callVal){var i=vm.$options._parentVnode;isDef(i)&&isDef(i=i.data)&&isDef(i=i.registerRouteInstance)&&i(vm,callVal)};Vue.mixin({beforeCreate:function(){isDef(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),Vue.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,registerInstance(this,this)},destroyed:function(){registerInstance(this)}}),Object.defineProperty(Vue.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(Vue.prototype,"$route",{get:function(){return this._routerRoot._route}}),Vue.component("RouterView",View),Vue.component("RouterLink",Link);var strats=Vue.config.optionMergeStrategies;strats.beforeRouteEnter=strats.beforeRouteLeave=strats.beforeRouteUpdate=strats.created}},VueRouter.version="3.6.5",VueRouter.isNavigationFailure=isNavigationFailure,VueRouter.NavigationFailureType=NavigationFailureType,VueRouter.START_LOCATION=START,inBrowser&&window.Vue&&window.Vue.use(VueRouter);var ManageSyncSchedulevue_type_template_id_191b090e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{appBarTitle:_vm.$tr("syncSchedules"),route:_vm.goBackRoute}},[_c("KPageContainer",[_c("KGrid",{attrs:{gutter:"48"}},[_c("KGridItem",[_c("h1",[_vm._v(_vm._s(_vm.$tr("syncSchedules")))])]),_c("KGridItem",[_c("p",[_vm._v(_vm._s(_vm.$tr("introduction")))])]),_c("KGridItem",{staticClass:"separate",attrs:{layout8:{span:4},layout12:{span:6}}},[_vm.facility?_c("b",[_vm._v(_vm._s(_vm.facility.name))]):_c("KCircularLoader")],1),_c("KGridItem",{staticClass:"separate",attrs:{layout:{alignment:"right"},layout8:{span:4},layout12:{span:6}}},[_c("KButton",{on:{click:function($event){_vm.deviceModal=!0}}},[_vm._v("\n          "+_vm._s(_vm.$tr("addDevice"))+"\n        ")])],1)],1),_c("CoreTable",{scopedSlots:_vm._u([{key:"tbody",fn:function(){return[_vm.scheduledTasks.length>0?_c("tbody",[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.coreString("deviceNameLabel")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("Schedule")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("statusLabel")))]),_c("th")]),_vm._l(_vm.scheduledTasks,(function(task){return _c("tr",{key:task.id},[_c("td",[_c("span",[_vm._v(_vm._s(task.deviceName)),_c("br"),_vm._v("\n                "+_vm._s(task.extra_metadata.baseurl)+"\n              ")])]),_c("td",[_c("div",[_vm._v("\n                "+_vm._s(_vm.scheduleTime(task.repeat_interval,task.scheduled_datetime))+"\n              ")])]),_c("td",[task.deviceAvailable?_c("span",[_c("KIcon",{attrs:{icon:"onDevice"}}),_c("span",[_vm._v(_vm._s(_vm.$tr("connected")))])],1):task.isKDP?_c("KEmptyPlaceholder"):_c("span",[_c("KIcon",{attrs:{icon:"disconnected"}}),_c("span",[_vm._v(_vm._s(_vm.$tr("disconnected")))])],1)],1),_c("td",[_c("KButton",{staticClass:"right",on:{click:function($event){return _vm.editButton(task)}}},[_vm._v("\n                "+_vm._s(_vm.coreString("editAction"))+"\n              ")])],1)])}))],2):_c("tbody",[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.coreString("deviceNameLabel")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("Schedule")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("statusLabel")))]),_c("th")]),_c("tr",[_c("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[_c("b",[_vm._v(_vm._s(_vm.$tr("NoSync")))])])])])]},proxy:!0}])}),_vm.deviceModal?_c("SyncFacilityModalGroup",{attrs:{facilityForSync:_vm.facility},on:{close:_vm.closeModal,syncKDP:_vm.handleKDPSync,syncPeer:_vm.handlePeerSync}}):_vm._e()],1)],1)};ManageSyncSchedulevue_type_template_id_191b090e_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_namespaceObject=kolibriCoreAppGlobal.coreVue.components.ImmersivePage,external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_CoreTable_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreTable,external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreTable_namespaceObject),external_kolibriCoreAppGlobal_resources_namespaceObject=kolibriCoreAppGlobal.resources,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.commonSyncElements,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_namespaceObject),external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject=kolibriCoreAppGlobal.coreVue.componentSets.sync,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject=kolibriCoreAppGlobal.utils.syncTaskUtils,SyncPageNames_MANAGE_SYNC_SCHEDULE="MANAGE_SYNC_SCHEDULE",SyncPageNames_EDIT_SYNC_SCHEDULE="EDIT_SYNC_SCHEDULE",KDP_ID="kolibri-data-portal",external_kolibriCoreAppGlobal_utils_i18n_namespaceObject=kolibriCoreAppGlobal.utils.i18n,kdpNameTranslator=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("PrivacyModal",{syncToKDP:{message:"Kolibri Data Portal",context:"If the Kolibri facility is part of a larger organization that tracks data on the Kolibri Data Portal, the user receives a project token to sync the facility data with servers operated by Learning Equality in the cloud."}});function ManageSyncSchedulevue_type_script_lang_js_typeof(o){return ManageSyncSchedulevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ManageSyncSchedulevue_type_script_lang_js_typeof(o)}function ManageSyncSchedulevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ManageSyncSchedulevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ManageSyncSchedulevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ManageSyncSchedulevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ManageSyncSchedulevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ManageSyncSchedulevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ManageSyncSchedulevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ManageSyncSchedulevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ManageSyncSchedulevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ManageSyncSchedulevue_type_script_lang_js={name:"ManageSyncSchedule",components:{ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default(),SyncFacilityModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.SyncFacilityModalGroup},extends:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],setup:function(props){var deviceFilter=(0,external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.useDeviceFacilityFilter)({id:props.facilityId}),devices=(0,external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.useDevicesWithFilter)({subset_of_users_device:!1},deviceFilter).devices,devicesById=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return devices.value.reduce((function(acc,device){return acc[device.id]=device,acc}),ManageSyncSchedulevue_type_script_lang_js_defineProperty({},KDP_ID,{device_id:KDP_ID,device_name:kdpNameTranslator.$tr("syncToKDP"),base_url:""}))}));return{devices:devices,devicesById:devicesById}},props:{facilityId:{type:String,required:!0},goBackRoute:{type:Object,required:!0},editSyncRoute:{type:Function,required:!0}},data:function(){return{deviceModal:!1,facility:null,facilitySyncTasks:[]}},computed:{scheduledTasks:function(){var _this=this;return this.facilitySyncTasks.map((function(task){var deviceName=_this.devicesById[_this.getDeviceId(task)]?_this.devicesById[_this.getDeviceId(task)].device_name:task.extra_metadata.device_name,deviceAvailable=_this.devicesById[task.extra_metadata.device_id]&&_this.devicesById[task.extra_metadata.device_id].available,isKDP=task.type===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.SYNCDATAPORTAL;return ManageSyncSchedulevue_type_script_lang_js_objectSpread(ManageSyncSchedulevue_type_script_lang_js_objectSpread({},task),{},{deviceName:deviceName,deviceAvailable:deviceAvailable,isKDP:isKDP})}))}},beforeMount:function(){this.pollFacilityTasks(),this.fetchFacility()},methods:{fetchFacility:function(){var _this2=this;external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityResource.fetchModel({id:this.facilityId,force:!0}).then((function(facility){_this2.facility=ManageSyncSchedulevue_type_script_lang_js_objectSpread({},facility)}))},pollFacilityTasks:function(){var _this3=this;external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.list({queue:"facility_task"}).then((function(tasks){_this3.facilitySyncTasks=tasks.filter((function(t){return t.facility_id===_this3.facilityId&&null===t.repeat&&(t.type===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.SYNCDATAPORTAL||t.type===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.SYNCPEERFULL)})),_this3.isPolling&&setTimeout((function(){return _this3.pollFacilityTasks()}),2e3)}))},closeModal:function(){this.deviceModal=!1},handlePeerSync:function(device){this.deviceModal=!1,device.id&&this.$router.push(this.editSyncRoute(device.id))},handleKDPSync:function(){this.deviceModal=!1,this.$router.push(this.editSyncRoute(KDP_ID))},editButton:function(task){this.$router.push(this.editSyncRoute(this.getDeviceId(task)))},getDeviceId:function(task){return task.type===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.SYNCPEERFULL?task.extra_metadata.device_id:task.type===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.SYNCDATAPORTAL?KDP_ID:void 0},scheduleTime:function(time,timestamp){if(timestamp=new Date(Date.parse(timestamp)),3600===time)return this.$tr("everyHour");var frequencyString,options={weekday:"long",hour:"numeric",minute:"numeric"};return 86400===time&&(frequencyString=this.$tr("everyDay"),delete options.weekday),604800===time&&(frequencyString=this.$tr("everyWeek")),1209600===time&&(frequencyString=this.$tr("everyTwoWeeks")),2419200===time&&(frequencyString=this.$tr("everyMonth")),"".concat(frequencyString,", ").concat(this.$formatTime(timestamp,options))}},$trs:{syncSchedules:{message:"Sync schedules",context:"Heading or title for 'manage sync schedule' page."},introduction:{message:"Set a schedule for Kolibri to automatically sync with other Kolibri devices sharing this facility. Devices with the same sync schedule will be synced one at a time.",context:"Introduction on the manage sync schedule"},addDevice:{message:"Add device",context:"Add device button"},Schedule:{message:"Schedule",context:"Schedule label"},connected:{message:"Connected",context:"Connected device"},disconnected:{message:"Not connected",context:"Disconnected device"},NoSync:{message:"There are no syncs scheduled",context:"Text to display when there is no schedule sync to be managed."},everyHour:{message:"Every hour",context:"Period for scheduling the sync between devices every hour"},everyDay:{message:"Every day",context:"Period for scheduling the sync between devices every day"},everyWeek:{message:"Every week",context:"Period for scheduling the sync between devices every week"},everyMonth:{message:"Every month",context:"Period for scheduling the sync between devices every month"},everyTwoWeeks:{message:"Every two weeks",context:"Period for scheduling the sync between devices every two weeks"}}},ManageSyncSchedule=normalizeComponent(ManageSyncSchedulevue_type_script_lang_js,ManageSyncSchedulevue_type_template_id_191b090e_scoped_true_render,[],!1,null,"191b090e",null).exports,EditDeviceSyncSchedulevue_type_template_id_cfaa66d0_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{appBarTitle:_vm.$tr("editSyncScheduleTitle"),route:_vm.goBackRoute,icon:_vm.icon}},[_vm.device?_c("KPageContainer",{style:_vm.pageHeight},[_c("KGrid",{staticClass:"edit-sync-schedule",attrs:{gutter:"48"}},[_c("KGridItem",[_c("h1",[_vm._v(_vm._s(_vm.$tr("editSyncScheduleTitle")))])]),_c("KGridItem",[_c("p",[_vm._v(_vm._s(_vm.device.device_name)+" ")])]),_c("KGrid",{staticClass:"align-kselects"},[_c("KGrid",[_c("KGridItem",[_c("KSelect",{staticClass:"selector",style:_vm.selectorStyle,attrs:{disabled:_vm.currentTaskRunning,options:_vm.selectArray,label:_vm.$tr("frequency")},model:{value:_vm.selectedItem,callback:function($$v){_vm.selectedItem=$$v},expression:"selectedItem"}})],1)],1),_vm.dayRequired?_c("KGrid",[_c("KGridItem",[_c("KSelect",{staticClass:"selector",style:_vm.selectorStyle,attrs:{disabled:_vm.currentTaskRunning,options:_vm.getDays,label:_vm.$tr("day")},model:{value:_vm.selectedDay,callback:function($$v){_vm.selectedDay=$$v},expression:"selectedDay"}})],1)],1):_vm._e(),_vm.timeRequired?_c("KGrid",[_c("KGridItem",[_c("KSelect",{staticClass:"selector",style:_vm.selectorStyle,attrs:{disabled:_vm.currentTaskRunning,options:_vm.SyncTime,label:_vm.$tr("time")},model:{value:_vm.selectedTime,callback:function($$v){_vm.selectedTime=$$v},expression:"selectedTime"}})],1)],1):_vm._e()],1),_c("KGridItem",[_c("p",{staticClass:"spacing"},[_vm._v("\n          "+_vm._s(_vm.$tr("serverTime"))+"\n          "+_vm._s(_vm.$formatTime(_vm.now,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}))+"\n        ")]),_c("p",{staticClass:"spacing"},[_c("KCheckbox",{attrs:{checked:_vm.retryFlag,disabled:_vm.currentTaskRunning},on:{change:function($event){_vm.retryFlag=!_vm.retryFlag}}},[_vm._v("\n            "+_vm._s(_vm.$tr("checkboxLabel"))+"\n          ")])],1),_c("p",[_vm.currentTask?_c("KButton",{staticClass:"spacing",attrs:{disabled:_vm.currentTaskRunning,appearance:"basic-link"},on:{click:function($event){_vm.removeDeviceModal=!0}}},[_vm._v("\n            "+_vm._s(_vm.$tr("removeDeviceLabel"))+"\n          ")]):_vm._e()],1)])],1)],1):_vm._e(),_c("BottomAppBar",[_c("KButtonGroup",[_c("KButton",{attrs:{text:_vm.coreString("cancelAction"),appearance:"flat-button"},on:{click:_vm.goBack}}),_c("KButton",{attrs:{text:_vm.coreString("saveAction"),primary:!0,disabled:_vm.saveDisabled},on:{click:_vm.handleSaveSchedule}})],1)],1),_vm.removeDeviceModal?_c("KModal",{attrs:{title:_vm.$tr("removeDevice"),size:"medium",submitText:_vm.coreString("removeAction"),cancelText:_vm.coreString("cancelAction")},on:{cancel:_vm.closeModal,submit:_vm.handleDeleteDevice}},[_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:6},layout12:{span:10}}},[_c("p",[_vm._v(_vm._s(_vm.deviceName))])]),_c("KGridItem",{attrs:{layout8:{span:8},layout12:{span:12}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("removeDeviceWarning")))]),_vm.device.available?_vm._e():_c("p",[_vm._v("\n          "+_vm._s(_vm.$tr("deviceNotConnected"))+"\n        ")])])],1)],1):_vm._e()],1)};EditDeviceSyncSchedulevue_type_template_id_cfaa66d0_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_namespaceObject=kolibriCoreAppGlobal.coreVue.components.BottomAppBar,external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_namespaceObject),external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject=kolibriCoreAppGlobal.utils.serverClock;function EditDeviceSyncSchedulevue_type_script_lang_js_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return EditDeviceSyncSchedulevue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EditDeviceSyncSchedulevue_type_script_lang_js_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function EditDeviceSyncSchedulevue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}for(var today=new Date,daysOfWeek=[],date=new Date(today.getFullYear(),today.getMonth(),today.getDate()+(7-today.getDay())),_i=0;_i<7;_i++)daysOfWeek.push({value:_i,date:new Date(date)}),date.setDate(date.getDate()+1);var endTime=new Date;endTime.setHours(24,0,0,0);var times=[],i=0,time=new Date;for(time.setHours(0,0,0,0);time<endTime;)times.push({value:i++,time:new Date(time)}),time.setMinutes(time.getMinutes()+30);var EditDeviceSyncSchedulevue_type_script_lang_js={name:"EditDeviceSyncSchedule",components:{ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{icon:{type:String,default:"back"},facilityId:{type:String,required:!0},deviceId:{type:String,required:!0},goBackRoute:{type:Object,required:!0}},data:function(){return{removeDeviceModal:!1,retryFlag:!1,device:null,now:null,selectedItem:{},tasks:[],selectedDay:{},selectedTime:{}}},computed:{pageHeight:function(){return{height:"80%",zIndex:-1}},selectorStyle:function(){return{color:this.$themeTokens.text,backgroundColor:this.$themePalette.grey.v_200,borderRadius:"5px 5px 0px 0px",paddingTop:"5px",paddingLeft:"5px",width:"300px",marginLeft:"16px"}},selectArray:function(){return[{label:this.$tr("everyHour"),value:3600},{label:this.$tr("everyDay"),value:86400},{label:this.$tr("everyWeek"),value:604800},{label:this.$tr("everyTwoWeeks"),value:1209600},{label:this.$tr("everyMonth"),value:2419200}]},getDays:function(){var _this=this;return daysOfWeek.map((function(day){return{label:_this.$formatDate(day.date,{weekday:"long"}),value:day.value}}))},SyncTime:function(){var _this2=this;return times.map((function(time){return{label:_this2.$formatTime(time.time),value:time.value,hours:time.time.getHours(),minutes:time.time.getMinutes()}}))},deviceName:function(){return this.device&&this.device.nickname&&this.device.nickname.length?this.device.nickname:this.device.device_name},currentTask:function(){return this.tasks&&this.tasks.length?this.tasks[0]:null},currentTaskRunning:function(){return this.currentTask&&this.currentTask.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.RUNNING},timeRequired:function(){return this.selectedItem.value>3600},timeIsSet:function(){return this.selectedTime&&times[this.selectedTime.value]},dayRequired:function(){return this.selectedItem.value>86400},dayIsSet:function(){return this.selectedDay&&daysOfWeek[this.selectedDay.value]},isKdp:function(){return this.deviceId===KDP_ID},taskType:function(){return this.isKdp?external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.SYNCDATAPORTAL:external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.SYNCPEERFULL},saveDisabled:function(){return this.currentTaskRunning||!this.timeIsSet&&this.timeRequired||!this.dayIsSet&&this.dayRequired||!this.selectedItem.value}},created:function(){var _this3=this;this.fetchDevice(),this.now=(0,external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject.now)(),this.serverTimeInterval=setInterval((function(){_this3.now=(0,external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject.now)()}),1e4)},beforeDestroy:function(){clearInterval(this.serverTimeInterval)},methods:{closeModal:function(){this.removeDeviceModal=!1},handleDeleteDevice:function(){var _this4=this;this.removeDeviceModal=!1,external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.deleteModel({id:this.currentTask.id}).then((function(){_this4.showSnackbarNotification("deviceRemove"),_this4.goBack()})).catch((function(){_this4.showSnackbarNotification("deviceNotRemove")}))},computeNextSync:function(){var date=new Date(this.now);if(this.timeRequired){if(!this.timeIsSet)throw new ReferenceError("Time is not set and is required");var hours=this.selectedTime.hours,minutes=this.selectedTime.minutes;(hours<date.getHours()||hours===date.getHours()&&minutes<date.getMinutes())&&date.setDate(date.getDate()+1),date.setHours(hours),date.setMinutes(minutes)}if(this.dayRequired){if(!this.dayIsSet)throw new ReferenceError("Day is not set and is required");var diff=this.selectedDay.value-date.getDay();date.getDay()>this.selectedDay.value?date.setDate(date.getDate()+7-Math.abs(diff)):date.getDay()<this.selectedDay.value&&date.setDate(date.getDate()+Math.abs(diff))}return date},handleSaveSchedule:function(){var promise,_this5=this,enqueue_args={enqueue_at:this.computeNextSync().toISOString(),repeat_interval:this.selectedItem.value,repeat:null,retry_interval:this.retryFlag?300:null};if(this.currentTask)promise=external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.saveModel({id:this.currentTask.id,data:{enqueue_args:enqueue_args},exists:!0});else{var taskParams={type:this.taskType,facility:this.facilityId,enqueue_args:enqueue_args};this.isKdp||(taskParams.device_id=this.deviceId,taskParams.baseurl=this.device.base_url),promise=external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.startTask(taskParams)}promise.then((function(){_this5.goBack(),_this5.showSnackbarNotification("syncAdded")})).catch((function(){_this5.createTaskFailedSnackbar(),_this5.currentTask&&_this5.fetchSyncTasks()}))},goBack:function(){this.$router.push(this.goBackRoute)},pollFetchSyncTasks:function(){var _this6=this;this.pollInterval=setInterval((function(){_this6.fetchSyncTasks()}),1e4)},fetchSyncTasks:function(){var _this7=this;external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.list({queue:"facility_task"}).then((function(tasks){_this7.tasks=tasks.filter((function(task){return(_this7.isKdp||task.extra_metadata.device_id===_this7.device.id)&&task.facility_id===_this7.facilityId&&task.type===_this7.taskType&&null===task.repeat})),_this7.$nextTick((function(){if(_this7.currentTask){var enqueueAt=new Date(Date.parse(_this7.currentTask.scheduled_datetime)),day=enqueueAt.getDay(),hours=enqueueAt.getHours(),minutes=enqueueAt.getMinutes();_this7.selectedItem=_this7.selectArray.find((function(item){return item.value===_this7.currentTask.repeat_interval}))||{},_this7.selectedDay=_this7.getDays.find((function(item){return item.value===day}))||{};var _step,_iterator=EditDeviceSyncSchedulevue_type_script_lang_js_createForOfIteratorHelper(_this7.SyncTime);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _time=_step.value;if(0===_time.minutes&&(_time.hours===hours&&minutes<15||_time.hours===hours+1&&minutes>=45)){_this7.selectedTime=_time;break}if(30===_time.minutes&&_time.hours===hours&&minutes>=15&&minutes<45){_this7.selectedTime=_time;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this7.retryFlag=Boolean(_this7.currentTask.retry_interval),_this7.currentTaskRunning?_this7.pollFetchSyncTasks():(clearInterval(_this7.pollInterval),_this7.pollInterval=null)}}))}))},fetchDevice:function(){var _this8=this;if(this.isKdp)return this.device={id:KDP_ID,device_name:kdpNameTranslator.$tr("syncToKDP"),base_url:""},void this.fetchSyncTasks();external_kolibriCoreAppGlobal_resources_namespaceObject.NetworkLocationResource.fetchModel({id:this.deviceId}).then((function(device){_this8.device=device,_this8.fetchSyncTasks()}))}},$trs:{editSyncScheduleTitle:{message:"Edit device sync schedule",context:"Subtitle for the edit sync schedule page"},serverTime:{message:"Server time:",context:"Server time label"},checkboxLabel:{message:"If scheduled sync fails, keep trying",context:"Label for checkbox"},removeDevice:{message:"Remove device",context:"Title for the remove device modal"},removeDeviceWarning:{message:"You are about to remove this device from the sync schedule.",context:"Label to warn the user before removing the device"},deviceNotConnected:{message:"This device is not currently connected to your network.",context:"Message showing that the device is no longer on the network"},everyHour:{message:"Every hour",context:"Period for scheduling the sync between devices every hour"},everyDay:{message:"Every day",context:"Period for scheduling the sync between devices every day"},everyWeek:{message:"Every week",context:"Period for scheduling the sync between devices every week"},everyMonth:{message:"Every month",context:"Period for scheduling the sync between devices every month"},everyTwoWeeks:{message:"Every two weeks",context:"Period for scheduling the sync between devices every two weeks"},removeDeviceLabel:{message:"Remove device from sync schedule",context:"Button label for removing the device from the sync schedule"},frequency:{message:"Frequency",context:"Indicates often the scheduled sync occurs"},day:{message:"Day",context:"Indicates the day of the week on which the scheduled sync occurs"},time:{message:"Time",context:"Indicates the time of day at which the scheduled sync occurs"}}},EditDeviceSyncSchedule=normalizeComponent(EditDeviceSyncSchedulevue_type_script_lang_js,EditDeviceSyncSchedulevue_type_template_id_cfaa66d0_scoped_true_render,[],!1,null,"cfaa66d0",null).exports,ClassEditPagevue_type_template_id_743d672a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("FacilityAppBarPage",[_c("KPageContainer",[_c("p",[_c("KRouterLink",{attrs:{text:_vm.coreString("allClassesLabel"),to:_vm.$store.getters.facilityPageLinks.ManageClassPage,icon:"back"}})],1),_c("div",[_c("h1",{staticClass:"title-header",attrs:{dir:"auto"}},[_c("KLabeledIcon",{attrs:{icon:"classes",label:_vm.classDetails.name}})],1),_c("KButton",{attrs:{text:_vm.$tr("renameButtonLabel"),appearance:"basic-link",primary:!0},on:{click:function($event){return _vm.displayModal(_vm.Modals.EDIT_CLASS_NAME)}}})],1),_c("p",[_vm._v(_vm._s(_vm.$tr("coachEnrollmentPageTitle")))]),_vm.modalShown===_vm.Modals.EDIT_CLASS_NAME?_c("ClassRenameModal",{attrs:{classname:_vm.classDetails.name,classid:_vm.classDetails.id,classes:_vm.classes},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.REMOVE_USER?_c("UserRemoveConfirmationModal",{attrs:{classname:_vm.classDetails.name,username:_vm.userToBeRemoved.username},on:{submit:function($event){return _vm.removalAction({classId:_vm.classDetails.id,userId:_vm.userToBeRemoved.id})},cancel:_vm.closeModal}}):_vm._e(),_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h2",[_vm._v(_vm._s(_vm.coreString("coachesLabel")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:4},layout12:{span:6}}},[_c("KRouterLink",{attrs:{text:_vm.$tr("assignCoachesButtonLabel"),to:_vm.$store.getters.facilityPageLinks.CoachClassAssignmentPage,appearance:"raised-button"}})],1)],1),_c("UserTable",{attrs:{users:_vm.classCoaches,emptyMessage:_vm.$tr("noCoachesInClassMessge"),dataLoading:_vm.dataLoading,isCoach:""},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KButton",{attrs:{text:_vm.coreString("removeAction"),appearance:"flat-button"},on:{click:function($event){return _vm.confirmRemoval(userRow.user,_vm.removeClassCoach)}}})]}}])}),_c("KGrid",{staticClass:"top-margin"},[_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h2",[_vm._v(_vm._s(_vm.coreString("learnersLabel")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:4},layout12:{span:6}}},[_c("KRouterLink",{attrs:{text:_vm.$tr("enrollLearnerButtonLabel"),to:_vm.$store.getters.facilityPageLinks.LearnerClassEnrollmentPage,primary:!0,appearance:"raised-button"}})],1)],1),_c("UserTable",{attrs:{users:_vm.classLearners,dataLoading:_vm.dataLoading,emptyMessage:_vm.$tr("noLearnersInClassMessage")},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KButton",{attrs:{text:_vm.coreString("removeAction"),appearance:"flat-button"},on:{click:function($event){return _vm.confirmRemoval(userRow.user,_vm.removeClassLearner)}}})]}}])})],1)],1)};ClassEditPagevue_type_template_id_743d672a_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_UserTable_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UserTable,external_kolibriCoreAppGlobal_coreVue_components_UserTable_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UserTable_namespaceObject),FacilityAppBarPagevue_type_template_id_f4b4432e_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("AppBarPage",{attrs:{title:this.title},scopedSlots:this._u([{key:"subNav",fn:function(){return[_c("FacilityTopNav",{ref:"topNav"})]},proxy:!0}])},[_c("div",{staticStyle:{"max-width":"1000px",margin:"0 auto"}},[this._t("default")],2)])};FacilityAppBarPagevue_type_template_id_f4b4432e_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_namespaceObject=kolibriCoreAppGlobal.coreVue.components.AppBarPage,external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_namespaceObject),FacilityTopNavvue_type_template_id_78203526_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("HorizontalNavBarWithOverflowMenu",{attrs:{navigationLinks:this.links}})};FacilityTopNavvue_type_template_id_78203526_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_HorizontalNavBarWithOverflowMenu_namespaceObject=kolibriCoreAppGlobal.coreVue.components.HorizontalNavBarWithOverflowMenu,FacilityTopNav=normalizeComponent({name:"FacilityTopNav",components:{HorizontalNavBarWithOverflowMenu:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_HorizontalNavBarWithOverflowMenu_namespaceObject)()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],computed:{links:function(){var facility_id=this.$route.params.facility_id;return[{title:this.coreString("classesLabel"),link:this.$router.getRoute(PageNames_CLASS_MGMT_PAGE,{facility_id:facility_id}),icon:"classes",color:this.$themeTokens.textInverted},{title:this.coreString("usersLabel"),link:this.$router.getRoute(PageNames_USER_MGMT_PAGE,{facility_id:facility_id}),icon:"people",color:this.$themeTokens.textInverted},{title:this.coreString("settingsLabel"),link:this.$router.getRoute(PageNames_FACILITY_CONFIG_PAGE,{facility_id:facility_id}),icon:"settings",color:this.$themeTokens.textInverted},{title:this.coreString("dataLabel"),link:this.$router.getRoute(PageNames_DATA_EXPORT_PAGE,{facility_id:facility_id}),icon:"save",color:this.$themeTokens.textInverted}]}}},FacilityTopNavvue_type_template_id_78203526_scoped_true_render,[],!1,null,"78203526",null).exports;function FacilityAppBarPagevue_type_script_lang_js_typeof(o){return FacilityAppBarPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FacilityAppBarPagevue_type_script_lang_js_typeof(o)}function FacilityAppBarPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function FacilityAppBarPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FacilityAppBarPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){FacilityAppBarPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FacilityAppBarPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function FacilityAppBarPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=FacilityAppBarPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=FacilityAppBarPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==FacilityAppBarPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var FacilityAppBarPage=normalizeComponent({name:"FacilityAppBarPage",components:{AppBarPage:external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_default(),FacilityTopNav:FacilityTopNav},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{appBarTitle:{type:String,default:null}},computed:FacilityAppBarPagevue_type_script_lang_js_objectSpread(FacilityAppBarPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["userIsMultiFacilityAdmin","currentFacilityName"])),{},{title:function(){return this.appBarTitle||(this.userIsMultiFacilityAdmin&&this.currentFacilityName?this.$tr("facilityLabelWithName",{facilityName:this.currentFacilityName}):this.coreString("facilityLabel"))}}),$trs:{facilityLabelWithName:{message:"Facility  {facilityName}",context:"Indicates the name of the facility."}}},FacilityAppBarPagevue_type_template_id_f4b4432e_render,[],!1,null,null,null).exports,ClassRenameModalvue_type_template_id_7b29da6d_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),size:"small",submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.submitting},on:{submit:_vm.updateName,cancel:function($event){return _vm.$emit("cancel")}}},[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.coreString("classNameLabel"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)};function ClassRenameModalvue_type_script_lang_js_typeof(o){return ClassRenameModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ClassRenameModalvue_type_script_lang_js_typeof(o)}function ClassRenameModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ClassRenameModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ClassRenameModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ClassRenameModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ClassRenameModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ClassRenameModalvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ClassRenameModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ClassRenameModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ClassRenameModalvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ClassRenameModalvue_type_template_id_7b29da6d_scoped_true_render._withStripped=!0;var ClassRenameModal=normalizeComponent({name:"ClassRenameModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{classname:{type:String,required:!0},classid:{type:String,required:!0},classes:{type:Array,required:!0}},data:function(){return{name:this.classname,nameBlurred:!1,formSubmitted:!1,submitting:!1}},computed:{duplicateName:function(){var _this=this;return this.name.toUpperCase()!==this.classname.toUpperCase()&&-1!==this.classes.findIndex((function(classroom){return classroom.name.toUpperCase()===_this.name.toUpperCase()}))},nameIsInvalidText:function(){if(this.nameBlurred||this.formSubmitted){if(""===this.name)return this.coreString("requiredFieldError");if(this.duplicateName)return this.$tr("duplicateName")}return""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},formIsValid:function(){return!this.nameIsInvalid}},methods:ClassRenameModalvue_type_script_lang_js_objectSpread(ClassRenameModalvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("classEditManagement",["updateClass"])),{},{updateName:function(){this.formSubmitted=!0,this.formIsValid?(this.submitting=!0,this.updateClass({id:this.classid,updateData:{name:this.name}})):this.$refs.name.focus()}}),$trs:{modalTitle:{message:"Rename class",context:"Title of the 'Rename class' window, accessed via the 'Edit' option on the individual 'Class' page."},duplicateName:{message:"A class with that name already exists",context:"Message that displays if user tries to give a class a name that already exists."}}},ClassRenameModalvue_type_template_id_7b29da6d_scoped_true_render,[],!1,null,"7b29da6d",null).exports,UserRemoveConfirmationModalvue_type_template_id_06bdad63_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),hasError:!1,submitText:_vm.coreString("removeAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{username:_vm.username,classname:_vm.classname})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("description")))])])};UserRemoveConfirmationModalvue_type_template_id_06bdad63_scoped_true_render._withStripped=!0;var UserRemoveConfirmationModal=normalizeComponent({name:"UserRemoveConfirmationModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{classname:{type:String,required:!0},username:{type:String,required:!0}},$trs:{modalTitle:{message:"Remove user",context:"Option to remove a user from a class. This does not delete them from the facility entirely."},confirmation:{message:"Are you sure you want to remove '{ username }' from '{ classname }'?",context:"Confirmation of delete user."},description:{message:"You can still access this account from the 'Users' tab.",context:"Information displayed when removing a user from a class."}}},UserRemoveConfirmationModalvue_type_template_id_06bdad63_scoped_true_render,[],!1,null,"06bdad63",null).exports;function ClassEditPagevue_type_script_lang_js_typeof(o){return ClassEditPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ClassEditPagevue_type_script_lang_js_typeof(o)}function ClassEditPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ClassEditPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ClassEditPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ClassEditPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ClassEditPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ClassEditPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ClassEditPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ClassEditPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ClassEditPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ClassEditPage=normalizeComponent({name:"ClassEditPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{FacilityAppBarPage:FacilityAppBarPage,ClassRenameModal:ClassRenameModal,UserTable:external_kolibriCoreAppGlobal_coreVue_components_UserTable_default(),UserRemoveConfirmationModal:UserRemoveConfirmationModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{userToBeRemoved:null,removalAction:null}},computed:ClassEditPagevue_type_script_lang_js_objectSpread(ClassEditPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("classEditManagement",["classCoaches","classLearners","classes","currentClass","modalShown","dataLoading"])),{},{classDetails:function(){return this.currentClass||{}},Modals:function(){return constants_Modals}}),methods:ClassEditPagevue_type_script_lang_js_objectSpread(ClassEditPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("classEditManagement",["displayModal"])),{},{closeModal:function(){this.displayModal(!1)},confirmRemoval:function(user,removalAction){this.userToBeRemoved=user,this.removalAction=removalAction,this.displayModal(constants_Modals.REMOVE_USER)},removeClassCoach:function(args){var _this=this;this.$store.dispatch("classEditManagement/removeClassCoach",args).then((function(){_this.showSnackbarNotification("coachesRemovedNoCount",{count:1})}))},removeClassLearner:function(args){var _this2=this;this.$store.dispatch("classEditManagement/removeClassLearner",args).then((function(){_this2.showSnackbarNotification("learnersRemovedNoCount",{count:1})}))}}),$trs:{enrollLearnerButtonLabel:{message:"Enroll learners",context:"Button on class edit page used to add learners to a class."},assignCoachesButtonLabel:{message:"Assign coaches",context:"Button on class edit page which user uses to add a coach to a class."},coachEnrollmentPageTitle:{message:"Manage class coaches and learners",context:"Description of class edit page."},noCoachesInClassMessge:{message:"You don't have any assigned coaches",context:"This text displays in the edit class page if there are no coaches assigned to a class."},noLearnersInClassMessage:{message:"You don't have any enrolled learners",context:"This text displays in the edit class page if there are no learners enrolled in a class."},documentTitle:{message:"Edit Class",context:"Page title."},renameButtonLabel:{message:"Rename",context:"Users can change the name of a class using the 'Rename' button beside the class name."}}},ClassEditPagevue_type_template_id_743d672a_scoped_true_render,[],!1,null,"743d672a",null).exports,CoachClassAssignmentPagevue_type_template_id_4eb562a2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{appBarTitle:_vm.className,route:_vm.$store.getters.facilityPageLinks.ClassEditPage(_vm.$route.params.id),loading:_vm.isPageLoading}},[_vm.isPageLoading?_vm._e():_c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader",{className:_vm.className})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubheader")))]),_c("ClassEnrollForm",{attrs:{facilityUsers:_vm.facilityUsers,totalPageNumber:_vm.totalPageNumber,totalUsers:_vm.totalLearners,pageType:"coaches",disabled:_vm.formIsDisabled},on:{submit:_vm.assignCoaches}})],1)],1)};CoachClassAssignmentPagevue_type_template_id_4eb562a2_scoped_true_render._withStripped=!0;var ClassEnrollFormvue_type_template_id_f70c4898_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("form",[_c("PaginatedListContainerWithBackend",{attrs:{items:_vm.facilityUsers,itemsPerPage:_vm.itemsPerPage,totalPageNumber:_vm.totalPages,numFilteredItems:_vm.totalLearners},scopedSlots:_vm._u([{key:"filter",fn:function(){return[_c("FilterTextbox",{attrs:{placeholder:_vm.coreString("searchForUser")},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}})]},proxy:!0}]),model:{value:_vm.currentPage,callback:function($$v){_vm.currentPage=$$v},expression:"currentPage"}},[[_c("UserTable",{attrs:{users:_vm.usersNotInClass,selectable:!0,emptyMessage:_vm.emptyMessageForItems(_vm.usersNotInClass),showDemographicInfo:!0},model:{value:_vm.selectedUsers,callback:function($$v){_vm.selectedUsers=$$v},expression:"selectedUsers"}})]],2),_c("SelectionBottomBar",{attrs:{count:_vm.selectedUsers.length,disabled:_vm.disabled||0===_vm.selectedUsers.length,type:_vm.pageType},on:{"click-confirm":function($event){return _vm.$emit("submit",_vm.selectedUsers)}}})],1)};ClassEnrollFormvue_type_template_id_f70c4898_scoped_true_render._withStripped=!0;var pickBy=__webpack_require__(5084),pickBy_default=__webpack_require__.n(pickBy),debounce=__webpack_require__(4161),debounce_default=__webpack_require__.n(debounce),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.responsiveWindowMixin,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_FilterTextbox_namespaceObject=kolibriCoreAppGlobal.coreVue.components.FilterTextbox,external_kolibriCoreAppGlobal_coreVue_components_FilterTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_FilterTextbox_namespaceObject),PaginatedListContainerWithBackendvue_type_template_id_27c48caf_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("KGrid",[_c("KGridItem",{attrs:{layout12:{span:7}}},[_vm._t("otherFilter")],2),_c("KGridItem",{staticClass:"text-filter",attrs:{layout12:{span:5,alignment:"right"}}},[_vm._t("filter")],2)],1),_c("div",[_vm._t("default")],2),_c("nav",{staticClass:"pagination-nav"},[_c("span",{staticClass:"pagination-label",attrs:{dir:"auto"}},[_vm._v("\n      "+_vm._s(_vm.$tr("pagination",{visibleStartRange:_vm.visibleStartRange,visibleEndRange:_vm.visibleEndRange,numFilteredItems:_vm.numFilteredItems}))+"\n    ")]),_c("KButtonGroup",[_c("KIconButton",{attrs:{ariaLabel:_vm.$tr("previousResults"),disabled:_vm.previousButtonDisabled,size:"small",icon:"back"},on:{click:function($event){return _vm.changePage(-1)}}}),_c("KIconButton",{attrs:{ariaLabel:_vm.$tr("nextResults"),disabled:_vm.nextButtonDisabled,size:"small",icon:"forward"},on:{click:function($event){return _vm.changePage(1)}}})],1)],1)],1)};PaginatedListContainerWithBackendvue_type_template_id_27c48caf_scoped_true_render._withStripped=!0;var lodash_clamp=__webpack_require__(4420),clamp_default=__webpack_require__.n(lodash_clamp),PaginatedListContainerWithBackend=normalizeComponent({name:"PaginatedListContainerWithBackend",props:{itemsPerPage:{type:Number,required:!0},totalPageNumber:{type:Number,required:!0},value:{type:Number,required:!0},numFilteredItems:{type:Number,required:!0}},computed:{startRange:function(){return(this.value-1)*this.itemsPerPage},visibleStartRange:function(){return Math.min(this.startRange+1,this.numFilteredItems)},endRange:function(){return this.value*this.itemsPerPage},visibleEndRange:function(){return Math.min(this.endRange,this.numFilteredItems)},previousButtonDisabled:function(){return 1===this.value||0===this.numFilteredItems},nextButtonDisabled:function(){return 1===this.totalPageNumber||this.value===this.totalPageNumber||0===this.numFilteredItems}},methods:{changePage:function(change){this.$emit("input",clamp_default()(this.value+change,1,this.totalPageNumber))}},$trs:{previousResults:{message:"Previous results",context:"Text which indicates the previous page of results when a user makes a search query.\n"},nextResults:{message:"Next results",context:"Text which indicates the next page of results when a user makes a search query."},pagination:{message:"{ visibleStartRange, number } - { visibleEndRange, number } of { numFilteredItems, number }",context:"Refers to pagination. Only translate the word \"of''."}}},PaginatedListContainerWithBackendvue_type_template_id_27c48caf_scoped_true_render,[],!1,null,"27c48caf",null).exports,SelectionBottomBarvue_type_template_id_0c8ba9be_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("BottomAppBar",[_c("span",{staticClass:"message"},[_vm._v(_vm._s(_vm.selectedMessage))]),_c("KButton",{attrs:{disabled:_vm.$attrs.disabled||_vm.buttonsDisabled,text:_vm.coreString("confirmAction"),primary:!0},on:{click:function($event){return _vm.$emit("click-confirm")}}})],1)};SelectionBottomBarvue_type_template_id_0c8ba9be_scoped_true_render._withStripped=!0;var SelectionBottomBar_component=normalizeComponent({name:"SelectionBottomBar",components:{BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{count:{type:Number,required:!0},type:{type:String,required:!0,validator:function(value){return"learners"===value||"coaches"===value}}},computed:{buttonsDisabled:function(){return 0===this.count},selectedMessage:function(){return"learners"===this.type?this.$tr("learnersSelectedMessage",{count:this.count}):this.$tr("coachesSelectedMessage",{count:this.count})}},$trs:{coachesSelectedMessage:{message:"{count, number} {count, plural, one {coach} other {coaches}} selected",context:"Indicates how many coaches have been selected to be assigned to a class in the 'Assign a coach' page."},learnersSelectedMessage:{message:"{count, number} {count, plural, one {learner} other {learners}} selected",context:"Indicates how many learners have been selected to be assigned to a class in the 'Assign a coach' page.\n"}}},SelectionBottomBarvue_type_template_id_0c8ba9be_scoped_true_render,[],!1,null,"0c8ba9be",null);function ClassEnrollFormvue_type_script_lang_js_typeof(o){return ClassEnrollFormvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ClassEnrollFormvue_type_script_lang_js_typeof(o)}function ClassEnrollFormvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ClassEnrollFormvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ClassEnrollFormvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ClassEnrollFormvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ClassEnrollFormvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ClassEnrollFormvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ClassEnrollFormvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ClassEnrollFormvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ClassEnrollFormvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ClassEnrollForm=normalizeComponent({name:"ClassEnrollForm",components:{SelectionBottomBar:SelectionBottomBar_component.exports,PaginatedListContainerWithBackend:PaginatedListContainerWithBackend,UserTable:external_kolibriCoreAppGlobal_coreVue_components_UserTable_default(),FilterTextbox:external_kolibriCoreAppGlobal_coreVue_components_FilterTextbox_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],props:{pageType:{type:String,required:!0},disabled:{type:Boolean,default:!1},totalPageNumber:{type:Number,required:!1,default:1}},data:function(){return{selectedUsers:[]}},computed:ClassEnrollFormvue_type_script_lang_js_objectSpread(ClassEnrollFormvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("classAssignMembers",["facilityUsers","totalLearners"])),{},{usersNotInClass:function(){return this.facilityUsers},totalPages:function(){return this.totalPageNumber},search:{get:function(){return this.$route.query.search||""},set:function(value){this.debouncedSearchTerm(value)}},currentPage:{get:function(){return Number(this.$route.query.page||1)},set:function(value){this.$router.push(ClassEnrollFormvue_type_script_lang_js_objectSpread(ClassEnrollFormvue_type_script_lang_js_objectSpread({},this.$route),{},{query:pickBy_default()(ClassEnrollFormvue_type_script_lang_js_objectSpread(ClassEnrollFormvue_type_script_lang_js_objectSpread({},this.$route.query),{},{page:value}))}))}},itemsPerPage:{get:function(){return this.$route.query.page_size||30},set:function(value){this.$router.push(ClassEnrollFormvue_type_script_lang_js_objectSpread(ClassEnrollFormvue_type_script_lang_js_objectSpread({},this.$route),{},{query:pickBy_default()(ClassEnrollFormvue_type_script_lang_js_objectSpread(ClassEnrollFormvue_type_script_lang_js_objectSpread({},this.$route.query),{},{page_size:value,page:null}))}))}}}),created:function(){this.debouncedSearchTerm=debounce_default()(this.emitSearchTerm,500)},methods:{emptyMessageForItems:function(){return 0===this.facilityUsers.length?this.coreString("noUsersExistLabel"):0===this.usersNotInClass.length?this.$tr("allUsersAlready"):""},emitSearchTerm:function(value){""===value&&(value=null),this.$router.push(ClassEnrollFormvue_type_script_lang_js_objectSpread(ClassEnrollFormvue_type_script_lang_js_objectSpread({},this.$route),{},{query:pickBy_default()(ClassEnrollFormvue_type_script_lang_js_objectSpread(ClassEnrollFormvue_type_script_lang_js_objectSpread({},this.$route.query),{},{search:value,page:null}))}))}},$trs:{allUsersAlready:{message:"All users are already enrolled in this class",context:"If all the users in a facility are already enrolled in a class, no more can be added."}}},ClassEnrollFormvue_type_template_id_f70c4898_scoped_true_render,[],!1,null,"f70c4898",null).exports;function CoachClassAssignmentPagevue_type_script_lang_js_typeof(o){return CoachClassAssignmentPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},CoachClassAssignmentPagevue_type_script_lang_js_typeof(o)}function CoachClassAssignmentPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CoachClassAssignmentPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CoachClassAssignmentPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){CoachClassAssignmentPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CoachClassAssignmentPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function CoachClassAssignmentPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=CoachClassAssignmentPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=CoachClassAssignmentPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==CoachClassAssignmentPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var CoachClassAssignmentPage=normalizeComponent({name:"CoachClassAssignmentPage",metaInfo:function(){return{title:this.$tr("pageHeader",{className:this.className})}},components:{ClassEnrollForm:ClassEnrollForm,ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{formIsDisabled:!1}},computed:CoachClassAssignmentPagevue_type_script_lang_js_objectSpread(CoachClassAssignmentPagevue_type_script_lang_js_objectSpread(CoachClassAssignmentPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isPageLoading"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("classAssignMembers",["class","facilityUsers","totalLearners","totalPageNumber"])),{},{className:function(){return this.class.name}}),methods:CoachClassAssignmentPagevue_type_script_lang_js_objectSpread(CoachClassAssignmentPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("classAssignMembers",["assignCoachesToClass"])),{},{assignCoaches:function(coaches){var _this=this;this.formIsDisabled=!0,this.assignCoachesToClass({classId:this.class.id,coaches:coaches}).then((function(){_this.$router.push(_this.$store.getters.facilityPageLinks.ClassEditPage(_this.class.id)).then((function(){_this.showSnackbarNotification("coachesAssignedNoCount",{count:coaches.length})}))})).catch((function(){_this.formIsDisabled=!1,_this.$store.dispatch("createSnackbar",_this.coreString("changesNotSavedNotification"))}))}}),$trs:{pageHeader:{message:"Assign a coach to '{className}'",context:"Title of the coach assignment page where a user can assign a coach to a class.\n\nThis is accessed via the  'Assign coaches' button on the Facility > Classes page."},pageSubheader:{message:"Showing coaches that are not assigned to this class",context:"Description of the coach assignment page where a user can assign coaches to a class.\n\nThis is accessed via the  'Assign coaches' button on the Facility > Classes page."}}},CoachClassAssignmentPagevue_type_template_id_4eb562a2_scoped_true_render,[],!1,null,"4eb562a2",null).exports,LearnerClassEnrollmentPagevue_type_template_id_57eb6352_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{appBarTitle:_vm.className,route:_vm.$store.getters.facilityPageLinks.ClassEditPage(_vm.$route.params.id),loading:_vm.isPageLoading}},[_vm.isPageLoading?_vm._e():_c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader",{className:_vm.className})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubheader")))]),_c("ClassEnrollForm",{attrs:{facilityUsers:_vm.facilityUsers,disabled:_vm.formIsDisabled,totalPageNumber:_vm.totalPageNumber,totalUsers:_vm.totalLearners,pageType:"learners"},on:{submit:_vm.enrollLearners}})],1)],1)};function LearnerClassEnrollmentPagevue_type_script_lang_js_typeof(o){return LearnerClassEnrollmentPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LearnerClassEnrollmentPagevue_type_script_lang_js_typeof(o)}function LearnerClassEnrollmentPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LearnerClassEnrollmentPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LearnerClassEnrollmentPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){LearnerClassEnrollmentPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LearnerClassEnrollmentPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function LearnerClassEnrollmentPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=LearnerClassEnrollmentPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LearnerClassEnrollmentPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==LearnerClassEnrollmentPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}LearnerClassEnrollmentPagevue_type_template_id_57eb6352_scoped_true_render._withStripped=!0;var LearnerClassEnrollmentPage=normalizeComponent({name:"LearnerClassEnrollmentPage",metaInfo:function(){return{title:this.$tr("pageHeader",{className:this.className})}},components:{ClassEnrollForm:ClassEnrollForm,ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{formIsDisabled:!1}},computed:LearnerClassEnrollmentPagevue_type_script_lang_js_objectSpread(LearnerClassEnrollmentPagevue_type_script_lang_js_objectSpread(LearnerClassEnrollmentPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isPageLoading"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("classAssignMembers",["class","facilityUsers","totalLearners","totalPageNumber"])),{},{className:function(){return this.class.name}}),methods:LearnerClassEnrollmentPagevue_type_script_lang_js_objectSpread(LearnerClassEnrollmentPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("classAssignMembers",["enrollLearnersInClass"])),{},{enrollLearners:function(selectedUsers){var _this=this;this.formIsDisabled=!0,this.enrollLearnersInClass({classId:this.class.id,users:selectedUsers}).then((function(){_this.$router.push(_this.$store.getters.facilityPageLinks.ClassEditPage(_this.class.id)).then((function(){_this.showSnackbarNotification("learnersEnrolledNoCount",{count:selectedUsers.length})}))})).catch((function(){_this.formIsDisabled=!1,_this.$store.dispatch("createSnackbar",_this.coreString("changesNotSavedNotification"))}))}}),$trs:{pageHeader:{message:"Enroll learners into '{className}'",context:"Title of page where users can add (enroll) learners to a class."},pageSubheader:{message:"Only showing learners that are not enrolled in this class",context:"Description of 'Enroll learners into '{className}'' page."}}},LearnerClassEnrollmentPagevue_type_template_id_57eb6352_scoped_true_render,[],!1,null,"57eb6352",null).exports,DataPagevue_type_template_id_166fe566_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("FacilityAppBarPage",[_vm.canUploadDownloadFiles?_c("KPageContainer",[_c("p",[_vm.userIsMultiFacilityAdmin?_c("KRouterLink",{attrs:{to:{name:_vm.facilityPageLinks.AllFacilitiesPage.name,params:{subtopicName:"DataPage"}},icon:"back",text:_vm.coreString("changeLearningFacility")}}):_vm._e()],1),_c("KGrid",{attrs:{gutter:"24"}},[_c("KGridItem",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeading")))])]),_c("KGridItem",[_c("p",[_vm._v(_vm._s(_vm.$tr("pageSubHeading")))])]),_c("KGridItem",{attrs:{layout12:{span:6}}},[_c("h3",{staticClass:"subheading"},[_vm._v("\n          "+_vm._s(_vm.$tr("detailsHeading"))+"\n        ")]),_c("p",{staticClass:"subheading-desc"},[_vm._v("\n          "+_vm._s(_vm.$tr("detailsSubHeading"))+"\n        ")]),_c("p",{staticClass:"subheading-desc"},[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("LearnMore")},on:{click:function($event){_vm.showLearnMoreSessionModal=!0}}})],1),_c("p",{staticClass:"generated-time",style:{color:_vm.$themeTokens.annotation}},[_vm.sessionDateCreated?_c("GeneratedElapsedTime",{attrs:{date:_vm.sessionDateCreated}}):_vm._e()],1)]),_c("KGridItem",{staticClass:"session-section-buttons",class:_vm.windowSizeStyle,attrs:{layout12:{span:6,alignment:"right"}}},[_vm.availableSessionCSVLog?_c("KButton",{staticClass:"subheading-buttons",style:_vm.windowIsMedium||_vm.windowIsSmall?{order:2}:{order:1},attrs:{appearance:"flat-button",text:_vm.$tr("download")},on:{click:_vm.downloadSessionLog}}):_vm._e(),_vm.inSessionCSVCreation?_c("p",[_c("DataPageTaskProgress",[_vm._v(_vm._s(_vm.$tr("generatingLog")))])],1):_c("KButton",{staticClass:"subheading-buttons",attrs:{text:_vm.$tr("generateLogButtonText")},on:{click:function($event){_vm.sessionDateRangeModal=!0}}})],1),_c("KGridItem",[_c("p",{staticClass:"section-seperator",style:{borderBottom:"1px solid "+_vm.$themeTokens.fineLine}})]),_c("KGridItem",{attrs:{layout12:{span:6}}},[_c("h3",{staticClass:"subheading"},[_vm._v("\n          "+_vm._s(_vm.$tr("summaryHeading"))+"\n        ")]),_c("p",{staticClass:"subheading-desc"},[_vm._v("\n          "+_vm._s(_vm.$tr("summarySubHeading"))+"\n        ")]),_c("p",{staticClass:"subheading-desc"},[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("LearnMore")},on:{click:function($event){_vm.showLearnMoreSummaryModal=!0}}})],1),_c("p",{staticClass:"generated-time",style:{color:_vm.$themeTokens.annotation}},[_vm.summaryDateCreated?_c("GeneratedElapsedTime",{attrs:{date:_vm.summaryDateCreated}}):_vm._e()],1)]),_c("KGridItem",{staticClass:"summary-section-buttons",class:_vm.windowSizeStyle,attrs:{layout12:{span:6,alignment:"right"}}},[_vm.availableSummaryCSVLog?_c("KButton",{staticClass:"subheading-buttons",style:_vm.windowIsMedium||_vm.windowIsSmall?{order:2}:{order:1},attrs:{appearance:"flat-button",text:_vm.$tr("download")},on:{click:_vm.downloadSummaryLog}}):_vm._e(),_vm.inSummaryCSVCreation?_c("p",[_c("DataPageTaskProgress",[_vm._v(_vm._s(_vm.$tr("generatingLog")))])],1):_c("KButton",{staticClass:"subheading-buttons",attrs:{text:_vm.$tr("generateLogButtonText")},on:{click:function($event){_vm.summaryDateRangeModal=!0}}})],1)],1)],1):_vm._e(),_vm.canUploadDownloadFiles?_c("ImportInterface"):_vm._e(),_c("SyncInterface"),_vm.showLearnMoreSummaryModal?_c("LearnMoreModal",{attrs:{logType:"summary"},on:{cancel:function($event){_vm.showLearnMoreSummaryModal=!1},submit:function($event){_vm.showLearnMoreSummaryModal=!1}}}):_vm._e(),_vm.showLearnMoreSessionModal?_c("LearnMoreModal",{attrs:{logType:"session"},on:{cancel:function($event){_vm.showLearnMoreSessionModal=!1},submit:function($event){_vm.showLearnMoreSessionModal=!1}}}):_vm._e(),_vm.summaryDateRangeModal?_c("KDateRange",_vm._b({staticClass:"generate-calendar",attrs:{firstAllowedDate:_vm.firstAllowedDate,lastAllowedDate:_vm.lastAllowedDate,defaultStartDate:_vm.summaryDateCreated,submitText:_vm.$tr("submitText"),cancelText:_vm.coreString("cancelAction"),title:_vm.$tr("title"),description:_vm.$tr("description"),dateLocale:_vm.selectedLanguage,startDateLegendText:_vm.$tr("startDateLegendText"),endDateLegendText:_vm.$tr("endDateLegendText"),previousMonthText:_vm.$tr("previousMonthText"),nextMonthText:_vm.$tr("nextMonthText")},on:{submit:_vm.generateSummaryLog,cancel:function($event){_vm.summaryDateRangeModal=!1}}},"KDateRange",_vm.errorMessages,!1)):_vm._e(),_vm.sessionDateRangeModal?_c("KDateRange",_vm._b({staticClass:"generate-calendar",attrs:{firstAllowedDate:_vm.firstAllowedDate,lastAllowedDate:_vm.lastAllowedDate,defaultStartDate:_vm.sessionDateCreated,submitText:_vm.$tr("submitText"),cancelText:_vm.coreString("cancelAction"),title:_vm.$tr("title"),description:_vm.$tr("description"),dateLocale:_vm.selectedLanguage,startDateLegendText:_vm.$tr("startDateLegendText"),endDateLegendText:_vm.$tr("endDateLegendText"),previousMonthText:_vm.$tr("previousMonthText"),nextMonthText:_vm.$tr("nextMonthText")},on:{submit:_vm.generateSessionLog,cancel:function($event){_vm.sessionDateRangeModal=!1}}},"KDateRange",_vm.errorMessages,!1)):_vm._e()],1)};DataPagevue_type_template_id_166fe566_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_urls_namespaceObject=kolibriCoreAppGlobal.urls,external_kolibriCoreAppGlobal_urls_default=__webpack_require__.n(external_kolibriCoreAppGlobal_urls_namespaceObject),validationConstants_MALFORMED="malformedErrorMessage",validationConstants_START_DATE_AFTER_END_DATE="startDateAfterEndDateErrorMessage",validationConstants_FUTURE_DATE="cannotSelectAFutureDateErrorMessage",validationConstants_DATE_BEFORE_FIRST_ALLOWED="dateBeforefirstAllowedErrorMessage",format=__webpack_require__(5276),format_default=__webpack_require__.n(format),KDateRangevue_type_template_id_11726e10_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{cancelText:_vm.cancelText,title:_vm.title,submitText:_vm.submitText,size:_vm.modalSize,submitDisabled:_vm.disabled,"data-test":"dateRangeModal"},on:{submit:_vm.onSubmit,cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_vm._t("description",(function(){return[_c("p",{ref:"description",staticClass:"description",attrs:{id:"modal-description"}},[_vm._v("\n        "+_vm._s(_vm.description)+"\n      ")])]})),_c("div",{staticClass:"date-inputs"},[_c("div",{staticClass:"left-input"},[_c("KDateInput",{attrs:{value:_vm.dateRange.start,inputRef:"dateStartRangeInput",errorMessage:_vm.invalidStartErrorMessage,legendText:_vm.startDateLegendText,"data-test":"startDate"},on:{updateDate:_vm.debouncedSetStartDate}})],1),_c("div",{staticClass:"right-input"},[_c("KDateInput",{attrs:{value:_vm.dateRange.end,inputRef:"dateEndRangeInput",errorMessage:_vm.invalidEndErrorMessage,legendText:_vm.endDateLegendText,"data-test":"endDate"},on:{updateDate:_vm.debouncedSetEndDate}})],1)]),_c("div",[_c("KDateCalendar",_vm._b({attrs:{firstAllowedDate:_vm.firstAllowedDate,lastAllowedDate:_vm.lastAllowedDate,selectedStartDate:_vm.createDate(_vm.dateRange.start),selectedEndDate:_vm.createDate(_vm.dateRange.end),previousMonthText:_vm.previousMonthText,nextMonthText:_vm.nextMonthText},on:{updateSelectedDates:_vm.setSelectedDatesFromCalendar}},"KDateCalendar",_vm.dateRange,!1,!0))],1)],2)])};KDateRangevue_type_template_id_11726e10_scoped_true_render._withStripped=!0;var types_ActionTypes,types_SpecialTargets,date_fns=__webpack_require__(6190),_assign=function(){return _assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},_assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function _tslib_values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function _tslib_read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function _tslib_spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}!function(ActionTypes){ActionTypes.Start="xstate.start",ActionTypes.Stop="xstate.stop",ActionTypes.Raise="xstate.raise",ActionTypes.Send="xstate.send",ActionTypes.Cancel="xstate.cancel",ActionTypes.NullEvent="",ActionTypes.Assign="xstate.assign",ActionTypes.After="xstate.after",ActionTypes.DoneState="done.state",ActionTypes.DoneInvoke="done.invoke",ActionTypes.Log="xstate.log",ActionTypes.Init="xstate.init",ActionTypes.Invoke="xstate.invoke",ActionTypes.ErrorExecution="error.execution",ActionTypes.ErrorCommunication="error.communication",ActionTypes.ErrorPlatform="error.platform",ActionTypes.ErrorCustom="xstate.error",ActionTypes.Update="xstate.update",ActionTypes.Pure="xstate.pure",ActionTypes.Choose="xstate.choose"}(types_ActionTypes||(types_ActionTypes={})),function(SpecialTargets){SpecialTargets.Parent="#_parent",SpecialTargets.Internal="#_internal"}(types_SpecialTargets||(types_SpecialTargets={}));var utils_a,EMPTY_ACTIVITY_MAP={},DEFAULT_GUARD_TYPE="xstate.guard",start=types_ActionTypes.Start,stop=types_ActionTypes.Stop,raise=types_ActionTypes.Raise,send=types_ActionTypes.Send,actionTypes_cancel=types_ActionTypes.Cancel,nullEvent=types_ActionTypes.NullEvent,actionTypes_assign=types_ActionTypes.Assign,log=(types_ActionTypes.After,types_ActionTypes.DoneState,types_ActionTypes.Log),init=types_ActionTypes.Init,actionTypes_invoke=types_ActionTypes.Invoke,errorPlatform=(types_ActionTypes.ErrorExecution,types_ActionTypes.ErrorPlatform),actionTypes_error=types_ActionTypes.ErrorCustom,actionTypes_update=types_ActionTypes.Update,choose=types_ActionTypes.Choose,pure=types_ActionTypes.Pure,environment_IS_PRODUCTION=!0;function utils_typeof(o){return utils_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},utils_typeof(o)}function matchesState(parentStateId,childStateId,delimiter){void 0===delimiter&&(delimiter=".");var parentStateValue=toStateValue(parentStateId,delimiter),childStateValue=toStateValue(childStateId,delimiter);return utils_isString(childStateValue)?!!utils_isString(parentStateValue)&&childStateValue===parentStateValue:utils_isString(parentStateValue)?parentStateValue in childStateValue:Object.keys(parentStateValue).every((function(key){return key in childStateValue&&matchesState(parentStateValue[key],childStateValue[key])}))}function getEventType(event){try{return utils_isString(event)||"number"==typeof event?"".concat(event):event.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function toStatePath(stateId,delimiter){try{return isArray(stateId)?stateId:stateId.toString().split(delimiter)}catch(e){throw new Error("'".concat(stateId,"' is not a valid state path."))}}function toStateValue(stateValue,delimiter){return"object"===utils_typeof(state=stateValue)&&"value"in state&&"context"in state&&"event"in state&&"_event"in state?stateValue.value:isArray(stateValue)?pathToStateValue(stateValue):"string"!=typeof stateValue?stateValue:pathToStateValue(toStatePath(stateValue,delimiter));var state}function pathToStateValue(statePath){if(1===statePath.length)return statePath[0];for(var value={},marker=value,i=0;i<statePath.length-1;i++)i===statePath.length-2?marker[statePath[i]]=statePath[i+1]:(marker[statePath[i]]={},marker=marker[statePath[i]]);return value}function mapValues(collection,iteratee){for(var result={},collectionKeys=Object.keys(collection),i=0;i<collectionKeys.length;i++){var key=collectionKeys[i];result[key]=iteratee(collection[key],key,collection,i)}return result}function mapFilterValues(collection,iteratee,predicate){var e_1,_a,result={};try{for(var _b=_tslib_values(Object.keys(collection)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,item=collection[key];predicate(item)&&(result[key]=iteratee(item,key,collection))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return result}var path=function(props){return function(object){var e_2,_a,result=object;try{for(var props_1=_tslib_values(props),props_1_1=props_1.next();!props_1_1.done;props_1_1=props_1.next()){result=result[props_1_1.value]}}catch(e_2_1){e_2={error:e_2_1}}finally{try{props_1_1&&!props_1_1.done&&(_a=props_1.return)&&_a.call(props_1)}finally{if(e_2)throw e_2.error}}return result}};function toStatePaths(stateValue){return stateValue?utils_isString(stateValue)?[[stateValue]]:utils_flatten(Object.keys(stateValue).map((function(key){var subStateValue=stateValue[key];return"string"==typeof subStateValue||subStateValue&&Object.keys(subStateValue).length?toStatePaths(stateValue[key]).map((function(subPath){return[key].concat(subPath)})):[[key]]}))):[[]]}function utils_flatten(array){var _a;return(_a=[]).concat.apply(_a,_tslib_spreadArray([],_tslib_read(array),!1))}function toArrayStrict(value){return isArray(value)?value:[value]}function toArray(value){return void 0===value?[]:toArrayStrict(value)}function mapContext(mapper,context,_event){var e_5,_a;if(utils_isFunction(mapper))return mapper(context,_event.data);var result={};try{for(var _b=_tslib_values(Object.keys(mapper)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,subMapper=mapper[key];utils_isFunction(subMapper)?result[key]=subMapper(context,_event.data):result[key]=subMapper}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_5)throw e_5.error}}return result}function isPromiseLike(value){return value instanceof Promise||!(null===value||!utils_isFunction(value)&&"object"!==utils_typeof(value)||!utils_isFunction(value.then))}function updateHistoryStates(hist,stateValue){return mapValues(hist.states,(function(subHist,key){if(subHist){var subStateValue=(utils_isString(stateValue)?void 0:stateValue[key])||(subHist?subHist.current:void 0);if(subStateValue)return{current:subStateValue,states:updateHistoryStates(subHist,subStateValue)}}}))}function updateContext(context,_event,assignActions,state){environment_IS_PRODUCTION||utils_warn(!!context,"Attempting to update undefined context");var updatedContext=context?assignActions.reduce((function(acc,assignAction){var e_7,_a,assignment=assignAction.assignment,meta={state:state,action:assignAction,_event:_event},partialUpdate={};if(utils_isFunction(assignment))partialUpdate=assignment(acc,_event.data,meta);else try{for(var _b=_tslib_values(Object.keys(assignment)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,propAssignment=assignment[key];partialUpdate[key]=utils_isFunction(propAssignment)?propAssignment(acc,_event.data,meta):propAssignment}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_7)throw e_7.error}}return Object.assign({},acc,partialUpdate)}),context):context;return updatedContext}var utils_warn=function(){};function isArray(value){return Array.isArray(value)}function utils_isFunction(value){return"function"==typeof value}function utils_isString(value){return"string"==typeof value}function toGuard(condition,guardMap){if(condition)return utils_isString(condition)?{type:DEFAULT_GUARD_TYPE,name:condition,predicate:guardMap?guardMap[condition]:void 0}:utils_isFunction(condition)?{type:DEFAULT_GUARD_TYPE,name:condition.name,predicate:condition}:condition}environment_IS_PRODUCTION||(utils_warn=function(condition,message){var error=condition instanceof Error?condition:void 0;if((error||!condition)&&void 0!==console){var args=["Warning: ".concat(message)];error&&args.push(error),console.warn.apply(console,args)}});var symbolObservable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();(utils_a={})[symbolObservable]=function(){return this},utils_a[Symbol.observable]=function(){return this};function utils_isMachine(value){return!!value&&"__xstatenode"in value}function toEventObject(event,payload){return utils_isString(event)||"number"==typeof event?_assign({type:event},payload):event}function toSCXMLEvent(event,scxmlEvent){if(!utils_isString(event)&&"$$type"in event&&"scxml"===event.$$type)return event;var eventObject=toEventObject(event);return _assign({name:eventObject.type,data:eventObject,$$type:"scxml",type:"external"},scxmlEvent)}function toTransitionConfigArray(event,configLike){return toArrayStrict(configLike).map((function(transitionLike){return void 0===transitionLike||"string"==typeof transitionLike||utils_isMachine(transitionLike)?{target:transitionLike,event:event}:_assign(_assign({},transitionLike),{event:event})}))}function evaluateGuard(machine,guard,context,_event,state){var guards=machine.options.guards,guardMeta={state:state,cond:guard,_event:_event};if(guard.type===DEFAULT_GUARD_TYPE)return((null==guards?void 0:guards[guard.name])||guard.predicate)(context,_event.data,guardMeta);var condFn=null==guards?void 0:guards[guard.type];if(!condFn)throw new Error("Guard '".concat(guard.type,"' is not implemented on machine '").concat(machine.id,"'."));return condFn(context,_event.data,guardMeta)}function toInvokeSource(src){return"string"==typeof src?{type:src}:src}function toObserver(nextHandler,errorHandler,completionHandler){var noop=function(){},isObserver="object"===utils_typeof(nextHandler),self=isObserver?nextHandler:null;return{next:((isObserver?nextHandler.next:nextHandler)||noop).bind(self),error:((isObserver?nextHandler.error:errorHandler)||noop).bind(self),complete:((isObserver?nextHandler.complete:completionHandler)||noop).bind(self)}}function createInvokeId(stateNodeId,index){return"".concat(stateNodeId,":invocation[").concat(index,"]")}function isRaisableAction(action){return(action.type===raise||action.type===send&&action.to===types_SpecialTargets.Internal)&&"number"!=typeof action.delay}var isLeafNode=function(stateNode){return"atomic"===stateNode.type||"final"===stateNode.type};function getAllChildren(stateNode){return Object.keys(stateNode.states).map((function(key){return stateNode.states[key]}))}function getChildren(stateNode){return getAllChildren(stateNode).filter((function(sn){return"history"!==sn.type}))}function getAllStateNodes(stateNode){var stateNodes=[stateNode];return isLeafNode(stateNode)?stateNodes:stateNodes.concat(utils_flatten(getChildren(stateNode).map(getAllStateNodes)))}function getConfiguration(prevStateNodes,stateNodes){var e_1,_a,e_2,_b,e_3,_c,e_4,_d,prevAdjList=getAdjList(new Set(prevStateNodes)),configuration=new Set(stateNodes);try{for(var configuration_1=_tslib_values(configuration),configuration_1_1=configuration_1.next();!configuration_1_1.done;configuration_1_1=configuration_1.next())for(var m=(s=configuration_1_1.value).parent;m&&!configuration.has(m);)configuration.add(m),m=m.parent}catch(e_1_1){e_1={error:e_1_1}}finally{try{configuration_1_1&&!configuration_1_1.done&&(_a=configuration_1.return)&&_a.call(configuration_1)}finally{if(e_1)throw e_1.error}}var adjList=getAdjList(configuration);try{for(var configuration_2=_tslib_values(configuration),configuration_2_1=configuration_2.next();!configuration_2_1.done;configuration_2_1=configuration_2.next()){if("compound"!==(s=configuration_2_1.value).type||adjList.get(s)&&adjList.get(s).length){if("parallel"===s.type)try{for(var _e=(e_3=void 0,_tslib_values(getChildren(s))),_f=_e.next();!_f.done;_f=_e.next()){var child=_f.value;configuration.has(child)||(configuration.add(child),prevAdjList.get(child)?prevAdjList.get(child).forEach((function(sn){return configuration.add(sn)})):child.initialStateNodes.forEach((function(sn){return configuration.add(sn)})))}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_f&&!_f.done&&(_c=_e.return)&&_c.call(_e)}finally{if(e_3)throw e_3.error}}}else prevAdjList.get(s)?prevAdjList.get(s).forEach((function(sn){return configuration.add(sn)})):s.initialStateNodes.forEach((function(sn){return configuration.add(sn)}))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{configuration_2_1&&!configuration_2_1.done&&(_b=configuration_2.return)&&_b.call(configuration_2)}finally{if(e_2)throw e_2.error}}try{for(var configuration_3=_tslib_values(configuration),configuration_3_1=configuration_3.next();!configuration_3_1.done;configuration_3_1=configuration_3.next()){var s;for(m=(s=configuration_3_1.value).parent;m&&!configuration.has(m);)configuration.add(m),m=m.parent}}catch(e_4_1){e_4={error:e_4_1}}finally{try{configuration_3_1&&!configuration_3_1.done&&(_d=configuration_3.return)&&_d.call(configuration_3)}finally{if(e_4)throw e_4.error}}return configuration}function getValueFromAdj(baseNode,adjList){var childStateNodes=adjList.get(baseNode);if(!childStateNodes)return{};if("compound"===baseNode.type){var childStateNode=childStateNodes[0];if(!childStateNode)return{};if(isLeafNode(childStateNode))return childStateNode.key}var stateValue={};return childStateNodes.forEach((function(csn){stateValue[csn.key]=getValueFromAdj(csn,adjList)})),stateValue}function getAdjList(configuration){var e_5,_a,adjList=new Map;try{for(var configuration_4=_tslib_values(configuration),configuration_4_1=configuration_4.next();!configuration_4_1.done;configuration_4_1=configuration_4.next()){var s=configuration_4_1.value;adjList.has(s)||adjList.set(s,[]),s.parent&&(adjList.has(s.parent)||adjList.set(s.parent,[]),adjList.get(s.parent).push(s))}}catch(e_5_1){e_5={error:e_5_1}}finally{try{configuration_4_1&&!configuration_4_1.done&&(_a=configuration_4.return)&&_a.call(configuration_4)}finally{if(e_5)throw e_5.error}}return adjList}function getValue(rootNode,configuration){return getValueFromAdj(rootNode,getAdjList(getConfiguration([rootNode],configuration)))}function has(iterable,item){return Array.isArray(iterable)?iterable.some((function(member){return member===item})):iterable instanceof Set&&iterable.has(item)}function isInFinalState(configuration,stateNode){return"compound"===stateNode.type?getChildren(stateNode).some((function(s){return"final"===s.type&&has(configuration,s)})):"parallel"===stateNode.type&&getChildren(stateNode).every((function(sn){return isInFinalState(configuration,sn)}))}function getTagsFromConfiguration(configuration){return new Set(utils_flatten(configuration.map((function(sn){return sn.tags}))))}var initEvent=toSCXMLEvent({type:init});function getActionFunction(actionType,actionFunctionMap){return actionFunctionMap&&actionFunctionMap[actionType]||void 0}function toActionObject(action,actionFunctionMap){var actionObject;if(utils_isString(action)||"number"==typeof action)actionObject=utils_isFunction(exec=getActionFunction(action,actionFunctionMap))?{type:action,exec:exec}:exec||{type:action,exec:void 0};else if(utils_isFunction(action))actionObject={type:action.name||action.toString(),exec:action};else{var exec;if(utils_isFunction(exec=getActionFunction(action.type,actionFunctionMap)))actionObject=_assign(_assign({},action),{exec:exec});else if(exec){var actionType=exec.type||action.type;actionObject=_assign(_assign(_assign({},exec),action),{type:actionType})}else actionObject=action}return actionObject}var toActionObjects=function(action,actionFunctionMap){return action?(isArray(action)?action:[action]).map((function(subAction){return toActionObject(subAction,actionFunctionMap)})):[]};function toActivityDefinition(action){var actionObject=toActionObject(action);return _assign(_assign({id:utils_isString(action)?action:actionObject.id},actionObject),{type:actionObject.type})}function actions_send(event,options){return{to:options?options.to:void 0,type:send,event:utils_isFunction(event)?event:toEventObject(event),delay:options?options.delay:void 0,id:options&&void 0!==options.id?options.id:utils_isFunction(event)?event.name:getEventType(event)}}function done(id,data){var type="".concat(types_ActionTypes.DoneState,".").concat(id),eventObject={type:type,data:data,toString:function(){return type}};return eventObject}function actions_doneInvoke(id,data){var type="".concat(types_ActionTypes.DoneInvoke,".").concat(id),eventObject={type:type,data:data,toString:function(){return type}};return eventObject}function actions_error(id,data){var type="".concat(types_ActionTypes.ErrorPlatform,".").concat(id),eventObject={type:type,data:data,toString:function(){return type}};return eventObject}function resolveActions(machine,currentState,currentContext,_event,actionBlocks,predictableExec,preserveActionOrder){void 0===preserveActionOrder&&(preserveActionOrder=!1);var assignActions=preserveActionOrder?[]:function(actionBlocks){var e_1,_a,assignActions=[];try{for(var actionBlocks_1=_tslib_values(actionBlocks),actionBlocks_1_1=actionBlocks_1.next();!actionBlocks_1_1.done;actionBlocks_1_1=actionBlocks_1.next())for(var block=actionBlocks_1_1.value,i=0;i<block.actions.length;)block.actions[i].type!==actionTypes_assign?i++:(assignActions.push(block.actions[i]),block.actions.splice(i,1))}catch(e_1_1){e_1={error:e_1_1}}finally{try{actionBlocks_1_1&&!actionBlocks_1_1.done&&(_a=actionBlocks_1.return)&&_a.call(actionBlocks_1)}finally{if(e_1)throw e_1.error}}return assignActions}(actionBlocks),updatedContext=assignActions.length?updateContext(currentContext,_event,assignActions,currentState):currentContext,preservedContexts=preserveActionOrder?[currentContext]:void 0,deferredToBlockEnd=[];function handleAction(blockType,actionObject){var _a;switch(actionObject.type){case raise:var raisedAction=function(action,ctx,_event,delaysMap){var resolvedDelay,meta={_event:_event},resolvedEvent=toSCXMLEvent(utils_isFunction(action.event)?action.event(ctx,_event.data,meta):action.event);if(utils_isString(action.delay)){var configDelay=delaysMap&&delaysMap[action.delay];resolvedDelay=utils_isFunction(configDelay)?configDelay(ctx,_event.data,meta):configDelay}else resolvedDelay=utils_isFunction(action.delay)?action.delay(ctx,_event.data,meta):action.delay;return _assign(_assign({},action),{type:raise,_event:resolvedEvent,delay:resolvedDelay})}(actionObject,updatedContext,_event,machine.options.delays);return predictableExec&&"number"==typeof raisedAction.delay&&predictableExec(raisedAction,updatedContext,_event),raisedAction;case send:var sendAction=function(action,ctx,_event,delaysMap){var resolvedDelay,meta={_event:_event},resolvedEvent=toSCXMLEvent(utils_isFunction(action.event)?action.event(ctx,_event.data,meta):action.event);if(utils_isString(action.delay)){var configDelay=delaysMap&&delaysMap[action.delay];resolvedDelay=utils_isFunction(configDelay)?configDelay(ctx,_event.data,meta):configDelay}else resolvedDelay=utils_isFunction(action.delay)?action.delay(ctx,_event.data,meta):action.delay;var resolvedTarget=utils_isFunction(action.to)?action.to(ctx,_event.data,meta):action.to;return _assign(_assign({},action),{to:resolvedTarget,_event:resolvedEvent,event:resolvedEvent.data,delay:resolvedDelay})}(actionObject,updatedContext,_event,machine.options.delays);if(!environment_IS_PRODUCTION){var configuredDelay=actionObject.delay;utils_warn(!utils_isString(configuredDelay)||"number"==typeof sendAction.delay,"No delay reference for delay expression '".concat(configuredDelay,"' was found on machine '").concat(machine.id,"'"))}return predictableExec&&sendAction.to!==types_SpecialTargets.Internal&&("entry"===blockType?deferredToBlockEnd.push(sendAction):predictableExec(sendAction,updatedContext,_event)),sendAction;case log:var resolved=function(action,ctx,_event){return _assign(_assign({},action),{value:utils_isString(action.expr)?action.expr:action.expr(ctx,_event.data,{_event:_event})})}(actionObject,updatedContext,_event);return null==predictableExec||predictableExec(resolved,updatedContext,_event),resolved;case choose:if(!(matchedActions=null===(_a=actionObject.conds.find((function(condition){var guard=toGuard(condition.cond,machine.options.guards);return!guard||evaluateGuard(machine,guard,updatedContext,_event,predictableExec?void 0:currentState)})))||void 0===_a?void 0:_a.actions))return[];var _b=_tslib_read(resolveActions(machine,currentState,updatedContext,_event,[{type:blockType,actions:toActionObjects(toArray(matchedActions),machine.options.actions)}],predictableExec,preserveActionOrder),2),resolvedActionsFromChoose=_b[0],resolvedContextFromChoose=_b[1];return updatedContext=resolvedContextFromChoose,null==preservedContexts||preservedContexts.push(updatedContext),resolvedActionsFromChoose;case pure:var matchedActions;if(!(matchedActions=actionObject.get(updatedContext,_event.data)))return[];var _c=_tslib_read(resolveActions(machine,currentState,updatedContext,_event,[{type:blockType,actions:toActionObjects(toArray(matchedActions),machine.options.actions)}],predictableExec,preserveActionOrder),2),resolvedActionsFromPure=_c[0],resolvedContext=_c[1];return updatedContext=resolvedContext,null==preservedContexts||preservedContexts.push(updatedContext),resolvedActionsFromPure;case stop:resolved=function(action,context,_event){var actorRefOrString=utils_isFunction(action.activity)?action.activity(context,_event.data):action.activity,resolvedActorRef="string"==typeof actorRefOrString?{id:actorRefOrString}:actorRefOrString;return{type:types_ActionTypes.Stop,activity:resolvedActorRef}}(actionObject,updatedContext,_event);return null==predictableExec||predictableExec(resolved,currentContext,_event),resolved;case actionTypes_assign:updatedContext=updateContext(updatedContext,_event,[actionObject],predictableExec?void 0:currentState),null==preservedContexts||preservedContexts.push(updatedContext);break;default:var resolvedActionObject=toActionObject(actionObject,machine.options.actions),exec_1=resolvedActionObject.exec;if(predictableExec)predictableExec(resolvedActionObject,updatedContext,_event);else if(exec_1&&preservedContexts){var contextIndex_1=preservedContexts.length-1,wrapped=_assign(_assign({},resolvedActionObject),{exec:function(_ctx){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];exec_1.apply(void 0,_tslib_spreadArray([preservedContexts[contextIndex_1]],_tslib_read(args),!1))}});resolvedActionObject=wrapped}return resolvedActionObject}}var resolvedActions=utils_flatten(actionBlocks.map((function(block){var e_2,_a,resolvedActions=[];try{for(var _b=_tslib_values(block.actions),_c=_b.next();!_c.done;_c=_b.next()){var action=_c.value,resolved=handleAction(block.type,action);resolved&&(resolvedActions=resolvedActions.concat(resolved))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return deferredToBlockEnd.forEach((function(action){predictableExec(action,updatedContext,_event)})),deferredToBlockEnd.length=0,resolvedActions})));return[resolvedActions,updatedContext]}function State_typeof(o){return State_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},State_typeof(o)}function stateValuesEqual(a,b){if(a===b)return!0;if(void 0===a||void 0===b)return!1;if(utils_isString(a)||utils_isString(b))return a===b;var aKeys=Object.keys(a),bKeys=Object.keys(b);return aKeys.length===bKeys.length&&aKeys.every((function(key){return stateValuesEqual(a[key],b[key])}))}function isStateConfig(state){return"object"===State_typeof(state)&&null!==state&&("value"in state&&"_event"in state)}var State=function(){function State(config){var _a,configuration,_this=this;this.actions=[],this.activities=EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=config.value,this.context=config.context,this._event=config._event,this._sessionid=config._sessionid,this.event=this._event.data,this.historyValue=config.historyValue,this.history=config.history,this.actions=config.actions||[],this.activities=config.activities||EMPTY_ACTIVITY_MAP,this.meta=(void 0===(configuration=config.configuration)&&(configuration=[]),configuration.reduce((function(acc,stateNode){return void 0!==stateNode.meta&&(acc[stateNode.id]=stateNode.meta),acc}),{})),this.events=config.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=config.configuration,this.transitions=config.transitions,this.children=config.children,this.done=!!config.done,this.tags=null!==(_a=Array.isArray(config.tags)?new Set(config.tags):config.tags)&&void 0!==_a?_a:new Set,this.machine=config.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(configuration){return _tslib_spreadArray([],_tslib_read(new Set(utils_flatten(_tslib_spreadArray([],_tslib_read(configuration.map((function(sn){return sn.ownEvents}))),!1)))),!1)}(_this.configuration)}})}return State.from=function(stateValue,context){return stateValue instanceof State?stateValue.context!==context?new State({value:stateValue.value,context:context,_event:stateValue._event,_sessionid:null,historyValue:stateValue.historyValue,history:stateValue.history,actions:[],activities:stateValue.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):stateValue:new State({value:stateValue,context:context,_event:initEvent,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},State.create=function(config){return new State(config)},State.inert=function(stateValue,context){if(stateValue instanceof State){if(!stateValue.actions.length)return stateValue;var _event=initEvent;return new State({value:stateValue.value,context:context,_event:_event,_sessionid:null,historyValue:stateValue.historyValue,history:stateValue.history,activities:stateValue.activities,configuration:stateValue.configuration,transitions:[],children:{}})}return State.from(stateValue,context)},State.prototype.toStrings=function(stateValue,delimiter){var _this=this;if(void 0===stateValue&&(stateValue=this.value),void 0===delimiter&&(delimiter="."),utils_isString(stateValue))return[stateValue];var valueKeys=Object.keys(stateValue);return valueKeys.concat.apply(valueKeys,_tslib_spreadArray([],_tslib_read(valueKeys.map((function(key){return _this.toStrings(stateValue[key],delimiter).map((function(s){return key+delimiter+s}))}))),!1))},State.prototype.toJSON=function(){var _a=this;_a.configuration,_a.transitions;var tags=_a.tags;_a.machine;var jsonValues=__rest(_a,["configuration","transitions","tags","machine"]);return _assign(_assign({},jsonValues),{tags:Array.from(tags)})},State.prototype.matches=function(parentStateValue){return matchesState(parentStateValue,this.value)},State.prototype.hasTag=function(tag){return this.tags.has(tag)},State.prototype.can=function(event){var _a;environment_IS_PRODUCTION&&utils_warn(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var transitionData=null===(_a=this.machine)||void 0===_a?void 0:_a.getTransitionData(this,event);return!!(null==transitionData?void 0:transitionData.transitions.length)&&transitionData.transitions.some((function(t){return void 0!==t.target||t.actions.length}))},State}(),defaultOptions={deferEvents:!1},Scheduler=function(){function Scheduler(options){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=_assign(_assign({},defaultOptions),options)}return Scheduler.prototype.initialize=function(callback){if(this.initialized=!0,callback){if(!this.options.deferEvents)return void this.schedule(callback);this.process(callback)}this.flushEvents()},Scheduler.prototype.schedule=function(task){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(task),this.flushEvents()}else this.queue.push(task)},Scheduler.prototype.clear=function(){this.queue=[]},Scheduler.prototype.flushEvents=function(){for(var nextCallback=this.queue.shift();nextCallback;)this.process(nextCallback),nextCallback=this.queue.shift()},Scheduler.prototype.process=function(callback){this.processingEvent=!0;try{callback()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},Scheduler}(),serviceStack=[],serviceScope_provide=function(service,fn){serviceStack.push(service);var result=fn(service);return serviceStack.pop(),result};function createNullActor(id){var _a;return(_a={id:id,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:id}}})[symbolObservable]=function(){return this},_a}function Actor_createDeferredActor(entity,id,data){var tempActor=createNullActor(id);if(tempActor.deferred=!0,utils_isMachine(entity)){var initialState_1=tempActor.state=serviceScope_provide(void 0,(function(){return(data?entity.withContext(data):entity).initialState}));tempActor.getSnapshot=function(){return initialState_1}}return tempActor}var children=new Map,sessionIdIndex=0,registry_bookId=function(){return"x:".concat(sessionIdIndex++)},registry_register=function(id,actor){return children.set(id,actor),id},registry_get=function(id){return children.get(id)},registry_free=function(id){children.delete(id)};function getGlobal(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void(environment_IS_PRODUCTION||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}function registerService(service){if(getGlobal()){var devTools=function(){var global=getGlobal();if(global&&"__xstate__"in global)return global.__xstate__}();devTools&&devTools.register(service)}}function spawnBehavior(behavior,options){void 0===options&&(options={});var state=behavior.initialState,observers=new Set,mailbox=[],flushing=!1,actor=function(actorRefLike){var _a;return _assign(((_a={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[symbolObservable]=function(){return this},_a),actorRefLike)}({id:options.id,send:function(event){mailbox.push(event),function(){if(!flushing){for(flushing=!0;mailbox.length>0;){var event_1=mailbox.shift();state=behavior.transition(state,event_1,actorCtx),observers.forEach((function(observer){return observer.next(state)}))}flushing=!1}}()},getSnapshot:function(){return state},subscribe:function(next,handleError,complete){var observer=toObserver(next,handleError,complete);return observers.add(observer),observer.next(state),{unsubscribe:function(){observers.delete(observer)}}}}),actorCtx={parent:options.parent,self:actor,id:options.id||"anonymous",observers:observers};return state=behavior.start?behavior.start(actorCtx):state,actor}function interpreter_typeof(o){return interpreter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},interpreter_typeof(o)}var InterpreterStatus,DEFAULT_SPAWN_OPTIONS={sync:!1,autoForward:!1};!function(InterpreterStatus){InterpreterStatus[InterpreterStatus.NotStarted=0]="NotStarted",InterpreterStatus[InterpreterStatus.Running=1]="Running",InterpreterStatus[InterpreterStatus.Stopped=2]="Stopped"}(InterpreterStatus||(InterpreterStatus={}));var Interpreter=function(){function Interpreter(machine,options){void 0===options&&(options=Interpreter.defaultOptions);var _this=this;this.machine=machine,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=InterpreterStatus.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(event,payload){if(isArray(event))return _this.batch(event),_this.state;var _event=toSCXMLEvent(toEventObject(event,payload));if(_this.status===InterpreterStatus.Stopped)return environment_IS_PRODUCTION||utils_warn(!1,'Event "'.concat(_event.name,'" was sent to stopped service "').concat(_this.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(_event.data))),_this.state;if(_this.status!==InterpreterStatus.Running&&!_this.options.deferEvents)throw new Error('Event "'.concat(_event.name,'" was sent to uninitialized service "').concat(_this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(_event.data)));return _this.scheduler.schedule((function(){_this.forward(_event);var nextState=_this._nextState(_event);_this.update(nextState,_event)})),_this._state},this.sendTo=function(event,to,immediate){var value,isParent=_this.parent&&(to===types_SpecialTargets.Parent||_this.parent.id===to),target=isParent?_this.parent:utils_isString(to)?to===types_SpecialTargets.Internal?_this:_this.children.get(to)||registry_get(to):(value=to)&&"function"==typeof value.send?to:void 0;if(target)if("machine"in target){if(_this.status!==InterpreterStatus.Stopped||_this.parent!==target||_this.state.done){var scxmlEvent=_assign(_assign({},event),{name:event.name===actionTypes_error?"".concat(actions_error(_this.id)):event.name,origin:_this.sessionId});!immediate&&_this.machine.config.predictableActionArguments?_this._outgoingQueue.push([target,scxmlEvent]):target.send(scxmlEvent)}}else!immediate&&_this.machine.config.predictableActionArguments?_this._outgoingQueue.push([target,event.data]):target.send(event.data);else{if(!isParent)throw new Error("Unable to send event to child '".concat(to,"' from service '").concat(_this.id,"'."));environment_IS_PRODUCTION||utils_warn(!1,"Service '".concat(_this.id,"' has no parent: unable to send event ").concat(event.type))}},this._exec=function(action,context,_event,actionFunctionMap){void 0===actionFunctionMap&&(actionFunctionMap=_this.machine.options.actions);var actionOrExec=action.exec||getActionFunction(action.type,actionFunctionMap),exec=utils_isFunction(actionOrExec)?actionOrExec:actionOrExec?actionOrExec.exec:action.exec;if(exec)try{return exec(context,_event.data,_this.machine.config.predictableActionArguments?{action:action,_event:_event}:{action:action,state:_this.state,_event:_event})}catch(err){throw _this.parent&&_this.parent.send({type:"xstate.error",data:err}),err}switch(action.type){case raise:var sendAction_1=action;_this.defer(sendAction_1);break;case send:var sendAction=action;if("number"==typeof sendAction.delay)return void _this.defer(sendAction);sendAction.to?_this.sendTo(sendAction._event,sendAction.to,_event===initEvent):_this.send(sendAction._event);break;case actionTypes_cancel:_this.cancel(action.sendId);break;case start:if(_this.status!==InterpreterStatus.Running)return;var activity=action.activity;if(!_this.machine.config.predictableActionArguments&&!_this.state.activities[activity.id||activity.type])break;if(activity.type===types_ActionTypes.Invoke){var invokeSource=toInvokeSource(activity.src),serviceCreator=_this.machine.options.services?_this.machine.options.services[invokeSource.type]:void 0,id=activity.id,data=activity.data;environment_IS_PRODUCTION||utils_warn(!("forward"in activity),"`forward` property is deprecated (found in invocation of '".concat(activity.src,"' in in machine '").concat(_this.machine.id,"'). ")+"Please use `autoForward` instead.");var autoForward="autoForward"in activity?activity.autoForward:!!activity.forward;if(!serviceCreator)return void(environment_IS_PRODUCTION||utils_warn(!1,"No service found for invocation '".concat(activity.src,"' in machine '").concat(_this.machine.id,"'.")));var resolvedData=data?mapContext(data,context,_event):void 0;if("string"==typeof serviceCreator)return;var source=utils_isFunction(serviceCreator)?serviceCreator(context,_event.data,{data:resolvedData,src:invokeSource,meta:activity.meta}):serviceCreator;if(!source)return;var options=void 0;utils_isMachine(source)&&(source=resolvedData?source.withContext(resolvedData):source,options={autoForward:autoForward}),_this.spawn(source,id,options)}else _this.spawnActivity(activity);break;case stop:_this.stopChild(action.activity.id);break;case log:var _a=action,label=_a.label,value=_a.value;label?_this.logger(label,value):_this.logger(value);break;default:environment_IS_PRODUCTION||utils_warn(!1,"No implementation found for action type '".concat(action.type,"'"))}};var resolvedOptions=_assign(_assign({},Interpreter.defaultOptions),options),clock=resolvedOptions.clock,logger=resolvedOptions.logger,parent=resolvedOptions.parent,id=resolvedOptions.id,resolvedId=void 0!==id?id:machine.id;this.id=resolvedId,this.logger=logger,this.clock=clock,this.parent=parent,this.options=resolvedOptions,this.scheduler=new Scheduler({deferEvents:this.options.deferEvents}),this.sessionId=registry_bookId()}return Object.defineProperty(Interpreter.prototype,"initialState",{get:function(){var _this=this;return this._initialState?this._initialState:serviceScope_provide(this,(function(){return _this._initialState=_this.machine.initialState,_this._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(Interpreter.prototype,"state",{get:function(){return environment_IS_PRODUCTION||utils_warn(this.status!==InterpreterStatus.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),Interpreter.prototype.execute=function(state,actionsConfig){var e_1,_a;try{for(var _b=_tslib_values(state.actions),_c=_b.next();!_c.done;_c=_b.next()){var action=_c.value;this.exec(action,state,actionsConfig)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},Interpreter.prototype.update=function(state,_event){var e_2,_a,e_3,_b,e_4,_c,e_5,_d,_this=this;if(state._sessionid=this.sessionId,this._state=state,this.machine.config.predictableActionArguments&&_event!==initEvent||!this.options.execute)for(var item=void 0;item=this._outgoingQueue.shift();)item[0].send(item[1]);else this.execute(this.state);if(this.children.forEach((function(child){_this.state.children[child.id]=child})),this.devTools&&this.devTools.send(_event.data,state),state.event)try{for(var _e=_tslib_values(this.eventListeners),_f=_e.next();!_f.done;_f=_e.next()){(0,_f.value)(state.event)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_a=_e.return)&&_a.call(_e)}finally{if(e_2)throw e_2.error}}try{for(var _g=_tslib_values(this.listeners),_h=_g.next();!_h.done;_h=_g.next()){(0,_h.value)(state,state.event)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_h&&!_h.done&&(_b=_g.return)&&_b.call(_g)}finally{if(e_3)throw e_3.error}}try{for(var _j=_tslib_values(this.contextListeners),_k=_j.next();!_k.done;_k=_j.next()){(0,_k.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_k&&!_k.done&&(_c=_j.return)&&_c.call(_j)}finally{if(e_4)throw e_4.error}}if(this.state.done){var finalChildStateNode=state.configuration.find((function(sn){return"final"===sn.type&&sn.parent===_this.machine})),doneData=finalChildStateNode&&finalChildStateNode.doneData?mapContext(finalChildStateNode.doneData,state.context,_event):void 0;this._doneEvent=actions_doneInvoke(this.id,doneData);try{for(var _l=_tslib_values(this.doneListeners),_m=_l.next();!_m.done;_m=_l.next()){(0,_m.value)(this._doneEvent)}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_m&&!_m.done&&(_d=_l.return)&&_d.call(_l)}finally{if(e_5)throw e_5.error}}this._stop(),this._stopChildren(),registry_free(this.sessionId)}},Interpreter.prototype.onTransition=function(listener){return this.listeners.add(listener),this.status===InterpreterStatus.Running&&listener(this.state,this.state.event),this},Interpreter.prototype.subscribe=function(nextListenerOrObserver,_,completeListener){var _this=this,observer=toObserver(nextListenerOrObserver,_,completeListener);this.listeners.add(observer.next),this.status!==InterpreterStatus.NotStarted&&observer.next(this.state);var completeOnce=function completeOnce(){_this.doneListeners.delete(completeOnce),_this.stopListeners.delete(completeOnce),observer.complete()};return this.status===InterpreterStatus.Stopped?observer.complete():(this.onDone(completeOnce),this.onStop(completeOnce)),{unsubscribe:function(){_this.listeners.delete(observer.next),_this.doneListeners.delete(completeOnce),_this.stopListeners.delete(completeOnce)}}},Interpreter.prototype.onEvent=function(listener){return this.eventListeners.add(listener),this},Interpreter.prototype.onSend=function(listener){return this.sendListeners.add(listener),this},Interpreter.prototype.onChange=function(listener){return this.contextListeners.add(listener),this},Interpreter.prototype.onStop=function(listener){return this.stopListeners.add(listener),this},Interpreter.prototype.onDone=function(listener){return this.status===InterpreterStatus.Stopped&&this._doneEvent?listener(this._doneEvent):this.doneListeners.add(listener),this},Interpreter.prototype.off=function(listener){return this.listeners.delete(listener),this.eventListeners.delete(listener),this.sendListeners.delete(listener),this.stopListeners.delete(listener),this.doneListeners.delete(listener),this.contextListeners.delete(listener),this},Interpreter.prototype.start=function(initialState){var _this=this;if(this.status===InterpreterStatus.Running)return this;this.machine._init(),registry_register(this.sessionId,this),this.initialized=!0,this.status=InterpreterStatus.Running;var resolvedState=void 0===initialState?this.initialState:serviceScope_provide(this,(function(){return isStateConfig(initialState)?_this.machine.resolveState(initialState):_this.machine.resolveState(State.from(initialState,_this.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){_this.update(resolvedState,initEvent)})),this},Interpreter.prototype._stopChildren=function(){this.children.forEach((function(child){utils_isFunction(child.stop)&&child.stop()})),this.children.clear()},Interpreter.prototype._stop=function(){var e_6,_a,e_7,_b,e_8,_c,e_9,_d,e_10,_e;try{for(var _f=_tslib_values(this.listeners),_g=_f.next();!_g.done;_g=_f.next()){var listener=_g.value;this.listeners.delete(listener)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{_g&&!_g.done&&(_a=_f.return)&&_a.call(_f)}finally{if(e_6)throw e_6.error}}try{for(var _h=_tslib_values(this.stopListeners),_j=_h.next();!_j.done;_j=_h.next()){(listener=_j.value)(),this.stopListeners.delete(listener)}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_j&&!_j.done&&(_b=_h.return)&&_b.call(_h)}finally{if(e_7)throw e_7.error}}try{for(var _k=_tslib_values(this.contextListeners),_l=_k.next();!_l.done;_l=_k.next()){listener=_l.value;this.contextListeners.delete(listener)}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_l&&!_l.done&&(_c=_k.return)&&_c.call(_k)}finally{if(e_8)throw e_8.error}}try{for(var _m=_tslib_values(this.doneListeners),_o=_m.next();!_o.done;_o=_m.next()){listener=_o.value;this.doneListeners.delete(listener)}}catch(e_9_1){e_9={error:e_9_1}}finally{try{_o&&!_o.done&&(_d=_m.return)&&_d.call(_m)}finally{if(e_9)throw e_9.error}}if(!this.initialized)return this;this.initialized=!1,this.status=InterpreterStatus.Stopped,this._initialState=void 0;try{for(var _p=_tslib_values(Object.keys(this.delayedEventsMap)),_q=_p.next();!_q.done;_q=_p.next()){var key=_q.value;this.clock.clearTimeout(this.delayedEventsMap[key])}}catch(e_10_1){e_10={error:e_10_1}}finally{try{_q&&!_q.done&&(_e=_p.return)&&_e.call(_p)}finally{if(e_10)throw e_10.error}}this.scheduler.clear(),this.scheduler=new Scheduler({deferEvents:this.options.deferEvents})},Interpreter.prototype.stop=function(){var _this=this,scheduler=this.scheduler;return this._stop(),scheduler.schedule((function(){var _a;if(!(null===(_a=_this._state)||void 0===_a?void 0:_a.done)){var _event=toSCXMLEvent({type:"xstate.stop"}),nextState=serviceScope_provide(_this,(function(){var exitActions=utils_flatten(_tslib_spreadArray([],_tslib_read(_this.state.configuration),!1).sort((function(a,b){return b.order-a.order})).map((function(stateNode){return toActionObjects(stateNode.onExit,_this.machine.options.actions)}))),_a=_tslib_read(resolveActions(_this.machine,_this.state,_this.state.context,_event,[{type:"exit",actions:exitActions}],_this.machine.config.predictableActionArguments?_this._exec:void 0,_this.machine.config.predictableActionArguments||_this.machine.config.preserveActionOrder),2),resolvedActions=_a[0],updatedContext=_a[1],newState=new State({value:_this.state.value,context:updatedContext,_event:_event,_sessionid:_this.sessionId,historyValue:void 0,history:_this.state,actions:resolvedActions.filter((function(action){return!isRaisableAction(action)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:_this.state.done,tags:_this.state.tags,machine:_this.machine});return newState.changed=!0,newState}));_this.update(nextState,_event),_this._stopChildren(),registry_free(_this.sessionId)}})),this},Interpreter.prototype.batch=function(events){var _this=this;if(this.status===InterpreterStatus.NotStarted&&this.options.deferEvents)environment_IS_PRODUCTION||utils_warn(!1,"".concat(events.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==InterpreterStatus.Running)throw new Error("".concat(events.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(events.length){var exec=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var e_11,_a,nextState=_this.state,batchChanged=!1,batchedActions=[],_loop_1=function(event_1){var _event=toSCXMLEvent(event_1);_this.forward(_event),nextState=serviceScope_provide(_this,(function(){return _this.machine.transition(nextState,_event,void 0,exec||void 0)})),batchedActions.push.apply(batchedActions,_tslib_spreadArray([],_tslib_read(_this.machine.config.predictableActionArguments?nextState.actions:nextState.actions.map((function(a){return function(action,state){var exec=action.exec;return _assign(_assign({},action),{exec:void 0!==exec?function(){return exec(state.context,state.event,{action:action,state:state,_event:state._event})}:void 0})}(a,nextState)}))),!1)),batchChanged=batchChanged||!!nextState.changed};try{for(var events_1=_tslib_values(events),events_1_1=events_1.next();!events_1_1.done;events_1_1=events_1.next()){_loop_1(events_1_1.value)}}catch(e_11_1){e_11={error:e_11_1}}finally{try{events_1_1&&!events_1_1.done&&(_a=events_1.return)&&_a.call(events_1)}finally{if(e_11)throw e_11.error}}nextState.changed=batchChanged,nextState.actions=batchedActions,_this.update(nextState,toSCXMLEvent(events[events.length-1]))}))}},Interpreter.prototype.sender=function(event){return this.send.bind(this,event)},Interpreter.prototype._nextState=function(event,exec){var _this=this;void 0===exec&&(exec=!!this.machine.config.predictableActionArguments&&this._exec);var _event=toSCXMLEvent(event);if(0===_event.name.indexOf(errorPlatform)&&!this.state.nextEvents.some((function(nextEvent){return 0===nextEvent.indexOf(errorPlatform)})))throw _event.data.data;return serviceScope_provide(this,(function(){return _this.machine.transition(_this.state,_event,void 0,exec||void 0)}))},Interpreter.prototype.nextState=function(event){return this._nextState(event,!1)},Interpreter.prototype.forward=function(event){var e_12,_a;try{for(var _b=_tslib_values(this.forwardTo),_c=_b.next();!_c.done;_c=_b.next()){var id=_c.value,child=this.children.get(id);if(!child)throw new Error("Unable to forward event '".concat(event,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(id,"'."));child.send(event)}}catch(e_12_1){e_12={error:e_12_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_12)throw e_12.error}}},Interpreter.prototype.defer=function(sendAction){var _this=this,timerId=this.clock.setTimeout((function(){"to"in sendAction&&sendAction.to?_this.sendTo(sendAction._event,sendAction.to,!0):_this.send(sendAction._event)}),sendAction.delay);sendAction.id&&(this.delayedEventsMap[sendAction.id]=timerId)},Interpreter.prototype.cancel=function(sendId){this.clock.clearTimeout(this.delayedEventsMap[sendId]),delete this.delayedEventsMap[sendId]},Interpreter.prototype.exec=function(action,state,actionFunctionMap){void 0===actionFunctionMap&&(actionFunctionMap=this.machine.options.actions),this._exec(action,state.context,state._event,actionFunctionMap)},Interpreter.prototype.removeChild=function(childId){var _a;this.children.delete(childId),this.forwardTo.delete(childId),null===(_a=this.state)||void 0===_a||delete _a.children[childId]},Interpreter.prototype.stopChild=function(childId){var child=this.children.get(childId);child&&(this.removeChild(childId),utils_isFunction(child.stop)&&child.stop())},Interpreter.prototype.spawn=function(entity,name,options){if(this.status!==InterpreterStatus.Running)return Actor_createDeferredActor(entity,name);if(isPromiseLike(entity))return this.spawnPromise(Promise.resolve(entity),name);if(utils_isFunction(entity))return this.spawnCallback(entity,name);if(function(item){try{return"function"==typeof item.send}catch(e){return!1}}(item=entity)&&"id"in item)return this.spawnActor(entity,name);if(function(value){try{return"subscribe"in value&&utils_isFunction(value.subscribe)}catch(e){return!1}}(entity))return this.spawnObservable(entity,name);if(utils_isMachine(entity))return this.spawnMachine(entity,_assign(_assign({},options),{id:name}));if(null!==(value=entity)&&"object"===utils_typeof(value)&&"transition"in value&&"function"==typeof value.transition)return this.spawnBehavior(entity,name);throw new Error('Unable to spawn entity "'.concat(name,'" of type "').concat(interpreter_typeof(entity),'".'));var value,item},Interpreter.prototype.spawnMachine=function(machine,options){var _this=this;void 0===options&&(options={});var childService=new Interpreter(machine,_assign(_assign({},this.options),{parent:this,id:options.id||machine.id})),resolvedOptions=_assign(_assign({},DEFAULT_SPAWN_OPTIONS),options);resolvedOptions.sync&&childService.onTransition((function(state){_this.send(actionTypes_update,{state:state,id:childService.id})}));var actor=childService;return this.children.set(childService.id,actor),resolvedOptions.autoForward&&this.forwardTo.add(childService.id),childService.onDone((function(doneEvent){_this.removeChild(childService.id),_this.send(toSCXMLEvent(doneEvent,{origin:childService.id}))})).start(),actor},Interpreter.prototype.spawnBehavior=function(behavior,id){var actorRef=spawnBehavior(behavior,{id:id,parent:this});return this.children.set(id,actorRef),actorRef},Interpreter.prototype.spawnPromise=function(promise,id){var _a,resolvedData,_this=this,canceled=!1;promise.then((function(response){canceled||(resolvedData=response,_this.removeChild(id),_this.send(toSCXMLEvent(actions_doneInvoke(id,response),{origin:id})))}),(function(errorData){if(!canceled){_this.removeChild(id);var errorEvent=actions_error(id,errorData);try{_this.send(toSCXMLEvent(errorEvent,{origin:id}))}catch(error){!function(originalError,currentError,id){if(!environment_IS_PRODUCTION){var originalStackTrace=originalError.stack?" Stacktrace was '".concat(originalError.stack,"'"):"";if(originalError===currentError)console.error("Missing onError handler for invocation '".concat(id,"', error was '").concat(originalError,"'.").concat(originalStackTrace));else{var stackTrace=currentError.stack?" Stacktrace was '".concat(currentError.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(id,"'. ")+"Original error: '".concat(originalError,"'. ").concat(originalStackTrace," Current error is '").concat(currentError,"'.").concat(stackTrace))}}}(errorData,error,id),_this.devTools&&_this.devTools.send(errorEvent,_this.state),_this.machine.strict&&_this.stop()}}}));var actor=((_a={id:id,send:function(){},subscribe:function(next,handleError,complete){var observer=toObserver(next,handleError,complete),unsubscribed=!1;return promise.then((function(response){unsubscribed||(observer.next(response),unsubscribed||observer.complete())}),(function(err){unsubscribed||observer.error(err)})),{unsubscribe:function(){return unsubscribed=!0}}},stop:function(){canceled=!0},toJSON:function(){return{id:id}},getSnapshot:function(){return resolvedData}})[symbolObservable]=function(){return this},_a);return this.children.set(id,actor),actor},Interpreter.prototype.spawnCallback=function(callback,id){var _a,emitted,callbackStop,_this=this,canceled=!1,receivers=new Set,listeners=new Set;try{callbackStop=callback((function(e){emitted=e,listeners.forEach((function(listener){return listener(e)})),canceled||_this.send(toSCXMLEvent(e,{origin:id}))}),(function(newListener){receivers.add(newListener)}))}catch(err){this.send(actions_error(id,err))}if(isPromiseLike(callbackStop))return this.spawnPromise(callbackStop,id);var actor=((_a={id:id,send:function(event){return receivers.forEach((function(receiver){return receiver(event)}))},subscribe:function(next){var observer=toObserver(next);return listeners.add(observer.next),{unsubscribe:function(){listeners.delete(observer.next)}}},stop:function(){canceled=!0,utils_isFunction(callbackStop)&&callbackStop()},toJSON:function(){return{id:id}},getSnapshot:function(){return emitted}})[symbolObservable]=function(){return this},_a);return this.children.set(id,actor),actor},Interpreter.prototype.spawnObservable=function(source,id){var _a,emitted,_this=this,subscription=source.subscribe((function(value){emitted=value,_this.send(toSCXMLEvent(value,{origin:id}))}),(function(err){_this.removeChild(id),_this.send(toSCXMLEvent(actions_error(id,err),{origin:id}))}),(function(){_this.removeChild(id),_this.send(toSCXMLEvent(actions_doneInvoke(id),{origin:id}))})),actor=((_a={id:id,send:function(){},subscribe:function(next,handleError,complete){return source.subscribe(next,handleError,complete)},stop:function(){return subscription.unsubscribe()},getSnapshot:function(){return emitted},toJSON:function(){return{id:id}}})[symbolObservable]=function(){return this},_a);return this.children.set(id,actor),actor},Interpreter.prototype.spawnActor=function(actor,name){return this.children.set(name,actor),actor},Interpreter.prototype.spawnActivity=function(activity){var implementation=this.machine.options&&this.machine.options.activities?this.machine.options.activities[activity.type]:void 0;if(implementation){var dispose=implementation(this.state.context,activity);this.spawnEffect(activity.id,dispose)}else environment_IS_PRODUCTION||utils_warn(!1,"No implementation found for activity '".concat(activity.type,"'"))},Interpreter.prototype.spawnEffect=function(id,dispose){var _a;this.children.set(id,((_a={id:id,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:dispose||void 0,getSnapshot:function(){},toJSON:function(){return{id:id}}})[symbolObservable]=function(){return this},_a))},Interpreter.prototype.attachDev=function(){var global=getGlobal();if(this.options.devTools&&global){if(global.__REDUX_DEVTOOLS_EXTENSION__){var devToolsOptions="object"===interpreter_typeof(this.options.devTools)?this.options.devTools:void 0;this.devTools=global.__REDUX_DEVTOOLS_EXTENSION__.connect(_assign(_assign({name:this.id,autoPause:!0,stateSanitizer:function(state){return{value:state.value,context:state.context,actions:state.actions}}},devToolsOptions),{features:_assign({jump:!1,skip:!1},devToolsOptions?devToolsOptions.features:void 0)}),this.machine),this.devTools.init(this.state)}registerService(this)}},Interpreter.prototype.toJSON=function(){return{id:this.id}},Interpreter.prototype[symbolObservable]=function(){return this},Interpreter.prototype.getSnapshot=function(){return this.status===InterpreterStatus.NotStarted?this.initialState:this._state},Interpreter.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(_setTimeout){function setTimeout(_x,_x2){return _setTimeout.apply(this,arguments)}return setTimeout.toString=function(){return _setTimeout.toString()},setTimeout}((function(fn,ms){return setTimeout(fn,ms)})),clearTimeout:function(_clearTimeout){function clearTimeout(_x3){return _clearTimeout.apply(this,arguments)}return clearTimeout.toString=function(){return _clearTimeout.toString()},clearTimeout}((function(id){return clearTimeout(id)}))},logger:console.log.bind(console),devTools:!1},Interpreter.interpret=interpret,Interpreter}();function interpret(machine,options){return new Interpreter(machine,options)}var lodash_get=__webpack_require__(2151),get_default=__webpack_require__.n(lodash_get),KModalvue_type_template_id_29665587_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",{attrs:{name:"modal-fade",appear:""}},[_c("div",{ref:"modal-overlay",staticClass:"modal-overlay",attrs:{id:"modal-window"},on:{keyup:[function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:($event.stopPropagation(),_vm.emitCancelEvent.apply(null,arguments))},function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.handleEnter.apply(null,arguments)}]}},[_c("div",{ref:"modal",staticClass:"modal",style:[_vm.modalSizeStyles,{background:_vm.$themeTokens.surface},_vm.containsKSelect?{overflowY:"unset"}:{overflowY:"auto"}],attrs:{tabindex:0,role:"dialog","aria-labelledby":"modal-title"}},[_c("h1",{ref:"title",staticClass:"title",attrs:{id:"modal-title"}},[_vm._v("\n        "+_vm._s(_vm.title)+"\n        "),_vm.hasError?_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n          "+_vm._s(_vm.errorMessage)+"\n        ")]):_vm._e()]),_c("form",{staticClass:"form",on:{submit:function($event){return $event.preventDefault(),_vm.emitSubmitEvent.apply(null,arguments)},keyup:function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter"))return null;$event.stopPropagation()}}},[_c("div",{ref:"content",staticClass:"content",class:{"scroll-shadow":_vm.scrollShadow,"contains-kselect":_vm.containsKSelect},style:[_vm.contentSectionMaxHeight,_vm.scrollShadow?{borderTop:"1px solid "+_vm.$themeTokens.fineLine,borderBottom:"1px solid "+_vm.$themeTokens.fineLine}:{}]},[_vm._t("default")],2),_c("div",{ref:"actions",staticClass:"actions"},[_vm.$slots.actions?_vm._t("actions"):[_vm.cancelText?_c("KButton",{attrs:{name:"cancel",text:_vm.cancelText,appearance:"flat-button",disabled:_vm.cancelDisabled||_vm.$attrs.disabled},on:{click:_vm.emitCancelEvent}}):_vm._e(),_vm.submitText?_c("KButton",{attrs:{name:"submit",text:_vm.submitText,primary:!0,disabled:_vm.submitDisabled||_vm.$attrs.disabled,type:"submit"}}):_vm._e()]],2)])])])])};KModalvue_type_template_id_29665587_scoped_true_render._withStripped=!0;var frame_throttle=__webpack_require__(14),process=__webpack_require__(1469),windowListeners=[];function windowMetrics(){return{width:window.innerWidth,height:window.innerHeight}}var windowResizeHandler=(0,frame_throttle.P)((function(){var metrics=windowMetrics();windowListeners.forEach((function(cb){return cb(metrics)}))}));process&&!1||(window.addEventListener?window.addEventListener("resize",windowResizeHandler,!0):window.attachEvent&&window.attachEvent("onresize",windowResizeHandler),windowResizeHandler());var KResponsiveWindowMixin={data:function(){return{windowWidth:void 0,windowHeight:void 0,windowBreakpoint:void 0,windowIsPortrait:!1,windowIsLandscape:!1,windowGutter:16,windowIsShort:!1}},watch:{windowWidth:function(){this._updateBreakpoint(),this._updateGutter(),this._updateOrientation()},windowHeight:function(){this.windowIsShort=this.windowHeight<600,this._updateGutter(),this._updateOrientation()}},computed:{windowIsLarge:function(){return this.windowBreakpoint>2},windowIsMedium:function(){return 2===this.windowBreakpoint},windowIsSmall:function(){return this.windowBreakpoint<2}},methods:{_updateWindow:function(metrics){this.windowWidth=metrics.width,this.windowHeight=metrics.height},_updateBreakpoint:function(){this.windowWidth<480?this.windowBreakpoint=0:this.windowWidth<600?this.windowBreakpoint=1:this.windowWidth<840?this.windowBreakpoint=2:this.windowWidth<944?this.windowBreakpoint=3:this.windowWidth<1264?this.windowBreakpoint=4:this.windowWidth<1424?this.windowBreakpoint=5:this.windowWidth<1584?this.windowBreakpoint=6:this.windowBreakpoint=7},_updateOrientation:function(){this.windowIsPortrait=this.windowWidth<this.windowHeight,this.windowIsLandscape=!this.windowIsPortrait},_updateGutter:function(){this.windowIsSmall||this.windowBreakpoint<4&&Math.min(this.windowWidth,this.windowHeight)<600?this.windowGutter=16:this.windowGutter=24}},mounted:function(){var cb;console.warn("Please use 'useKResponsiveWindow' composable instead of 'KResponsiveWindow' mixin"),cb=this._updateWindow,windowListeners.push(cb),cb(windowMetrics())},beforeDestroy:function(){var cb;cb=this._updateWindow,windowListeners.splice(windowListeners.indexOf(cb),1)}},KModalvue_type_script_lang_js_process=__webpack_require__(1469),SIZE_STRINGS=["small","medium","large"],KModalvue_type_script_lang_js_nuxtServerSideRendering=KModalvue_type_script_lang_js_process&&!1,KModal=normalizeComponent({name:"KModal",mixins:[KResponsiveWindowMixin],props:{title:{type:String,required:!0},submitText:{type:String,default:null},cancelText:{type:String,default:null},submitDisabled:{type:Boolean,default:!1},cancelDisabled:{type:Boolean,default:!1},size:{type:[String,Number],default:"medium",validator:function(val){return"string"==typeof val?!!SIZE_STRINGS.includes(val)||(console.error("'".concat(val,"' is not one of: ").concat(SIZE_STRINGS)),!1):val>0}},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:null,required:!1}},data:function(){return{lastFocus:null,maxContentHeight:"1000",contentHeight:0,containsKSelect:!1,scrollShadow:!1,delayedEnough:!1}},computed:{modalContentHeight:function(){return this.$refs.content.getBoundingClientRect().height||this.$refs.content.scrollHeight},modalSizeStyles:function(){return{"max-width":"".concat(this.maxModalWidth-32,"px"),"max-height":"".concat(this.windowHeight-32,"px"),width:this.modalWidth}},modalWidth:function(){return"small"===this.size?"300px":"medium"===this.size?"450px":"large"===this.size?"100%":"".concat(this.size,"px")},maxModalWidth:function(){return this.windowWidth<1e3?this.windowWidth:1e3},contentSectionMaxHeight:function(){return{"max-height":"".concat(this.maxContentHeight,"px"),height:"".concat(this.contentHeight,"px")}}},created:function(){this.$props.cancelText&&!this.$listeners.cancel&&console.error('A "cancelText" has been set, but there is no "cancel" listener. The "cancel" button may not work correctly.'),this.$props.submitText&&!this.$listeners.submit&&console.error('A "submitText" has been set, but there is no "submit" listener. The "submit" button may not work correctly.')},beforeMount:function(){this.lastFocus=document.activeElement},mounted:function(){var _this=this;if(!KModalvue_type_script_lang_js_nuxtServerSideRendering){window.document.documentElement.style.overflow="hidden",this.$nextTick((function(){_this.$refs.modal&&!_this.$refs.modal.contains(document.activeElement)&&_this.focusModal()})),window.addEventListener("focus",this.focusElementTest,!0),window.setTimeout((function(){return _this.delayedEnough=!0}),500);var kSelectCheck=document.querySelector("div.modal div.ui-select");this.containsKSelect=!!kSelectCheck}},updated:function(){this.updateContentSectionStyle()},destroyed:function(){var _this2=this;KModalvue_type_script_lang_js_nuxtServerSideRendering||(window.document.documentElement.style.overflow="",window.removeEventListener("focus",this.focusElementTest,!0),window.setTimeout((function(){return _this2.lastFocus.focus()})))},methods:{updateContentSectionStyle:debounce_default()((function(){if(this.$refs.title&&this.$refs.actions){Math.abs(this.$refs.content.scrollHeight-this.contentHeight)>=8&&(this.contentHeight=this.containsKSelect?this.modalContentHeight:this.$refs.content.scrollHeight);var maxContentHeightCheck=this.windowHeight-this.$refs.title.clientHeight-this.$refs.actions.clientHeight-32;Math.abs(maxContentHeightCheck-this.maxContentHeight)>=8&&(this.maxContentHeight=maxContentHeightCheck,this.scrollShadow=this.maxContentHeight<this.$refs.content.scrollHeight),0===this.$refs.content.clientHeight||this.containsKSelect||this.$refs.content.scrollHeight>this.$refs.content.clientHeight&&(this.$refs.content.style.overflowY="auto")}}),50),emitCancelEvent:function(){this.cancelDisabled||this.$emit("cancel")},emitSubmitEvent:function(){this.submitDisabled||this.$emit("submit")},handleEnter:function(){this.delayedEnough&&this.emitSubmitEvent()},focusModal:function(){this.$refs.modal.focus()},focusElementTest:function(event){var target=event.target;if(!(target===window||!this.$refs.modal||target===this.$refs.modal||this.$refs.modal.contains(target.activeElement))){var $coreSnackbar=document.getElementById("coresnackbar");$coreSnackbar&&$coreSnackbar.contains(target)||this.$refs.modal.contains(target)||this.focusModal()}}}},KModalvue_type_template_id_29665587_scoped_true_render,[],!1,null,"29665587",null).exports,KDateCalendarvue_type_template_id_de18346a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"calendar"},[_c("div",{staticClass:"calendar-wrap"},[_c("KIconButton",{staticClass:"left",attrs:{"aria-label":_vm.previousMonthText,tooltip:_vm.previousMonthText,icon:"chevronLeft",appearance:"flat-button",size:"mini"},on:{click:_vm.goPrevMonth}}),_c("KIconButton",{staticClass:"right",attrs:{"aria-label":_vm.nextMonthText,tooltip:_vm.nextMonthText,icon:"chevronRight",appearance:"flat-button",size:"mini"},on:{click:_vm.goNextMonth}}),_c("div",{staticClass:"calendar-month-left"},[_c("div",{staticClass:"months-text",attrs:{"data-test":"previousMonth"}},[_vm._v("\n        "+_vm._s(_vm.monthString(_vm.activeMonth)+" "+_vm.activeYearStart)+"\n      ")]),_vm._l(6,(function(weekIndex){return _c("ul",{key:weekIndex,staticClass:"calendar-days"},_vm._l(_vm.numOfDays,(function(dayInWeekIndex){return _c("li",{key:dayInWeekIndex,class:[{"calendar-days--disabled":_vm.isDateDisabled(weekIndex,dayInWeekIndex,_vm.activeMonthDay,_vm.activeMonthDate)||_vm.isDateDisabledLeft(weekIndex,dayInWeekIndex,_vm.activeMonthDay),"selected-first":"first"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"first",_vm.activeMonthDay,_vm.activeMonthDate),"selected-second":"second"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"first",_vm.activeMonthDay,_vm.activeMonthDate)}],style:["first"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"first",_vm.activeMonthDay,_vm.activeMonthDate)||"second"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"first",_vm.activeMonthDay,_vm.activeMonthDate)?{backgroundColor:_vm.$themeBrand.secondary.v_50}:{}],on:{click:function($event){return _vm.selectFirstItem(weekIndex,dayInWeekIndex)}}},[_c("KDateDay",{attrs:{day:_vm.getDayCell(weekIndex,dayInWeekIndex,_vm.activeMonthDay,_vm.activeMonthDate),isSelected:_vm.isDateSelected(weekIndex,dayInWeekIndex,"first",_vm.activeMonthDay,_vm.activeMonthDate),isInRange:_vm.isDateInRange(weekIndex,dayInWeekIndex,"first",_vm.activeMonthDay,_vm.activeMonthDate),isDisabled:_vm.isDateDisabled(weekIndex,dayInWeekIndex,_vm.activeMonthDay,_vm.activeMonthDate)||_vm.isDateDisabledLeft(weekIndex,dayInWeekIndex,_vm.activeMonthDay),isLastDay:_vm.isLastDay(weekIndex,dayInWeekIndex,"first",_vm.activeMonthDay,_vm.activeMonthDate),isEndOfWeek:7===dayInWeekIndex,isStartOfWeek:1===dayInWeekIndex,activeMonth:_vm.activeMonth}})],1)})),0)}))],2),_c("div",{staticClass:"calendar-month-right"},[_c("div",{staticClass:"months-text",attrs:{"data-test":"currentMonth"}},[_vm._v("\n        "+_vm._s(_vm.monthString(_vm.nextActiveMonth)+" "+_vm.activeYearEnd)+"\n      ")]),_vm._l(6,(function(weekIndex){return _c("ul",{key:weekIndex,staticClass:"calendar-days"},_vm._l(_vm.numOfDays,(function(dayInWeekIndex){return _c("li",{key:dayInWeekIndex,class:[{"calendar-days--disabled":_vm.isDateDisabled(weekIndex,dayInWeekIndex,_vm.nextActiveMonthDay,_vm.nextActiveMonthDate)||_vm.isDateDisabledRight(weekIndex,dayInWeekIndex,_vm.nextActiveMonthDay),"selected-first":"first"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"second",_vm.nextActiveMonthDay,_vm.nextActiveMonthDate),"selected-second":"second"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"second",_vm.nextActiveMonthDay,_vm.nextActiveMonthDate)}],style:["first"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"second",_vm.nextActiveMonthDay,_vm.nextActiveMonthDate)||"second"===_vm.selectionOrder(weekIndex,dayInWeekIndex,"second",_vm.nextActiveMonthDay,_vm.nextActiveMonthDate)?{backgroundColor:_vm.$themeBrand.secondary.v_50}:{}],on:{click:function($event){return _vm.selectSecondItem(weekIndex,dayInWeekIndex)}}},[_c("KDateDay",{attrs:{day:_vm.getDayCell(weekIndex,dayInWeekIndex,_vm.nextActiveMonthDay,_vm.nextActiveMonthDate),isSelected:_vm.isDateSelected(weekIndex,dayInWeekIndex,"second",_vm.nextActiveMonthDay,_vm.nextActiveMonthDate),isInRange:_vm.isDateInRange(weekIndex,dayInWeekIndex,"second",_vm.nextActiveMonthDay,_vm.nextActiveMonthDate),isDisabled:_vm.isDateDisabled(weekIndex,dayInWeekIndex,_vm.nextActiveMonthDay,_vm.nextActiveMonthDate)||_vm.isDateDisabledRight(weekIndex,dayInWeekIndex,_vm.nextActiveMonthDay),isLastDay:_vm.isLastDay(weekIndex,dayInWeekIndex,"second",_vm.nextActiveMonthDay,_vm.nextActiveMonthDate),isEndOfWeek:7===dayInWeekIndex,isStartOfWeek:1===dayInWeekIndex,activeMonth:_vm.nextActiveMonth}})],1)})),0)}))],2)],1)])};KDateCalendarvue_type_template_id_de18346a_scoped_true_render._withStripped=!0;var KIconButtonvue_type_template_id_3efaceb7_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KButton",_vm._g({attrs:{color:_vm.color,disabled:_vm.disabled,appearance:_vm.appearance,appearanceOverrides:_vm.appearanceOverrides,type:_vm.buttonType,"aria-label":_vm.ariaLabel,text:""}},_vm.$listeners),[_vm.tooltip?_c("UiTooltip",{attrs:{zIndex:24,"open-on":"hover",position:_vm.tooltipPosition}},[_vm._v("\n    "+_vm._s(_vm.tooltip)+"\n  ")]):_vm._e(),_c("KIcon",{style:_vm.iconStyles,attrs:{icon:_vm.icon,color:_vm.color}}),_vm._t("menu")],2)};KIconButtonvue_type_template_id_3efaceb7_scoped_true_render._withStripped=!0;var UiTooltipvue_type_template_id_69d4ead5_render=function(){var _h=this.$createElement;return(this._self._c||_h)("div",{staticClass:"ui-tooltip"},[this._t("default")],2)};UiTooltipvue_type_template_id_69d4ead5_render._withStripped=!0;var umd=__webpack_require__(269),umd_default=__webpack_require__.n(umd);var element_ref={validate:function(ref,warning){var isValid=ref instanceof Element||ref&&ref._isVue||"string"==typeof ref;return!isValid&&warning&&console.warn(warning),isValid},resolve:function(ref,fallback){return ref instanceof Element?ref:ref&&ref._isVue?ref.$el:"string"==typeof ref?document.querySelector(ref):fallback}},UiTooltipvue_type_script_lang_js={name:"UiTooltip",props:{animation:{type:String,default:"fade"},appendToBody:{type:Boolean,default:!0},openDelay:{type:Number,default:0},openOn:{type:String,default:"mouseenter focus"},position:{type:String,default:"bottom"},trigger:{validator:function(value){return element_ref.validate(value,'[UiTooltip]: Invalid prop: "trigger". Expected Element, VueComponent or CSS selector string.')}},zIndex:Number},mounted:function(){if(this.triggerEl=element_ref.resolve(this.trigger,this.$el.parentElement),this.triggerEl){var options={animateFill:"fade"!==this.animation,animation:"none"===this.animation?"fade":this.animation,arrow:!1,content:this.$el,delay:[this.openDelay,0],distance:4,duration:"none"===this.animation?0:[250,200],ignoreAttributes:!0,lazy:!0,multiple:!0,placement:this.position,theme:"ui-tooltip",trigger:this.openOn.replace("hover","mouseenter"),zIndex:this.zIndex,popperOptions:{modifiers:{computeStyle:{gpuAcceleration:!(window.devicePixelRatio<1.5&&/Win/.test(navigator.platform))}}}};this.appendToBody||(options.appendTo=this.triggerEl.parentElement),this.tip=umd_default()(this.triggerEl,options)}else console.error("[UiTooltip]: Trigger element not found.")},beforeDestroy:function(){this.tip&&(this.tip.destroy(),this.tip=null)}},UiTooltip_component=normalizeComponent(UiTooltipvue_type_script_lang_js,UiTooltipvue_type_template_id_69d4ead5_render,[],!1,null,null,null);function KIconButtonvue_type_script_lang_js_typeof(o){return KIconButtonvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},KIconButtonvue_type_script_lang_js_typeof(o)}function KIconButtonvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function KIconButtonvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?KIconButtonvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){KIconButtonvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):KIconButtonvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function KIconButtonvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=KIconButtonvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=KIconButtonvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==KIconButtonvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var KIconButton=normalizeComponent({name:"KIconButton",components:{UiTooltip:UiTooltip_component.exports},props:{icon:{type:String,required:!0},appearance:{type:String,default:"flat-button"},color:{type:String,default:null},disabled:{type:Boolean,default:!1},buttonType:{type:String,default:"button"},size:{type:String,default:"regular"},ariaLabel:{type:String,default:null},tooltip:{type:String,default:null},tooltipPosition:{type:String,default:"bottom"}},computed:{appearanceOverrides:function(){var hover="flat-button"===this.appearance?{backgroundColor:"rgba(0,0,0,.1)"}:{};return KIconButtonvue_type_script_lang_js_objectSpread(KIconButtonvue_type_script_lang_js_objectSpread({},this.sizeStyles),{},{borderRadius:"50%",minWidth:"32px",minHeight:"0px",padding:"0",":hover":hover})},sizeStyles:function(){switch(this.size){case"mini":return{width:"24px",height:"24px"};case"small":return{width:"32px",height:"32px"};case"large":return{width:"48px",height:"48px"};default:return{width:"40px",height:"40px"}}},iconStyles:function(){var sizes={width:"24px",height:"24px"};switch(this.size){case"mini":return KIconButtonvue_type_script_lang_js_objectSpread(KIconButtonvue_type_script_lang_js_objectSpread({},sizes),{},{top:"0px"});case"small":return KIconButtonvue_type_script_lang_js_objectSpread(KIconButtonvue_type_script_lang_js_objectSpread({},sizes),{},{top:"4px"});default:return KIconButtonvue_type_script_lang_js_objectSpread(KIconButtonvue_type_script_lang_js_objectSpread({},sizes),{},{top:"7px"})}}}},KIconButtonvue_type_template_id_3efaceb7_scoped_true_render,[],!1,null,"3efaceb7",null).exports,KDateDayvue_type_template_id_c0ecfd10_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KButton",{class:[{"calendar-days-selected":_vm.isSelected,"calendar-days-in-range":_vm.isInRange,"end-of-week":_vm.isEndOfWeek,"start-of-week":_vm.isStartOfWeek,"first-day":_vm.isFirstDay,"last-day":_vm.isLastDay}],style:[_vm.inRangeStyle,_vm.selectedStyle],attrs:{autocomplete:"off",primary:!1,appearance:"flat-button",appearanceOverrides:_vm.styleOverrides,disabled:_vm.isDisabled,"aria-hidden":_vm.isDisabled}},[_vm._v("\n  "+_vm._s(_vm.day)+"\n  "),_c("span",{staticClass:"k-date-vhidden",attrs:{"aria-hidden":"true"}},[_vm._v(_vm._s(_vm.day))]),_c("span",{staticClass:"k-date-vhidden",attrs:{"aria-hidden":_vm.isDisabled}},[_vm._v(_vm._s(_vm.toMonthName(_vm.activeMonth)))])])};KDateDayvue_type_template_id_c0ecfd10_scoped_true_render._withStripped=!0;var KButtonvue_type_template_id_0e9ffe9b_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c(_vm.htmlTag,{ref:"button",tag:"component",class:_vm.buttonClasses,attrs:{dir:"auto",type:_vm.type,disabled:_vm.disabled,tabindex:"0"},on:{click:_vm.handleClick,keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:($event.stopPropagation(),$event.preventDefault(),_vm.handlePressEnter.apply(null,arguments))},mouseenter:function($event){_vm.hovering=!0},mouseleave:function($event){_vm.hovering=!1}}},[_vm._t("icon"),_vm.icon?_c("KIcon",{staticClass:"prop-icon",attrs:{icon:_vm.icon,color:_vm.iconColor,"data-test":"iconBefore"}}):_vm._e(),_vm._t("menu"),_vm.$slots.default?_vm._t("default"):_vm._e(),[_c("span",{staticClass:"link-text",style:_vm.textStyle},[_vm._v(_vm._s(_vm.text))])],_vm._t("iconAfter"),_vm.iconAfter?_c("KIcon",{staticClass:"prop-icon",attrs:{icon:_vm.iconAfter,color:_vm.iconColor,"data-test":"iconAfter"}}):_vm._e(),_vm.hasDropdown?_c("KIcon",{staticClass:"dropdown-arrow",staticStyle:{width:"24px",height:"24px"},style:_vm.arrowStyles,attrs:{icon:"dropdown","data-test":"dropdownIcon"}}):_vm._e()],2)};KButtonvue_type_template_id_0e9ffe9b_scoped_true_render._withStripped=!0;var FLAT_BUTTON="flat-button",RAISED_BUTTON="raised-button",BASIC_LINK="basic-link";function validator(appearance){return[FLAT_BUTTON,RAISED_BUTTON,BASIC_LINK].includes(appearance)}var merge=__webpack_require__(387),merge_default=__webpack_require__.n(merge);function buttonMixin_typeof(o){return buttonMixin_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},buttonMixin_typeof(o)}function buttonMixin_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function buttonMixin_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?buttonMixin_ownKeys(Object(t),!0).forEach((function(r){buttonMixin_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):buttonMixin_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function buttonMixin_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=buttonMixin_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=buttonMixin_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==buttonMixin_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var disabledStyle={pointerEvents:"none",cursor:"default",boxShadow:"none",opacity:.5};function KButtonvue_type_script_lang_js_typeof(o){return KButtonvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},KButtonvue_type_script_lang_js_typeof(o)}function KButtonvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function KButtonvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=KButtonvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=KButtonvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==KButtonvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var getRandomValues,KButtonvue_type_script_lang_js={name:"KButton",mixins:[{props:{text:{type:String,default:null},appearance:{type:String,default:"basic-link",validator:validator},appearanceOverrides:{type:Object,default:function(){return{}}},primary:{type:Boolean,default:!1}},computed:{buttonClasses:function(){return this.appearance===BASIC_LINK?[this.buttonComputedClass(this.linkStyle),"link"]:this.primary&&this.appearance===RAISED_BUTTON?["button",this.buttonComputedClass(this.primaryRaisedStyle),"raised"]:this.primary&&this.appearance===FLAT_BUTTON?["button",this.buttonComputedClass(this.primaryFlatStyle)]:this.primary||this.appearance!==RAISED_BUTTON?this.primary||this.appearance!==FLAT_BUTTON?void 0:["button",this.buttonComputedClass(this.secondaryFlatStyle)]:["button",this.buttonComputedClass(this.secondaryRaisedStyle),"raised"]},linkStyle:function(){return buttonMixin_objectSpread({color:this.$themeTokens.link,":hover":{color:this.$themeTokens.linkDark},":focus":this.$coreOutline},this.disabled?disabledStyle:{})},primaryRaisedStyle:function(){return{color:"white",backgroundColor:this.$themeTokens.primary,":hover":{backgroundColor:this.$themeTokens.primaryDark},":focus":buttonMixin_objectSpread(buttonMixin_objectSpread({},this.$coreOutline),{},{outlineOffset:"6px"}),":disabled":Object.assign({color:"rgba(white, 0.45)",svg:{fill:"rgba(white, 0.45)"}},disabledStyle),svg:{fill:"white"}}},primaryFlatStyle:function(){return{color:this.$themeTokens.primary,":hover":{backgroundColor:this.$themePalette.grey.v_300},":focus":buttonMixin_objectSpread(buttonMixin_objectSpread({},this.$coreOutline),{},{outlineOffset:0}),":disabled":disabledStyle,svg:{fill:this.$themeTokens.primary}}},secondaryRaisedStyle:function(){return{color:this.$themeTokens.text,backgroundColor:this.$themePalette.grey.v_200,":hover":{backgroundColor:this.$themePalette.grey.v_300},":focus":buttonMixin_objectSpread(buttonMixin_objectSpread({},this.$coreOutline),{},{outlineOffset:"6px"}),":disabled":disabledStyle,svg:{fill:this.$themeTokens.text}}},secondaryFlatStyle:function(){return{color:this.$themeTokens.text,":hover":{backgroundColor:this.$themePalette.grey.v_300},":focus":buttonMixin_objectSpread(buttonMixin_objectSpread({},this.$coreOutline),{},{outlineOffset:0}),":disabled":disabledStyle,svg:{fill:this.$themeTokens.text}}}},methods:{buttonComputedClass:function(styles){var printOverrides=this.$isPrint?{color:"#000 !important"}:{};return this.$computedClass(merge_default()({},styles,this.appearanceOverrides,printOverrides))}}}],props:{appearance:{type:String,default:"raised-button",validator:validator},disabled:{type:Boolean,default:!1},type:{type:String,default:"button"},hasDropdown:{type:Boolean,default:!1},icon:{type:String,default:null},iconAfter:{type:String,default:null}},data:function(){return{hovering:!1}},computed:{iconColor:function(){return"basic-link"===this.appearance?this.hovering?this.$themeTokens.primaryDark:this.$themeTokens.primary:this.primary?"raised-button"===this.appearance?this.$themeTokens.textInverted:this.$themeTokens.primary:this.$themeTokens.text},htmlTag:function(){return"basic-link"===this.appearance?"a":"button"},arrowStyles:function(){return this.primary?{fill:this.$themeTokens.textInverted}:{}},textStyle:function(){var styles={};return this.icon&&(this.isRtl?(styles.marginRight="8px",this.text!==this.href&&(styles.marginRight="0px",styles.marginLeft="8px")):this.text===this.href?styles.marginRight="8px":styles.marginLeft="8px"),this.iconAfter&&(styles.marginRight="8px"),function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?KButtonvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){KButtonvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):KButtonvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},styles)}},methods:{handleClick:function(event){this.blurWhenClicked(),this.$emit("click",event)},handlePressEnter:function(event){this.blurWhenClicked(),"a"===this.htmlTag&&this.$emit("click",event)},blurWhenClicked:function(){"a"===this.htmlTag&&this.$el.blur()}}},KDateDayvue_type_script_lang_js={name:"KDateDay",components:{KButton:normalizeComponent(KButtonvue_type_script_lang_js,KButtonvue_type_template_id_0e9ffe9b_scoped_true_render,[],!1,null,"0e9ffe9b",null).exports},props:{day:{type:Number,default:null},isSelected:{type:Boolean},isInRange:{type:Boolean},isDisabled:{type:Boolean},isEndOfWeek:{type:Boolean},isStartOfWeek:{type:Boolean},isLastDay:{type:Boolean},activeMonth:{type:Number,default:null}},data:function(){return{}},computed:{inRangeStyle:function(){return this.isInRange?{backgroundColor:this.$themeBrand.secondary.v_50,":hover":{backgroundColor:this.$themePalette.grey.v_200}}:{}},selectedStyle:function(){return this.isSelected?{backgroundColor:this.$themeBrand.secondary.v_600,color:this.$themePalette.white+"!important"}:{}},styleOverrides:function(){return{width:"30px",minWidth:"24px",height:"29px",minHeight:"23px",fontSize:"0.885em",fontWeight:"lighter",lineHeight:"0px",padding:"0",color:this.$themePalette.grey.v_700}},isFirstDay:function(){return 1===this.day}},methods:{toMonthName:function(monthNumber){var date=new Date;return date.setMonth(monthNumber),this.$formatDate(date,{month:"long"})}}},KDateCalendarvue_type_script_lang_js={name:"KDateCalendar",components:{KIconButton:KIconButton,KDateDay:normalizeComponent(KDateDayvue_type_script_lang_js,KDateDayvue_type_template_id_c0ecfd10_scoped_true_render,[],!1,null,"c0ecfd10",null).exports},props:{firstAllowedDate:{type:Date,default:null},lastAllowedDate:{type:Date,default:new Date},selectedStartDate:{type:[Date,null],default:null},selectedEndDate:{type:[Date,null],default:null},previousMonthText:{type:String,required:!0},nextMonthText:{type:String,required:!0}},data:function(){return{dateRange:{start:this.selectedStartDate?this.selectedStartDate:null,end:this.selectedStartDate&&this.selectedEndDate?this.selectedEndDate:null},numOfDays:7,isFirstChoice:null==this.selectedStartDate,activeMonth:(new Date).getMonth()-1==-1?11:(new Date).getMonth()-1,activeYearStart:(new Date).getFullYear()}},computed:{activeMonthDay:function(){return new Date(this.activeYearStart,this.activeMonth,1).getDay()},nextActiveMonthDay:function(){return new Date(this.activeYearEnd,this.nextActiveMonth,1).getDay()},activeMonthDate:function(){return new Date(this.activeYearEnd,this.nextActiveMonth,0).getDate()},nextActiveMonthDate:function(){return new Date(this.activeYearEnd,this.activeMonth+2,0).getDate()},nextActiveMonth:function(){return this.activeMonth>=11?0:this.activeMonth+1},activeYearEnd:function(){return 0===this.nextActiveMonth?this.activeYearStart+1:this.activeYearStart}},created:function(){11===this.activeMonth&&(this.activeYearStart=this.activeYearStart-1)},methods:{getDayIndexInMonth:function(weekIndex,dayInWeekIndex,activeMonthDay){return this.numOfDays*(weekIndex-1)+dayInWeekIndex-activeMonthDay},getDayCell:function(weekIndex,dayInWeekIndex,activeMonthDay,activeMonthDate){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,activeMonthDay);return result>0&&result<=activeMonthDate?result:null},getNewDateRange:function(result,activeMonth,activeYear){var resultDate=new Date(activeYear,activeMonth,result);if(!this.isFirstChoice&&resultDate<this.dateRange.start)return this.isFirstChoice=!1,{start:resultDate};var newData={},key="start";return this.isFirstChoice?newData.end=null:key="end",this.isFirstChoice=!this.isFirstChoice,newData[key]=resultDate,newData},selectFirstItem:function(weekIndex,dayInWeekIndex){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,this.activeMonthDay);this.dateRange=Object.assign({},this.dateRange,this.getNewDateRange(result,this.activeMonth,this.activeYearStart)),this.$emit("updateSelectedDates",this.dateRange)},selectSecondItem:function(weekIndex,dayInWeekIndex){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,this.nextActiveMonthDay);this.dateRange=Object.assign({},this.dateRange,this.getNewDateRange(result,this.nextActiveMonth,this.activeYearEnd)),this.$emit("updateSelectedDates",this.dateRange)},isDateSelected:function(weekIndex,dayInWeekIndex,key,activeMonthDay,activeMonthDate){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,activeMonthDay);if(result<1||result>activeMonthDate)return!1;var currDate=this.getDate(key,result);return this.selectedStartDate&&(0,date_fns.format)(this.selectedStartDate,"DD/MM/YYYY")===(0,date_fns.format)(currDate,"DD/MM/YYYY")||this.selectedEndDate&&(0,date_fns.format)(this.selectedEndDate,"DD/MM/YYYY")===(0,date_fns.format)(currDate,"DD/MM/YYYY")},selectionOrder:function(weekIndex,dayInWeekIndex,key,activeMonthDay,activeMonthDate){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,activeMonthDay);if(result<1||result>activeMonthDate)return!1;var currDate=this.getDate(key,result);return this.selectedStartDate&&this.selectedEndDate&&this.isValidDate(this.selectedStartDate)&&this.isValidDate(this.selectedEndDate)&&(0,date_fns.isAfter)(this.selectedEndDate,this.selectedStartDate)&&(0,date_fns.format)(this.selectedStartDate,"DD/MM/YYYY")!==(0,date_fns.format)(this.selectedEndDate,"DD/MM/YYYY")?this.selectedStartDate&&(0,date_fns.format)(this.selectedStartDate,"DD/MM/YYYY")===(0,date_fns.format)(currDate,"DD/MM/YYYY")&&7!==dayInWeekIndex?"first":this.selectedEndDate&&(0,date_fns.format)(this.selectedEndDate,"DD/MM/YYYY")===(0,date_fns.format)(currDate,"DD/MM/YYYY")&&1!==dayInWeekIndex&&1!==result?"second":void 0:""},isDateInRange:function(weekIndex,dayInWeekIndex,key,activeMonthDay,activeMonthDate){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,activeMonthDay);if(result<1||result>activeMonthDate)return!1;var currDate=this.getDate(key,result);return this.selectedStartDate&&this.selectedEndDate&&this.selectedStartDate<currDate&&this.selectedEndDate>currDate},isDateDisabled:function(weekIndex,dayInWeekIndex,activeMonthDay,activeMonthDate){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,activeMonthDay);return!(result>0&&result<=activeMonthDate)},isDateDisabledLeft:function(weekIndex,dayInWeekIndex,activeMonthDay){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,activeMonthDay),currDate=new Date(this.activeYearStart,this.activeMonth,result);return currDate<this.firstAllowedDate||currDate>this.lastAllowedDate},isDateDisabledRight:function(weekIndex,dayInWeekIndex,activeMonthDay){var result=this.getDayIndexInMonth(weekIndex,dayInWeekIndex,activeMonthDay),currDate=new Date(this.activeYearStart,this.activeMonth+1,result);return currDate<this.firstAllowedDate||currDate>this.lastAllowedDate},isLastDay:function(weekIndex,dayInWeekIndex,key,nextActiveMonthDay,nextActiveMonthDate){return this.getDayCell(weekIndex,dayInWeekIndex,nextActiveMonthDay,nextActiveMonthDate)===("first"===key?new Date(this.activeYearStart,this.activeMonth+1,0).getDate():new Date(this.activeYearEnd,this.nextActiveMonth+1,0).getDate())},goPrevMonth:function(){var prevMonth=new Date(this.activeYearStart,this.activeMonth,0);this.activeMonth=prevMonth.getMonth(),this.activeYearStart=prevMonth.getFullYear()},goNextMonth:function(){var nextMonth=new Date(this.activeYearEnd,this.nextActiveMonth,2);this.activeMonth=nextMonth.getMonth(),this.activeYearStart=nextMonth.getFullYear()},isValidDate:function(date){return!isNaN(new Date(date))},getDate:function(key,day){return"first"===key?new Date(this.activeYearStart,this.activeMonth,day):new Date(this.activeYearEnd,this.nextActiveMonth,day)},monthString:function(monthIndex){var date=new Date;return date.setMonth(monthIndex),this.$formatDate(date,{month:"long"})}}},KDateCalendar=normalizeComponent(KDateCalendarvue_type_script_lang_js,KDateCalendarvue_type_template_id_de18346a_scoped_true_render,[],!1,null,"de18346a",null).exports,KDateInputvue_type_template_id_5daeaa57_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("fieldset",{staticClass:"date-input-fieldset",attrs:{"aria-label":_vm.legendText,"aria-describedby":_vm.inputId,"aria-live":"polite"}},[_c("KTextBox",{ref:_vm.inputRef,attrs:{value:_vm.value,type:"date",pattern:"\\d{4}-\\d{2}-\\d{2}",label:_vm.legendText,autoComplete:"off",invalid:Boolean(_vm.errorMessage),showInvalidText:Boolean(_vm.errorMessage),invalidText:_vm.errorMessage,floatingLabel:!1},on:{input:_vm.handleInput}}),_c("span",{staticClass:"k-date-vhidden"},[_vm.value?_c("span",{attrs:{id:_vm.inputId}},[_vm._v("\n        "+_vm._s(_vm.dateDescription)+"\n      ")]):_vm._e()])],1)])};KDateInputvue_type_template_id_5daeaa57_scoped_true_render._withStripped=!0;var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var esm_browser_validate=function(uuid){return"string"==typeof uuid&&regex.test(uuid)},byteToHex=[],stringify_i=0;stringify_i<256;++stringify_i)byteToHex.push((stringify_i+256).toString(16).substr(1));var esm_browser_stringify=function(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!esm_browser_validate(uuid))throw TypeError("Stringified UUID is invalid");return uuid};var esm_browser_v4=function(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return esm_browser_stringify(rnds)},KTextboxvue_type_template_id_01ae04be_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"mh"},[_c("UiTextbox",{ref:"textbox",staticClass:"textbox",style:_vm.changedOrFocused?_vm.$coreOutline:{},attrs:{label:_vm.label,disabled:_vm.disabled,invalid:_vm.showInvalidMessage,error:_vm.invalidText,autofocus:_vm.autofocus,maxlength:_vm.maxlength,autocomplete:_vm.autocomplete,autocapitalize:_vm.autocapitalize,type:_vm.type,min:_vm.min,max:_vm.max,enforceMaxlength:!0,floatingLabel:_vm.floatingLabel,multiLine:_vm.textArea,rows:3},on:{input:_vm.updateText,keydown:_vm.emitKeydown,focus:_vm.emitFocus,blur:_vm.emitBlur},model:{value:_vm.currentText,callback:function($$v){_vm.currentText=$$v},expression:"currentText"}})],1)};KTextboxvue_type_template_id_01ae04be_scoped_true_render._withStripped=!0;var UiTextboxvue_type_template_id_4aa69a30_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"ui-textbox",class:_vm.classes},[_vm.icon||_vm.$slots.icon?_c("div",{staticClass:"ui-textbox-icon-wrapper"},[_vm._t("icon",(function(){return[_c("UiIcon",{attrs:{icon:_vm.icon}})]}))],2):_vm._e(),_c("div",{staticClass:"ui-textbox-content"},[_c("label",{staticClass:"ui-textbox-label"},[_vm.multiLine?_c("textarea",{directives:[{name:"autofocus",rawName:"v-autofocus",value:_vm.autofocus,expression:"autofocus"}],ref:"textarea",staticClass:"ui-textbox-textarea",style:_vm.isActive?{borderBottomColor:_vm.$themeTokens.primaryDark}:{},attrs:{autocapitalize:_vm.autocapitalize?_vm.autocapitalize:null,autocomplete:_vm.autocomplete?_vm.autocomplete:null,disabled:_vm.disabled,maxlength:_vm.enforceMaxlength?_vm.maxlength:null,minlength:_vm.minlength,name:_vm.name,placeholder:_vm.hasFloatingLabel?null:_vm.placeholder,readonly:_vm.readonly,required:_vm.required,rows:_vm.rows,tabindex:_vm.tabindex},domProps:{value:_vm.value},on:{blur:_vm.onBlur,change:_vm.onChange,focus:_vm.onFocus,input:function($event){return _vm.updateValue($event.target.value)},keydown:[function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.onKeydownEnter.apply(null,arguments)},_vm.onKeydown]}}):_c("input",{directives:[{name:"autofocus",rawName:"v-autofocus",value:_vm.autofocus,expression:"autofocus"}],ref:"input",staticClass:"ui-textbox-input",style:_vm.isActive?{borderBottomColor:_vm.$themeTokens.primaryDark}:{},attrs:{autocapitalize:_vm.autocapitalize?_vm.autocapitalize:null,autocomplete:_vm.autocomplete?_vm.autocomplete:null,disabled:_vm.disabled,max:_vm.maxValue,maxlength:_vm.enforceMaxlength?_vm.maxlength:null,minlength:_vm.minlength,min:_vm.minValue,name:_vm.name,number:"number"===_vm.type||null,placeholder:_vm.hasFloatingLabel?null:_vm.placeholder,readonly:_vm.readonly,required:_vm.required,step:_vm.stepValue,tabindex:_vm.tabindex,type:_vm.type},domProps:{value:_vm.value},on:{blur:_vm.onBlur,change:_vm.onChange,focus:_vm.onFocus,input:function($event){return _vm.updateValue($event.target.value)},keydown:[function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.onKeydownEnter.apply(null,arguments)},_vm.onKeydown]}}),_vm.label||_vm.$slots.default?_c("div",{staticClass:"ui-textbox-label-text",class:_vm.labelClasses,style:_vm.isActive?{color:_vm.$themeTokens.primaryDark}:{}},[_vm._t("default",(function(){return[_vm._v(_vm._s(_vm.label))]}))],2):_vm._e()]),_c("div",{staticClass:"ui-textbox-feedback"},[_vm.showError?_c("div",{staticClass:"ui-textbox-feedback-text",style:{color:_vm.$themeTokens.error}},[_vm._t("error",(function(){return[_vm._v("\n          "+_vm._s(_vm.error)+"\n        ")]}))],2):_vm.showHelp?_c("div",{staticClass:"ui-textbox-feedback-text"},[_vm._t("help",(function(){return[_vm._v("\n          "+_vm._s(_vm.help)+"\n        ")]}))],2):_c("div",{staticClass:"ui-textbox-feedback-text"},[_vm._v("\n        \n      ")]),_vm.maxlength?_c("div",{staticClass:"ui-textbox-counter"},[_vm._v("\n        "+_vm._s(_vm.valueLength+"/"+_vm.maxlength)+"\n      ")]):_vm._e()])])])};UiTextboxvue_type_template_id_4aa69a30_scoped_true_render._withStripped=!0;var autosize=__webpack_require__(9224),autosize_default=__webpack_require__.n(autosize),UiIconvue_type_template_id_7815a79a_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",{staticClass:"ui-icon",class:[_vm.iconSet,_vm.icon,{"is-mirrored":_vm.mirror}],attrs:{"aria-label":_vm.ariaLabel}},[_vm.useSvg?_c("svg",[_c("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#"+_vm.icon}})]):_vm._t("default",(function(){return[_vm._v(_vm._s(_vm.removeText?null:_vm.icon))]}))],2)};UiIconvue_type_template_id_7815a79a_render._withStripped=!0;var UiTextboxvue_type_script_lang_js={name:"UiTextbox",components:{UiIcon:normalizeComponent({name:"UiIcon",props:{icon:String,iconSet:{type:String,default:"material-icons"},ariaLabel:String,removeText:{type:Boolean,default:!1},useSvg:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1}}},UiIconvue_type_template_id_7815a79a_render,[],!1,null,null,null).exports},directives:{autofocus:{inserted:function(el,_ref){_ref.value&&el.focus()}}},props:{name:String,placeholder:String,tabindex:[String,Number],value:{type:[String,Number],default:""},icon:String,iconPosition:{type:String,default:"left"},label:String,floatingLabel:{type:Boolean,default:!1},type:{type:String,default:"text"},multiLine:{type:Boolean,default:!1},rows:{type:Number,default:2},autocomplete:String,autocapitalize:String,autofocus:{type:Boolean,default:!1},autosize:{type:Boolean,default:!0},min:Number,max:Number,step:{type:[String,Number],default:"any"},maxlength:Number,minlength:Number,enforceMaxlength:{type:Boolean,default:!1},required:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},help:String,error:String,invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{isActive:!1,isTouched:!1,initialValue:this.value,autosizeInitialized:!1}},computed:{classes:function(){return["ui-textbox--icon-position-".concat(this.iconPosition),{"is-active":this.isActive},{"is-invalid":this.invalid},{"is-touched":this.isTouched},{"is-multi-line":this.multiLine},{"has-counter":this.maxlength},{"is-disabled":this.disabled},{"has-label":this.hasLabel},{"has-floating-label":this.hasFloatingLabel}]},labelClasses:function(){return{"is-inline":this.hasFloatingLabel&&this.isLabelInline,"is-floating":this.hasFloatingLabel&&!this.isLabelInline}},hasLabel:function(){return Boolean(this.label)||Boolean(this.$slots.default)},hasFloatingLabel:function(){return this.hasLabel&&this.floatingLabel},isLabelInline:function(){return 0===this.valueLength&&!this.isActive},minValue:function(){return"number"===this.type&&void 0!==this.min?this.min:null},maxValue:function(){return"number"===this.type&&void 0!==this.max?this.max:null},stepValue:function(){return"number"===this.type?this.step:null},valueLength:function(){return this.value?this.value.length:0},hasErrorFeedback:function(){return Boolean(this.error)||Boolean(this.$slots.error)},showError:function(){return this.invalid&&this.hasErrorFeedback},showHelp:function(){return Boolean(this.help)||Boolean(this.$slots.help)}},created:function(){null===this.value&&(this.initialValue="",this.updateValue(""))},mounted:function(){this.multiLine&&this.autosize&&(autosize_default()(this.$refs.textarea),this.autosizeInitialized=!0)},beforeDestroy:function(){this.autosizeInitialized&&autosize_default().destroy(this.$refs.textarea)},methods:{updateValue:function(value){this.$emit("input",value)},onChange:function(e){this.$emit("change",this.value,e)},onFocus:function(e){this.isActive=!0,this.$emit("focus",e)},onBlur:function(e){this.isActive=!1,this.$emit("blur",e),this.isTouched||(this.isTouched=!0,this.$emit("touch"))},onKeydown:function(e){this.$emit("keydown",e)},onKeydownEnter:function(e){this.$emit("keydown-enter",e)},reset:function(){document.activeElement!==this.$refs.input&&document.activeElement!==this.$refs.textarea||document.activeElement.blur(),this.updateValue(this.initialValue),this.resetTouched()},resetTouched:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touched:!1};this.isTouched=options.touched},refreshSize:function(){this.autosizeInitialized&&autosize_default().update(this.$refs.textarea)},focus:function(){(this.$refs.input||this.$refs.textarea).focus()}}},UiTextbox_component=normalizeComponent(UiTextboxvue_type_script_lang_js,UiTextboxvue_type_template_id_4aa69a30_scoped_true_render,[],!1,null,"4aa69a30",null),KTextbox_component=normalizeComponent({name:"KTextbox",components:{UiTextbox:UiTextbox_component.exports},inheritAttrs:!0,props:{label:{type:String,required:!0},value:{type:[String,Number],default:null},invalid:{type:Boolean,default:!1},invalidText:{type:String,default:null},showInvalidText:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},maxlength:{type:Number,default:null},autocomplete:{type:String,default:null},autocapitalize:{type:String,default:null},type:{type:String,default:"text"},min:{type:Number,default:null},max:{type:Number,default:null},textArea:{type:Boolean,default:!1},floatingLabel:{type:Boolean,default:!0}},data:function(){return{currentText:this.value,changedOrFocused:!1,hasBeenFocused:!1}},computed:{showInvalidMessage:function(){return this.invalid&&(this.changedOrFocused||this.showInvalidText)}},watch:{value:function(val){this.currentText=val}},methods:{updateText:function(){this.$emit("input",this.currentText)},reset:function(){this.$refs.textbox.reset()},emitKeydown:function(e){this.$emit("keydown",e)},emitBlur:function(e){this.changedOrFocused=!1,this.$emit("blur",e)},emitFocus:function(e){this.autofocus&&!this.hasBeenFocused||(this.changedOrFocused=!0),this.hasBeenFocused=!0,this.$emit("focus",e)},focus:function(){this.changedOrFocused=!0,this.hasBeenFocused=!0,this.$refs.textbox.$el.querySelector("input").focus()}}},KTextboxvue_type_template_id_01ae04be_scoped_true_render,[],!1,null,"01ae04be",null);function KDateInputvue_type_script_lang_js_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return KDateInputvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KDateInputvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function KDateInputvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var KDateInput=normalizeComponent({name:"KDateInput",components:{KTextBox:KTextbox_component.exports},props:{inputRef:{type:String,default:null},legendText:{type:String,required:!0},errorMessage:{type:[String,Boolean],default:!1},value:{type:[Date,String],default:null}},computed:{dateDescription:function(){if(this.value){var valueAsDate=new Date(this.value);return valueAsDate.setDate(valueAsDate.getDate()+1),this.legendText+" "+this.$formatDate(valueAsDate,{year:"numeric",weekday:"long",month:"long",day:"numeric"})}return""},inputId:function(){return this.value?"DateDesc_".concat(esm_browser_v4().split("-").pop()):""}},mounted:function(){var _this=this;this.$nextTick((function(){var _step,_iterator=KDateInputvue_type_script_lang_js_createForOfIteratorHelper(document.querySelectorAll("input[type = date]"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var input=_step.value;input.addEventListener("click",_this.disableNativeCalendar),input.addEventListener("focus",_this.disableNativeCalendar)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}))},methods:{handleInput:function(val){val&&this.$emit("updateDate",val)},disableNativeCalendar:function(e){e.preventDefault()}}},KDateInputvue_type_template_id_5daeaa57_scoped_true_render,[],!1,null,"5daeaa57",null).exports;function invokeUtils_toInvokeSource(src){if("string"==typeof src){var simpleSrc={type:src,toString:function(){return src}};return simpleSrc}return src}function toInvokeDefinition(invokeConfig){return _assign(_assign({type:actionTypes_invoke},invokeConfig),{toJSON:function(){invokeConfig.onDone,invokeConfig.onError;var invokeDef=__rest(invokeConfig,["onDone","onError"]);return _assign(_assign({},invokeDef),{type:actionTypes_invoke,src:invokeUtils_toInvokeSource(invokeConfig.src)})}})}function StateNode_typeof(o){return StateNode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},StateNode_typeof(o)}var EMPTY_OBJECT={},isStateId=function(str){return"#"===str[0]},StateNode_StateNode=function(){function StateNode(config,options,_context,_stateInfo){void 0===_context&&(_context="context"in config?config.context:void 0);var _a,_this=this;this.config=config,this._context=_context,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},options),this.parent=null==_stateInfo?void 0:_stateInfo.parent,this.key=this.config.key||(null==_stateInfo?void 0:_stateInfo.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||_tslib_spreadArray([this.machine.key],_tslib_read(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(_a=this.config.schema)&&void 0!==_a?_a:{},this.description=this.config.description,environment_IS_PRODUCTION||utils_warn(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?mapValues(this.config.states,(function(stateConfig,key){var _a,stateNode=new StateNode(stateConfig,{},void 0,{parent:_this,key:key});return Object.assign(_this.idMap,_assign(((_a={})[stateNode.id]=stateNode,_a),stateNode.idMap)),stateNode})):EMPTY_OBJECT;var order=0;!function dfs(stateNode){var e_1,_a;stateNode.order=order++;try{for(var _b=_tslib_values(getAllChildren(stateNode)),_c=_b.next();!_c.done;_c=_b.next()){dfs(_c.value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(_a){return""===_a.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=toArray(this.config.entry||this.config.onEntry).map((function(action){return toActionObject(action)})),this.onExit=toArray(this.config.exit||this.config.onExit).map((function(action){return toActionObject(action)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=toArray(this.config.invoke).map((function(invokeConfig,i){var _a,_b;if(utils_isMachine(invokeConfig)){var invokeId=createInvokeId(_this.id,i);return _this.machine.options.services=_assign(((_a={})[invokeId]=invokeConfig,_a),_this.machine.options.services),toInvokeDefinition({src:invokeId,id:invokeId})}if(utils_isString(invokeConfig.src)){invokeId=invokeConfig.id||createInvokeId(_this.id,i);return toInvokeDefinition(_assign(_assign({},invokeConfig),{id:invokeId,src:invokeConfig.src}))}if(utils_isMachine(invokeConfig.src)||utils_isFunction(invokeConfig.src)){invokeId=invokeConfig.id||createInvokeId(_this.id,i);return _this.machine.options.services=_assign(((_b={})[invokeId]=invokeConfig.src,_b),_this.machine.options.services),toInvokeDefinition(_assign(_assign({id:invokeId},invokeConfig),{src:invokeId}))}var invokeSource=invokeConfig.src;return toInvokeDefinition(_assign(_assign({id:createInvokeId(_this.id,i)},invokeConfig),{src:invokeSource}))})),this.activities=toArray(this.config.activities).concat(this.invoke).map((function(activity){return toActivityDefinition(activity)})),this.transition=this.transition.bind(this),this.tags=toArray(this.config.tags)}return StateNode.prototype._init=function(){this.__cache.transitions||getAllStateNodes(this).forEach((function(stateNode){return stateNode.on}))},StateNode.prototype.withConfig=function(options,context){var _a=this.options,actions=_a.actions,activities=_a.activities,guards=_a.guards,services=_a.services,delays=_a.delays;return new StateNode(this.config,{actions:_assign(_assign({},actions),options.actions),activities:_assign(_assign({},activities),options.activities),guards:_assign(_assign({},guards),options.guards),services:_assign(_assign({},services),options.services),delays:_assign(_assign({},delays),options.delays)},null!=context?context:this.context)},StateNode.prototype.withContext=function(context){return new StateNode(this.config,this.options,context)},Object.defineProperty(StateNode.prototype,"context",{get:function(){return utils_isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:mapValues(this.states,(function(state){return state.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),StateNode.prototype.toJSON=function(){return this.definition},Object.defineProperty(StateNode.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var transitions=this.transitions;return this.__cache.on=transitions.reduce((function(map,transition){return map[transition.eventType]=map[transition.eventType]||[],map[transition.eventType].push(transition),map}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),StateNode.prototype.getCandidates=function(eventName){if(this.__cache.candidates[eventName])return this.__cache.candidates[eventName];var transient=""===eventName,candidates=this.transitions.filter((function(transition){var sameEventType=transition.eventType===eventName;return transient?sameEventType:sameEventType||"*"===transition.eventType}));return this.__cache.candidates[eventName]=candidates,candidates},StateNode.prototype.getDelayedTransitions=function(){var _this=this,afterConfig=this.config.after;if(!afterConfig)return[];var mutateEntryExit=function(delay,i){var eventType=function(delayRef,id){var idSuffix=id?"#".concat(id):"";return"".concat(types_ActionTypes.After,"(").concat(delayRef,")").concat(idSuffix)}(utils_isFunction(delay)?"".concat(_this.id,":delay[").concat(i,"]"):delay,_this.id);return _this.onEntry.push(actions_send(eventType,{delay:delay})),_this.onExit.push({type:actionTypes_cancel,sendId:eventType}),eventType},delayedTransitions=isArray(afterConfig)?afterConfig.map((function(transition,i){var eventType=mutateEntryExit(transition.delay,i);return _assign(_assign({},transition),{event:eventType})})):utils_flatten(Object.keys(afterConfig).map((function(delay,i){var configTransition=afterConfig[delay],resolvedTransition=utils_isString(configTransition)?{target:configTransition}:configTransition,resolvedDelay=isNaN(+delay)?delay:+delay,eventType=mutateEntryExit(resolvedDelay,i);return toArray(resolvedTransition).map((function(transition){return _assign(_assign({},transition),{event:eventType,delay:resolvedDelay})}))})));return delayedTransitions.map((function(delayedTransition){var delay=delayedTransition.delay;return _assign(_assign({},_this.formatTransition(delayedTransition)),{delay:delay})}))},StateNode.prototype.getStateNodes=function(state){var _a,_this=this;if(!state)return[];var stateValue=state instanceof State?state.value:toStateValue(state,this.delimiter);if(utils_isString(stateValue)){var initialStateValue=this.getStateNode(stateValue).initial;return void 0!==initialStateValue?this.getStateNodes(((_a={})[stateValue]=initialStateValue,_a)):[this,this.states[stateValue]]}var subStateKeys=Object.keys(stateValue),subStateNodes=[this];return subStateNodes.push.apply(subStateNodes,_tslib_spreadArray([],_tslib_read(utils_flatten(subStateKeys.map((function(subStateKey){return _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey])})))),!1)),subStateNodes},StateNode.prototype.handles=function(event){var eventType=getEventType(event);return this.events.includes(eventType)},StateNode.prototype.resolveState=function(state){var stateFromConfig=state instanceof State?state:State.create(state),configuration=Array.from(getConfiguration([],this.getStateNodes(stateFromConfig.value)));return new State(_assign(_assign({},stateFromConfig),{value:this.resolve(stateFromConfig.value),configuration:configuration,done:isInFinalState(configuration,this),tags:getTagsFromConfiguration(configuration),machine:this.machine}))},StateNode.prototype.transitionLeafNode=function(stateValue,state,_event){var next=this.getStateNode(stateValue).next(state,_event);return next&&next.transitions.length?next:this.next(state,_event)},StateNode.prototype.transitionCompoundNode=function(stateValue,state,_event){var subStateKeys=Object.keys(stateValue),next=this.getStateNode(subStateKeys[0])._transition(stateValue[subStateKeys[0]],state,_event);return next&&next.transitions.length?next:this.next(state,_event)},StateNode.prototype.transitionParallelNode=function(stateValue,state,_event){var e_2,_a,transitionMap={};try{for(var _b=_tslib_values(Object.keys(stateValue)),_c=_b.next();!_c.done;_c=_b.next()){var subStateKey=_c.value,subStateValue=stateValue[subStateKey];if(subStateValue){var next=this.getStateNode(subStateKey)._transition(subStateValue,state,_event);next&&(transitionMap[subStateKey]=next)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}var stateTransitions=Object.keys(transitionMap).map((function(key){return transitionMap[key]})),enabledTransitions=utils_flatten(stateTransitions.map((function(st){return st.transitions})));if(!stateTransitions.some((function(st){return st.transitions.length>0})))return this.next(state,_event);var configuration=utils_flatten(Object.keys(transitionMap).map((function(key){return transitionMap[key].configuration})));return{transitions:enabledTransitions,exitSet:utils_flatten(stateTransitions.map((function(t){return t.exitSet}))),configuration:configuration,source:state,actions:utils_flatten(Object.keys(transitionMap).map((function(key){return transitionMap[key].actions})))}},StateNode.prototype._transition=function(stateValue,state,_event){return utils_isString(stateValue)?this.transitionLeafNode(stateValue,state,_event):1===Object.keys(stateValue).length?this.transitionCompoundNode(stateValue,state,_event):this.transitionParallelNode(stateValue,state,_event)},StateNode.prototype.getTransitionData=function(state,event){return this._transition(state.value,state,toSCXMLEvent(event))},StateNode.prototype.next=function(state,_event){var e_3,_a,selectedTransition,_this=this,eventName=_event.name,actions=[],nextStateNodes=[];try{for(var _b=_tslib_values(this.getCandidates(eventName)),_c=_b.next();!_c.done;_c=_b.next()){var candidate=_c.value,cond=candidate.cond,stateIn=candidate.in,resolvedContext=state.context,isInState=!stateIn||(utils_isString(stateIn)&&isStateId(stateIn)?state.matches(toStateValue(this.getStateNodeById(stateIn).path,this.delimiter)):matchesState(toStateValue(stateIn,this.delimiter),path(this.path.slice(0,-2))(state.value))),guardPassed=!1;try{guardPassed=!cond||evaluateGuard(this.machine,cond,resolvedContext,_event,state)}catch(err){throw new Error("Unable to evaluate guard '".concat(cond.name||cond.type,"' in transition for event '").concat(eventName,"' in state node '").concat(this.id,"':\n").concat(err.message))}if(guardPassed&&isInState){void 0!==candidate.target&&(nextStateNodes=candidate.target),actions.push.apply(actions,_tslib_spreadArray([],_tslib_read(candidate.actions),!1)),selectedTransition=candidate;break}}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_3)throw e_3.error}}if(selectedTransition){if(!nextStateNodes.length)return{transitions:[selectedTransition],exitSet:[],configuration:state.value?[this]:[],source:state,actions:actions};var allNextStateNodes=utils_flatten(nextStateNodes.map((function(stateNode){return _this.getRelativeStateNodes(stateNode,state.historyValue)})));return{transitions:[selectedTransition],exitSet:!!selectedTransition.internal?[]:utils_flatten(nextStateNodes.map((function(targetNode){return _this.getPotentiallyReenteringNodes(targetNode)}))),configuration:allNextStateNodes,source:state,actions:actions}}},StateNode.prototype.getPotentiallyReenteringNodes=function(targetNode){if(this.order<targetNode.order)return[this];for(var nodes=[],marker=this,possibleAncestor=targetNode;marker&&marker!==possibleAncestor;)nodes.push(marker),marker=marker.parent;return marker!==possibleAncestor?[]:(nodes.push(possibleAncestor),nodes)},StateNode.prototype.getActions=function(resolvedConfig,isDone,transition,currentContext,_event,prevState,predictableExec){var e_4,_a,e_5,_b,_this=this,prevConfig=prevState?getConfiguration([],this.getStateNodes(prevState.value)):[],entrySet=new Set;try{for(var _c=_tslib_values(Array.from(resolvedConfig).sort((function(a,b){return a.order-b.order}))),_d=_c.next();!_d.done;_d=_c.next()){(!has(prevConfig,sn=_d.value)||has(transition.exitSet,sn)||sn.parent&&entrySet.has(sn.parent))&&entrySet.add(sn)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_4)throw e_4.error}}try{for(var prevConfig_1=_tslib_values(prevConfig),prevConfig_1_1=prevConfig_1.next();!prevConfig_1_1.done;prevConfig_1_1=prevConfig_1.next()){var sn;has(resolvedConfig,sn=prevConfig_1_1.value)&&!has(transition.exitSet,sn.parent)||transition.exitSet.push(sn)}}catch(e_5_1){e_5={error:e_5_1}}finally{try{prevConfig_1_1&&!prevConfig_1_1.done&&(_b=prevConfig_1.return)&&_b.call(prevConfig_1)}finally{if(e_5)throw e_5.error}}transition.exitSet.sort((function(a,b){return b.order-a.order}));var entryStates=Array.from(entrySet).sort((function(a,b){return a.order-b.order})),exitStates=new Set(transition.exitSet),doneEvents=utils_flatten(entryStates.map((function(sn){var events=[];if("final"!==sn.type)return events;var parent=sn.parent;if(!parent.parent)return events;events.push(done(sn.id,sn.doneData),done(parent.id,sn.doneData?mapContext(sn.doneData,currentContext,_event):void 0));var grandparent=parent.parent;return"parallel"===grandparent.type&&getChildren(grandparent).every((function(parentNode){return isInFinalState(transition.configuration,parentNode)}))&&events.push(done(grandparent.id)),events}))),entryActions=entryStates.map((function(stateNode){var entryActions=stateNode.onEntry,invokeActions=stateNode.activities.map((function(activity){return function(activity){var activityDef=toActivityDefinition(activity);return{type:types_ActionTypes.Start,activity:activityDef,exec:void 0}}(activity)}));return{type:"entry",actions:toActionObjects(predictableExec?_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(entryActions),!1),_tslib_read(invokeActions),!1):_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(invokeActions),!1),_tslib_read(entryActions),!1),_this.machine.options.actions)}})).concat({type:"state_done",actions:doneEvents.map((function(event){return function(event,options){return{type:raise,event:"function"==typeof event?event:toEventObject(event),delay:options?options.delay:void 0,id:null==options?void 0:options.id}}(event)}))}),actions=Array.from(exitStates).map((function(stateNode){return{type:"exit",actions:toActionObjects(_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(stateNode.onExit),!1),_tslib_read(stateNode.activities.map((function(activity){return function(actorRef){var activity=utils_isFunction(actorRef)?actorRef:toActivityDefinition(actorRef);return{type:types_ActionTypes.Stop,activity:activity,exec:void 0}}(activity)}))),!1),_this.machine.options.actions)}})).concat({type:"transition",actions:toActionObjects(transition.actions,this.machine.options.actions)}).concat(entryActions);if(isDone){var stopActions=toActionObjects(utils_flatten(_tslib_spreadArray([],_tslib_read(resolvedConfig),!1).sort((function(a,b){return b.order-a.order})).map((function(stateNode){return stateNode.onExit}))),this.machine.options.actions).filter((function(action){return!isRaisableAction(action)}));return actions.concat({type:"stop",actions:stopActions})}return actions},StateNode.prototype.transition=function(state,event,context,exec){void 0===state&&(state=this.initialState);var currentState,eventType,_event=toSCXMLEvent(event);if(state instanceof State)currentState=void 0===context?state:this.resolveState(State.from(state,context));else{var resolvedStateValue=utils_isString(state)?this.resolve(pathToStateValue(this.getResolvedPath(state))):this.resolve(state),resolvedContext=null!=context?context:this.machine.context;currentState=this.resolveState(State.from(resolvedStateValue,resolvedContext))}if(!environment_IS_PRODUCTION&&"*"===_event.name)throw new Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(_event.name)&&(eventType=_event.name,!/^(done|error)\./.test(eventType)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(_event.name,"'"));var stateTransition=this._transition(currentState.value,currentState,_event)||{transitions:[],configuration:[],exitSet:[],source:currentState,actions:[]},prevConfig=getConfiguration([],this.getStateNodes(currentState.value)),resolvedConfig=stateTransition.configuration.length?getConfiguration(prevConfig,stateTransition.configuration):prevConfig;return stateTransition.configuration=_tslib_spreadArray([],_tslib_read(resolvedConfig),!1),this.resolveTransition(stateTransition,currentState,currentState.context,exec,_event)},StateNode.prototype.resolveRaisedTransition=function(state,_event,originalEvent,predictableExec){var _a,currentActions=state.actions;return(state=this.transition(state,_event,void 0,predictableExec))._event=originalEvent,state.event=originalEvent.data,(_a=state.actions).unshift.apply(_a,_tslib_spreadArray([],_tslib_read(currentActions),!1)),state},StateNode.prototype.resolveTransition=function(stateTransition,currentState,context,predictableExec,_event){var e_6,_a,e_7,_b,_this=this;void 0===_event&&(_event=initEvent);var configuration=stateTransition.configuration,willTransition=!currentState||stateTransition.transitions.length>0,resolvedConfiguration=willTransition?stateTransition.configuration:currentState?currentState.configuration:[],isDone=isInFinalState(resolvedConfiguration,this),resolvedStateValue=willTransition?getValue(this.machine,configuration):void 0,historyValue=currentState?currentState.historyValue?currentState.historyValue:stateTransition.source?this.machine.historyValue(currentState.value):void 0:void 0,actionBlocks=this.getActions(new Set(resolvedConfiguration),isDone,stateTransition,context,_event,currentState,predictableExec),activities=currentState?_assign({},currentState.activities):{};try{for(var actionBlocks_1=_tslib_values(actionBlocks),actionBlocks_1_1=actionBlocks_1.next();!actionBlocks_1_1.done;actionBlocks_1_1=actionBlocks_1.next()){var block=actionBlocks_1_1.value;try{for(var _c=(e_7=void 0,_tslib_values(block.actions)),_d=_c.next();!_d.done;_d=_c.next()){var action=_d.value;action.type===start?activities[action.activity.id||action.activity.type]=action:action.type===stop&&(activities[action.activity.id||action.activity.type]=!1)}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_d&&!_d.done&&(_b=_c.return)&&_b.call(_c)}finally{if(e_7)throw e_7.error}}}}catch(e_6_1){e_6={error:e_6_1}}finally{try{actionBlocks_1_1&&!actionBlocks_1_1.done&&(_a=actionBlocks_1.return)&&_a.call(actionBlocks_1)}finally{if(e_6)throw e_6.error}}var hist,stateValue,_e=_tslib_read(resolveActions(this,currentState,context,_event,actionBlocks,predictableExec,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),resolvedActions=_e[0],updatedContext=_e[1],_f=_tslib_read(function(items,predicate){var e_6,_a,_b=_tslib_read([[],[]],2),truthy=_b[0],falsy=_b[1];try{for(var items_1=_tslib_values(items),items_1_1=items_1.next();!items_1_1.done;items_1_1=items_1.next()){var item=items_1_1.value;predicate(item)?truthy.push(item):falsy.push(item)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{items_1_1&&!items_1_1.done&&(_a=items_1.return)&&_a.call(items_1)}finally{if(e_6)throw e_6.error}}return[truthy,falsy]}(resolvedActions,isRaisableAction),2),raisedEvents=_f[0],nonRaisedActions=_f[1],invokeActions=resolvedActions.filter((function(action){var _a;return action.type===start&&(null===(_a=action.activity)||void 0===_a?void 0:_a.type)===actionTypes_invoke})),children=invokeActions.reduce((function(acc,action){return acc[action.activity.id]=function(invokeDefinition,machine,context,_event){var _a,invokeSrc=toInvokeSource(invokeDefinition.src),serviceCreator=null===(_a=null==machine?void 0:machine.options.services)||void 0===_a?void 0:_a[invokeSrc.type],resolvedData=invokeDefinition.data?mapContext(invokeDefinition.data,context,_event):void 0,tempActor=serviceCreator?Actor_createDeferredActor(serviceCreator,invokeDefinition.id,resolvedData):createNullActor(invokeDefinition.id);return tempActor.meta=invokeDefinition,tempActor}(action.activity,_this.machine,updatedContext,_event),acc}),currentState?_assign({},currentState.children):{}),nextState=new State({value:resolvedStateValue||currentState.value,context:updatedContext,_event:_event,_sessionid:currentState?currentState._sessionid:null,historyValue:resolvedStateValue?historyValue?(hist=historyValue,stateValue=resolvedStateValue,{current:stateValue,states:updateHistoryStates(hist,stateValue)}):void 0:currentState?currentState.historyValue:void 0,history:!resolvedStateValue||stateTransition.source?currentState:void 0,actions:resolvedStateValue?nonRaisedActions:[],activities:resolvedStateValue?activities:currentState?currentState.activities:{},events:[],configuration:resolvedConfiguration,transitions:stateTransition.transitions,children:children,done:isDone,tags:getTagsFromConfiguration(resolvedConfiguration),machine:this}),didUpdateContext=context!==updatedContext;nextState.changed=_event.name===actionTypes_update||didUpdateContext;var history=nextState.history;history&&delete history.history;var hasAlwaysTransitions=!isDone&&(this._transient||configuration.some((function(stateNode){return stateNode._transient})));if(!(willTransition||hasAlwaysTransitions&&""!==_event.name))return nextState;var maybeNextState=nextState;if(!isDone)for(hasAlwaysTransitions&&(maybeNextState=this.resolveRaisedTransition(maybeNextState,{type:nullEvent},_event,predictableExec));raisedEvents.length;){var raisedEvent=raisedEvents.shift();maybeNextState=this.resolveRaisedTransition(maybeNextState,raisedEvent._event,_event,predictableExec)}var changed=maybeNextState.changed||(history?!!maybeNextState.actions.length||didUpdateContext||StateNode_typeof(history.value)!==StateNode_typeof(maybeNextState.value)||!stateValuesEqual(maybeNextState.value,history.value):void 0);return maybeNextState.changed=changed,maybeNextState.history=history,maybeNextState},StateNode.prototype.getStateNode=function(stateKey){if(isStateId(stateKey))return this.machine.getStateNodeById(stateKey);if(!this.states)throw new Error("Unable to retrieve child state '".concat(stateKey,"' from '").concat(this.id,"'; no child states exist."));var result=this.states[stateKey];if(!result)throw new Error("Child state '".concat(stateKey,"' does not exist on '").concat(this.id,"'"));return result},StateNode.prototype.getStateNodeById=function(stateId){var resolvedStateId=isStateId(stateId)?stateId.slice(1):stateId;if(resolvedStateId===this.id)return this;var stateNode=this.machine.idMap[resolvedStateId];if(!stateNode)throw new Error("Child state node '#".concat(resolvedStateId,"' does not exist on machine '").concat(this.id,"'"));return stateNode},StateNode.prototype.getStateNodeByPath=function(statePath){if("string"==typeof statePath&&isStateId(statePath))try{return this.getStateNodeById(statePath.slice(1))}catch(e){}for(var arrayStatePath=toStatePath(statePath,this.delimiter).slice(),currentStateNode=this;arrayStatePath.length;){var key=arrayStatePath.shift();if(!key.length)break;currentStateNode=currentStateNode.getStateNode(key)}return currentStateNode},StateNode.prototype.resolve=function(stateValue){var _a,_this=this;if(!stateValue)return this.initialStateValue||EMPTY_OBJECT;switch(this.type){case"parallel":return mapValues(this.initialStateValue,(function(subStateValue,subStateKey){return subStateValue?_this.getStateNode(subStateKey).resolve(stateValue[subStateKey]||subStateValue):EMPTY_OBJECT}));case"compound":if(utils_isString(stateValue)){var subStateNode=this.getStateNode(stateValue);return"parallel"===subStateNode.type||"compound"===subStateNode.type?((_a={})[stateValue]=subStateNode.initialStateValue,_a):stateValue}return Object.keys(stateValue).length?mapValues(stateValue,(function(subStateValue,subStateKey){return subStateValue?_this.getStateNode(subStateKey).resolve(subStateValue):EMPTY_OBJECT})):this.initialStateValue||{};default:return stateValue||EMPTY_OBJECT}},StateNode.prototype.getResolvedPath=function(stateIdentifier){if(isStateId(stateIdentifier)){var stateNode=this.machine.idMap[stateIdentifier.slice(1)];if(!stateNode)throw new Error("Unable to find state node '".concat(stateIdentifier,"'"));return stateNode.path}return toStatePath(stateIdentifier,this.delimiter)},Object.defineProperty(StateNode.prototype,"initialStateValue",{get:function(){var _a,initialStateValue;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)initialStateValue=mapFilterValues(this.states,(function(state){return state.initialStateValue||EMPTY_OBJECT}),(function(stateNode){return!("history"===stateNode.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));initialStateValue=isLeafNode(this.states[this.initial])?this.initial:((_a={})[this.initial]=this.states[this.initial].initialStateValue,_a)}else initialStateValue={};return this.__cache.initialStateValue=initialStateValue,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),StateNode.prototype.getInitialState=function(stateValue,context){this._init();var configuration=this.getStateNodes(stateValue);return this.resolveTransition({configuration:configuration,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=context?context:this.machine.context,void 0)},Object.defineProperty(StateNode.prototype,"initialState",{get:function(){var initialStateValue=this.initialStateValue;if(!initialStateValue)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(initialStateValue)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"target",{get:function(){var target;if("history"===this.type){var historyConfig=this.config;target=utils_isString(historyConfig.target)&&isStateId(historyConfig.target)?pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length-1)):historyConfig.target}return target},enumerable:!1,configurable:!0}),StateNode.prototype.getRelativeStateNodes=function(relativeStateId,historyValue,resolve){return void 0===resolve&&(resolve=!0),resolve?"history"===relativeStateId.type?relativeStateId.resolveHistory(historyValue):relativeStateId.initialStateNodes:[relativeStateId]},Object.defineProperty(StateNode.prototype,"initialStateNodes",{get:function(){var _this=this;return isLeafNode(this)?[this]:"compound"!==this.type||this.initial?utils_flatten(toStatePaths(this.initialStateValue).map((function(initialPath){return _this.getFromRelativePath(initialPath)}))):(environment_IS_PRODUCTION||utils_warn(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),StateNode.prototype.getFromRelativePath=function(relativePath){if(!relativePath.length)return[this];var _a=_tslib_read(relativePath),stateKey=_a[0],childStatePath=_a.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(stateKey,"' from node with no states"));var childStateNode=this.getStateNode(stateKey);if("history"===childStateNode.type)return childStateNode.resolveHistory();if(!this.states[stateKey])throw new Error("Child state '".concat(stateKey,"' does not exist on '").concat(this.id,"'"));return this.states[stateKey].getFromRelativePath(childStatePath)},StateNode.prototype.historyValue=function(relativeStateValue){if(Object.keys(this.states).length)return{current:relativeStateValue||this.initialStateValue,states:mapFilterValues(this.states,(function(stateNode,key){if(!relativeStateValue)return stateNode.historyValue();var subStateValue=utils_isString(relativeStateValue)?void 0:relativeStateValue[key];return stateNode.historyValue(subStateValue||stateNode.initialStateValue)}),(function(stateNode){return!stateNode.history}))}},StateNode.prototype.resolveHistory=function(historyValue){var _this=this;if("history"!==this.type)return[this];var parent=this.parent;if(!historyValue){var historyTarget=this.target;return historyTarget?utils_flatten(toStatePaths(historyTarget).map((function(relativeChildPath){return parent.getFromRelativePath(relativeChildPath)}))):parent.initialStateNodes}var props,accessorProp,subHistoryValue=(props=parent.path,accessorProp="states",function(object){var e_3,_a,result=object;try{for(var props_2=_tslib_values(props),props_2_1=props_2.next();!props_2_1.done;props_2_1=props_2.next()){var prop=props_2_1.value;result=result[accessorProp][prop]}}catch(e_3_1){e_3={error:e_3_1}}finally{try{props_2_1&&!props_2_1.done&&(_a=props_2.return)&&_a.call(props_2)}finally{if(e_3)throw e_3.error}}return result})(historyValue).current;return utils_isString(subHistoryValue)?[parent.getStateNode(subHistoryValue)]:utils_flatten(toStatePaths(subHistoryValue).map((function(subStatePath){return"deep"===_this.history?parent.getFromRelativePath(subStatePath):[parent.states[subStatePath[0]]]})))},Object.defineProperty(StateNode.prototype,"stateIds",{get:function(){var _this=this,childStateIds=utils_flatten(Object.keys(this.states).map((function(stateKey){return _this.states[stateKey].stateIds})));return[this.id].concat(childStateIds)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"events",{get:function(){var e_8,_a,e_9,_b;if(this.__cache.events)return this.__cache.events;var states=this.states,events=new Set(this.ownEvents);if(states)try{for(var _c=_tslib_values(Object.keys(states)),_d=_c.next();!_d.done;_d=_c.next()){var state=states[_d.value];if(state.states)try{for(var _e=(e_9=void 0,_tslib_values(state.events)),_f=_e.next();!_f.done;_f=_e.next()){var event_1=_f.value;events.add("".concat(event_1))}}catch(e_9_1){e_9={error:e_9_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_9)throw e_9.error}}}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_8)throw e_8.error}}return this.__cache.events=Array.from(events)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"ownEvents",{get:function(){var events=new Set(this.transitions.filter((function(transition){return!(!transition.target&&!transition.actions.length&&transition.internal)})).map((function(transition){return transition.eventType})));return Array.from(events)},enumerable:!1,configurable:!0}),StateNode.prototype.resolveTarget=function(_target){var _this=this;if(void 0!==_target)return _target.map((function(target){if(!utils_isString(target))return target;var isInternalTarget=target[0]===_this.delimiter;if(isInternalTarget&&!_this.parent)return _this.getStateNodeByPath(target.slice(1));var resolvedTarget=isInternalTarget?_this.key+target:target;if(!_this.parent)return _this.getStateNodeByPath(resolvedTarget);try{return _this.parent.getStateNodeByPath(resolvedTarget)}catch(err){throw new Error("Invalid transition definition for state node '".concat(_this.id,"':\n").concat(err.message))}}))},StateNode.prototype.formatTransition=function(transitionConfig){var _this=this,normalizedTarget=function(target){if(void 0!==target&&""!==target)return toArray(target)}(transitionConfig.target),internal="internal"in transitionConfig?transitionConfig.internal:!normalizedTarget||normalizedTarget.some((function(_target){return utils_isString(_target)&&_target[0]===_this.delimiter})),guards=this.machine.options.guards,target=this.resolveTarget(normalizedTarget),transition=_assign(_assign({},transitionConfig),{actions:toActionObjects(toArray(transitionConfig.actions)),cond:toGuard(transitionConfig.cond,guards),target:target,source:this,internal:internal,eventType:transitionConfig.event,toJSON:function(){return _assign(_assign({},transition),{target:transition.target?transition.target.map((function(t){return"#".concat(t.id)})):void 0,source:"#".concat(_this.id)})}});return transition},StateNode.prototype.formatTransitions=function(){var e_10,_a,onConfig,_this=this;if(this.config.on)if(Array.isArray(this.config.on))onConfig=this.config.on;else{var _b=this.config.on,_d=_b["*"],wildcardConfigs=void 0===_d?[]:_d,strictTransitionConfigs_1=__rest(_b,[(StateNode_typeof("*"),"*")]);onConfig=utils_flatten(Object.keys(strictTransitionConfigs_1).map((function(key){environment_IS_PRODUCTION||""!==key||utils_warn(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(_this.id,'".'));var transitionConfigArray=toTransitionConfigArray(key,strictTransitionConfigs_1[key]);return environment_IS_PRODUCTION||function(stateNode,event,transitions){var hasNonLastUnguardedTarget=transitions.slice(0,-1).some((function(transition){return!("cond"in transition)&&!("in"in transition)&&(utils_isString(transition.target)||utils_isMachine(transition.target))})),eventText=""===event?"the transient event":"event '".concat(event,"'");utils_warn(!hasNonLastUnguardedTarget,"One or more transitions for ".concat(eventText," on state '").concat(stateNode.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(_this,key,transitionConfigArray),transitionConfigArray})).concat(toTransitionConfigArray("*",wildcardConfigs)))}else onConfig=[];var eventlessConfig=this.config.always?toTransitionConfigArray("",this.config.always):[],doneConfig=this.config.onDone?toTransitionConfigArray(String(done(this.id)),this.config.onDone):[];environment_IS_PRODUCTION||utils_warn(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var invokeConfig=utils_flatten(this.invoke.map((function(invokeDef){var settleTransitions=[];return invokeDef.onDone&&settleTransitions.push.apply(settleTransitions,_tslib_spreadArray([],_tslib_read(toTransitionConfigArray(String(actions_doneInvoke(invokeDef.id)),invokeDef.onDone)),!1)),invokeDef.onError&&settleTransitions.push.apply(settleTransitions,_tslib_spreadArray([],_tslib_read(toTransitionConfigArray(String(actions_error(invokeDef.id)),invokeDef.onError)),!1)),settleTransitions}))),delayedTransitions=this.after,formattedTransitions=utils_flatten(_tslib_spreadArray(_tslib_spreadArray(_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(doneConfig),!1),_tslib_read(invokeConfig),!1),_tslib_read(onConfig),!1),_tslib_read(eventlessConfig),!1).map((function(transitionConfig){return toArray(transitionConfig).map((function(transition){return _this.formatTransition(transition)}))})));try{for(var delayedTransitions_1=_tslib_values(delayedTransitions),delayedTransitions_1_1=delayedTransitions_1.next();!delayedTransitions_1_1.done;delayedTransitions_1_1=delayedTransitions_1.next()){var delayedTransition=delayedTransitions_1_1.value;formattedTransitions.push(delayedTransition)}}catch(e_10_1){e_10={error:e_10_1}}finally{try{delayedTransitions_1_1&&!delayedTransitions_1_1.done&&(_a=delayedTransitions_1.return)&&_a.call(delayedTransitions_1)}finally{if(e_10)throw e_10.error}}return formattedTransitions},StateNode}(),warned=!1;var es_assign=function(assignment){return{type:actionTypes_assign,assignment:assignment}};function ValidationMachine_typeof(o){return ValidationMachine_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ValidationMachine_typeof(o)}function ValidationMachine_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ValidationMachine_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ValidationMachine_ownKeys(Object(t),!0).forEach((function(r){ValidationMachine_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ValidationMachine_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ValidationMachine_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ValidationMachine_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ValidationMachine_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ValidationMachine_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ValidationMachine_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return ValidationMachine_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ValidationMachine_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ValidationMachine_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function isPlaceholder(dateStr){return null===dateStr}var config,options,isCorrectFormat=function(dateStr){return dateFormat.test(dateStr)||null===dateStr},isDateAfterLastAllowed=function(dateStr,lastAllowedDate){if(!isPlaceholder(dateStr)){var _dateStr$split2=ValidationMachine_slicedToArray(dateStr.split("-"),3),year=_dateStr$split2[0],month=_dateStr$split2[1],day=_dateStr$split2[2],newDate=(0,date_fns.startOfDay)(new Date(year,month-1,day));return(0,date_fns.isAfter)(newDate,lastAllowedDate)}},isDateBeforeFirstAllowed=function(dateStr,firstAllowedDate){if(!isPlaceholder(dateStr)){var _dateStr$split4=ValidationMachine_slicedToArray(dateStr.split("-"),3),year=_dateStr$split4[0],month=_dateStr$split4[1],day=_dateStr$split4[2],newDate=(0,date_fns.startOfDay)(new Date(year,month-1,day));return(0,date_fns.isBefore)(newDate,firstAllowedDate)}},ValidationMachine_validate=function(_ref){var startDate=_ref.startDate,endDate=_ref.endDate,firstAllowedDate=_ref.firstAllowedDate,lastAllowedDate=_ref.lastAllowedDate,validatedContext={startDateInvalid:!1,endDateInvalid:!1};return isCorrectFormat(startDate)||(validatedContext.startDateInvalid=validationConstants_MALFORMED),isCorrectFormat(endDate)||(validatedContext.endDateInvalid=validationConstants_MALFORMED),function(startDate,endDate){if(startDate&&null!=endDate){var _startDate$split2=ValidationMachine_slicedToArray(startDate.split("-"),3),startYear=_startDate$split2[0],startMonth=_startDate$split2[1],startDay=_startDate$split2[2],newStartDate=(0,date_fns.startOfDay)(new Date(startYear,startMonth-1,startDay)),_endDate$split2=ValidationMachine_slicedToArray(endDate.split("-"),3),endYear=_endDate$split2[0],endMonth=_endDate$split2[1],endDay=_endDate$split2[2],newEndDate=(0,date_fns.startOfDay)(new Date(endYear,endMonth-1,endDay));return(0,date_fns.isAfter)(newStartDate,newEndDate)}}(startDate,endDate)&&(validatedContext.startDateInvalid=validationConstants_START_DATE_AFTER_END_DATE),isDateAfterLastAllowed(startDate,lastAllowedDate)&&(validatedContext.startDateInvalid=validationConstants_FUTURE_DATE),isDateBeforeFirstAllowed(startDate,firstAllowedDate)&&(validatedContext.startDateInvalid=validationConstants_DATE_BEFORE_FIRST_ALLOWED),isDateAfterLastAllowed(endDate,lastAllowedDate)&&(validatedContext.endDateInvalid=validationConstants_FUTURE_DATE),isDateBeforeFirstAllowed(endDate,firstAllowedDate)&&(validatedContext.endDateInvalid=validationConstants_DATE_BEFORE_FIRST_ALLOWED),validatedContext},dateFormat=/^\d{4}-\d{2}-\d{2}$/,initialContext={startDate:null,endDate:null,startDateInvalid:!1,endDateInvalid:!1,errorText:null,lastAllowedDate:null,firstAllowedDate:null},validationMachine=(config={predictableActionArguments:!0,id:"fetch",initial:"placeholder",context:initialContext,states:{placeholder:{always:[{cond:function(context){return isPlaceholder(context.startDate)&&isPlaceholder(context.endDate)},target:"success",actions:es_assign({startDateInvalid:!1,endDateInvalid:!1})},{target:"validation",actions:es_assign((function(context){return ValidationMachine_validate(context)}))}]},validation:{always:[{cond:function(context){return context.startDateInvalid||context.endDateInvalid},target:"failure"},{target:"success",actions:es_assign({startDateInvalid:!1,endDateInvalid:!1})}]},success:{on:{REVALIDATE:{target:"placeholder",actions:es_assign((function(_,event){return ValidationMachine_objectSpread(ValidationMachine_objectSpread({},event),{},{startDateInvalid:!1,endDateInvalid:!1})}))}}},failure:{on:{REVALIDATE:{target:"placeholder",actions:es_assign((function(_,event){return ValidationMachine_objectSpread(ValidationMachine_objectSpread({},event),{},{startDateInvalid:!1,endDateInvalid:!1})}))}}}}},environment_IS_PRODUCTION||"predictableActionArguments"in config||warned||(warned=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new StateNode_StateNode(config,options));function KDateRangevue_type_script_lang_js_typeof(o){return KDateRangevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},KDateRangevue_type_script_lang_js_typeof(o)}function KDateRangevue_type_script_lang_js_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return KDateRangevue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KDateRangevue_type_script_lang_js_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KDateRangevue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function KDateRangevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function KDateRangevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?KDateRangevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){KDateRangevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):KDateRangevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function KDateRangevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=KDateRangevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=KDateRangevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==KDateRangevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var KDateRangevue_type_script_lang_js={name:"KDateRange",components:{KModal:KModal,KDateInput:KDateInput,KDateCalendar:KDateCalendar},mixins:[KResponsiveWindowMixin],props:KDateRangevue_type_script_lang_js_defineProperty(KDateRangevue_type_script_lang_js_defineProperty(KDateRangevue_type_script_lang_js_defineProperty(KDateRangevue_type_script_lang_js_defineProperty({firstAllowedDate:{type:Date,default:null},lastAllowedDate:{type:Date,default:new Date},defaultStartDate:{type:Date,default:null},defaultEndDate:{type:Date,default:function(){return(0,date_fns.startOfToday)()}},submitText:{type:String,required:!0},cancelText:{type:String,required:!0},title:{type:String,required:!0},description:{type:[String,null],default:null},startDateLegendText:{type:String,required:!0},endDateLegendText:{type:String,required:!0},previousMonthText:{type:String,required:!0},nextMonthText:{type:String,required:!0}},validationConstants_MALFORMED,{type:String,required:!0}),validationConstants_START_DATE_AFTER_END_DATE,{type:String,required:!0}),validationConstants_FUTURE_DATE,{type:String,required:!0}),validationConstants_DATE_BEFORE_FIRST_ALLOWED,{type:String,required:!0}),data:function(){return{dateRange:{start:this.defaultStartDate?(0,date_fns.format)(this.defaultStartDate,"YYYY-MM-DD"):null,end:this.defaultStartDate&&this.defaultEndDate?(0,date_fns.format)(this.defaultEndDate,"YYYY-MM-DD"):null},modalSize:480,validationMachine:null,invalidStartErrorMessage:"",invalidEndErrorMessage:""}},computed:{disabled:function(){return Boolean(this.invalidStartErrorMessage)||Boolean(this.invalidEndErrorMessage)||this.isPlaceholder(this.dateRange.start)||this.isPlaceholder(this.dateRange.end)}},created:function(){var _this=this;this.debouncedSetStartDate=debounce_default()(this.setStartDate,750),this.debouncedSetEndDate=debounce_default()(this.setEndDate,750);var currentContext={startDate:this.dateRange.start,endDate:this.dateRange.end,lastAllowedDate:this.lastAllowedDate,firstAllowedDate:this.firstAllowedDate};this.validationMachine=interpret(validationMachine.withContext(KDateRangevue_type_script_lang_js_objectSpread(KDateRangevue_type_script_lang_js_objectSpread({},initialContext),currentContext))),this.validationMachine.start(),this.validationMachine.onTransition((function(){_this.getInvalidStartErrorMessage(),_this.getInvalidEndErrorMessage()}))},methods:{onSubmit:function(){this.$emit("submit",{start:this.createDate(this.dateRange.start),end:this.createDate(this.dateRange.end)})},setSelectedDatesFromCalendar:function(dates){this.dateRange={start:this.getDateString(dates.start),end:this.getDateString(dates.end)},this.validationMachine.send("REVALIDATE",{startDate:this.dateRange.start,endDate:this.dateRange.end})},isPlaceholder:function(dateStr){return null===dateStr},getDateString:function(date){return date?(0,date_fns.format)(date,"YYYY-MM-DD"):null},invalidStart:function(){return this.validationMachine._state.context.startDateInvalid},invalidEnd:function(){return this.validationMachine._state.context.endDateInvalid},getInvalidStartErrorMessage:function(){this.invalidStartErrorMessage=get_default()(this,this.invalidStart(),"")},getInvalidEndErrorMessage:function(){this.invalidEndErrorMessage=get_default()(this,this.invalidEnd(),"")},createDate:function(dateStr){if(!dateStr)return null;var _dateStr$split2=KDateRangevue_type_script_lang_js_slicedToArray(dateStr.split("-"),3),year=_dateStr$split2[0],month=_dateStr$split2[1],day=_dateStr$split2[2];return(0,date_fns.startOfDay)(new Date(year,month-1,day))},setStartDate:function(newVal){this.dateRange={start:newVal,end:null},this.validationMachine.send("REVALIDATE",{startDate:newVal,endDate:null})},setEndDate:function(newVal){this.dateRange={start:this.dateRange.start,end:newVal},this.validationMachine.send("REVALIDATE",{endDate:newVal})}}},KDateRange=normalizeComponent(KDateRangevue_type_script_lang_js,KDateRangevue_type_template_id_11726e10_scoped_true_render,[],!1,null,"11726e10",null).exports,GeneratedElapsedTimevue_type_template_id_aa8e9a44_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("span",[this._v(" "+this._s(this.formatedTime)+" ")])};GeneratedElapsedTimevue_type_template_id_aa8e9a44_scoped_true_render._withStripped=!0;var GeneratedElapsedTime=normalizeComponent({name:"GeneratedElapsedTime",props:{date:{type:Date,required:!0}},data:function(){return{now:(0,external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject.now)(),timer:null}},computed:{formatedTime:function(){return this.now-this.date<1e4?this.$tr("generatedMomentsAgo"):this.$tr("generatedInPast",{relativeTimeAgo:this.$formatRelative(this.date,{now:this.now})})}},mounted:function(){var _this=this;this.timer=setInterval((function(){_this.now=(0,external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject.now)()}),6e4)},beforeDestroy:function(){clearInterval(this.timer)},$trs:{generatedMomentsAgo:{message:"Generated moments ago.",context:"Indicates logs were generated using the 'Generate a new log file' option recently."},generatedInPast:{message:"Generated {relativeTimeAgo}.",context:"Indicates the last time logs were generated using the 'Generate a new log file' option."}}},GeneratedElapsedTimevue_type_template_id_aa8e9a44_scoped_true_render,[],!1,null,"aa8e9a44",null).exports,DataPageTaskProgressvue_type_template_id_663a35f2_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"progress-wrapper"},[_c("KCircularLoader",{staticClass:"loader",attrs:{size:24}}),_c("span",{staticClass:"message"},[this._t("default")],2)],1)};DataPageTaskProgressvue_type_template_id_663a35f2_scoped_true_render._withStripped=!0;var DataPageTaskProgress=normalizeComponent({name:"DataPageTaskProgress"},DataPageTaskProgressvue_type_template_id_663a35f2_scoped_true_render,[],!1,null,"663a35f2",null).exports,SyncInterfacevue_type_template_id_60db892a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",{style:_vm.containerStyle},[_c("h1",[_vm._v(_vm._s(_vm.$tr("syncData")))]),_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("learnMore")},on:{click:function($event){return _vm.displayModal(_vm.Modals.PRIVACY)}}})],1),_c("CoreTable",{scopedSlots:_vm._u([{key:"headers",fn:function(){return[_c("th",[_vm._v(_vm._s(_vm.$tr("facility")))])]},proxy:!0},{key:"tbody",fn:function(){return[_c("tbody",[_vm.facility?_c("tr",[_c("td",[_c("FacilityNameAndSyncStatus",{attrs:{facility:_vm.facility,isSyncing:_vm.isSyncing,syncHasFailed:_vm.syncHasFailed,goToRoute:_vm.manageSyncRoute}})],1),_c("td",{staticClass:"button-col",style:_vm.tableCellStyle},[_c("KButtonGroup",{staticStyle:{"margin-top":"12px",overflow:"visible"}},[_c("KButton",{attrs:{appearance:"raised-button",text:_vm.$tr("sync"),disabled:_vm.isSyncing},on:{click:function($event){return _vm.displayModal(_vm.Modals.SYNC_FACILITY)}}}),_c("KIconButton",{ref:"moreOptionsButton",attrs:{"data-test":"moreOptionsButton",icon:"optionsHorizontal",tooltip:_vm.coreString("optionsLabel"),ariaLabel:_vm.coreString("optionsLabel"),disabled:_vm.isSyncing},on:{click:_vm.toggleMenu}}),_c("CoreMenu",{directives:[{name:"show",rawName:"v-show",value:_vm.isMenuOpen,expression:"isMenuOpen"}],ref:"menu",staticClass:"menu",attrs:{raised:!0,isOpen:_vm.isMenuOpen,containFocus:!0},on:{close:_vm.closeMenu,shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([{key:"options",fn:function(){return[_c("CoreMenuOption",{style:{cursor:"pointer",textAlign:"left"},attrs:{label:_vm.coreString("manageSyncAction")},on:{select:function($event){return _vm.manageSyncAction()}}}),_c("CoreMenuOption",{style:{cursor:"pointer",textAlign:"left"},attrs:{label:_vm.$tr("register")},on:{select:function($event){return _vm.handleRegister()}}})]},proxy:!0}],null,!1,3733975407)})],1)],1)]):_vm._e()])]},proxy:!0}])}),_vm.modalShown===_vm.Modals.PRIVACY?_c("PrivacyModal",{on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.REGISTER_FACILITY?_c("RegisterFacilityModal",{attrs:{displaySkipOption:!1},on:{success:_vm.handleValidateSuccess,cancel:_vm.closeModal,skip:_vm.handleKDPSync}}):_vm._e(),_vm.modalShown===_vm.Modals.CONFIRMATION_REGISTER?_c("ConfirmationRegisterModal",{attrs:{targetFacility:_vm.facility,projectName:_vm.kdpProject.name,token:_vm.kdpProject.token},on:{success:_vm.handleConfirmationSuccess,cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.SYNC_FACILITY?_c("SyncFacilityModalGroup",{attrs:{facilityForSync:_vm.facility},on:{close:_vm.closeModal,syncKDP:_vm.handleKDPSync,syncPeer:_vm.handlePeerSync}}):_vm._e()],1)};SyncInterfacevue_type_template_id_60db892a_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_namespaceObject=kolibriCoreAppGlobal.coreVue.composables.useKResponsiveWindow,external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreMenu,external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreMenuOption,external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_namespaceObject),PrivacyModalvue_type_template_id_7adbf8ca_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("KModal",{attrs:{title:this.$tr("syncToKDP"),submitText:this.coreString("closeAction"),size:"medium"},on:{cancel:this.closeModal,submit:this.closeModal}},[this._v("\n  "+this._s(this.$tr("privacyText"))+"\n\n")])};PrivacyModalvue_type_template_id_7adbf8ca_scoped_true_render._withStripped=!0;var PrivacyModal=normalizeComponent({name:"PrivacyModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],methods:{closeModal:function(){this.$emit("cancel")}},$trs:{syncToKDP:{message:"Kolibri Data Portal",context:"If the Kolibri facility is part of a larger organization that tracks data on the Kolibri Data Portal, the user receives a project token to sync the facility data with servers operated by Learning Equality in the cloud."},privacyText:{message:"By syncing this facility with the Kolibri Data Portal, you are granting access to your data to organization admins on Kolibri Data Portal. It will be uploaded to cloud servers operated by Learning Equality, who will also have access to this data.",context:"Text description on the 'Usage and privacy' pop-up window in the Facility > Data section.\n"}}},PrivacyModalvue_type_template_id_7adbf8ca_scoped_true_render,[],!1,null,"7adbf8ca",null).exports;function SyncInterfacevue_type_script_lang_js_typeof(o){return SyncInterfacevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SyncInterfacevue_type_script_lang_js_typeof(o)}function SyncInterfacevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SyncInterfacevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=SyncInterfacevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SyncInterfacevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==SyncInterfacevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Modals=Object.freeze({SYNC_FACILITY:"SYNC_FACILITY",CONFIRMATION_REGISTER:"CONFIRMATION_REGISTER",REGISTER_FACILITY:"REGISTER_FACILITY",PRIVACY:"PRIVACY"}),SyncInterfacevue_type_script_lang_js={name:"SyncInterface",components:{CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default(),PrivacyModal:PrivacyModal,FacilityNameAndSyncStatus:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.FacilityNameAndSyncStatus,RegisterFacilityModal:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.RegisterFacilityModal,ConfirmationRegisterModal:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.ConfirmationRegisterModal,SyncFacilityModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.SyncFacilityModalGroup,CoreMenu:external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_default(),CoreMenuOption:external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useKResponsiveWindow=external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()();return{windowIsLarge:_useKResponsiveWindow.windowIsLarge,windowIsMedium:_useKResponsiveWindow.windowIsMedium,windowIsSmall:_useKResponsiveWindow.windowIsSmall}},data:function(){return{facility:null,kdpProject:null,modalShown:null,syncTaskId:"",isSyncing:!1,syncHasFailed:!1,Modals:Modals,isMenuOpen:!1}},computed:{manageSyncRoute:function(){return{name:SyncPageNames_MANAGE_SYNC_SCHEDULE,params:{facility_id:this.facility.id}}},containerStyle:function(){return this.windowIsMedium||this.windowIsLarge?{height:"300px",overflow:"visible",marginBottom:"24px"}:{marginBottom:"24px"}},tableCellStyle:function(){return this.windowIsSmall||this.windowIsMedium?{padding:"8px 4px 4px",maxWidth:"180px"}:{maxWidth:"100px"}}},beforeMount:function(){this.fetchFacility()},beforeDestroy:function(){this.syncTaskId=""},methods:{manageSyncAction:function(){this.$router.push(this.manageSyncRoute)},fetchFacility:function(){var _this=this;external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityResource.fetchModel({id:this.$store.getters.activeFacilityId,force:!0}).then((function(facility){_this.facility=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SyncInterfacevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){SyncInterfacevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SyncInterfacevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},facility)}))},closeModal:function(){this.modalShown=null},displayModal:function(modal){this.modalShown=modal},pollSyncTask:function(){var _this2=this;external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.get(this.syncTaskId).then((function(task){task.clearable?(_this2.isSyncing=!1,_this2.syncTaskId="",external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.clear(_this2.syncTaskId),task.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.FAILED?_this2.syncHasFailed=!0:task.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED&&_this2.fetchFacility()):_this2.syncTaskId&&setTimeout((function(){_this2.pollSyncTask()}),2e3)}))},handleValidateSuccess:function(_ref){var name=_ref.name,token=_ref.token;this.kdpProject={name:name,token:token},this.displayModal(Modals.CONFIRMATION_REGISTER)},handleConfirmationSuccess:function(payload){this.$store.commit("manageCSV/SET_REGISTERED",payload),this.facility.dataset.registered=!0,this.closeModal()},handleSyncFacilitySuccess:function(taskId){this.isSyncing=!0,this.syncTaskId=taskId,this.pollSyncTask()},handleSyncFacilityFailure:function(){this.syncHasFailed=!0},handleRegister:function(){this.closeMenu(),this.displayModal(Modals.REGISTER_FACILITY)},handleKDPSync:function(){var _this3=this;this.closeModal(),this.startKdpSyncTask(this.facility.id).then((function(task){_this3.handleSyncFacilitySuccess(task.id)})).catch((function(){_this3.handleSyncFacilityFailure()}))},handlePeerSync:function(peerData){var _this4=this;this.closeModal(),this.startPeerSyncTask({facility:this.facility.id,device_id:peerData.id}).then((function(task){_this4.handleSyncFacilitySuccess(task.id)})).catch((function(){_this4.handleSyncFacilityFailure()}))},closeMenu:function(){var _this5=this,_ref2$focusMoreOption=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).focusMoreOptionsButton,focusMoreOptionsButton=void 0===_ref2$focusMoreOption||_ref2$focusMoreOption;this.isMenuOpen=!1,focusMoreOptionsButton&&this.$nextTick((function(){_this5.$refs.moreOptionsButton.$el.focus()}))},toggleMenu:function(){var _this6=this;this.isMenuOpen=!this.isMenuOpen,this.isMenuOpen&&this.$nextTick((function(){_this6.$refs.menu.$el.focus()}))},findFirstEl:function(){var _this7=this;this.$nextTick((function(){_this7.$refs.menu.focusFirstEl()}))}},$trs:{syncData:{message:"Sync facility data",context:"Option to sync the current facility data with the Learning Equality Kolibri Data Portal in the cloud."},learnMore:{message:"Usage and privacy",context:"A link to 'Usage and privacy' information which pops up in a window when clicked."},facility:{message:"Facility",context:"Refers to the facility on the 'Sync Facility Data' window."},register:{message:"Register",context:"Describes the button to register a new facility."},sync:{message:"Sync",context:"Describes the 'sync' button which is used to synchronize data from a facility with the project on the Kolibri Data Portal."}}},SyncInterface=normalizeComponent(SyncInterfacevue_type_script_lang_js,SyncInterfacevue_type_template_id_60db892a_scoped_true_render,[],!1,null,"60db892a",null).exports,ImportInterfacevue_type_template_id_06c8eca8_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KPageContainer",[_c("h1",[_vm._v(" "+_vm._s(_vm.$tr("sectionTitle")))]),_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("sectionDescription"))+"\n  ")]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("exportCSV")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("editCSV")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importCSV")))])]),_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("viewFormat")},on:{click:function($event){_vm.showInfoModal=!0}}})],1),_c("p",{staticStyle:{"margin-top":"24px",display:"flex","flex-direction":"column"}},[_c("KRouterLink",{staticStyle:{width:"max-content",margin:"0 16px 20px 0"},attrs:{text:_vm.$tr("import"),appearance:"raised-button",to:_vm.$store.getters.facilityPageLinks.ImportCsvPage}}),_c("KButton",{staticStyle:{width:"max-content",margin:"0 16px 20px 0"},attrs:{text:_vm.$tr("downloadCSV"),appearance:"raised-button",disabled:!_vm.exported},on:{click:_vm.downloadCsv}}),_c("KButton",{staticStyle:{margin:"0px 8px 10px 0px"},attrs:{appearance:"basic-link",text:_vm.exported?_vm.$tr("regenerateCSV"):_vm.$tr("generateCSV")},on:{click:_vm.exportCsv}}),_vm.isExporting?_c("DataPageTaskProgress",[_vm._v("\n      "+_vm._s(_vm.$tr("generatingCSV"))+"\n    ")]):_vm._e()],1),_vm.showInfoModal?_c("CsvInfoModal",{on:{cancel:function($event){_vm.showInfoModal=!1}}}):_vm._e()],1)};ImportInterfacevue_type_template_id_06c8eca8_scoped_true_render._withStripped=!0;var CsvInfoModalvue_type_template_id_2366a3b4_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("csvDetails"),submitText:_vm.coreString("closeAction"),size:"large"},on:{cancel:_vm.closeModal,submit:_vm.closeModal}},[_c("p",[_vm._v(_vm._s(_vm.$tr("sectionDescription")))]),_c("table",[_c("thead",[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$tr("columnNameHeader")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("columnIDHeader")))]),_c("th",[_vm._v(_vm._s(_vm.$tr("columnInfoHeader")))])])]),_c("tbody",[_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("uuid"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("UUID")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("uuidInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("username"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("USERNAME")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("usernameInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("password"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("PASSWORD")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("passwordInfo"))+" "),_c("code",[_vm._v("*")])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("fullName"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("FULL_NAME")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("fullNameInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("userType"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("required")))])]),_c("td",[_c("code",[_vm._v("USER_TYPE")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("possibleValues")))]),_c("ul",[_c("li",[_c("code",[_vm._v("ADMIN")])]),_c("li",[_c("code",[_vm._v("FACILITY_COACH")])]),_c("li",[_c("code",[_vm._v("CLASS_COACH")])]),_c("li",[_c("code",[_vm._v("LEARNER")])])])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("identifier"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("IDENTIFIER")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("identifierInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("birthYear"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("BIRTH_YEAR")])]),_c("td",[_vm._v(_vm._s(_vm.$tr("yearInfo")))])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("gender"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("GENDER")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("possibleValues")))]),_c("ul",[_c("li",[_c("code",[_vm._v("MALE")])]),_c("li",[_c("code",[_vm._v("FEMALE")])]),_c("li",[_c("code",[_vm._v("NOT_SPECIFIED")])])])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("enrolled"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("ENROLLED_IN")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolled")))]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolledL1")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolledL2")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesEnrolledL3")))])])])]),_c("tr",[_c("td",[_vm._v("\n          "+_vm._s(_vm.$tr("assigned"))),_c("br"),_c("span",{staticClass:"label",style:_vm.label},[_vm._v(_vm._s(_vm.$tr("optional")))])]),_c("td",[_c("code",[_vm._v("ASSIGNED_TO")])]),_c("td",[_c("div",[_vm._v(_vm._s(_vm.$tr("listClassesAssigned")))]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesAssignedL1")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesAssignedL2")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("listClassesAssignedL3")))])])])])])])])};CsvInfoModalvue_type_template_id_2366a3b4_scoped_true_render._withStripped=!0;var CsvInfoModal=normalizeComponent({name:"CsvInfoModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],computed:{label:function(){return{color:this.$themeTokens.annotation}}},methods:{closeModal:function(){this.$emit("cancel")}},$trs:{csvDetails:{message:"CSV details",context:"Title of the spreadsheet format reference window.\n\nCSV is a spreadsheet format that stands for 'Comma-separated values'. More here: https://en.wikipedia.org/wiki/Comma-separated_values"},sectionDescription:{message:"A CSV spreadsheet should use the first row as a header, and contain the following columns:",context:"Description on CSV details window."},required:{message:"Required",context:"Columns in the CSV file can be either 'optional' or 'required'.\n"},optional:{message:"Optional",context:"Columns in the CSV file can be either 'optional' or 'required'."},uuidInfo:{message:"An ID used by Kolibri to uniquely identify a user. Leave it blank to create a new user",context:"Refers to values in the 'Database ID' column of the CSV (comma separated values) file used to import and export users.\n"},usernameInfo:{message:"Maximum 125 characters. Can contain letters, numbers and underscores",context:"Refers to values in the 'Username' column of the CSV (comma separated values) file used to import and export users."},passwordInfo:{message:"Maximum 125 characters. To leave unchanged, use an asterisk:",context:"Refers to values in the 'Password' column of the CSV (comma separated values) file used to import and export users.\n"},fullNameInfo:{message:"Maximum 125 characters",context:"Description on the spreadsheet format reference window."},possibleValues:{message:"Possible values:",context:"Refers to values the CSV (comma separated values) file used to import and export users.\n"},identifierInfo:{message:"Any identifying string, such as a student ID or email address. Maximum 64 characters",context:"Description of the 'Identifier' option."},yearInfo:{message:"A four-digit year, greater than 1900",context:"Refers to values in the 'Birth year' column of the CSV (comma separated values) file used to import and export users.\n"},listClassesEnrolled:{message:"Classes to enroll the user in as a learner:",context:"Refers to values in the 'Learner enrollment' column of the CSV (comma separated values) file used to import and export users.\n"},listClassesEnrolledL1:{message:"Can be any type of user",context:"Refers to values in the 'Learner enrollment' column of the CSV (comma separated values) file used to import and export users.\n"},listClassesEnrolledL2:{message:"Write the class names separated by commas",context:"Refers to values in a column of the CSV (comma separated values) file used to import users. When a user is assigned to coach multiple classes, the class names in this field must be separated by commas."},listClassesEnrolledL3:{message:"If an existing class does not match by name, a new class with that name will be created",context:"Refers to values in a column of the CSV (comma separated values) file used to import users. When a CSV file contains a class name that is not present in the database, import command will create it."},listClassesAssigned:{message:"Classes to which the user will be assigned as a coach:",context:"Description of a column in the CSV (comma separated values) file used to import and export users. Values in this column indicate classes where a coach user will be assigned to."},listClassesAssignedL1:{message:"Do not use for learner users",context:"Refers to values in a column of the CSV (comma separated values) file used to import and export users."},listClassesAssignedL2:{message:"List of class names, separated by commas",context:"Refers to values in the 'Coach assignment' column of the CSV (comma separated values) file used to import and export users.\n"},listClassesAssignedL3:{message:"If an existing class does not match by name, it will be created",context:"Explanation that when a CSV file is used to import users and classes they are assigned to, and the CSV file contains a class name that is not already present in a facility, a new class with the name listed in the CSV file will be created.  "},columnNameHeader:{message:"Column",context:"Refers to the title of a type of data on the spreadsheet format reference window."},columnIDHeader:{message:"Identifier",context:"An identifier for a type of data. For example, FULL_NAME is the identifier for 'Full name'.\n\nThis can be used on a spreadsheet."},columnInfoHeader:{message:"Information",context:"Title of a column on the spreadsheet format reference window."},uuid:{message:"Database ID",context:"Optional column to be used on a spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link.\n\nA database ID is an ID used by Kolibri to uniquely identify a user."},username:{message:"Username",context:"Required column to be used on a spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},password:{message:"Password",context:"Required column to be used on a spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},fullName:{message:"Full name",context:"Required column for an imported spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},userType:{message:"User type",context:"Required column to be used on a spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},identifier:{message:"Identifier",context:"Optional column that can be used on an imported spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},birthYear:{message:"Birth year",context:"Optional column that can be used on an imported spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},gender:{message:"Gender",context:"Optional column that can be used on an imported spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},enrolled:{message:"Learner enrollment",context:"Optional column that can be used on an imported spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."},assigned:{message:"Coach assignment",context:"Optional column that can be used on an imported spreadsheet.\n\nUsers see this information by clicking on the 'View spreadsheet format reference' link."}}},CsvInfoModalvue_type_template_id_2366a3b4_scoped_true_render,[],!1,null,"2366a3b4",null).exports;function ImportInterfacevue_type_script_lang_js_typeof(o){return ImportInterfacevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ImportInterfacevue_type_script_lang_js_typeof(o)}function ImportInterfacevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ImportInterfacevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ImportInterfacevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ImportInterfacevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ImportInterfacevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ImportInterfacevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ImportInterfacevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ImportInterfacevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ImportInterfacevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ImportInterface=normalizeComponent({name:"ImportInterface",components:{DataPageTaskProgress:DataPageTaskProgress,CsvInfoModal:CsvInfoModal},data:function(){return{showInfoModal:!1}},computed:ImportInterfacevue_type_script_lang_js_objectSpread(ImportInterfacevue_type_script_lang_js_objectSpread(ImportInterfacevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)("manageCSV",["exported"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("manageCSV",["exportUsersStatus"])),{},{isExporting:function(){return this.exportUsersStatus===UsersExportStatuses_EXPORTING}}),methods:ImportInterfacevue_type_script_lang_js_objectSpread(ImportInterfacevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("manageCSV",["startExportUsers"])),{},{exportCsv:function(){this.startExportUsers()},downloadCsv:function(){window.open(external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.facility:download_csv_file"]("user",this.$store.getters.activeFacilityId),"_blank")}}),$trs:{generateCSV:{message:"Generate user CSV file",context:"Option to generate a CSV file containing user information and the classes they're associated with."},regenerateCSV:{message:"Generate new user CSV file",context:"Option to generate a new CSV file containing user information and the classes they're associated with.\n"},sectionTitle:{message:"Import and export users",context:"Title for section about managing external spreadsheets.\n"},sectionDescription:{message:"You can manage, import and export many users and classes at once:",context:"Additional information about managing spreadsheets.\n"},exportCSV:{message:"Export a CSV file which contains all users, and the classes that they are associated with",context:"Additional information about managing the export of spreadsheets.\n"},editCSV:{message:"Edit user info using an external spreadsheet program",context:"Additional information about managing external spreadsheets."},importCSV:{message:"Import a CSV file to create and update users",context:"Additional information about importing external spreadsheets.\n"},downloadCSV:{message:"Download CSV",context:"Button used to export spreadsheets from Kolibri."},import:{message:"Import",context:"Button used to import spreadsheets from Kolibri.\n"},generatingCSV:{message:"Generating CSV...",context:"Refers to when a CSV is being generated. During the export process this texts displays to indicate that the CSV file is being generated by Kolibri."},viewFormat:{message:"View spreadsheet format reference",context:"Text link to the spreadsheet format reference document."}}},ImportInterfacevue_type_template_id_06c8eca8_scoped_true_render,[],!1,null,"06c8eca8",null).exports,LearnMoreModalvue_type_template_id_7492bac9_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("KModal",{attrs:{title:this.modalTitle,submitText:this.coreString("closeAction"),size:"medium"},on:{cancel:this.closeModal,submit:this.closeModal}},[_c("p",{staticClass:"description"},[this._v("\n    "+this._s(this.modalMessage)+"\n  ")])])};LearnMoreModalvue_type_template_id_7492bac9_scoped_true_render._withStripped=!0;var LearnMoreModal_component=normalizeComponent({name:"LearnMoreModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{logType:{type:String,required:!0,validator:function(value){return["summary","session"].includes(value)}}},computed:{modalTitle:function(){return"summary"===this.logType?this.$tr("summaryLogs"):this.$tr("sessionLogs")},modalMessage:function(){return"summary"===this.logType?this.$tr("summaryLogText"):this.$tr("sessionLogText")}},methods:{closeModal:function(){this.$emit("cancel")}},$trs:{summaryLogs:{message:"Summary logs",context:"Title for Summary logs description"},sessionLogs:{message:"Session logs",context:"Title for Session logs description"},summaryLogText:{message:"A user may visit the same resource multiple times. This file records the total time and progress each user has achieved for each resource, summarized across possibly more than one visit. Anonymous usage is not included.",context:"Text description on the 'Learn More' pop-up window in the Facility > Data > Export usage data section.\n"},sessionLogText:{message:"When a user views a resource, we record how long they spend and the progress they make. Each row in this file records a single visit a user made to a specific resource. This includes anonymous usage, when no user is signed in.",context:"Text description on the 'Learn More' pop-up window in the Facility > Data > Export usage data section.\n"}}},LearnMoreModalvue_type_template_id_7492bac9_scoped_true_render,[],!1,null,"7492bac9",null);function DataPagevue_type_script_lang_js_typeof(o){return DataPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DataPagevue_type_script_lang_js_typeof(o)}function DataPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DataPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DataPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){DataPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DataPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function DataPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=DataPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DataPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==DataPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DataPage=normalizeComponent({name:"DataPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{FacilityAppBarPage:FacilityAppBarPage,DataPageTaskProgress:DataPageTaskProgress,GeneratedElapsedTime:GeneratedElapsedTime,ImportInterface:ImportInterface,SyncInterface:SyncInterface,LearnMoreModal:LearnMoreModal_component.exports,KDateRange:KDateRange},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){return{isAppContext:external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()().isAppContext}},data:function(){return{showLearnMoreSummaryModal:!1,showLearnMoreSessionModal:!1,summaryDateRangeModal:!1,sessionDateRangeModal:!1,lastAllowedDate:(0,external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject.now)(),selectedLanguage:external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage,dateRange:{}}},computed:DataPagevue_type_script_lang_js_objectSpread(DataPagevue_type_script_lang_js_objectSpread(DataPagevue_type_script_lang_js_objectSpread(DataPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)("manageCSV",["availableSessionCSVLog","availableSummaryCSVLog","inSessionCSVCreation","inSummaryCSVCreation","firstLogDate"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["activeFacilityId","userIsMultiFacilityAdmin","facilityPageLinks"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("manageCSV",["sessionDateCreated","summaryDateCreated"])),{},{canUploadDownloadFiles:function(){return!this.isAppContext},pollForTasks:function(){return this.$route.name===PageNames_DATA_EXPORT_PAGE},windowSizeStyle:function(){return this.windowIsMedium||this.windowIsSmall?"section-buttons-flex":{}},firstAllowedDate:function(){var firstAllowed=this.firstLogDate,day=this.firstLogDate.getDate()-1;return new Date(firstAllowed.setDate(day))},errorMessages:function(){return DataPagevue_type_script_lang_js_defineProperty(DataPagevue_type_script_lang_js_defineProperty(DataPagevue_type_script_lang_js_defineProperty(DataPagevue_type_script_lang_js_defineProperty({},validationConstants_MALFORMED,this.$tr("invalidateDateError")),validationConstants_START_DATE_AFTER_END_DATE,this.$tr("startDateAfterEndDateError")),validationConstants_FUTURE_DATE,this.$tr("futureDateError")),validationConstants_DATE_BEFORE_FIRST_ALLOWED,this.$tr("beforeFirstAllowedDateError",{date:format_default()(this.firstAllowedDate,"DD/MM/YYYY")}))}}),watch:{pollForTasks:function(val){return val?this.startTaskPolling():this.stopTaskPolling()}},mounted:function(){var _this=this;external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityResource.fetchCollection({force:!0}).then((function(facilities){_this.$store.commit("manageCSV/RESET_STATE"),_this.$store.commit("manageCSV/SET_STATE",{facilities:facilities}),_this.pollForTasks&&(_this.refreshTaskList(),_this.startTaskPolling())}))},destroyed:function(){this.stopTaskPolling()},methods:DataPagevue_type_script_lang_js_objectSpread(DataPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("manageCSV",["startSummaryCSVExport","startSessionCSVExport","refreshTaskList","getExportedCSVsInfo","getFirstLogDate"])),{},{generateSessionLog:function(dates){this.sessionDateRangeModal=!1,this.updateDateRange(dates),this.startSessionCSVExport(this.dateRange)},generateSummaryLog:function(dates){this.summaryDateRangeModal=!1,this.updateDateRange(dates),this.startSummaryCSVExport(this.dateRange)},updateDateRange:function(dates){var start_date=dates.start,end_date=dates.end;this.dateRange={start:new Date(start_date.getTime()-6e4*start_date.getTimezoneOffset()).toISOString(),end:new Date(end_date.getTime()-6e4*end_date.getTimezoneOffset()).toISOString()}},startTaskPolling:function(){this.getExportedCSVsInfo(),this.getFirstLogDate(),this.intervalId||(this.intervalId=setInterval(this.refreshTaskList,1e3))},stopTaskPolling:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId))},downloadSessionLog:function(){window.open(external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.facility:download_csv_file"]("session",this.activeFacilityId),"_blank")},downloadSummaryLog:function(){window.open(external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.facility:download_csv_file"]("summary",this.activeFacilityId),"_blank")}}),$trs:{detailsHeading:{message:"Session logs",context:"'Session logs' refer to individual visits to each resource made by a user."},detailsSubHeading:{message:"Individual visits to each resource.",context:"Description of 'Session logs'."},documentTitle:{message:"Manage Data",context:"Refers to the page title of the Facility > Data section of Kolibri."},download:{message:"Download",context:"Button used to download logs contained in CSV files."},generateLogButtonText:{message:"Generate log",context:"Option to generate a log file which can then be downloaded in CSV format.\n\nWhen there are no logs, this string is displayed, after the user generates logs, the string is replaced with 'Generate a new log file'."},generatingLog:{message:"Generating log file...",context:"Message that displays when user clicks on 'Generate a new log file'. Log files contain information about users and their interactions with the resources on the device."},pageHeading:{message:"Export usage data",context:"Heading for the Facilty > Data page."},pageSubHeading:{message:"Download CSV (comma-separated value) files containing information about users and their interactions with the resources on this device",context:"Description of the 'Export usage data' page.\n"},summaryHeading:{message:"Summary logs",context:"Summary logs record the total time and progress each user has achieved for each resource."},summarySubHeading:{message:"Total time/progress for each resource.",context:"Description of 'Summary logs'."},LearnMore:{message:"Learn more",context:"Message that displays session or summary log information\n"},submitText:{message:"Generate",context:"Submission text of calendar modal"},title:{message:"Select a date range",context:"Title of calendar modal"},description:{message:"The default start date is the last time you exported this log",context:"Description of modal"},startDateLegendText:{message:"Start date",context:"Start date input label for calendar modal"},endDateLegendText:{message:"End date",context:"End date input label for calendar modal"},previousMonthText:{message:"Previous month",context:"label for previous month button"},nextMonthText:{message:"Next month",context:"label for next month button"},invalidateDateError:{message:"Please enter a valid date",context:"Error message displayed when an invalid date is entered"},startDateAfterEndDateError:{message:"Start date cannot be after end date",context:"Error message displayed when the start date is after the end date"},futureDateError:{message:"You cannot select a future date",context:"Error message displayed when an unavailable future date is entered"},beforeFirstAllowedDateError:{message:"Date must be after {date}",context:"Error message displayed when the input date is before the first allowed date"}}},DataPagevue_type_template_id_166fe566_scoped_true_render,[],!1,null,"166fe566",null).exports,ImportCsvPagevue_type_template_id_25df616a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{route:this.$store.getters.facilityPageLinks.DataPage,appBarTitle:_vm.$tr("toolbarHeader")}},[_c("KPageContainer",[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader")))]),_vm.status===_vm.CSVImportStatuses.NOT_STARTED?_c("Init",{on:{cancel:_vm.done,next:_vm.preview}}):_vm.showPreviewState?_c("Preview",{on:{done:_vm.done}}):_vm.showLoaderState?[_c("div",{staticClass:"loader-wrapper"},[_c("KCircularLoader",{staticClass:"loader"}),_vm._v(" "+_vm._s(_vm.$tr("loading"))+"\n      ")],1)]:_vm._e()],2)],1)};ImportCsvPagevue_type_template_id_25df616a_scoped_true_render._withStripped=!0;var Initvue_type_template_id_b3466090_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("introduction"))+"\n  ")]),_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("viewFormat")},on:{click:function($event){_vm.showInfoModal=!0}}})],1),_c("p",{staticClass:"caution",style:{color:_vm.$themeTokens.error}},[_vm._v("\n    "+_vm._s(_vm.$tr("caution"))+"\n  ")]),_c("p",[_vm._v(_vm._s(_vm.$tr("importingWill")))]),_c("ul",[_c("li",[_vm._v(_vm._s(_vm.$tr("importL1")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL2")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL3")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL4")))]),_c("li",[_vm._v(_vm._s(_vm.$tr("importL5")))])]),_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("optionally"))+"\n  ")]),_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("beforeCommitting"))+"\n  ")]),_c("p",[_c("label",{attrs:{for:"csv-file"}},[_vm._v(" "+_vm._s(_vm.$tr("proceed")))])]),_c("p",[_c("input",{ref:"fileInput",attrs:{id:"csv-file",type:"file",accept:".csv",name:"csv-file"},on:{change:_vm.filesChanged}})]),_vm._e(),_c("p",[_c("KButtonGroup",[_c("KButton",{staticStyle:{"margin-left":"0"},attrs:{text:_vm.coreString("cancelAction"),appearance:"raised-button"},on:{click:function($event){return _vm.$emit("cancel")}}}),_c("KButton",{attrs:{text:_vm.coreString("continueAction"),appearance:"raised-button",disabled:null===_vm.fileToImport,primary:""},on:{click:function($event){return _vm.$emit("next",_vm.fileToImport,_vm.deleteUsers)}}})],1)],1),_vm.showInfoModal?_c("CsvInfoModal",{on:{cancel:function($event){_vm.showInfoModal=!1}}}):_vm._e()],1)};Initvue_type_template_id_b3466090_scoped_true_render._withStripped=!0;var Init=normalizeComponent({name:"Init",components:{CsvInfoModal:CsvInfoModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{showInfoModal:!1,fileToImport:null,deleteUsers:!1}},methods:{filesChanged:function(){this.$refs.fileInput&&this.$refs.fileInput.files.length?this.fileToImport=this.$refs.fileInput.files[0]:this.fileToImport=null},toggleDelete:function(){this.deleteUsers=!this.deleteUsers}},$trs:{introduction:{message:"When importing from a spreadsheet you can create, update, and optionally delete dozens or hundreds of facility users at a time by loading new information from comma-separated-value (CSV) files.",context:"Description on 'Import users' page."},caution:{message:"CAUTION: importing from CSV will make many changes to your users and classes, and these changes cannot be easily reverted.",context:"Warning message on 'Import users' page."},viewFormat:{message:"View spreadsheet format reference",context:"Link to the spreadsheet format reference doc which tells user how a CSV file should be formatted."},importingWill:{message:"Importing from CSV will:",context:"Description on 'Import users' page."},importL1:{message:"create new users",context:"Description on 'Import users' page."},importL2:{message:"update existing users (for users with matching usernames)",context:"Description on 'Import users' page."},importL3:{message:"set which classes each learner is enrolled in",context:"Description on 'Import users' page."},importL4:{message:"set which classes each coach is assigned to",context:"Description on 'Import users' page."},importL5:{message:"create new classes (for any referenced class names that do not yet exist)",context:"Description on 'Import users' page."},optionally:{message:"Optionally, you can also delete users and classes that are not referenced in the spreadsheet.",context:"Description on 'Import users' page."},proceed:{message:"To proceed, select a CSV file:",context:"Description on 'Import users' page.\n"},beforeCommitting:{message:"Before committing the import you will be shown a summary of changes that will be made.",context:"Description on 'Import users' page."},labelDelete:{message:"Also delete users and classes not in CSV",context:"Option to allow user to delete users and classes that are not referenced in the spreadsheet."}}},Initvue_type_template_id_b3466090_scoped_true_render,[],!1,null,"b3466090",null).exports,Previewvue_type_template_id_0d88014f_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.isError?[_c("p",[_vm._v(_vm._s(_vm.$tr("importError")))]),_c("ul",_vm._l(_vm.overall_error,(function(message,index){return _c("li",{key:index},[_vm._v("\n        "+_vm._s(message)+"\n      ")])})),0)]:[_vm.isFinished?_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("changesMade"))+"\n    ")]):_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("summary"))+"\n    ")]),_c("table",{staticClass:"indent"},[_c("thead",[_c("tr",[_c("th"),_c("th",{staticClass:"numeric",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n            "+_vm._s(_vm.$tr("updated"))+"\n          ")]),_c("th",{staticClass:"numeric",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n            "+_vm._s(_vm.$tr("added"))+"\n          ")]),_vm.showDeletionCol?_c("th",{staticClass:"numeric",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n            "+_vm._s(_vm.$tr("deleted"))+"\n          ")]):_vm._e(),_vm.numSkipped?_c("th",{staticClass:"numeric",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n            "+_vm._s(_vm.$tr("skipped"))+"\n          ")]):_vm._e()])]),_c("tbody",[_c("tr",[_c("td",[_vm._v(_vm._s(_vm.$tr("users")))]),_c("td",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.users_report.updated)+"\n          ")]),_c("td",{staticClass:"numeric",style:{color:_vm.$themePalette.green.v_800}},[_vm._v("\n            "+_vm._s(_vm.users_report.created)+"\n          ")]),_vm.showDeletionCol?_c("td",{staticClass:"numeric",style:{color:_vm.$themePalette.red.v_a700}},[_vm._v("\n            "+_vm._s(_vm.users_report.deleted)+"\n          ")]):_vm._e(),_vm.numSkipped?_c("td",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.numSkipped)+"\n          ")]):_vm._e()]),_c("tr",[_c("td",[_vm._v(_vm._s(_vm.$tr("classes")))]),_c("td",{staticClass:"numeric"},[_vm._v("\n            "+_vm._s(_vm.classes_report.updated)+"\n          ")]),_c("td",{staticClass:"numeric",style:{color:_vm.$themePalette.green.v_800}},[_vm._v("\n            "+_vm._s(_vm.classes_report.created)+"\n          ")]),_vm.showDeletionCol?_c("td",{staticClass:"numeric",style:{color:_vm.$themePalette.red.v_a700}},[_vm._v("\n            "+_vm._s(_vm.classes_report.cleared)+"\n          ")]):_vm._e(),_vm.numSkipped?_c("td",{staticClass:"numeric"}):_vm._e()])])]),_vm.per_line_errors.length?[_vm.isFinished?_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("someSkipped"))+"\n      ")]):_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("someRowErrors"))+"\n      ")]),_c("table",{staticClass:"indent"},[_c("thead",[_c("tr",[_c("th",{style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n              "+_vm._s(_vm.$tr("rowNumber"))+"\n            ")]),_c("th",{style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n              "+_vm._s(_vm.$tr("columnName"))+"\n            ")]),_c("th",{style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n              "+_vm._s(_vm.$tr("value"))+"\n            ")]),_c("th",{style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n              "+_vm._s(_vm.$tr("error"))+"\n            ")])])]),_c("tbody",_vm._l(_vm.per_line_errors,(function(obj,index){return _c("tr",{key:index},[_c("td",[_vm._v(_vm._s(obj.row))]),_c("td",[_vm._v(_vm._s(obj.field))]),_c("td",[_vm._v(_vm._s(obj.value))]),_c("td",[_vm._v(_vm._s(obj.message))])])})),0)])]:_vm._e()],_vm.isFinished&&!_vm.isError?[_c("UiAlert",{staticStyle:{"margin-top":"16px"},attrs:{dismissible:!1,type:"success"}},[_vm._v("\n      "+_vm._s(_vm.$tr("success"))+"\n    ")]),_c("p",[_c("KButton",{attrs:{text:_vm.coreString("closeAction"),appearance:"raised-button",primary:""},on:{click:function($event){return _vm.$emit("done")}}})],1)]:_c("p",[_c("KButtonGroup",[_c("KButton",{staticStyle:{"margin-left":"0"},attrs:{text:_vm.$tr("back"),appearance:"raised-button"},on:{click:_vm.reset}}),!_vm.isError&_vm.hasChanges?_c("KButton",{attrs:{text:_vm.$tr("import"),appearance:"raised-button",primary:""},on:{click:_vm.startSavingUsers}}):_vm._e()],1)],1)],2)};Previewvue_type_template_id_0d88014f_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_UiAlert_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UiAlert;function Previewvue_type_script_lang_js_typeof(o){return Previewvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Previewvue_type_script_lang_js_typeof(o)}function Previewvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Previewvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Previewvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){Previewvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Previewvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Previewvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=Previewvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=Previewvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==Previewvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Preview=normalizeComponent({name:"Preview",components:{UiAlert:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UiAlert_namespaceObject)()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],computed:Previewvue_type_script_lang_js_objectSpread({isError:function(){return this.status===constants_CSVImportStatuses.ERRORS},hasChanges:function(){return Object.values(this.classes_report).reduce((function(a,b){return a+b}),0)+Object.values(this.users_report).reduce((function(a,b){return a+b}),0)!=0},isFinished:function(){return this.status===constants_CSVImportStatuses.FINISHED},showDeletionCol:function(){return this.users_report.deleted||this.classes_report.cleared},numSkipped:function(){var skippedLines=new Set;return this.per_line_errors.forEach((function(obj){return skippedLines.add(obj.row)})),skippedLines.size}},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("importCSV",["overall_error","per_line_errors","classes_report","users_report","status"])),methods:Previewvue_type_script_lang_js_objectSpread(Previewvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("importCSV",["startSavingUsers"])),{},{reset:function(){this.$store.commit("importCSV/RESET_STATE")}}),$trs:{importError:{message:"Importing is not possible due to the following errors:",context:"Error message that displays when the import CSV functionality fails."},success:{message:"The import succeeded",context:"Success notification when import CSV works correctly."},changesMade:{message:"The following changes were made:",context:"Heading for the outcome report for the import from CSV operation."},summary:{message:"Summary of changes if you choose to import:",context:"Description on the 'Import users' preview page."},updated:{message:"Updated",context:"Indicates elements like users or classes that will be updated if the CSV import is completed."},added:{message:"Added",context:"Refers to elements like users or classes 'added' when importing a CSV file. This displays on the 'Import users' preview screen so the user can see the changes before confirming the import."},deleted:{message:"Deleted",context:"Refers to elements like users or classes 'deleted' when importing a CSV file. This displays on the 'Import users' preview screen so the user can see the changes before confirming the import."},skipped:{message:"Skipped",context:"Refers to rows in the CSV file.\n\n"},users:{message:"Users",context:"Refers to the users being updated with the CSV import."},classes:{message:"Classes",context:"Refers to the summary of changes in classes produced by a CSV import."},someSkipped:{message:"These rows were skipped:",context:"During the import operation of users and classes from the CSV file, some rows may be skipped because of improper formatting."},someRowErrors:{message:"These rows have errors and will be skipped if you continue:",context:"During the import operation of users and classes from the CSV file, some rows may be skipped because of improper formatting."},rowNumber:{message:"Row number",context:"Refers to rows in the CSV file.\n"},columnName:{message:"Column name",context:"Refers to an element in the CSV file."},value:{message:"Value",context:"Refers to values the CSV (comma separated values) file used to import and export users. A value could be a number or a string. The value is the representation of some entity that can be manipulated by the CSV file."},error:{message:"Error",context:"Title of error message in the CSV file."},back:{message:"Back",context:"Option to go 'back' on the 'Import users' preview screen if the user decides not to continue with the import."},import:{message:"Import",context:"Refers to importing CSV files."}}},Previewvue_type_template_id_0d88014f_scoped_true_render,[],!1,null,"0d88014f",null).exports;function ImportCsvPagevue_type_script_lang_js_typeof(o){return ImportCsvPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ImportCsvPagevue_type_script_lang_js_typeof(o)}function ImportCsvPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ImportCsvPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ImportCsvPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ImportCsvPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ImportCsvPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ImportCsvPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ImportCsvPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ImportCsvPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ImportCsvPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ImportCsvPage=normalizeComponent({name:"ImportCsvPage",metaInfo:function(){return{title:this.$tr("pageHeader")}},components:{ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),Init:Init,Preview:Preview},computed:ImportCsvPagevue_type_script_lang_js_objectSpread(ImportCsvPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("importCSV",["status"])),{},{CSVImportStatuses:function(){return constants_CSVImportStatuses},showPreviewState:function(){return[constants_CSVImportStatuses.VALIDATED,constants_CSVImportStatuses.ERRORS,constants_CSVImportStatuses.FINISHED].includes(this.status)},showLoaderState:function(){return[constants_CSVImportStatuses.VALIDATING,constants_CSVImportStatuses.SAVING].includes(this.status)}}),watch:{pollForTasks:function(val){return val?this.startTaskPolling():this.stopTaskPolling()}},mounted:function(){this.$store.commit("importCSV/RESET_STATE"),this.refreshTaskList(),this.startTaskPolling()},destroyed:function(){this.stopTaskPolling()},methods:ImportCsvPagevue_type_script_lang_js_objectSpread(ImportCsvPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("importCSV",["startValidating","refreshTaskList"])),{},{preview:function(file,deleteUsers){this.startValidating({deleteUsers:deleteUsers,file:file})},done:function(){this.$router.push(this.$store.getters.facilityPageLinks.DataPage)},startTaskPolling:function(){this.intervalId||(this.intervalId=setInterval(this.refreshTaskList,1e3))},stopTaskPolling:function(){this.intervalId&&(this.intervalId=clearInterval(this.intervalId))}}),$trs:{toolbarHeader:{message:"Import users from spreadsheet",context:"Heading for 'Import users' page."},pageHeader:{message:"Import users",context:"Title of the 'Import users' page where spreadsheets can be imported."},loading:{message:"Loading...",context:"Refers to when a CSV is being imported. During the import process this texts displays to indicate that it is 'loading' into Kolibri."}}},ImportCsvPagevue_type_template_id_25df616a_scoped_true_render,[],!1,null,"25df616a",null).exports,FacilityConfigPagevue_type_template_id_1269cbed_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("FacilityAppBarPage",[_c("KPageContainer",{style:{marginBottom:"42px"},attrs:{"data-test":"page-container"}},[_c("p",[_vm.userIsMultiFacilityAdmin?_c("KRouterLink",{attrs:{to:{name:_vm.facilityPageLinks.AllFacilitiesPage.name,params:{subtopicName:"FacilityConfigPage"}},icon:"back",text:_vm.coreString("changeLearningFacility")}}):_vm._e()],1),_c("div",{staticClass:"mb"},[_c("h1",[_vm._v(_vm._s(_vm.$tr("pageHeader")))]),_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("pageDescription"))+"\n        "),_vm.isSuperuser&&_vm.deviceSettingsUrl?_c("KExternalLink",{attrs:{text:_vm.$tr("deviceSettings"),href:_vm.deviceSettingsUrl}}):_vm._e()],1)]),null!==_vm.settings?[_c("div",{staticClass:"mb"},[_c("h2",[_vm._v(_vm._s(_vm.coreString("facilityLabel")))]),_c("p",{staticClass:"current-facility-name"},[_vm.getFacilityDataLoading?_c("KCircularLoader",{staticClass:"facility-loader"}):_c("span",[_vm._v("\n            "+_vm._s(_vm.coreString("facilityNameWithId",{facilityName:_vm.facilityName,id:_vm.lastPartId}))+"\n            "),_c("KButton",{attrs:{appearance:"basic-link",text:_vm.coreString("editAction"),disabled:_vm.getFacilityDataLoading,name:"edit-facilityname"},on:{click:function($event){_vm.showEditFacilityModal=!0}}})],1)],1)]),_c("div",{staticClass:"mb"},[_c("div",{staticClass:"settings"},[_vm._l(_vm.settingsList,(function(setting){return["learner_can_edit_password"!==setting&&"learner_can_login_with_no_password"!==setting?[_c("KCheckbox",{key:setting,attrs:{label:_vm.$tr(_vm.camelCase(setting)),checked:_vm.settings[setting]},on:{change:function($event){return _vm.toggleSetting(setting)}}})]:"learner_can_login_with_no_password"===setting?[_c("KCheckbox",{key:setting,attrs:{label:_vm.$tr("learnerNeedPasswordToLogin"),checked:!_vm.settings.learner_can_login_with_no_password},on:{change:function($event){return _vm.toggleLearnerLoginPassword()}}}),_c("KCheckbox",{key:setting+"learner_can_edit_password",staticClass:"checkbox-password",attrs:{disabled:_vm.enableChangePassword,label:_vm.$tr("learnerCanEditPassword"),checked:!_vm.settings.learner_can_login_with_no_password&&_vm.settings.learner_can_edit_password},on:{change:function($event){return _vm.toggleSetting("learner_can_edit_password")}}})]:_vm._e()]}))],2),_c("div")]),_c("div",{},[_c("h2",[_vm._v(_vm._s(_vm.$tr("deviceManagementPin")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("deviceManagementDescription")))]),_c("KButton",{directives:[{name:"show",rawName:"v-show",value:!_vm.isPinSet,expression:"!isPinSet"}],on:{click:_vm.handleCreatePin}},[_vm._v("\n          "+_vm._s(_vm.$tr("createPinBtn"))+"\n        ")]),_c("KButton",{directives:[{name:"show",rawName:"v-show",value:_vm.isPinSet,expression:"isPinSet"}],attrs:{hasDropdown:"",text:_vm.coreString("optionsLabel")},scopedSlots:_vm._u([{key:"menu",fn:function(){return[_c("KDropdownMenu",{staticClass:"options-btn",attrs:{options:_vm.dropdownOption},on:{select:_vm.handleSelect}})]},proxy:!0}],null,!1,3515120856)})],1),_vm.isAppContext?_c("div",{style:{marginTop:"32px",borderTop:"1px solid",borderTopColor:_vm.$themeTokens.fineLine}},[_c("KButtonGroup",{style:{marginTop:"24px",marginLeft:"-8px"}},[_c("KButton",{attrs:{primary:!0,appearance:"raised-button",text:_vm.coreString("saveChangesAction"),name:"save-settings",disabled:!_vm.settingsHaveChanged},on:{click:function($event){return _vm.saveConfig()}}}),_c("KButton",{attrs:{primary:!1,appearance:"flat-button",text:_vm.$tr("resetToDefaultSettings"),name:"reset-settings"},on:{click:function($event){_vm.showModal=!0}}})],1)],1):_vm._e()]:_vm._e(),_vm.showModal?_c("ConfirmResetModal",{attrs:{id:"confirm-reset"},on:{submit:_vm.resetToDefaultSettings,cancel:function($event){_vm.showModal=!1}}}):_vm._e(),_vm.showEditFacilityModal?_c("EditFacilityNameModal",{attrs:{id:"edit-facility",facilityId:_vm.facilityId,facilityName:_vm.facilityName},on:{submit:_vm.sendFacilityName,cancel:function($event){_vm.showEditFacilityModal=!1}}}):_vm._e(),_vm.createPinShow?_c("CreateManagementPinModal",{on:{submit:function($event){_vm.createPinShow=!1},cancel:function($event){_vm.createPinShow=!1}}}):_vm._e(),_vm.handleViewModal?_c("ViewPinModal",{on:{cancel:function($event){_vm.handleViewModal=!1}}}):_vm._e(),_vm.handleChangePinModal?_c("ChangePinModal",{on:{submit:function($event){_vm.handleChangePinModal=!1},cancel:function($event){_vm.handleChangePinModal=!1}}}):_vm._e(),_vm.handleRemovePinModal?_c("RemovePinModal",{on:{submit:function($event){_vm.handleRemovePinModal=!1},cancel:function($event){_vm.handleRemovePinModal=!1}}}):_vm._e()],2),_c("BottomAppBar",{attrs:{"data-test":"bottom-bar"}},[_vm.isAppContext?_vm._e():_c("KButtonGroup",{staticStyle:{"margin-top":"8px"}},[_c("KGrid",[_c("KGridItem",{attrs:{layout12:{span:6},layout8:{span:4},layout4:{span:2}}},[_c("KButton",{attrs:{primary:!1,appearance:"flat-button",text:_vm.$tr("resetToDefaultSettings"),name:"reset-settings"},on:{click:function($event){_vm.showModal=!0}}})],1),_c("KGridItem",{attrs:{layout12:{span:6},layout8:{span:4},layout4:{span:2}}},[_c("KButton",{class:_vm.windowIsSmall?"mobile-button":"",attrs:{primary:!0,appearance:"raised-button",text:_vm.coreString("saveChangesAction"),name:"save-settings",disabled:!_vm.settingsHaveChanged},on:{click:function($event){return _vm.saveConfig()}}})],1)],1)],1)],1)],1)};FacilityConfigPagevue_type_template_id_1269cbed_scoped_true_render._withStripped=!0;var camelCase=__webpack_require__(393),camelCase_default=__webpack_require__.n(camelCase),isEqual=__webpack_require__(6241),isEqual_default=__webpack_require__.n(isEqual),ConfirmResetModalvue_type_template_id_0576250a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.$tr("reset"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("submit")},cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmationQuestion")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("reconfirmation")))])])])};ConfirmResetModalvue_type_template_id_0576250a_scoped_true_render._withStripped=!0;var ConfirmResetModal=normalizeComponent({name:"ConfirmResetModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],$trs:{confirmationQuestion:{message:"Are you sure you want to reset your settings?",context:"Confirmation message on the 'Reset to defaults' window accessed via the Facility > Settings page."},reconfirmation:{message:"Your device management PIN will not be affected, but any other changes made to the facility settings will be lost.",context:"Description on the 'Reset to defaults' window accessed via the Facility > Settings page."},reset:{message:"Reset",context:"Button on the the 'Reset to defaults' window accessed via the Facility > Settings page.\n\nUsers would use this button to reset the Facility settings to default."},title:{message:"Reset to defaults",context:"Title of the 'Reset to defaults' window accessed via the Facility > Settings page.\n"}}},ConfirmResetModalvue_type_template_id_0576250a_scoped_true_render,[],!1,null,"0576250a",null).exports,EditFacilityNameModalvue_type_template_id_6bc6fbdc_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("renameFacilityExplanation")))]),_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.coreString("facilityName"),autofocus:!0,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0},input:_vm.handleInput},model:{value:_vm.name,callback:function($$v){_vm.name=$$v},expression:"name"}})],1)])};function EditFacilityNameModalvue_type_script_lang_js_typeof(o){return EditFacilityNameModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},EditFacilityNameModalvue_type_script_lang_js_typeof(o)}function EditFacilityNameModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function EditFacilityNameModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?EditFacilityNameModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){EditFacilityNameModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):EditFacilityNameModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function EditFacilityNameModalvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=EditFacilityNameModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=EditFacilityNameModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==EditFacilityNameModalvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}EditFacilityNameModalvue_type_template_id_6bc6fbdc_scoped_true_render._withStripped=!0;var EditFacilityNameModal=normalizeComponent({name:"EditFacilityNameModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{facilityId:{type:String,required:!0},facilityName:{type:String,required:!0}},data:function(){return{name:this.facilityName,nameBlurred:!1,formSubmitted:!1,isDuplicated:!1}},computed:EditFacilityNameModalvue_type_script_lang_js_objectSpread(EditFacilityNameModalvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("facilityConfig",["facilities"])),{},{nameIsInvalidText:function(){return""===this.name.trim()?this.coreString("requiredFieldError"):this.isDuplicated?this.coreString("facilityDuplicated"):""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)}}),methods:{handleInput:function($event){this.facilityName!=$event&&this.facilityNameIsUnique($event)},facilityNameIsUnique:function(value){var _this=this;this.isDuplicated=!!this.facilities.find((function(facility){return facility.id!=_this.facilityId&&facility.name.toLowerCase()===value.toLowerCase()}))},handleSubmit:function(){this.formSubmitted=!0,this.nameIsInvalid?this.$refs.name.focus():this.$emit("submit",this.name)}},$trs:{renameFacilityExplanation:{message:"Warning: Only the facility name will be changed, and the new name will be synced and updated on other devices linked to this facility.",context:"Explanation of what consequences renaming a facility will have."},title:{message:"Rename facility",context:"Title of window where a user can rename a facility."}}},EditFacilityNameModalvue_type_template_id_6bc6fbdc_scoped_true_render,[],!1,null,"6bc6fbdc",null).exports,CreateManagementPinModalvue_type_template_id_5f098da9_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.submit,cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("newToSync")))]),_c("p",[_vm._v(_vm._s(_vm.coreString("setPin")))]),_c("KTextbox",{ref:"pinFocus",attrs:{input:"number",label:_vm.coreString("enterPinPlaceholder"),maxlength:4,invalid:!0,invalidText:_vm.pinError,showInvalidText:_vm.showErrorText},model:{value:_vm.pin,callback:function($$v){_vm.pin=$$v},expression:"pin"}})],1)])};function CreateManagementPinModalvue_type_script_lang_js_typeof(o){return CreateManagementPinModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},CreateManagementPinModalvue_type_script_lang_js_typeof(o)}function CreateManagementPinModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CreateManagementPinModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CreateManagementPinModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){CreateManagementPinModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CreateManagementPinModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function CreateManagementPinModalvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=CreateManagementPinModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=CreateManagementPinModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==CreateManagementPinModalvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}CreateManagementPinModalvue_type_template_id_5f098da9_render._withStripped=!0;var CreateManagementPinModal=normalizeComponent({name:"CreateManagementPinModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{pin:"",pinPattern:/^[0-9]{4}$/,pinError:null,showErrorText:!1}},computed:{},methods:CreateManagementPinModalvue_type_script_lang_js_objectSpread(CreateManagementPinModalvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("facilityConfig",["setPin"])),{},{submit:function(){this.pin?this.pinPattern.test(this.pin)?(this.pinError="",this.setPin({pin_code:this.pin}),this.showSnackbarNotification("pinCreated"),this.$emit("submit")):(this.pinError=this.coreString("numbersOnly"),this.focus()):(this.showErrorText=!0,this.pinError=this.coreString("noEmptyField"),this.focus())},focus:function(){this.$refs.pinFocus.focus()}}),$trs:{title:{message:"Create device management PIN",context:"Title for the create management modal."},newToSync:{message:"You will need to sync this device with other devices with the same facility in order to use this PIN.",context:"Reminder to sync devices"}}},CreateManagementPinModalvue_type_template_id_5f098da9_render,[],!1,null,null,null).exports,ViewPinModalvue_type_template_id_c4839d3c_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),cancelText:_vm.coreString("closeAction")},on:{cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.userPinNumber))])])])};function ViewPinModalvue_type_script_lang_js_typeof(o){return ViewPinModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ViewPinModalvue_type_script_lang_js_typeof(o)}function ViewPinModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ViewPinModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ViewPinModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ViewPinModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ViewPinModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ViewPinModalvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ViewPinModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ViewPinModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ViewPinModalvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ViewPinModalvue_type_template_id_c4839d3c_render._withStripped=!0;var ViewPinModal=normalizeComponent({name:"ViewPinModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],computed:ViewPinModalvue_type_script_lang_js_objectSpread(ViewPinModalvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("facilityConfig",["settings"])),{},{userPinNumber:function(){return this.settings.extra_fields.pin_code}}),methods:{},$trs:{title:{message:"Device management PIN",context:"Title for the view PIN modal."}}},ViewPinModalvue_type_template_id_c4839d3c_render,[],!1,null,null,null).exports,ChangePinModalvue_type_template_id_22ce8edf_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.submit,cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("needToSync")))]),_c("p",[_vm._v(_vm._s(_vm.coreString("setPin")))]),_c("KTextbox",{ref:"pinFocus",attrs:{input:"number",label:_vm.coreString("enterPinPlaceholder"),maxlength:4,invalid:!0,invalidText:_vm.pinError,showInvalidText:_vm.showErrorText},model:{value:_vm.pin,callback:function($$v){_vm.pin=$$v},expression:"pin"}})],1)])};function ChangePinModalvue_type_script_lang_js_typeof(o){return ChangePinModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ChangePinModalvue_type_script_lang_js_typeof(o)}function ChangePinModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ChangePinModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ChangePinModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ChangePinModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ChangePinModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ChangePinModalvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ChangePinModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ChangePinModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ChangePinModalvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ChangePinModalvue_type_template_id_22ce8edf_render._withStripped=!0;var ChangePinModal=normalizeComponent({name:"ChangePinModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{pin:"",pinPattern:/^[0-9]{4}$/,pinError:null,showErrorText:!1}},computed:{},methods:ChangePinModalvue_type_script_lang_js_objectSpread(ChangePinModalvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("facilityConfig",["setPin"])),{},{submit:function(){this.pin?this.pinPattern.test(this.pin)?(this.pinError="",this.setPin({pin_code:this.pin}),this.$emit("submit"),this.showSnackbarNotification("pinUpdated")):(this.pinError=this.coreString("numbersOnly"),this.focus()):(this.showErrorText=!0,this.pinError=this.coreString("noEmptyField"),this.focus())},focus:function(){this.$refs.pinFocus.focus()}}),$trs:{title:{message:"Change device management PIN",context:"Title for the change PIN modal."},needToSync:{message:"You will need to sync this device with other devices that have the same facility in order to use this PIN.",context:"Reminder to sync devices"}}},ChangePinModalvue_type_template_id_22ce8edf_render,[],!1,null,null,null).exports,RemovePinModalvue_type_template_id_4092edea_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("title"),submitText:_vm.coreString("removePinPlacholder"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.removePin,cancel:function($event){return _vm.$emit("cancel")}}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("warningToSync")))])])])};function RemovePinModalvue_type_script_lang_js_typeof(o){return RemovePinModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},RemovePinModalvue_type_script_lang_js_typeof(o)}function RemovePinModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function RemovePinModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?RemovePinModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){RemovePinModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):RemovePinModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function RemovePinModalvue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=RemovePinModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=RemovePinModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==RemovePinModalvue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}RemovePinModalvue_type_template_id_4092edea_render._withStripped=!0;var RemovePinModal=normalizeComponent({name:"RemovePinModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],computed:{},methods:RemovePinModalvue_type_script_lang_js_objectSpread(RemovePinModalvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("facilityConfig",["unsetPin"])),{},{removePin:function(){this.unsetPin(),this.$emit("submit"),this.showSnackbarNotification("pinRemove")}}),$trs:{title:{message:"Remove device management PIN",context:"Title for the remove PIN modal."},warningToSync:{message:"You will need to sync this device with other devices that have the same facility in order for this PIN to be removed.",context:"Reminder to sync devices"}}},RemovePinModalvue_type_template_id_4092edea_render,[],!1,null,null,null).exports;function FacilityConfigPagevue_type_script_lang_js_typeof(o){return FacilityConfigPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FacilityConfigPagevue_type_script_lang_js_typeof(o)}function FacilityConfigPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function FacilityConfigPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FacilityConfigPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){FacilityConfigPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FacilityConfigPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function FacilityConfigPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=FacilityConfigPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=FacilityConfigPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==FacilityConfigPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var deviceSettingsPageStrings=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("DeviceSettingsPage",{changeLocation:{message:"Change",context:"Label to change primary storage location"}}),pinAuthenticationModalStrings=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("PinAuthenticationModal",{pinPlaceholder:{message:"PIN",context:"Placeholder label for a PIN input"}}),_settingsList=["learner_can_edit_username","learner_can_edit_password","learner_can_edit_name","learner_can_sign_up","learner_can_login_with_no_password","show_download_button_in_learn"],FacilityConfigPagevue_type_script_lang_js={name:"FacilityConfigPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{FacilityAppBarPage:FacilityAppBarPage,ConfirmResetModal:ConfirmResetModal,EditFacilityNameModal:EditFacilityNameModal,BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default(),CreateManagementPinModal:CreateManagementPinModal,ViewPinModal:ViewPinModal,ChangePinModal:ChangePinModal,RemovePinModal:RemovePinModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],data:function(){return{showModal:!1,showEditFacilityModal:!1,settingsCopy:{},createPinShow:!1,handleViewModal:!1,handleChangePinModal:!1,handleRemovePinModal:!1}},computed:FacilityConfigPagevue_type_script_lang_js_objectSpread(FacilityConfigPagevue_type_script_lang_js_objectSpread(FacilityConfigPagevue_type_script_lang_js_objectSpread(FacilityConfigPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("facilityConfig",["facilityName","facilityId","settings","facilityNameSaved","facilityNameError"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isAppContext","isSuperuser","userIsMultiFacilityAdmin","facilityPageLinks"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)("facilityConfig",["getFacilityDataLoading"])),{},{settingsList:function(){return _settingsList},settingsHaveChanged:function(){return!isEqual_default()(this.settings,this.settingsCopy)},isPinSet:function(){return this.settings&&this.settings.extra_fields&&this.settings.extra_fields.pin_code?this.settings.extra_fields.pin_code:null},deviceSettingsUrl:function(){var getUrl=external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.device:device_management"];return getUrl?getUrl()+"#/settings":null},lastPartId:function(){return this.facilityId.slice(0,4)},enableChangePassword:function(){return this.settings.learner_can_login_with_no_password},dropdownOption:function(){return[{label:this.viewPINLabel,value:"VIEW"},{label:this.changePINLabel,value:"CHANGE"},{label:this.coreString("removePinPlacholder"),value:"REMOVE"}]},changePINLabel:function(){return"".concat(deviceSettingsPageStrings.$tr("changeLocation")," ").concat(this.pinPlaceholder)},viewPINLabel:function(){return"".concat(this.coreString("viewAction")," ").concat(this.pinPlaceholder)},pinPlaceholder:function(){return pinAuthenticationModalStrings.$tr("pinPlaceholder")}}),watch:{facilityNameSaved:function(val){val&&(this.createSnackbar(this.coreString("changesSavedNotification")),this.$store.commit("facilityConfig/RESET_FACILITY_NAME_STATES"))},facilityNameError:function(val){val&&(this.createSnackbar(this.coreString("changesNotSavedNotification")),this.$store.commit("facilityConfig/RESET_FACILITY_NAME_STATES"))}},mounted:function(){this.copySettings()},methods:FacilityConfigPagevue_type_script_lang_js_objectSpread(FacilityConfigPagevue_type_script_lang_js_objectSpread(FacilityConfigPagevue_type_script_lang_js_objectSpread({camelCase:camelCase_default()},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("facilityConfig",["saveFacilityName"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)(["createSnackbar"])),{},{updateSettingValue:function(settingName,newValue){return this.$store.commit("facilityConfig/CONFIG_PAGE_MODIFY_SETTING",{name:settingName,value:newValue}),newValue},toggleSetting:function(settingName){return this.updateSettingValue(settingName,!this.settings[settingName])},toggleLearnerLoginPassword:function(){!0===this.toggleSetting("learner_can_login_with_no_password")&&this.updateSettingValue("learner_can_edit_password",!1)},updateSettings:function(action){var _this=this;this.$store.dispatch(action).then((function(){_this.createSnackbar(_this.$tr("saveSuccess")),_this.copySettings()})).catch((function(){_this.createSnackbar(_this.$tr("saveFailure")),_this.$store.commit("facilityConfig/CONFIG_PAGE_UNDO_SETTINGS_CHANGE")}))},resetToDefaultSettings:function(){this.showModal=!1,this.updateSettings("facilityConfig/resetFacilityConfig")},sendFacilityName:function(name){this.showEditFacilityModal=!1,name!=this.facilityName&&this.saveFacilityName({name:name,id:this.facilityId})},saveConfig:function(){this.updateSettings("facilityConfig/saveFacilityConfig")},copySettings:function(){this.settingsCopy=Object.assign({},this.settings)},handleCreatePin:function(){this.createPinShow=!0},handleSelect:function(option){"VIEW"===option.value?this.handleViewModal=!0:"CHANGE"===option.value?this.handleChangePinModal=!0:"REMOVE"===option.value&&(this.handleRemovePinModal=!0)}}),$trs:{learnerCanEditName:{message:"Allow learners to edit their full name",context:"Option on 'Facility settings' page."},learnerCanEditPassword:{message:"Allow learners to edit their password when signed in",context:"Option on 'Facility settings' page."},learnerCanEditUsername:{message:"Allow learners to edit their username",context:"Option on 'Facility settings' page."},learnerCanSignUp:{message:"Allow learners to create accounts",context:"Option on 'Facility settings' page."},learnerNeedPasswordToLogin:{message:"Require password for learners",context:"Option on 'Facility settings' page."},showDownloadButtonInLearn:{message:"Show 'download' button with resources",context:"Option on 'Facility settings' page.\n"},saveFailure:{message:"There was a problem saving your settings",context:"Status report after the facility change operation."},saveSuccess:{message:"Facility settings updated",context:"Status report after the facility change operation."},pageDescription:{message:"Configure facility settings here.",context:'Interpret as "[You can] configure facility settings here"'},deviceSettings:{message:"You can also configure device settings",context:"Text link on Facility settings page."},pageHeader:{message:"Facility settings",context:"Title of the Facility > Settings page."},resetToDefaultSettings:{message:"Reset to defaults",context:"Button that resets the facility to its default settings."},documentTitle:{message:"Facility Settings",context:"Title of page where user can configure facility settings."},deviceManagementPin:{message:"Device management PIN",context:"The title for the device management PIN"},deviceManagementDescription:{message:"This 4-digit PIN allows users to manage content and other settings on learn-only devices",context:"Description for the device management"},createPinBtn:{message:"Create PIN",context:"Button for the create PIN"},optionBtn:{message:"option",context:"Options button for the create PIN page"}}},FacilityConfigPage=normalizeComponent(FacilityConfigPagevue_type_script_lang_js,FacilityConfigPagevue_type_template_id_1269cbed_scoped_true_render,[],!1,null,"1269cbed",null).exports,ManageClassPagevue_type_template_id_4414130c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("FacilityAppBarPage",[_c("KPageContainer",[_c("p",[_vm.userIsMultiFacilityAdmin?_c("KRouterLink",{attrs:{to:{name:_vm.facilityPageLinks.AllFacilitiesPage.name,params:{subtopicName:"ManageClassPage"}},icon:"back",text:_vm.coreString("changeLearningFacility")}}):_vm._e()],1),_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:6},layout12:{span:9}}},[_c("h1",[_vm._v(_vm._s(_vm.coreString("classesLabel")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("adminClassPageSubheader")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:2},layout12:{span:3}}},[_c("KButton",{staticClass:"move-down",attrs:{text:_vm.$tr("addNew"),primary:!0},on:{click:function($event){return _vm.displayModal(_vm.Modals.CREATE_CLASS)}}})],1)],1),_c("CoreTable",{attrs:{dataLoading:_vm.dataLoading,emptyMessage:_vm.$tr("noClassesExist")},scopedSlots:_vm._u([{key:"headers",fn:function(){return[_c("th",[_vm._v(_vm._s(_vm.coreString("classNameLabel")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("coachesLabel")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("learnersLabel")))]),_c("th",[_c("span",{staticClass:"visuallyhidden"},[_vm._v("\n            "+_vm._s(_vm.coreString("userActionsColumnHeader"))+"\n          ")])])]},proxy:!0},{key:"tbody",fn:function(){return[_c("transition-group",{attrs:{tag:"tbody",name:"list"}},_vm._l(_vm.sortedClassrooms,(function(classroom){return _c("tr",{key:classroom.id},[_c("td",[_c("KRouterLink",{attrs:{text:classroom.name,to:_vm.$store.getters.facilityPageLinks.ClassEditPage(classroom.id),icon:"classes"}})],1),_c("td",[_c("span",{ref:"coachNames"+classroom.id,refInFor:!0},[_c("KOptionalText",{attrs:{text:_vm.coachNames(classroom).length?_vm.formattedCoachNames(classroom):""}})],1),_vm.formattedCoachNamesTooltip(classroom)?_c("KTooltip",{attrs:{reference:"coachNames"+classroom.id,refs:_vm.$refs}},[_vm._v("\n                "+_vm._s(_vm.formattedCoachNamesTooltip(classroom))+"\n              ")]):_vm._e()],1),_c("td",[_vm._v("\n              "+_vm._s(_vm.$formatNumber(classroom.learner_count))+"\n            ")]),_c("td",{staticClass:"core-table-button-col"},[_c("KButton",{attrs:{appearance:"flat-button",text:_vm.$tr("deleteClass")},on:{click:function($event){return _vm.selectClassToDelete(classroom)}}})],1)])})),0)]},proxy:!0}])},[_c("caption",{staticClass:"visuallyhidden"},[_vm._v("\n        "+_vm._s(_vm.$tr("tableCaption"))+"\n      ")])]),Boolean(_vm.classToDelete)?_c("ClassDeleteModal",{attrs:{classToDelete:_vm.classToDelete},on:{cancel:_vm.clearClassToDelete,success:function($event){return _vm.handleDeleteSuccess()}}}):_vm._e(),_vm.modalShown===_vm.Modals.CREATE_CLASS?_c("ClassCreateModal",{attrs:{classes:_vm.sortedClassrooms},on:{cancel:_vm.closeModal,success:function($event){return _vm.handleCreateSuccess()}}}):_vm._e()],1)],1)};ManageClassPagevue_type_template_id_4414130c_scoped_true_render._withStripped=!0;var orderBy=__webpack_require__(8074),orderBy_default=__webpack_require__.n(orderBy),ClassCreateModalvue_type_template_id_0741133b_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("createNewClassHeader"),size:"small",submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction"),disabled:_vm.submitting},on:{submit:_vm.createNewClass,cancel:function($event){return _vm.$emit("cancel")}}},[_c("KTextbox",{ref:"name",attrs:{type:"text",label:_vm.coreString("classNameLabel"),autofocus:!0,disabled:_vm.submitting,invalid:_vm.nameIsInvalid,invalidText:_vm.nameIsInvalidText,maxlength:50},on:{blur:function($event){_vm.nameBlurred=!0}},model:{value:_vm.name,callback:function($$v){_vm.name="string"==typeof $$v?$$v.trim():$$v},expression:"name"}})],1)};ClassCreateModalvue_type_template_id_0741133b_scoped_true_render._withStripped=!0;var ClassCreateModal=normalizeComponent({name:"ClassCreateModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{classes:{type:Array,required:!0}},data:function(){return{name:"",nameBlurred:!1,formSubmitted:!1,submitting:!1}},computed:{duplicateName:function(){var _this=this;return!!this.classes.find((function(classroom){return classroom.name.toUpperCase()===_this.name.toUpperCase()}))},nameIsInvalidText:function(){if(!this.formSubmitted){if(""===this.name)return this.coreString("requiredFieldError");if(this.duplicateName)return this.$tr("duplicateName")}return""},nameIsInvalid:function(){return Boolean(this.nameIsInvalidText)},formIsValid:function(){return!this.nameIsInvalid}},methods:{createNewClass:function(){var _this2=this;this.submitting=!0,this.formIsValid?(this.formSubmitted=!0,this.$store.dispatch("classManagement/createClass",this.name).then((function(){_this2.$emit("success"),_this2.showSnackbarNotification("classCreated")}))):(this.submitting=!1,this.$refs.name.focus())}},$trs:{createNewClassHeader:{message:"Create new class",context:"Refers to the title of the 'Create new class' window which a user opens by using the 'New class' button."},duplicateName:{message:"A class with that name already exists",context:"Message that displays if user creates a class using a name that already exists."}}},ClassCreateModalvue_type_template_id_0741133b_scoped_true_render,[],!1,null,"0741133b",null).exports,ClassDeleteModalvue_type_template_id_0d7631ae_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("modalTitle"),submitText:_vm.coreString("deleteAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:_vm.classDelete,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{classname:_vm.className})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("description")))]),_c("p",[_vm._v(_vm._s(_vm.coreString("cannotUndoActionWarning")))])])};function useDeleteClass(classroomProp){var $store=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store,classToDelete=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null);return classroomProp&&set(classToDelete,classroomProp),{classToDelete:classToDelete,deleteSelectedClassModel:function(){var deleteId=arguments.length>0&&void 0!==arguments[0]?arguments[0]:classToDelete.value.id;return deleteId?external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.deleteModel({id:deleteId}).then((function(){$store.commit("classManagement/DELETE_CLASS",deleteId)}),(function(error){$store.dispatch("handleApiError",{error:error})})):Promise.reject("No classId was provided")},selectClassToDelete:function(selectedClassroom){set(classToDelete,selectedClassroom)},clearClassToDelete:function(){set(classToDelete,null)}}}ClassDeleteModalvue_type_template_id_0d7631ae_scoped_true_render._withStripped=!0;var ClassDeleteModal=normalizeComponent({name:"ClassDeleteModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(props){var deleteSelectedClassModel=useDeleteClass(props.classToDelete).deleteSelectedClassModel;return{className:props.classToDelete.name,deleteSelectedClassModel:deleteSelectedClassModel}},props:{classToDelete:{type:Object,required:!0}},methods:{classDelete:function(){var _this=this;this.deleteSelectedClassModel().then((function(){_this.$emit("success"),_this.showSnackbarNotification("classDeleted")}))}},$trs:{modalTitle:{message:"Delete class",context:"Title of 'Delete class' window."},confirmation:{message:"Are you sure you want to delete '{ classname }'?",context:"Confirmation message on 'Delete class' window accessed via the 'Delete class' button."},description:{message:"Enrolled users will be removed from the class but remain accessible from the 'Users' tab.",context:"Description on 'Delete class' window accessed via the 'Delete class' button."}}},ClassDeleteModalvue_type_template_id_0d7631ae_scoped_true_render,[],!1,null,"0d7631ae",null).exports;function ManageClassPagevue_type_script_lang_js_typeof(o){return ManageClassPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ManageClassPagevue_type_script_lang_js_typeof(o)}function ManageClassPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ManageClassPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ManageClassPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ManageClassPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ManageClassPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ManageClassPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=ManageClassPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ManageClassPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ManageClassPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ManageClassPage=normalizeComponent({name:"ManageClassPage",metaInfo:function(){return{title:this.coreString("classesLabel")}},components:{FacilityAppBarPage:FacilityAppBarPage,CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default(),ClassCreateModal:ClassCreateModal,ClassDeleteModal:ClassDeleteModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useDeleteClass=useDeleteClass();return{classToDelete:_useDeleteClass.classToDelete,selectClassToDelete:_useDeleteClass.selectClassToDelete,clearClassToDelete:_useDeleteClass.clearClassToDelete}},computed:ManageClassPagevue_type_script_lang_js_objectSpread(ManageClassPagevue_type_script_lang_js_objectSpread(ManageClassPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("classManagement",["modalShown","classes","dataLoading"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["userIsMultiFacilityAdmin","facilityPageLinks"])),{},{Modals:function(){return constants_Modals},sortedClassrooms:function(){return orderBy_default()(this.classes,[function(classroom){return classroom.name.toUpperCase()}],["asc"])}}),methods:ManageClassPagevue_type_script_lang_js_objectSpread(ManageClassPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)("classManagement",["displayModal"])),{},{closeModal:function(){this.displayModal(!1)},handleCreateSuccess:function(){this.closeModal(),this.refreshCoreFacilities()},handleDeleteSuccess:function(){this.clearClassToDelete(),this.refreshCoreFacilities()},refreshCoreFacilities:function(){this.userIsMultiFacilityAdmin&&this.$store.dispatch("getFacilities")},coachNames:function(classroom){return classroom.coaches.map((function(_ref){return _ref.full_name}))},formattedCoachNames:function(classroom){var coach_names=this.coachNames(classroom);return 1===coach_names.length?coach_names[0]:2===coach_names.length?this.$tr("twoCoachNames",{name1:coach_names[0],name2:coach_names[1]}):this.$tr("manyCoachNames",{name1:coach_names[0],name2:coach_names[1],numRemaining:coach_names.length-2})},formattedCoachNamesTooltip:function(classroom){var coach_names=this.coachNames(classroom);return coach_names.length>2?coach_names.join("\n"):null}}),$trs:{adminClassPageSubheader:{message:"View and manage your classes",context:"Description on Facility > Classes page."},addNew:{message:"New class",context:"Button used to create a new class."},deleteClass:{message:"Delete class",context:"Option to delete a class."},tableCaption:{message:"List of classes",context:"Caption for the table containing the list of classes."},twoCoachNames:{message:"{name1}, {name2}",context:"DO NOT TRANSLATE\nCopy the source string."},manyCoachNames:{message:"{name1}, {name2} (+{numRemaining, number})",context:"DO NOT TRANSLATE\nCopy the source string."},noClassesExist:{message:"No classes exist",context:"Message that displays when there are no classes created in the Facility > Classes section."}}},ManageClassPagevue_type_template_id_4414130c_scoped_true_render,[],!1,null,"4414130c",null).exports,UserPagevue_type_template_id_f21b49f8_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("FacilityAppBarPage",[_c("KPageContainer",[_c("p",[_vm.userIsMultiFacilityAdmin?_c("KRouterLink",{attrs:{to:{name:_vm.facilityPageLinks.AllFacilitiesPage.name,params:{subtopicName:"UserPage"}},icon:"back",text:_vm.coreString("changeLearningFacility")}}):_vm._e()],1),_c("KGrid",[_c("KGridItem",{attrs:{layout8:{span:4},layout12:{span:6}}},[_c("h1",[_vm._v(_vm._s(_vm.coreString("usersLabel")))])]),_c("KGridItem",{attrs:{layout:{alignment:"right"},layout8:{span:4},layout12:{span:6}}},[_c("KRouterLink",{staticClass:"move-down",attrs:{text:_vm.$tr("newUserButtonLabel"),primary:!0,appearance:"raised-button",to:_vm.$store.getters.facilityPageLinks.UserCreatePage}})],1)],1),_c("PaginatedListContainerWithBackend",{attrs:{items:_vm.facilityUsers,itemsPerPage:_vm.itemsPerPage,totalPageNumber:_vm.totalPages,roleFilter:_vm.roleFilter,numFilteredItems:_vm.usersCount},scopedSlots:_vm._u([{key:"otherFilter",fn:function(){return[_c("KSelect",{staticClass:"type-filter",attrs:{label:_vm.coreString("userTypeLabel"),options:_vm.userKinds,inline:!0},model:{value:_vm.roleFilter,callback:function($$v){_vm.roleFilter=$$v},expression:"roleFilter"}})]},proxy:!0},{key:"filter",fn:function(){return[_c("FilterTextbox",{attrs:{placeholder:_vm.$tr("searchText")},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}})]},proxy:!0}]),model:{value:_vm.currentPage,callback:function($$v){_vm.currentPage=$$v},expression:"currentPage"}},[[_c("UserTable",{staticClass:"move-down user-roster",attrs:{users:_vm.facilityUsers,dataLoading:_vm.dataLoading,emptyMessage:_vm.emptyMessageForItems(_vm.facilityUsers,_vm.search),showDemographicInfo:!0},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_c("KButton",{attrs:{appearance:"flat-button",hasDropdown:"",text:_vm.$tr("optionsButtonLabel"),disabled:!_vm.userCanBeEdited(userRow.user)},scopedSlots:_vm._u([{key:"menu",fn:function(){return[_c("KDropdownMenu",{attrs:{options:_vm.manageUserOptions(userRow.user.id)},on:{select:function($event){return _vm.handleManageUserSelection($event,userRow.user)}}})]},proxy:!0}],null,!0)})]}}])})]],2),_vm.modalShown===_vm.Modals.RESET_USER_PASSWORD?_c("ResetUserPasswordModal",{attrs:{id:_vm.selectedUser.id,username:_vm.selectedUser.username},on:{cancel:_vm.closeModal}}):_vm._e(),_vm.modalShown===_vm.Modals.DELETE_USER?_c("DeleteUserModal",{attrs:{id:_vm.selectedUser.id,username:_vm.selectedUser.username},on:{cancel:_vm.closeModal}}):_vm._e()],1)],1)};UserPagevue_type_template_id_f21b49f8_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject=kolibriCoreAppGlobal.coreVue.vuex.constants,cloneDeep=__webpack_require__(3622),cloneDeep_default=__webpack_require__.n(cloneDeep),ResetUserPasswordModalvue_type_template_id_221f93d2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("resetPassword"),submitText:_vm.coreString("saveAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.busy,cancelDisabled:_vm.busy},on:{submit:_vm.submitForm,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("username"))),_c("strong",[_vm._v(_vm._s(_vm.username))])]),_c("PasswordTextbox",{ref:"passwordTextbox",attrs:{autofocus:!0,disabled:_vm.busy,value:_vm.password,isValid:_vm.passwordValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.password=$event},"update:isValid":function($event){_vm.passwordValid=$event},"update:is-valid":function($event){_vm.passwordValid=$event}}})],1)};ResetUserPasswordModalvue_type_template_id_221f93d2_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_namespaceObject=kolibriCoreAppGlobal.coreVue.components.PasswordTextbox,external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_namespaceObject),ResetUserPasswordModal=normalizeComponent({name:"ResetUserPasswordModal",components:{PasswordTextbox:external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{id:{type:String,required:!0},username:{type:String,required:!0}},data:function(){return{password:"",passwordValid:!1,formSubmitted:!1,busy:!1}},methods:{submitForm:function(){var _this=this;if(this.formSubmitted=!0,!this.passwordValid)return this.focusOnInvalidField();this.busy=!0,this.$store.dispatch("userManagement/updateFacilityUserPassword",{userId:this.id,password:this.password}).then((function(){_this.busy=!1,_this.$emit("cancel"),_this.showSnackbarNotification("passwordReset")})).catch((function(error){return _this.$store.dispatch("handleApiError",{error:error})}))},focusOnInvalidField:function(){var _this2=this;this.$nextTick().then((function(){_this2.passwordValid||_this2.$refs.passwordTextbox.focus()}))}},$trs:{resetPassword:{message:"Reset user password",context:"Refers to the 'Reset password' option in the Facility > Users section."},username:{message:"Username: ",context:"Displayed in the 'Reset user password' window.\n"}}},ResetUserPasswordModalvue_type_template_id_221f93d2_scoped_true_render,[],!1,null,"221f93d2",null).exports,DeleteUserModalvue_type_template_id_6b4080ce_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("deleteUser"),submitText:_vm.coreString("deleteAction"),cancelText:_vm.coreString("cancelAction"),submitDisabled:_vm.submitting},on:{submit:_vm.handleDeleteUser,cancel:function($event){return _vm.$emit("cancel")}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("confirmation",{username:_vm.username})))]),_c("p",[_vm._v(_vm._s(_vm.$tr("warning",{username:_vm.username})))]),_c("p",[_vm._v(_vm._s(_vm.coreString("cannotUndoActionWarning")))])])};DeleteUserModalvue_type_template_id_6b4080ce_scoped_true_render._withStripped=!0;var DeleteUserModal=normalizeComponent({name:"DeleteUserModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{id:{type:String,required:!0},username:{type:String,required:!0}},data:function(){return{submitting:!1}},methods:{handleDeleteUser:function(){var _this=this;this.submitting=!0,this.$store.dispatch("userManagement/deleteFacilityUser",{userId:this.id}).then((function(){_this.$store.commit("userManagement/DELETE_USER",_this.id),_this.$emit("cancel"),_this.showSnackbarNotification("userDeleted")})).catch((function(error){_this.$store.dispatch("handleApiError",{error:error})}))}},$trs:{deleteUser:{message:"Delete user",context:"Title for the window where a user can confirm if they want to delete another user."},confirmation:{message:"Are you sure you want to delete the user '{ username }'?",context:"Conformation message that displays in the 'Delete user' window."},warning:{message:"All data and logs for this user will be lost.",context:"Warning information on 'Delete user' window."}}},DeleteUserModalvue_type_template_id_6b4080ce_scoped_true_render,[],!1,null,"6b4080ce",null).exports;function UserPagevue_type_script_lang_js_typeof(o){return UserPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},UserPagevue_type_script_lang_js_typeof(o)}function UserPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function UserPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?UserPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){UserPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UserPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function UserPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=UserPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=UserPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==UserPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var UserPage=normalizeComponent({name:"UserPage",metaInfo:function(){return{title:this.coreString("usersLabel")}},components:{FacilityAppBarPage:FacilityAppBarPage,FilterTextbox:external_kolibriCoreAppGlobal_coreVue_components_FilterTextbox_default(),ResetUserPasswordModal:ResetUserPasswordModal,DeleteUserModal:DeleteUserModal,UserTable:external_kolibriCoreAppGlobal_coreVue_components_UserTable_default(),PaginatedListContainerWithBackend:PaginatedListContainerWithBackend},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{selectedUser:null,modalShown:null}},computed:UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["currentUserId","isSuperuser","userIsMultiFacilityAdmin","facilityPageLinks"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("userManagement",["facilityUsers","totalPages","usersCount","dataLoading"])),{},{Modals:function(){return constants_Modals},userKinds:function(){return[{label:this.coreString("allLabel"),value:"all"},{label:this.coreString("learnersLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER},{label:this.coreString("coachesLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH},{label:this.$tr("admins"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ADMIN},{label:this.$tr("superAdmins"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.SUPERUSER}]},roleFilter:{get:function(){var _this=this;return this.userKinds.find((function(k){return k.value===_this.$route.query.user_type}))||this.userKinds[0]},set:function(value){"all"===(value=value.value)&&(value=null),this.$router.push(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route),{},{query:pickBy_default()(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route.query),{},{user_type:value,page:null}))}))}},search:{get:function(){return this.$route.query.search||""},set:function(value){this.debouncedSearchTerm(value)}},currentPage:{get:function(){return Number(this.$route.query.page||1)},set:function(value){this.$router.push(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route),{},{query:pickBy_default()(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route.query),{},{page:value}))}))}},itemsPerPage:{get:function(){return this.$route.query.page_size||30},set:function(value){this.$router.push(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route),{},{query:pickBy_default()(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route.query),{},{page_size:value,page:null}))}))}}}),created:function(){this.debouncedSearchTerm=debounce_default()(this.emitSearchTerm,500)},methods:{emptyMessageForItems:function(items,filterText){if(0===this.facilityUsers.length)return this.$tr("noUsersExist");if(this.roleFilter&&""===filterText)switch(this.roleFilter.value){case external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER:return this.$tr("noLearnersExist");case external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH:return this.$tr("noCoachesExist");case external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ADMIN:return this.$tr("noAdminsExist");case external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.SUPERUSER:return this.$tr("noSuperAdminsExist");default:return""}else if(0===items.length)return this.$tr("allUsersFilteredOut",{filterText:filterText});return""},closeModal:function(){this.modalShown=""},manageUserOptions:function(userId){return[{label:this.coreString("editDetailsAction"),value:constants_Modals.EDIT_USER},{label:this.$tr("resetUserPassword"),value:constants_Modals.RESET_USER_PASSWORD},{label:this.coreString("deleteAction"),value:constants_Modals.DELETE_USER,disabled:userId===this.currentUserId}]},handleManageUserSelection:function(selection,user){if(selection.value===constants_Modals.EDIT_USER){var link=cloneDeep_default()(this.$store.getters.facilityPageLinks.UserEditPage);link.params.id=user.id,this.$router.push(link)}else this.selectedUser=user,this.modalShown=selection.value},userCanBeEdited:function(user){return this.isSuperuser||!user.is_superuser},emitSearchTerm:function(value){""===value&&(value=null),this.$router.push(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route),{},{query:pickBy_default()(UserPagevue_type_script_lang_js_objectSpread(UserPagevue_type_script_lang_js_objectSpread({},this.$route.query),{},{search:value,page:null}))}))}},$trs:{searchText:{message:"Search for a user",context:"Refers to the search option on the user page."},admins:{message:"Admins",context:"Refers to the list of admins in a facility."},superAdmins:{message:"Super admins",context:"A user type."},newUserButtonLabel:{message:"New User",context:"Button to create new user."},noUsersExist:{message:"No users exist",context:"Displayed when there are no users in the facility on the 'Users' page."},allUsersFilteredOut:{message:"No users match the filter: '{filterText}'",context:"Refers to the 'Search for a user' filter when no users are found."},optionsButtonLabel:{message:"Options",context:"User options button."},resetUserPassword:{message:"Reset password",context:"Option to reset a user's password."},noLearnersExist:{message:"There are no learners in this facility",context:"Displayed when there are no learners in the facility. Seen when using the 'User type' filter on the 'Users' page."},noCoachesExist:{message:"There are no coaches in this facility",context:"Displayed when there are no coaches in the facility. Seen when using the 'User type' filter on the 'Users' page."},noSuperAdminsExist:{message:"There are no super admins in this facility",context:"Displayed when there are no super admins in the facility. Seen when using the 'User type' filter on the 'Users' page."},noAdminsExist:{message:"There are no admins in this facility",context:"Displayed when there are no admins in the facility. Seen when using the 'User type' filter on the 'Users' page."}}},UserPagevue_type_template_id_f21b49f8_scoped_true_render,[],!1,null,"f21b49f8",null).exports,UserCreatePagevue_type_template_id_838525e6_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{route:this.$store.getters.facilityPageLinks.UserPage,appBarTitle:_vm.coreString("usersLabel"),loading:_vm.loading}},[_vm.loading?_vm._e():_c("KPageContainer",{staticClass:"narrow-container"},[_c("form",{staticClass:"form",on:{submit:function($event){return $event.preventDefault(),_vm.submitForm.apply(null,arguments)}}},[_c("h1",[_vm._v("\n        "+_vm._s(_vm.$tr("createNewUserHeader"))+"\n      ")]),_c("section",[_c("FullNameTextbox",{ref:"fullNameTextbox",attrs:{autofocus:!0,disabled:_vm.busy,value:_vm.fullName,isValid:_vm.fullNameValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.fullName=$event},"update:isValid":function($event){_vm.fullNameValid=$event},"update:is-valid":function($event){_vm.fullNameValid=$event}}}),_c("UsernameTextbox",{ref:"usernameTextbox",attrs:{disabled:_vm.busy,value:_vm.username,isValid:_vm.usernameValid,shouldValidate:_vm.formSubmitted,isUniqueValidator:_vm.usernameIsUnique,errors:_vm.caughtErrors},on:{"update:value":function($event){_vm.username=$event},"update:isValid":function($event){_vm.usernameValid=$event},"update:is-valid":function($event){_vm.usernameValid=$event},"update:errors":function($event){_vm.caughtErrors=$event}}}),_vm.showPasswordInput?[_c("PasswordTextbox",{ref:"passwordTextbox",attrs:{disabled:_vm.busy,value:_vm.password,isValid:_vm.passwordValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.password=$event},"update:isValid":function($event){_vm.passwordValid=$event},"update:is-valid":function($event){_vm.passwordValid=$event}}})]:_vm._e(),_c("KSelect",{staticClass:"select",attrs:{disabled:_vm.busy,label:_vm.coreString("userTypeLabel"),options:_vm.userTypeOptions},model:{value:_vm.kind,callback:function($$v){_vm.kind=$$v},expression:"kind"}}),_vm.coachIsSelected?_c("fieldset",{staticClass:"coach-selector"},[_c("KRadioButton",{attrs:{disabled:_vm.busy,label:_vm.coreString("classCoachLabel"),description:_vm.coreString("classCoachDescription"),value:!0},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}}),_c("KRadioButton",{attrs:{disabled:_vm.busy,label:_vm.coreString("facilityCoachLabel"),description:_vm.coreString("facilityCoachDescription"),value:!1},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}})],1):_vm._e(),_c("IdentifierTextbox",{attrs:{value:_vm.idNumber,disabled:_vm.busy},on:{"update:value":function($event){_vm.idNumber=$event}}}),_c("BirthYearSelect",{staticClass:"select",attrs:{value:_vm.birthYear,disabled:_vm.busy},on:{"update:value":function($event){_vm.birthYear=$event}}}),_c("GenderSelect",{staticClass:"select",attrs:{value:_vm.gender,disabled:_vm.busy},on:{"update:value":function($event){_vm.gender=$event}}})],2),_c("div",{staticClass:"buttons"},[_c("KButtonGroup",{staticStyle:{"margin-top":"8px"}},[_c("KButton",{attrs:{type:"submit",text:_vm.coreString("saveAction"),disabled:_vm.busy,primary:!0}}),_c("KButton",{attrs:{text:_vm.coreString("cancelAction"),disabled:_vm.busy},on:{click:function($event){return _vm.goToUserManagementPage()}}})],1)],1)])])],1)};UserCreatePagevue_type_template_id_838525e6_scoped_true_render._withStripped=!0;var every=__webpack_require__(8211),every_default=__webpack_require__.n(every),external_kolibriCoreAppGlobal_utils_CatchErrors_namespaceObject=kolibriCoreAppGlobal.utils.CatchErrors,external_kolibriCoreAppGlobal_utils_CatchErrors_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_CatchErrors_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_namespaceObject=kolibriCoreAppGlobal.coreVue.components.GenderSelect,external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_namespaceObject=kolibriCoreAppGlobal.coreVue.components.BirthYearSelect,external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_namespaceObject=kolibriCoreAppGlobal.coreVue.components.FullNameTextbox,external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UsernameTextbox,external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_namespaceObject),IdentifierTextboxvue_type_template_id_7ce2ae4b_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"pos-rel"},[_c("KTextbox",_vm._b({staticClass:"identifier-textbox",attrs:{value:_vm.value,label:_vm.$tr("label"),maxlength:64},on:{input:function($event){return _vm.$emit("update:value",$event)}}},"KTextbox",_vm.$attrs,!1)),_c("CoreInfoIcon",{staticClass:"info-icon",attrs:{tooltipText:_vm.coreString("identifierInputTooltip"),tooltipPlacement:_vm.tooltipPlacement,iconAriaLabel:_vm.coreString("identifierAriaLabel")}})],1)};IdentifierTextboxvue_type_template_id_7ce2ae4b_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreInfoIcon,IdentifierTextbox=normalizeComponent({name:"IdentifierTextbox",components:{CoreInfoIcon:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_namespaceObject)()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],props:{value:{type:String,default:null}},computed:{tooltipPlacement:function(){return this.windowIsSmall?"left":"bottom"}},$trs:{label:{message:"Identifier (Optional)",context:"Optional type of data that can be used on an imported spreadsheet."}}},IdentifierTextboxvue_type_template_id_7ce2ae4b_scoped_true_render,[],!1,null,"7ce2ae4b",null).exports;function UserCreatePagevue_type_script_lang_js_typeof(o){return UserCreatePagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},UserCreatePagevue_type_script_lang_js_typeof(o)}function UserCreatePagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function UserCreatePagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?UserCreatePagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){UserCreatePagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UserCreatePagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function UserCreatePagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=UserCreatePagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=UserCreatePagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==UserCreatePagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var NOT_SPECIFIED=external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.DemographicConstants.NOT_SPECIFIED,UserCreatePage=normalizeComponent({name:"UserCreatePage",metaInfo:function(){return{title:this.$tr("createNewUserHeader")}},components:{GenderSelect:external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_default(),BirthYearSelect:external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_default(),UsernameTextbox:external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default(),FullNameTextbox:external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default(),PasswordTextbox:external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default(),IdentifierTextbox:IdentifierTextbox,ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{fullName:"",fullNameValid:!1,username:"",usernameValid:!1,password:"",passwordValid:!1,gender:NOT_SPECIFIED,birthYear:NOT_SPECIFIED,idNumber:"",loading:!0,kind:{label:this.coreString("learnerLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER},classCoachIsSelected:!0,busy:!1,formSubmitted:!1,caughtErrors:[]}},computed:UserCreatePagevue_type_script_lang_js_objectSpread(UserCreatePagevue_type_script_lang_js_objectSpread(UserCreatePagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["activeFacilityId","facilityConfig"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("userManagement",["facilityUsers"])),{},{showPasswordInput:function(){return!this.facilityConfig.learner_can_login_with_no_password||this.kind.value!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER},newUserRole:function(){return this.coachIsSelected?this.classCoachIsSelected?external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ASSIGNABLE_COACH:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH:this.kind.value},coachIsSelected:function(){return this.kind.value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH},formIsValid:function(){return every_default()([this.fullNameValid,this.usernameValid,this.passwordValid])},userTypeOptions:function(){return[{label:this.coreString("learnerLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER},{label:this.coreString("coachLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH},{label:this.coreString("adminLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ADMIN}]}}),beforeMount:function(){var _this=this;this.getFacilityConfig(this.activeFacilityId).then((function(){_this.$store.dispatch("notLoading"),_this.loading=!1}))},methods:UserCreatePagevue_type_script_lang_js_objectSpread(UserCreatePagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)(["getFacilityConfig"])),{},{goToUserManagementPage:function(onComplete){this.$router.push(this.$store.getters.facilityPageLinks.UserPage,onComplete)},usernameIsUnique:function(value){return!this.facilityUsers.find((function(_ref){return _ref.username.toLowerCase()===value.toLowerCase()}))},submitForm:function(){var _this2=this;this.formSubmitted=!0;var password=this.password;if(this.showPasswordInput||(password=NOT_SPECIFIED,this.passwordValid=!0),!this.formIsValid)return this.focusOnInvalidField();this.busy=!0,this.$store.dispatch("userManagement/createFacilityUser",{username:this.username,full_name:this.fullName,id_number:this.idNumber,gender:this.gender,birth_year:this.birthYear,role:{kind:this.newUserRole},password:password}).then((function(){_this2.handleSubmitSuccess()})).catch((function(error){_this2.handleSubmitFailure(error)}))},handleSubmitSuccess:function(){var _this3=this;this.goToUserManagementPage((function(){_this3.showSnackbarNotification("userCreated")}))},handleSubmitFailure:function(error){this.caughtErrors=external_kolibriCoreAppGlobal_utils_CatchErrors_default()(error,[external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS]),this.busy=!1,this.caughtErrors.length>0?this.focusOnInvalidField():this.$store.dispatch("handleApiError",{error:error})},focusOnInvalidField:function(){var _this4=this;this.$nextTick().then((function(){_this4.fullNameValid?_this4.usernameValid?_this4.passwordValid||_this4.$refs.passwordTextbox.focus():_this4.$refs.usernameTextbox.focus():_this4.$refs.fullNameTextbox.focus()}))}}),$trs:{createNewUserHeader:{message:"Create new user",context:"Refers to the window accessed via the 'New user' button in the Facility > Users section."}}},UserCreatePagevue_type_template_id_838525e6_scoped_true_render,[],!1,null,"838525e6",null).exports,UserEditPagevue_type_template_id_b0c7947c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{route:this.$store.getters.facilityPageLinks.UserPage,appBarTitle:_vm.coreString("usersLabel")}},[_c("KPageContainer",{staticClass:"narrow-container"},[_vm.loading?_vm._e():_c("form",{staticClass:"form",on:{submit:function($event){return $event.preventDefault(),_vm.submitForm.apply(null,arguments)}}},[_c("h1",[_vm._v("\n        "+_vm._s(_vm.$tr("editUserDetailsHeader"))+"\n      ")]),_c("section",[_c("FullNameTextbox",{ref:"fullNameTextbox",attrs:{autofocus:!0,disabled:_vm.formDisabled,value:_vm.fullName,isValid:_vm.fullNameValid,shouldValidate:_vm.formSubmitted},on:{"update:value":function($event){_vm.fullName=$event},"update:isValid":function($event){_vm.fullNameValid=$event},"update:is-valid":function($event){_vm.fullNameValid=$event}}}),_c("UsernameTextbox",{ref:"usernameTextbox",attrs:{disabled:_vm.formDisabled,value:_vm.username,isValid:_vm.usernameValid,shouldValidate:_vm.formSubmitted,isUniqueValidator:_vm.usernameIsUnique,errors:_vm.caughtErrors},on:{"update:value":function($event){_vm.username=$event},"update:isValid":function($event){_vm.usernameValid=$event},"update:is-valid":function($event){_vm.usernameValid=$event},"update:errors":function($event){_vm.caughtErrors=$event}}}),_vm.editingSuperAdmin?[_c("h2",{staticClass:"header user-type"},[_vm._v("\n            "+_vm._s(_vm.coreString("userTypeLabel"))+"\n          ")]),_c("UserTypeDisplay",{staticClass:"user-type",attrs:{userType:_vm.kind}}),_vm.devicePermissionsPageLink?_c("KExternalLink",{staticClass:"super-admin-description",attrs:{text:_vm.editingSelf?_vm.$tr("viewInDeviceTabPrompt"):_vm.$tr("changeInDeviceTabPrompt"),href:_vm.devicePermissionsPageLink}}):_vm._e()]:[_c("KSelect",{staticClass:"select",attrs:{disabled:_vm.formDisabled,label:_vm.coreString("userTypeLabel"),options:_vm.userTypeOptions},model:{value:_vm.typeSelected,callback:function($$v){_vm.typeSelected=$$v},expression:"typeSelected"}}),_vm.coachIsSelected?_c("fieldset",{staticClass:"coach-selector"},[_c("KRadioButton",{attrs:{disabled:_vm.formDisabled,label:_vm.coreString("classCoachLabel"),description:_vm.coreString("classCoachDescription"),value:!0},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}}),_c("KRadioButton",{attrs:{disabled:_vm.formDisabled,label:_vm.coreString("facilityCoachLabel"),description:_vm.coreString("facilityCoachDescription"),value:!1},model:{value:_vm.classCoachIsSelected,callback:function($$v){_vm.classCoachIsSelected=$$v},expression:"classCoachIsSelected"}})],1):_vm._e()],_c("IdentifierTextbox",{attrs:{value:_vm.idNumber,disabled:_vm.formDisabled},on:{"update:value":function($event){_vm.idNumber=$event}}}),_c("BirthYearSelect",{staticClass:"select",attrs:{value:_vm.birthYear,disabled:_vm.formDisabled},on:{"update:value":function($event){_vm.birthYear=$event}}}),_c("GenderSelect",{staticClass:"select",attrs:{value:_vm.gender,disabled:_vm.formDisabled},on:{"update:value":function($event){_vm.gender=$event}}})],2),_vm.willBeLoggedOut?_c("p",[_vm._v("\n        "+_vm._s(_vm.$tr("forceLogoutWarning"))+"\n      ")]):_vm._e(),_c("div",{staticClass:"buttons"},[_c("KButtonGroup",{staticStyle:{"margin-top":"8px"}},[_c("KButton",{attrs:{type:"submit",text:_vm.coreString("saveAction"),disabled:_vm.formDisabled,primary:!0}}),_c("KButton",{attrs:{text:_vm.cancelButtonText,disabled:_vm.formDisabled},on:{click:function($event){return _vm.goToUserManagementPage()}}})],1)],1)])])],1)};UserEditPagevue_type_template_id_b0c7947c_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_utils_UserType_namespaceObject=kolibriCoreAppGlobal.utils.UserType,external_kolibriCoreAppGlobal_utils_UserType_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_UserType_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UserTypeDisplay,external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_namespaceObject);function UserEditPagevue_type_script_lang_js_typeof(o){return UserEditPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},UserEditPagevue_type_script_lang_js_typeof(o)}function UserEditPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function UserEditPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?UserEditPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){UserEditPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UserEditPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function UserEditPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=UserEditPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=UserEditPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==UserEditPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var UserEditPage=normalizeComponent({name:"UserEditPage",metaInfo:function(){return{title:this.$tr("editUserDetailsHeader")}},components:{BirthYearSelect:external_kolibriCoreAppGlobal_coreVue_components_BirthYearSelect_default(),ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),FullNameTextbox:external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default(),GenderSelect:external_kolibriCoreAppGlobal_coreVue_components_GenderSelect_default(),IdentifierTextbox:IdentifierTextbox,UsernameTextbox:external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default(),UserTypeDisplay:external_kolibriCoreAppGlobal_coreVue_components_UserTypeDisplay_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{fullName:"",fullNameValid:!0,username:"",usernameValid:!0,kind:"",loading:!0,formSubmitted:!1,classCoachIsSelected:!0,typeSelected:null,gender:"",birthYear:"",idNumber:"",userCopy:{},caughtErrors:[],status:""}},computed:UserEditPagevue_type_script_lang_js_objectSpread(UserEditPagevue_type_script_lang_js_objectSpread(UserEditPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["currentUserId"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("userManagement",["facilityUsers"])),{},{formDisabled:function(){return"BUSY"===this.status},cancelButtonText:function(){return this.coreString("cancelAction")},coachIsSelected:function(){return this.typeSelected&&this.typeSelected.value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH},userId:function(){return this.$route.params.id},userTypeOptions:function(){return[{label:this.coreString("learnerLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER},{label:this.coreString("coachLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH},{label:this.coreString("adminLabel"),value:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ADMIN}]},formIsValid:function(){return every_default()([this.fullNameValid,this.usernameValid])},editingSelf:function(){return this.currentUserId===this.userId},editingSuperAdmin:function(){return this.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.SUPERUSER},devicePermissionsPageLink:function(){var devicePageUrl=external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.device:device_management"];return devicePageUrl?"".concat(devicePageUrl(),"#/permissions/").concat(this.userId):""},newUserKind:function(){var value=this.typeSelected.value;return value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH&&this.classCoachIsSelected?external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ASSIGNABLE_COACH:value},willBeLoggedOut:function(){return this.editingSelf&&this.newUserKind&&this.newUserKind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ADMIN}}),created:function(){var _this=this;external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.fetchModel({id:this.$route.params.id}).then((function(user){_this.username=user.username,_this.fullName=user.full_name,_this.idNumber=user.id_number,_this.gender=user.gender,_this.birthYear=user.birth_year,_this.setKind(user),_this.makeCopyOfUser(user),_this.loading=!1})).catch((function(error){_this.$store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))},methods:{setKind:function(user){var _this2=this;this.kind=external_kolibriCoreAppGlobal_utils_UserType_default()(user);var coachOption=this.userTypeOptions[1];this.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ASSIGNABLE_COACH?(this.typeSelected=coachOption,this.classCoachIsSelected=!0):this.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH?(this.typeSelected=coachOption,this.classCoachIsSelected=!1):this.typeSelected=this.userTypeOptions.find((function(kind){return kind.value===_this2.kind}))||{}},makeCopyOfUser:function(user){this.userCopy={birth_year:this.birthYear,full_name:this.fullName,gender:this.gender,id_number:this.idNumber,username:this.username,kind:external_kolibriCoreAppGlobal_utils_UserType_default()(user)}},goToUserManagementPage:function(){this.$router.push(this.$store.getters.facilityPageLinks.UserPage)},usernameIsUnique:function(value){var match=this.facilityUsers.find((function(_ref){return _ref.username.toLowerCase()===value.toLowerCase()}));return!(!match||match.username.toLowerCase()!==this.userCopy.username.toLowerCase())||!match},getUpdates:function(){var roleUpdates,_this3=this,facilityUserUpdates=pickBy_default()({birth_year:this.birthYear,full_name:this.fullName,gender:this.gender,id_number:this.idNumber,username:this.username},(function(value,key){return value!==_this3.userCopy[key]}));return this.editingSuperAdmin||this.newUserKind===this.userCopy.kind||(roleUpdates={kind:this.newUserKind}),{facilityUserUpdates:facilityUserUpdates,roleUpdates:roleUpdates}},submitForm:function(){var _this4=this;if(this.formSubmitted=!0,!this.formIsValid)return this.focusOnInvalidField();this.status="BUSY",this.$store.dispatch("userManagement/updateFacilityUserDetails",{userId:this.userId,updates:this.getUpdates()}).then((function(){_this4.handleSubmitSuccess()})).catch((function(error){_this4.handleSubmitFailure(error)}))},handleSubmitSuccess:function(){this.willBeLoggedOut?this.$store.dispatch("kolibriLogout"):(this.$store.dispatch("createSnackbar",this.coreString("changesSavedNotification")),this.goToUserManagementPage())},handleSubmitFailure:function(error){this.status="FAILURE",this.caughtErrors=external_kolibriCoreAppGlobal_utils_CatchErrors_default()(error,[external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS]),this.caughtErrors.length>0?this.focusOnInvalidField():this.$store.dispatch("handleApiError",{error:error})},focusOnInvalidField:function(){var _this5=this;this.$nextTick().then((function(){_this5.fullNameValid?_this5.usernameValid||_this5.$refs.usernameTextbox.focus():_this5.$refs.fullNameTextbox.focus()}))}},$trs:{editUserDetailsHeader:{message:"Edit user details",context:"Refers to edit existing users option."},changeInDeviceTabPrompt:{message:"Go to Device permissions to change this",context:"Refers to admin permissions."},viewInDeviceTabPrompt:{message:"View details in Device permissions",context:"Reminder for the admin that they can review permissions in the Device page."},forceLogoutWarning:{message:'Warning: By making yourself a non-admin, you will be logged out after clicking "Save".',context:"Warning provoked if a user with admin permissions changes their user type to become a non-admin. This avoids dangerous deletions."}}},UserEditPagevue_type_template_id_b0c7947c_scoped_true_render,[],!1,null,"b0c7947c",null).exports,AllFacilitiesPagevue_type_template_id_16b77dd8_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("AppBarPage",{attrs:{title:_vm.coreString("facilityLabel")}},[_c("KPageContainer",{staticStyle:{"max-width":"1000px",margin:"32px auto 0"}},[_c("h1",[_vm._v(_vm._s(_vm.coreString("facilitiesLabel"))+" ")]),_c("CoreTable",{scopedSlots:_vm._u([{key:"headers",fn:function(){return[_c("th",[_vm._v(_vm._s(_vm.coreString("nameLabel")))]),_c("th",[_vm._v(_vm._s(_vm.coreString("classesLabel")))])]},proxy:!0},{key:"tbody",fn:function(){return[_c("tbody",_vm._l(_vm.facilities,(function(facility){return _c("tr",{key:facility.id},[_c("td",[_c("KRouterLink",{attrs:{text:facility.name,to:_vm.facilityLink(facility),icon:"facility"}})],1),_c("td",[_vm._v("\n              "+_vm._s(_vm.$formatNumber(facility.num_classrooms))+"\n            ")])])})),0)]},proxy:!0}])})],1)],1)};function AllFacilitiesPagevue_type_script_lang_js_typeof(o){return AllFacilitiesPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},AllFacilitiesPagevue_type_script_lang_js_typeof(o)}function AllFacilitiesPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AllFacilitiesPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AllFacilitiesPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){AllFacilitiesPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AllFacilitiesPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function AllFacilitiesPagevue_type_script_lang_js_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=AllFacilitiesPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=AllFacilitiesPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==AllFacilitiesPagevue_type_script_lang_js_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}AllFacilitiesPagevue_type_template_id_16b77dd8_scoped_true_render._withStripped=!0;var AllFacilitiesPage=normalizeComponent({name:"AllFacilitiesPage",metaInfo:function(){return{title:this.coreString("allFacilitiesLabel")}},components:{AppBarPage:external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_default(),CoreTable:external_kolibriCoreAppGlobal_coreVue_components_CoreTable_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{subtopicName:{type:String,required:!1,default:null}},computed:AllFacilitiesPagevue_type_script_lang_js_objectSpread(AllFacilitiesPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["facilityPageLinks","userIsMultiFacilityAdmin"])),{},{facilities:function(){return this.$store.state.core.facilities}}),beforeMount:function(){this.userIsMultiFacilityAdmin||this.$router.replace(this.facilityPageLinks.ManageClassPage)},methods:{facilityLink:function(facility){var link=cloneDeep_default()(this.facilityPageLinks[this.subtopicName]||this.facilityPageLinks.ManageClassPage);return link.params.facility_id=facility.id,link}}},AllFacilitiesPagevue_type_template_id_16b77dd8_scoped_true_render,[],!1,null,"16b77dd8",null).exports;function handlers_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return handlers_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return handlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return handlers_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function handlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _userState(facilityUser){return{id:facilityUser.id,facility_id:facilityUser.facility,username:facilityUser.username,full_name:facilityUser.full_name,kind:external_kolibriCoreAppGlobal_utils_UserType_default()(facilityUser),is_superuser:facilityUser.is_superuser,roles:facilityUser.roles,gender:facilityUser.gender,birth_year:facilityUser.birth_year,id_number:facilityUser.id_number}}function handlers_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return classEditManagement_handlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return classEditManagement_handlers_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function classEditManagement_handlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function sortUsersByFullName(users){return users.sort((function(a,b){return(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.localeCompare)(a.full_name,b.full_name)}))}var external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_namespaceObject=kolibriCoreAppGlobal.utils.samePageCheckGenerator,external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_namespaceObject);function handlers_typeof(o){return handlers_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},handlers_typeof(o)}function handlers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function handlers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?handlers_ownKeys(Object(t),!0).forEach((function(r){handlers_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):handlers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function handlers_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=handlers_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=handlers_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==handlers_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function facilityConfig_handlers_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return facilityConfig_handlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return facilityConfig_handlers_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function facilityConfig_handlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function classAssignMembers_handlers_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return classAssignMembers_handlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return classAssignMembers_handlers_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function classAssignMembers_handlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var logging=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/plugins/facility/assets/src/routes.js");function facilityParamRequiredGuard(toRoute,subtopicName){var isNavigationFailure=VueRouter$1.isNavigationFailure,NavigationFailureType=VueRouter$1.NavigationFailureType;if(external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.userIsMultiFacilityAdmin&&!toRoute.params.facility_id)return external_kolibriCoreAppGlobal_coreVue_router_default().replace({name:"ALL_FACILITIES_PAGE",params:{subtopicName:subtopicName}}).catch((function(e){if(!isNavigationFailure(e,NavigationFailureType.duplicated))throw logging.debug(e),Error(e)})),!0}var routes=[{name:PageNames_ALL_FACILITIES_PAGE,path:"/:subtopicName?/facilities",component:AllFacilitiesPage,props:!0,handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().dispatch("preparePage",{isAsync:!1})}},{name:PageNames_CLASS_MGMT_PAGE,path:"/:facility_id?/classes",component:ManageClassPage,handler:function(toRoute){facilityParamRequiredGuard(toRoute,ManageClassPage.name)||function(store,toRoute){store.dispatch("preparePage"),store.commit("classManagement/SET_STATE",{dataLoading:!0});var facilityId=toRoute.params.facility_id||store.getters.activeFacilityId;external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.fetchCollection({getParams:{parent:facilityId},force:!0}).then((function(classrooms){store.commit("classManagement/SET_STATE",{modalShown:!1,classes:handlers_toConsumableArray(classrooms)}),store.dispatch("notLoading"),store.commit("classManagement/SET_STATE",{dataLoading:!1})})).catch((function(error){store.dispatch("notLoading"),store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0}),store.commit("classManagement/SET_STATE",{dataLoading:!1})}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute)}},{name:PageNames_CLASS_EDIT_MGMT_PAGE,path:"/:facility_id?/classes/:id",component:ClassEditPage,handler:function(toRoute){!function(store,classId){store.dispatch("preparePage");var facilityId=store.getters.activeFacilityId,promises=[external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.fetchCollection({getParams:{member_of:classId},force:!0}),external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.fetchModel({id:classId,force:!0}),external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.fetchCollection({getParams:{parent:facilityId},force:!0})];store.commit("classEditManagement/SET_DATA_LOADING",!0),Promise.all(promises).then((function(_ref){var _ref2=handlers_slicedToArray(_ref,3),facilityUsers=_ref2[0],classroom=_ref2[1],classrooms=_ref2[2];store.commit("classEditManagement/SET_DATA_LOADING",!1),store.commit("classEditManagement/SET_STATE",{modalShown:!1,currentClass:classroom,classes:classrooms,classLearners:sortUsersByFullName(facilityUsers).map(_userState),classCoaches:sortUsersByFullName(classroom.coaches).map(_userState)}),store.dispatch("notLoading")})).catch((function(error){store.dispatch("notLoading"),store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute.params.id)}},{name:PageNames_CLASS_ENROLL_LEARNER,component:LearnerClassEnrollmentPage,path:"/:facility_id?/classes/:id/learner-enrollment/",handler:function(toRoute,fromRoute){!function(store,toRoute,fromRoute){var _toRoute$params=toRoute.params,id=_toRoute$params.id,facility_id=_toRoute$params.facility_id;toRoute.name!==fromRoute.name&&store.dispatch("preparePage");var userPromise=external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.fetchCollection({getParams:pickBy_default()({member_of:facility_id||store.getters.activeFacilityId,page:toRoute.query.page||1,page_size:toRoute.query.page_size||30,search:toRoute.query.search&&toRoute.query.search.trim(),exclude_member_of:id,exclude_coach_for:id}),force:!0}),classPromise=external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.fetchModel({id:id}),shouldResolve=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);Promise.all([userPromise,classPromise]).then((function(_ref){var _ref2=classAssignMembers_handlers_slicedToArray(_ref,2),facilityUsers=_ref2[0],classroom=_ref2[1];shouldResolve()&&(store.commit("classAssignMembers/SET_STATE",{facilityUsers:facilityUsers.results.map(_userState),totalPageNumber:facilityUsers.total_pages,totalLearners:facilityUsers.count,class:classroom,modalShown:!1}),store.commit("CORE_SET_PAGE_LOADING",!1))}),(function(error){shouldResolve()&&store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute,fromRoute)}},{name:PageNames_CLASS_ASSIGN_COACH,component:CoachClassAssignmentPage,path:"/:facility_id?/classes/:id/coach-assignment/",handler:function(toRoute,fromRoute){!function(store,toRoute,fromRoute){var _toRoute$params2=toRoute.params,id=_toRoute$params2.id,facility_id=_toRoute$params2.facility_id;toRoute.name!==fromRoute.name&&store.dispatch("loading");var facilityId=facility_id||store.getters.activeFacilityId,userPromise=external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.fetchCollection({getParams:{member_of:facilityId,exclude_member_of:id,exclude_user_type:"learner",exclude_coach_for:id,page:toRoute.query.page||1,page_size:toRoute.query.page_size||30,search:toRoute.query.search&&toRoute.query.search.trim()},force:!0}),classPromise=external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.fetchModel({id:id,force:!0}),shouldResolve=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);Promise.all([userPromise,classPromise]).then((function(_ref3){var _ref4=classAssignMembers_handlers_slicedToArray(_ref3,2),facilityUsers=_ref4[0],classroom=_ref4[1];shouldResolve()&&store.commit("classAssignMembers/SET_STATE",{facilityUsers:facilityUsers.results.map(_userState),totalPageNumber:facilityUsers.total_pages,totalLearners:facilityUsers.count,class:classroom,modalShown:!1}),store.dispatch("notLoading")}),(function(error){store.dispatch("notLoading"),shouldResolve()&&store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute,fromRoute)}},{name:PageNames_USER_MGMT_PAGE,component:UserPage,path:"/:facility_id?/users",handler:function(toRoute,fromRoute){facilityParamRequiredGuard(toRoute,UserPage.name)||function(store,toRoute,fromRoute){store.commit("userManagement/SET_STATE",{dataLoading:!0}),toRoute.name!==fromRoute.name&&store.dispatch("preparePage");var facilityId=toRoute.params.facility_id||store.getters.activeFacilityId,shouldResolve=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.fetchCollection({getParams:pickBy_default()({member_of:facilityId,page:toRoute.query.page||1,page_size:toRoute.query.page_size||30,search:toRoute.query.search&&toRoute.query.search.trim(),user_type:toRoute.query.user_type}),force:!0}).then((function(users){shouldResolve()&&store.commit("userManagement/SET_STATE",{facilityUsers:users.results.map(_userState),totalPages:users.total_pages,usersCount:users.count}),store.commit("userManagement/SET_STATE",{dataLoading:!1}),store.dispatch("notLoading")})).catch((function(error){shouldResolve()&&store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0}),store.commit("userManagement/SET_STATE",{dataLoading:!1}),store.dispatch("notLoading")}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute,fromRoute)}},{name:PageNames_USER_CREATE_PAGE,component:UserCreatePage,path:"/:facility_id?/users/new",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().dispatch("preparePage",{isAsync:!1})}},{name:PageNames_USER_EDIT_PAGE,component:UserEditPage,path:"/:facility_id?/users/:id",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().dispatch("preparePage",{isAsync:!1})}},{name:PageNames_DATA_EXPORT_PAGE,component:DataPage,path:"/:facility_id?/data",handler:function(toRoute){facilityParamRequiredGuard(toRoute,DataPage.name)||external_kolibriCoreAppGlobal_coreVue_vuex_store_default().dispatch("preparePage",{isAsync:!1})}},{name:PageNames_IMPORT_CSV_PAGE,component:ImportCsvPage,path:"/:facility_id?/data/import",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().dispatch("preparePage",{isAsync:!1})}},{name:PageNames_FACILITY_CONFIG_PAGE,component:FacilityConfigPage,path:"/:facility_id?/settings",handler:function(toRoute){facilityParamRequiredGuard(toRoute,FacilityConfigPage.name)||function(store,toRoute){var facilityId=toRoute.params.facility_id||store.getters.activeFacilityId;store.dispatch("preparePage"),store.commit("facilityConfig/SET_FACILITY_DATA_LOADING",!0);var resourceRequests=[external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityResource.fetchModel({id:facilityId}),external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityDatasetResource.fetchCollection({getParams:{facility_id:facilityId}}),external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityResource.fetchCollection({force:!0})];Promise.all(resourceRequests).then((function(_ref){var _ref2=facilityConfig_handlers_slicedToArray(_ref,3),facility=_ref2[0],facilityDatasets=_ref2[1],facilities=_ref2[2],dataset=facilityDatasets[0];store.commit("facilityConfig/SET_STATE",{facilityDatasetId:dataset.id,facilityName:facility.name,facilityId:facility.id,settings:handlers_objectSpread({},dataset),settingsCopy:handlers_objectSpread({},dataset),facilities:facilities}),store.dispatch("notLoading"),store.commit("facilityConfig/SET_FACILITY_DATA_LOADING",!1)})).catch((function(){store.commit("facilityConfig/SET_STATE",{facilityName:"",settings:null}),store.dispatch("notLoading"),store.commit("facilityConfig/SET_FACILITY_DATA_LOADING",!1)}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute)}},{path:"/",beforeEnter:function(to,from,next){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.userIsMultiFacilityAdmin?next(external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.facilityPageLinks.AllFacilitiesPage):next(external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.facilityPageLinks.ManageClassPage)}},{path:"/:facility_id?/managesync",props:function(route){var facilityId=route.params.facility_id||external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.userFacilityId;return{facilityId:facilityId,goBackRoute:{name:PageNames_DATA_EXPORT_PAGE,params:{facility_id:route.params.facility_id}},editSyncRoute:function(deviceId){return{name:SyncPageNames_EDIT_SYNC_SCHEDULE,params:{deviceId:deviceId,facility_id:facilityId}}}}},component:ManageSyncSchedule,name:SyncPageNames_MANAGE_SYNC_SCHEDULE},{path:"/:facility_id?/editdevice/:deviceId/",component:EditDeviceSyncSchedule,name:SyncPageNames_EDIT_SYNC_SCHEDULE,props:function(route){return{facilityId:route.params.facility_id||external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.userFacilityId,deviceId:route.params.deviceId,goBackRoute:{name:SyncPageNames_MANAGE_SYNC_SCHEDULE,params:{facility_id:route.params.facility_id}}}}}],find=__webpack_require__(7586),find_default=__webpack_require__.n(find);function SET_MODAL(state,modalName){state.modalShown=modalName}function SET_DATA_LOADING(state,dataLoading){state.dataLoading=dataLoading}function SET_ERROR(state,error){state.error=error}function displayModal(store,modalName){store.commit("SET_MODAL",modalName),store.commit("SET_ERROR",""),store.commit("SET_DATA_LOADING",!1)}var uniq=__webpack_require__(541),uniq_default=__webpack_require__.n(uniq);var classAssignMembers={namespaced:!0,state:{class:{},facilityUsers:[],totalPageNumber:0,totalLearners:0,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{class:{},facilityUsers:[],totalPageNumber:0,totalLearners:0,modalShown:!1})},SET_MODAL:SET_MODAL},actions:{assignCoachesToClass:function(store,_ref2){var classId=_ref2.classId,coaches=_ref2.coaches;return external_kolibriCoreAppGlobal_resources_namespaceObject.RoleResource.saveCollection({getParams:{collection:classId},data:uniq_default()(coaches).map((function(userId){return{collection:classId,user:userId,kind:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH}}))})},enrollLearnersInClass:function(store,_ref){var classId=_ref.classId,users=_ref.users;return external_kolibriCoreAppGlobal_resources_namespaceObject.MembershipResource.saveCollection({getParams:{collection:classId},data:uniq_default()(users).map((function(userId){return{collection:classId,user:userId}}))})}}};var classEditManagement={namespaced:!0,state:{classCoaches:[],classLearners:[],classes:[],currentClass:null,error:"",dataLoading:!1,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{classCoaches:[],classLearners:[],classes:[],currentClass:null,error:"",dataLoading:!1,modalShown:!1})},SET_DATA_LOADING:SET_DATA_LOADING,SET_ERROR:SET_ERROR,SET_MODAL:SET_MODAL,UPDATE_CLASS:function(state,_ref){var id=_ref.id,updatedClass=_ref.updatedClass;state.classes.forEach((function(classModel,index,arr){classModel.id===id&&(arr[index]=updatedClass)})),state.currentClass&&state.currentClass.id===id&&(state.currentClass=updatedClass)},DELETE_CLASS_LEARNER:function(state,id){state.classLearners=state.classLearners.filter((function(user){return user.id!==id}))},DELETE_CLASS_COACH:function(state,id){state.classCoaches=state.classCoaches.filter((function(user){return user.id!==id}))}},actions:{displayModal:displayModal,removeClassLearner:function(store,_ref){var classId=_ref.classId,userId=_ref.userId;if(classId&&userId)return external_kolibriCoreAppGlobal_resources_namespaceObject.MembershipResource.deleteCollection({user:userId,collection:classId}).then((function(){store.commit("DELETE_CLASS_LEARNER",userId),store.dispatch("displayModal",!1)}),(function(error){store.dispatch("handleApiError",{error:error},{root:!0})}))},removeClassCoach:function(store,_ref2){var classId=_ref2.classId,userId=_ref2.userId;if(classId&&userId)return external_kolibriCoreAppGlobal_resources_namespaceObject.RoleResource.deleteCollection({user:userId,collection:classId}).then((function(){store.commit("DELETE_CLASS_COACH",userId),store.dispatch("displayModal",!1)}),(function(error){store.dispatch("handleApiError",{error:error},{root:!0})}))},updateClass:function(store,_ref3){var id=_ref3.id,updateData=_ref3.updateData;if(id&&0!==Object.keys(updateData).length)return external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.saveModel({id:id,data:updateData}).then((function(updatedClass){store.commit("UPDATE_CLASS",{id:id,updatedClass:updatedClass}),store.dispatch("displayModal",!1)}),(function(error){store.dispatch("handleApiError",{error:error},{root:!0})}))}}};var classManagement={namespaced:!0,state:{classes:[],error:"",dataLoading:!1,modalShown:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{classes:[],error:"",dataLoading:!1,modalShown:!1})},SET_DATA_LOADING:SET_DATA_LOADING,SET_ERROR:SET_ERROR,SET_MODAL:SET_MODAL,ADD_CLASS:function(state,classroom){state.classes.push(classroom)},DELETE_CLASS:function(state,id){state.classes=state.classes.filter((function(classModel){return classModel.id!==id}))}},actions:{createClass:function(store,name){return external_kolibriCoreAppGlobal_resources_namespaceObject.ClassroomResource.saveModel({data:{name:name,parent:store.rootGetters.activeFacilityId}}).then((function(classroom){store.commit("ADD_CLASS",classroom)}),(function(error){store.dispatch("handleApiError",{error:error},{root:!0})}))},displayModal:displayModal}},external_kolibriCoreAppGlobal_client_namespaceObject=kolibriCoreAppGlobal.client,external_kolibriCoreAppGlobal_client_default=__webpack_require__.n(external_kolibriCoreAppGlobal_client_namespaceObject);function saveFacilityConfig(store){var _store$state=store.state,facilityDatasetId=_store$state.facilityDatasetId,settings=_store$state.settings,resourceRequests=[external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityDatasetResource.saveModel({id:facilityDatasetId,data:settings})];return Promise.all(resourceRequests).then((function(){store.commit("CONFIG_PAGE_COPY_SETTINGS")}))}var facilityConfig={namespaced:!0,state:{facilityDatasetId:"",facilityId:"",facilityName:"",settings:{},settingsCopy:{},facilityNameSaved:!1,facilityNameError:!1,facilities:[],isFacilityPinValid:!1,facilityDataLoading:!1},getters:{getFacilityDataLoading:function(state){return state.facilityDataLoading}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{facilityDatasetId:"",facilityId:"",facilityName:"",settings:{},settingsCopy:{},facilityNameSaved:!1,facilityNameError:!1,facilities:[],isFacilityPinValid:!1,facilityDataLoading:!1})},CONFIG_PAGE_UNDO_SETTINGS_CHANGE:function(state){state.settings=Object.assign({},state.settingsCopy)},CONFIG_PAGE_MODIFY_SETTING:function(state,_ref){var name=_ref.name,value=_ref.value;void 0!==state.settings[name]&&(state.settings[name]=value)},CONFIG_PAGE_MODIFY_ALL_SETTINGS:function(state,settings){state.settings=Object.assign({},state.settings,settings)},CONFIG_PAGE_COPY_SETTINGS:function(state){state.settingsCopy=Object.assign({},state.settings)},FACILITY_NAME_SAVED:function(state,name){state.facilityName=name,state.facilityNameSaved=!0},FACILITY_NAME_NOT_SAVED:function(state){state.facilityNameError=!0},RESET_FACILITY_NAME_STATES:function(state){state.facilityNameError=!1,state.facilityNameSaved=!1},SET_FACILITY_DATA_LOADING:function(state,value){state.facilityDataLoading=value},UPDATE_FACILITIES:function(state,payload){state.facilities.find((function(f){return f.name===payload.oldName})).name=payload.newName},SET_IS_FACILITY_PIN_VALID:function(state,valid){state.isFacilityPinValid=valid},UPDATE_FACILITY_EXTRA_SETTINGS:function(state,extraSettings){state.settings=Object.assign({},state.settings,extraSettings)}},actions:{saveFacilityConfig:saveFacilityConfig,resetFacilityConfig:function(store){var facilityDatasetId=store.state.facilityDatasetId;return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:facilitydataset-resetsettings"](facilityDatasetId),method:"POST"}).then((function(_ref){var data=_ref.data;store.commit("CONFIG_PAGE_MODIFY_ALL_SETTINGS",{learner_can_edit_username:data.learner_can_edit_username,learner_can_edit_name:data.learner_can_edit_name,learner_can_edit_password:data.learner_can_edit_password,learner_can_sign_up:data.learner_can_sign_up,learner_can_delete_account:data.learner_can_delete_account,learner_can_login_with_no_password:data.learner_can_login_with_no_password,show_download_button_in_learn:data.show_download_button_in_learn})}))},saveFacilityName:function(store,payload){return external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityResource.saveModel({id:payload.id,data:{name:payload.name}}).then((function(facility){store.dispatch("getFacilities",null,{root:!0}),store.commit("UPDATE_FACILITIES",{oldName:store.state.facilityName,newName:facility.name}),store.commit("FACILITY_NAME_SAVED",facility.name)}),(function(error){store.commit("FACILITY_NAME_NOT_SAVED",error)}))},setPin:function(store,payload){var facilityDatasetId=store.state.facilityDatasetId;return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:facilitydataset-update-pin"](facilityDatasetId),method:"POST",data:payload}).then((function(_ref2){var data=_ref2.data;store.commit("UPDATE_FACILITY_EXTRA_SETTINGS",{extra_fields:data.extra_fields}),saveFacilityConfig(store)}))},unsetPin:function(store){var facilityDatasetId=store.state.facilityDatasetId;return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:facilitydataset-update-pin"](facilityDatasetId),method:"PATCH"}).then((function(_ref3){var data=_ref3.data;store.commit("UPDATE_FACILITY_EXTRA_SETTINGS",{extra_fields:data.extra_fields}),saveFacilityConfig(store)}))},isPinValid:function(store,payload){var facilityDatasetId=store.state.facilityDatasetId;return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:ispinvalid"](facilityDatasetId),method:"POST",data:payload}).then((function(_ref4){var data=_ref4.data;store.commit("SET_IS_FACILITY_PIN_VALID",data.is_pin_valid)}))}}},isEmpty=__webpack_require__(5099),isEmpty_default=__webpack_require__.n(isEmpty),FACILITY_ROLES=[external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ADMIN,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.ASSIGNABLE_COACH,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.COACH];function updateFacilityLevelRoles(facilityUser,newRoleKind){var roles=facilityUser.roles,facility=facilityUser.facility,id=facilityUser.id,currentFacilityRole=find_default()(roles,{collection:facility}),createFacilityRole=function(){return external_kolibriCoreAppGlobal_resources_namespaceObject.RoleResource.saveModel({data:{user:id,collection:facility,kind:newRoleKind}})};return currentFacilityRole?currentFacilityRole.kind===newRoleKind?Promise.resolve():newRoleKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER?external_kolibriCoreAppGlobal_resources_namespaceObject.RoleResource.deleteCollection({user:id}):FACILITY_ROLES.includes(newRoleKind)?createFacilityRole().then((function(){return external_kolibriCoreAppGlobal_resources_namespaceObject.RoleResource.deleteModel({id:currentFacilityRole.id})})):void 0:newRoleKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER?Promise.resolve():createFacilityRole()}function userManagement_actions_typeof(o){return userManagement_actions_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},userManagement_actions_typeof(o)}function actions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function actions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?actions_ownKeys(Object(t),!0).forEach((function(r){actions_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):actions_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function actions_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=userManagement_actions_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=userManagement_actions_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==userManagement_actions_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function createFacilityUser(store,payload){return external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.saveModel({data:{facility:store.rootGetters.activeFacilityId,username:payload.username,full_name:payload.full_name,password:payload.password,id_number:payload.id_number,gender:payload.gender,birth_year:payload.birth_year}}).then((function(facilityUser){if(payload.role.kind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.UserKinds.LEARNER)return user=facilityUser,role=payload.role,updateFacilityLevelRoles(user,role.kind).then((function(){return external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.fetchModel({id:user.id,force:!0})}));var user,role}))}function updateFacilityUserDetails(store,_ref){var userId=_ref.userId,updates=_ref.updates,facilityUserUpdates=updates.facilityUserUpdates,roleUpdates=updates.roleUpdates;return isEmpty_default()(facilityUserUpdates)&&!roleUpdates?Promise.resolve():external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.saveModel({id:userId,data:actions_objectSpread({},facilityUserUpdates)}).then((function(user){if(roleUpdates)return updateFacilityLevelRoles(user,roleUpdates.kind)}))}function updateFacilityUserPassword(store,_ref2){var userId=_ref2.userId,password=_ref2.password;return external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.saveModel({id:userId,data:{password:password}})}function deleteFacilityUser(store,_ref3){var userId=_ref3.userId;return external_kolibriCoreAppGlobal_resources_namespaceObject.FacilityUserResource.deleteModel({id:userId})}var userManagement={namespaced:!0,state:{facilityUsers:[],totalPages:0,usersCount:0,dataLoading:!1},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{facilityUsers:[],totalPages:0,usersCount:0,dataLoading:!1})},DELETE_USER:function(state,id){state.facilityUsers=state.facilityUsers.filter((function(user){return user.id!==id}))}},actions:userManagement_actions_namespaceObject};function actions_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return actions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return actions_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function actions_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var actions_logging=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/plugins/facility/assets/src/modules/manageCSV/actions.js");function getCSVLogRequest(store,logType,facility){return external_kolibriCoreAppGlobal_resources_namespaceObject.GenerateCSVLogRequestResource.fetchCollection({getParams:{log_type:logType,facility:facility},force:!0}).then((function(csvlogrequest){"summary"==logType?store.commit("SET_SUMMARY_LOG_REQUEST",csvlogrequest[0]):store.commit("SET_SESSION_LOG_REQUEST",csvlogrequest[0])})).catch((function(error){return store.dispatch("handleApiError",{error:error},{root:!0})}))}function startCSVExport(store,type,dateRange,creating,commitStart){if(!creating){var params={facility:store.rootGetters.activeFacilityId,start_date:dateRange.start,end_date:dateRange.end,locale:external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage,type:type};return external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.startTask(params).then((function(task){return store.commit(commitStart,task),task.id}))}}function getExportedCSVsInfo(store){return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.facility:exportedcsvinfo"](store.rootGetters.activeFacilityId)}).then((function(response){var data=response.data;if(null!=data.session){getCSVLogRequest(store,"session",store.rootGetters.activeFacilityId);var sessionTimeStamp=new Date(1e3*data.session);store.commit("SET_FINISHED_SESSION_CSV_CREATION",sessionTimeStamp)}if(null!=data.summary){getCSVLogRequest(store,"summary",store.rootGetters.activeFacilityId);var summaryTimeStamp=new Date(1e3*data.summary);store.commit("SET_FINISHED_SUMMARY_CSV_CREATION",summaryTimeStamp)}if(null!=data.user){var userTimeStamp=new Date(1e3*data.user);store.commit("SET_FINISH_EXPORT_USERS",userTimeStamp)}}))}function checkTaskStatus(store,newTasks,taskType,taskId,commitStart,commitFinish){var myNewTasks=newTasks.filter((function(task){return task.facility_id===store.rootGetters.activeFacilityId}));if(taskId){var task=myNewTasks.find((function(task){return task.id===taskId}));task&&task.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED&&(task.type===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.EXPORTUSERSTOCSV?store.commit(commitFinish,task.extra_metadata.filename):(store.commit(commitFinish,new Date),getExportedCSVsInfo(store)),external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.clear(taskId))}else{var running=myNewTasks.filter((function(task){return task.type===taskType&&task.status!==external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED&&task.status!==external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.FAILED}));running.length>0&&store.commit(commitStart,running[0])}}var actions={refreshTaskList:function(store){return Promise.all([external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.fetchCollection({force:!0})]).then((function(_ref){var newTasks=actions_slicedToArray(_ref,1)[0];checkTaskStatus(store,newTasks,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.EXPORTSESSIONLOGCSV,store.getters.sessionTaskId,"START_SESSION_CSV_EXPORT","SET_FINISHED_SESSION_CSV_CREATION"),checkTaskStatus(store,newTasks,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.EXPORTSUMMARYLOGCSV,store.getters.summaryTaskId,"START_SUMMARY_CSV_EXPORT","SET_FINISHED_SUMMARY_CSV_CREATION"),checkTaskStatus(store,newTasks,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.EXPORTUSERSTOCSV,store.state.exportUsersTaskId,"START_EXPORT_USERS","SET_FINISH_EXPORT_USERS")})).catch((function(error){actions_logging.error("There was an error while fetching the task list: ",error)}))},startSummaryCSVExport:function(store,dateRange){return startCSVExport(store,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.EXPORTSUMMARYLOGCSV,dateRange,store.getters.inSummaryCSVCreation,"START_SUMMARY_CSV_EXPORT")},startSessionCSVExport:function(store,dateRange){return startCSVExport(store,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.EXPORTSESSIONLOGCSV,dateRange,store.getters.inSessionCSVCreation,"START_SESSION_CSV_EXPORT")},getExportedCSVsInfo:getExportedCSVsInfo,startExportUsers:function(store){if(!store.getters.exportingUsers)return external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.startTask({type:external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.EXPORTUSERSTOCSV,facility:store.rootGetters.activeFacilityId,locale:external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage}).then((function(task){return store.commit("START_EXPORT_USERS",task),task.id}))},getFirstLogDate:function(store){return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.facility:firstlogdate"](store.rootGetters.activeFacilityId)}).then((function(response){store.commit("SET_FIRST_LOG_DATE",new Date(response.data.first_log_date))}))},getCSVLogRequest:getCSVLogRequest};function manageCSV_defaultState(){return{summaryLogStatus:CSVGenerationStatuses_NO_LOGS_CREATED,summaryTaskId:"",summaryDateCreated:null,summaryLogRequest:null,sessionLogStatus:CSVGenerationStatuses_NO_LOGS_CREATED,sessionTaskId:"",sessionDateCreated:null,sessionLogRequest:null,firstLogDate:null,facilities:[],facilityTaskId:"",exportUsersTaskId:"",exportUsersStatus:CSVGenerationStatuses_NO_LOGS_CREATED,exportUsersDateCreated:null}}var manageCSV={namespaced:!0,state:manageCSV_defaultState(),getters:{inSummaryCSVCreation:function(state){return state.summaryLogStatus===CSVGenerationStatuses_GENERATING},inSessionCSVCreation:function(state){return state.sessionLogStatus===CSVGenerationStatuses_GENERATING},noSummaryLogs:function(state){return state.summaryLogStatus===CSVGenerationStatuses_NO_LOGS_CREATED},noSessionLogs:function(state){return state.sessionLogStatus===CSVGenerationStatuses_NO_LOGS_CREATED},summaryTaskId:function(state){return state.summaryTaskId},sessionTaskId:function(state){return state.sessionTaskId},availableSessionCSVLog:function(state){return state.sessionLogStatus===CSVGenerationStatuses_AVAILABLE},availableSummaryCSVLog:function(state){return state.summaryLogStatus===CSVGenerationStatuses_AVAILABLE},exportingUsers:function(state){return state.exportUsersStatus===UsersExportStatuses_EXPORTING},exported:function(state){return state.exportUsersStatus!==CSVGenerationStatuses_NO_LOGS_CREATED},summaryLogRequest:function(state){return state.summaryLogRequest},sessionLogRequest:function(state){return state.sessionLogRequest},firstLogDate:function(state){return state.firstLogDate}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,manageCSV_defaultState())},START_SUMMARY_CSV_EXPORT:function(state,payload){state.summaryLogStatus=CSVGenerationStatuses_GENERATING,state.summaryTaskId=payload.id},START_SESSION_CSV_EXPORT:function(state,payload){state.sessionLogStatus=CSVGenerationStatuses_GENERATING,state.sessionTaskId=payload.id},SET_FINISHED_SUMMARY_CSV_CREATION:function(state,payload){state.summaryLogStatus=CSVGenerationStatuses_AVAILABLE,state.summaryTaskId="",state.summaryDateCreated=payload},SET_FINISHED_SESSION_CSV_CREATION:function(state,payload){state.sessionLogStatus=CSVGenerationStatuses_AVAILABLE,state.sessionTaskId="",state.sessionDateCreated=payload},SET_REGISTERED:function(state,facility){var match=state.facilities.find((function(f){return f.id===facility.id}));match&&external_kolibriCoreAppGlobal_lib_vue_default().set(match.dataset,"registered",!0)},START_EXPORT_USERS:function(state,payload){state.exportUsersStatus=UsersExportStatuses_EXPORTING,state.exportUsersTaskId=payload.id},SET_FINISH_EXPORT_USERS:function(state,payload){state.exportUsersDateCreated=payload,state.exportUsersStatus=UsersExportStatuses_FINISHED,state.exportUsersTaskId=""},SET_FIRST_LOG_DATE:function(state,payload){state.firstLogDate=payload},SET_SESSION_LOG_REQUEST:function(state,payload){state.sessionLogRequest=payload},SET_SUMMARY_LOG_REQUEST:function(state,payload){state.summaryLogRequest=payload}},actions:actions},importCSV_actions_logging=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/plugins/facility/assets/src/modules/importCSV/actions.js");function startImportUsers(store,file,filename,deleting,validate,commitStart){if(!store.getters.importingOrValidating){var params={facility:store.rootGetters.activeFacilityId,type:external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.IMPORTUSERSFROMCSV,delete:deleting,dryrun:validate,locale:external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage};return file?params.csvfile=file:filename&&(params.csvfilename=filename),external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.startTask(params,!0).then((function(task){return store.commit(commitStart,task),task.id}))}}var importCSV_actions={refreshTaskList:function(store){return external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.list().then((function(data){!function(store,newTasks,taskType,taskId,commitStart,commitFinish){if(taskId){var task=newTasks.find((function(task){return task.id===taskId}));task&&task.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED?store.commit(commitFinish,task):task&&task.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.FAILED&&(void 0===task.extra_metadata.overall_error&&store.dispatch("handleApiError",{error:task.traceback},{root:!0}),store.commit("SET_FAILED",task))}else{var running=newTasks.filter((function(task){return task.type===taskType&&task.status!==external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED&&task.status!==external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.FAILED}));running.length>0&&store.commit(commitStart,running[0])}}(store,data,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskTypes.IMPORTUSERSFROMCSV,store.getters.taskId,"START_VALIDATE_USERS","SET_FINISHED_IMPORT_USERS")})).catch((function(error){importCSV_actions_logging.error("There was an error while fetching the task list: ",error)}))},startValidating:function(store,payload){return store.commit("SET_DELETE_USERS",payload.deleteUsers),startImportUsers(store,payload.file,null,payload.deleteUsers,!0,"START_VALIDATE_USERS")},startSavingUsers:function(store){return startImportUsers(store,null,store.getters.filename,store.getters.deleteUsers,!1,"START_SAVE_USERS")}};function importCSV_defaultState(){return{taskId:"",status:constants_CSVImportStatuses.NOT_STARTED,deleteUsers:!1,filename:"",overall_error:[],per_line_errors:[],classes_report:{created:0,updated:0,cleared:0},users_report:{created:0,updated:0,deleted:0}}}function pluginModule_typeof(o){return pluginModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},pluginModule_typeof(o)}function pluginModule_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function pluginModule_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?pluginModule_ownKeys(Object(t),!0).forEach((function(r){pluginModule_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pluginModule_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function pluginModule_defineProperty(obj,key,value){return key=function(t){var i=function(t,r){if("object"!=pluginModule_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=pluginModule_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==pluginModule_typeof(i)?i:String(i)}(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var urls,pluginModule={state:function(){return{}},actions:{preparePage:function(store){var _options$isAsync=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isAsync,isAsync=void 0===_options$isAsync||_options$isAsync;store.commit("CORE_SET_PAGE_LOADING",isAsync),store.commit("CORE_SET_ERROR",null)},resetModuleState:function(store,_ref){var fromRoute=_ref.fromRoute,toRoute=_ref.toRoute,moduleName=pageNameToModuleMap[fromRoute.name];if(fromRoute.name!==PageNames_USER_MGMT_PAGE||toRoute.name!==PageNames_USER_CREATE_PAGE&&toRoute.name!==PageNames_USER_EDIT_PAGE)return moduleName?store.commit("".concat(moduleName,"/RESET_STATE")):void 0}},getters:{activeFacilityId:function(state,getters,rootState,rootGetters){return getters.userIsMultiFacilityAdmin?rootState.route.params.facility_id:rootState.route.params.facility_id||rootGetters.userFacilityId},currentFacilityName:function(state,getters,rootState){var match=find_default()(rootState.core.facilities,{id:getters.activeFacilityId});return match?match.name:""},facilityPageLinks:function(state,getters){var params={};return getters.userIsMultiFacilityAdmin&&(params.facility_id=getters.activeFacilityId),{ManageClassPage:{name:PageNames_CLASS_MGMT_PAGE,params:params},UserPage:{name:PageNames_USER_MGMT_PAGE,params:params},ClassEditPage:function(classId){return{name:PageNames_CLASS_EDIT_MGMT_PAGE,params:pluginModule_objectSpread(pluginModule_objectSpread({},params),{},{id:classId})}},CoachClassAssignmentPage:{name:PageNames_CLASS_ASSIGN_COACH,params:params},LearnerClassEnrollmentPage:{name:PageNames_CLASS_ENROLL_LEARNER,params:params},UserCreatePage:{name:PageNames_USER_CREATE_PAGE,params:params},UserEditPage:{name:PageNames_USER_EDIT_PAGE,params:params},AllFacilitiesPage:{name:PageNames_ALL_FACILITIES_PAGE},DataPage:{name:PageNames_DATA_EXPORT_PAGE,params:params},FacilityConfigPage:{name:PageNames_FACILITY_CONFIG_PAGE,params:params},ImportCsvPage:{name:PageNames_IMPORT_CSV_PAGE,params:params}}}},modules:{classManagement:classManagement,classEditManagement:classEditManagement,classAssignMembers:classAssignMembers,userManagement:userManagement,facilityConfig:facilityConfig,manageCSV:manageCSV,importCSV:{namespaced:!0,state:importCSV_defaultState(),getters:{taskId:function(state){return state.taskId},deleteUsers:function(state){return state.deleteUsers},filename:function(state){return state.filename},importingOrValidating:function(state){return state.status===constants_CSVImportStatuses.VALIDATING||state.status===constants_CSVImportStatuses.SAVING},importedOrValidated:function(state){return state.status===constants_CSVImportStatuses.VALIDATED||state.status===constants_CSVImportStatuses.FINISHED}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,importCSV_defaultState())},START_VALIDATE_USERS:function(state,payload){state.status=constants_CSVImportStatuses.VALIDATING,state.taskId=payload.id},START_SAVE_USERS:function(state,payload){state.status=constants_CSVImportStatuses.SAVING,state.taskId=payload.id},SET_DELETE_USERS:function(state,payload){state.deleteUsers=payload},SET_FILENAME:function(state,payload){state.filename=payload},UPDATE_TASK_REPORT:function(state,task){external_kolibriCoreAppGlobal_lib_vue_default().set(state,"per_line_errors",task.extra_metdata.per_line_errors),external_kolibriCoreAppGlobal_lib_vue_default().set(state,"overall_error",task.extra_metdata.overall_error),state.filename=task.extra_metdata.filename,state.users_report=task.extra_metdata.users,state.classes_report=task.extra_metdata.classes,state.taskId=""},SET_FINISHED_IMPORT_USERS:function(state,task){state.status==constants_CSVImportStatuses.VALIDATING?state.status=constants_CSVImportStatuses.VALIDATED:state.status==constants_CSVImportStatuses.SAVING&&(state.status=constants_CSVImportStatuses.FINISHED),external_kolibriCoreAppGlobal_lib_vue_default().set(state,"per_line_errors",task.extra_metadata.per_line_errors),external_kolibriCoreAppGlobal_lib_vue_default().set(state,"overall_error",task.extra_metadata.overall_error),state.filename=task.extra_metadata.filename,state.users_report=task.extra_metadata.users,state.classes_report=task.extra_metadata.classes,external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.clear(state.taskId),state.taskId=""},SET_FAILED:function(state,task){state.status=constants_CSVImportStatuses.ERRORS,external_kolibriCoreAppGlobal_lib_vue_default().set(state,"overall_error",task.extra_metadata.overall_error),external_kolibriCoreAppGlobal_lib_vue_default().set(state,"per_line_errors",[]),external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.clear(state.taskId),state.taskId=""}},actions:importCSV_actions}}},vuex_router_sync=__webpack_require__(7970),forEach=__webpack_require__(591),forEach_default=__webpack_require__.n(forEach),external_kolibriCoreAppGlobal_heartbeat_namespaceObject=kolibriCoreAppGlobal.heartbeat,external_kolibriCoreAppGlobal_heartbeat_default=__webpack_require__.n(external_kolibriCoreAppGlobal_heartbeat_namespaceObject),external_kolibriCoreAppGlobal_namespaceObject=kolibriCoreAppGlobal,external_kolibriCoreAppGlobal_default=__webpack_require__.n(external_kolibriCoreAppGlobal_namespaceObject);function kolibri_module_typeof(o){return kolibri_module_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kolibri_module_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,kolibri_module_toPropertyKey(descriptor.key),descriptor)}}function kolibri_module_toPropertyKey(t){var i=function(t,r){if("object"!=kolibri_module_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=kolibri_module_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==kolibri_module_typeof(i)?i:String(i)}urls=external_kolibriCoreAppGlobal_urls_default(),__webpack_require__.p=urls.static("".concat("kolibri.plugins.facility.app","/"));var KolibriModule=function(){function KolibriModule(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KolibriModule),this.name="kolibri.plugins.facility.app";var safeOptions={};this.kolibriModuleOptions.forEach((function(option){options[option]&&(safeOptions[option]=options[option])})),Object.assign(this,safeOptions);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.initialize.apply(this,[options].concat(args)),this._registerKolibriModule()}var Constructor,protoProps,staticProps;return Constructor=KolibriModule,protoProps=[{key:"kolibriModuleOptions",get:function(){return[]}},{key:"_registerKolibriModule",value:function(){external_kolibriCoreAppGlobal_default().registerKolibriModuleSync(this)}},{key:"initialize",value:function(){}},{key:"ready",value:function(){}},{key:"stopListening",value:function(event,method){external_kolibriCoreAppGlobal_default().stopListening(event,this,method)}},{key:"emit",value:function(){external_kolibriCoreAppGlobal_default().emit.apply(external_kolibriCoreAppGlobal_default(),arguments)}},{key:"Kolibri",get:function(){return external_kolibriCoreAppGlobal_default()}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),KolibriModule}();function kolibri_app_typeof(o){return kolibri_app_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kolibri_app_typeof(o)}function kolibri_app_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return kolibri_app_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return kolibri_app_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kolibri_app_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kolibri_app_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function kolibri_app_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function kolibri_app_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?kolibri_app_ownKeys(Object(t),!0).forEach((function(r){kolibri_app_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kolibri_app_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function kolibri_app_defineProperty(obj,key,value){return(key=kolibri_app_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function kolibri_app_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,kolibri_app_toPropertyKey(descriptor.key),descriptor)}}function kolibri_app_toPropertyKey(t){var i=function(t,r){if("object"!=kolibri_app_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=kolibri_app_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==kolibri_app_typeof(i)?i:String(i)}function _callSuper(_this,derived,args){return derived=_getPrototypeOf(derived),function(self,call){if(call&&("object"===kolibri_app_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/core/assets/src/kolibri_app.js");var KolibriApp=function(_KolibriModule){function KolibriApp(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KolibriApp),_callSuper(this,KolibriApp,arguments)}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(KolibriApp,_KolibriModule),Constructor=KolibriApp,(protoProps=[{key:"routes",get:function(){return[]}},{key:"RootVue",get:function(){return{}}},{key:"store",get:function(){return external_kolibriCoreAppGlobal_coreVue_vuex_store_default()}},{key:"stateSetters",get:function(){return[]}},{key:"pluginModule",get:function(){return{}}},{key:"setupVue",value:function(){if(external_kolibriCoreAppGlobal_coreVue_router_default()._vueRouter||external_kolibriCoreAppGlobal_coreVue_router_default().initRouter(),(0,vuex_router_sync.Z)(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),external_kolibriCoreAppGlobal_coreVue_router_default()),this.store.hotUpdate({actions:this.pluginModule.actions||{},getters:this.pluginModule.getters||{},mutations:this.pluginModule.mutations||{}}),"function"!=typeof this.pluginModule.state)throw TypeError("pluginModule.state must be a function returning a state object");this.store.replaceState(kolibri_app_objectSpread(kolibri_app_objectSpread({},this.store.state),this.pluginModule.state())),forEach_default()(this.pluginModule.modules,(function(module,name){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().registerModule(name,module)}))}},{key:"startRootVue",value:function(){this.rootvue=new(external_kolibriCoreAppGlobal_lib_vue_default())(Object.assign({el:"rootvue",store:external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),router:external_kolibriCoreAppGlobal_coreVue_router_default().initRoutes(this.routes)},this.RootVue))}},{key:"ready",value:function(){var _this2=this;return this.setupVue(),external_kolibriCoreAppGlobal_heartbeat_default().startPolling().then((function(){return _this2.store.dispatch("getNotifications"),Promise.all(kolibri_app_toConsumableArray(_this2.stateSetters.map((function(setter){return setter(_this2.store)})))).then((function(){_this2.startRootVue()}))}))}}])&&kolibri_app_defineProperties(Constructor.prototype,protoProps),staticProps&&kolibri_app_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),KolibriApp}(KolibriModule);function app_typeof(o){return app_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},app_typeof(o)}function app_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,app_toPropertyKey(descriptor.key),descriptor)}}function app_toPropertyKey(t){var i=function(t,r){if("object"!=app_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=app_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==app_typeof(i)?i:String(i)}function app_callSuper(_this,derived,args){return derived=app_getPrototypeOf(derived),function(self,call){if(call&&("object"===app_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],app_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=app_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function app_getPrototypeOf(o){return app_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},app_getPrototypeOf(o)}function app_setPrototypeOf(o,p){return app_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},app_setPrototypeOf(o,p)}var FacilityManagementModule=function(_KolibriApp){function FacilityManagementModule(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FacilityManagementModule),app_callSuper(this,FacilityManagementModule,arguments)}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&app_setPrototypeOf(subClass,superClass)}(FacilityManagementModule,_KolibriApp),Constructor=FacilityManagementModule,(protoProps=[{key:"routes",get:function(){return routes}},{key:"RootVue",get:function(){return FacilityIndex}},{key:"pluginModule",get:function(){return pluginModule}},{key:"ready",value:function(){var _this2=this,isLearnerOnlyImport=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()().isLearnerOnlyImport;external_kolibriCoreAppGlobal_coreVue_router_default().beforeEach((function(to,from,next){var obj,key;obj=isLearnerOnlyImport,(null==key?(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.unref)(obj):(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.unref)(obj)[key])?external_kolibriCoreAppGlobal_utils_redirectBrowser_default()():_this2.store.getters.isSuperuser&&0===_this2.store.state.core.facilities.length?_this2.store.dispatch("getFacilities").then(next,next):next()})),external_kolibriCoreAppGlobal_coreVue_router_default().afterEach((function(toRoute,fromRoute){_this2.store.dispatch("resetModuleState",{toRoute:toRoute,fromRoute:fromRoute})})),_get(app_getPrototypeOf(FacilityManagementModule.prototype),"ready",this).call(this)}}])&&app_defineProperties(Constructor.prototype,protoProps),staticProps&&app_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),FacilityManagementModule}(KolibriApp);new FacilityManagementModule}()}();
//# sourceMappingURL=kolibri.plugins.facility.app-0.16.0.js.map