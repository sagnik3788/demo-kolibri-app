/*! For license information please see kolibri.plugins.setup_wizard.app-0.16.0.js.LICENSE.txt */
!function(){var __webpack_modules__={9487:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;function _typeof2(o){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof2(o)}module=__webpack_require__.nmd(module),factory=function(){return function(){var __webpack_modules__={686:function(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1108__){"use strict";__nested_webpack_require_1108__.d(__nested_webpack_exports__,{default:function(){return clipboard}});var tiny_emitter=__nested_webpack_require_1108__(279),tiny_emitter_default=__nested_webpack_require_1108__.n(tiny_emitter),listen=__nested_webpack_require_1108__(370),listen_default=__nested_webpack_require_1108__.n(listen),src_select=__nested_webpack_require_1108__(817),select_default=__nested_webpack_require_1108__.n(src_select);function command(type){try{return document.execCommand(type)}catch(err){return!1}}var actions_cut=function(target){var selectedText=select_default()(target);return command("cut"),selectedText},fakeCopyAction=function(value,options){var fakeElement=function(value){var isRTL="rtl"===document.documentElement.getAttribute("dir"),fakeElement=document.createElement("textarea");fakeElement.style.fontSize="12pt",fakeElement.style.border="0",fakeElement.style.padding="0",fakeElement.style.margin="0",fakeElement.style.position="absolute",fakeElement.style[isRTL?"right":"left"]="-9999px";var yPosition=window.pageYOffset||document.documentElement.scrollTop;return fakeElement.style.top="".concat(yPosition,"px"),fakeElement.setAttribute("readonly",""),fakeElement.value=value,fakeElement}(value);options.container.appendChild(fakeElement);var selectedText=select_default()(fakeElement);return command("copy"),fakeElement.remove(),selectedText},actions_copy=function(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},selectedText="";return"string"==typeof target?selectedText=fakeCopyAction(target,options):target instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==target?void 0:target.type)?selectedText=fakeCopyAction(target.value,options):(selectedText=select_default()(target),command("copy")),selectedText};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var actions_default=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_options$action=options.action,action=void 0===_options$action?"copy":_options$action,container=options.container,target=options.target,text=options.text;if("copy"!==action&&"cut"!==action)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==target){if(!target||"object"!==_typeof(target)||1!==target.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===action&&target.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===action&&(target.hasAttribute("readonly")||target.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return text?actions_copy(text,{container:container}):target?"cut"===action?actions_cut(target):actions_copy(target,{container:container}):void 0};function clipboard_typeof(obj){return clipboard_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},clipboard_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function(self,call){return!call||"object"!==clipboard_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function getAttributeValue(suffix,element){var attribute="data-clipboard-".concat(suffix);if(element.hasAttribute(attribute))return element.getAttribute(attribute)}var Clipboard=function(_Emitter){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Clipboard,_Emitter);var Constructor,protoProps,staticProps,_super=_createSuper(Clipboard);function Clipboard(trigger,options){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Clipboard),(_this=_super.call(this)).resolveOptions(options),_this.listenClick(trigger),_this}return Constructor=Clipboard,protoProps=[{key:"resolveOptions",value:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof options.action?options.action:this.defaultAction,this.target="function"==typeof options.target?options.target:this.defaultTarget,this.text="function"==typeof options.text?options.text:this.defaultText,this.container="object"===clipboard_typeof(options.container)?options.container:document.body}},{key:"listenClick",value:function(trigger){var _this2=this;this.listener=listen_default()(trigger,"click",(function(e){return _this2.onClick(e)}))}},{key:"onClick",value:function(e){var trigger=e.delegateTarget||e.currentTarget,action=this.action(trigger)||"copy",text=actions_default({action:action,container:this.container,target:this.target(trigger),text:this.text(trigger)});this.emit(text?"success":"error",{action:action,text:text,trigger:trigger,clearSelection:function(){trigger&&trigger.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(trigger){return getAttributeValue("action",trigger)}},{key:"defaultTarget",value:function(trigger){var selector=getAttributeValue("target",trigger);if(selector)return document.querySelector(selector)}},{key:"defaultText",value:function(trigger){return getAttributeValue("text",trigger)}},{key:"destroy",value:function(){this.listener.destroy()}}],staticProps=[{key:"copy",value:function(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return actions_copy(target,options)}},{key:"cut",value:function(target){return actions_cut(target)}},{key:"isSupported",value:function(){var action=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],actions="string"==typeof action?[action]:action,support=!!document.queryCommandSupported;return actions.forEach((function(action){support=support&&!!document.queryCommandSupported(action)})),support}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Clipboard}(tiny_emitter_default()),clipboard=Clipboard},828:function(module){if("undefined"!=typeof Element&&!Element.prototype.matches){var proto=Element.prototype;proto.matches=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector}module.exports=function(element,selector){for(;element&&9!==element.nodeType;){if("function"==typeof element.matches&&element.matches(selector))return element;element=element.parentNode}}},438:function(module,__unused_webpack_exports,__nested_webpack_require_19930__){var closest=__nested_webpack_require_19930__(828);function _delegate(element,selector,type,callback,useCapture){var listenerFn=listener.apply(this,arguments);return element.addEventListener(type,listenerFn,useCapture),{destroy:function(){element.removeEventListener(type,listenerFn,useCapture)}}}function listener(element,selector,type,callback){return function(e){e.delegateTarget=closest(e.target,selector),e.delegateTarget&&callback.call(element,e)}}module.exports=function(elements,selector,type,callback,useCapture){return"function"==typeof elements.addEventListener?_delegate.apply(null,arguments):"function"==typeof type?_delegate.bind(null,document).apply(null,arguments):("string"==typeof elements&&(elements=document.querySelectorAll(elements)),Array.prototype.map.call(elements,(function(element){return _delegate(element,selector,type,callback,useCapture)})))}},879:function(__unused_webpack_module,exports){exports.node=function(value){return void 0!==value&&value instanceof HTMLElement&&1===value.nodeType},exports.nodeList=function(value){var type=Object.prototype.toString.call(value);return void 0!==value&&("[object NodeList]"===type||"[object HTMLCollection]"===type)&&"length"in value&&(0===value.length||exports.node(value[0]))},exports.string=function(value){return"string"==typeof value||value instanceof String},exports.fn=function(value){return"[object Function]"===Object.prototype.toString.call(value)}},370:function(module,__unused_webpack_exports,__nested_webpack_require_24033__){var is=__nested_webpack_require_24033__(879),delegate=__nested_webpack_require_24033__(438);module.exports=function(target,type,callback){if(!target&&!type&&!callback)throw new Error("Missing required arguments");if(!is.string(type))throw new TypeError("Second argument must be a String");if(!is.fn(callback))throw new TypeError("Third argument must be a Function");if(is.node(target))return function(node,type,callback){return node.addEventListener(type,callback),{destroy:function(){node.removeEventListener(type,callback)}}}(target,type,callback);if(is.nodeList(target))return function(nodeList,type,callback){return Array.prototype.forEach.call(nodeList,(function(node){node.addEventListener(type,callback)})),{destroy:function(){Array.prototype.forEach.call(nodeList,(function(node){node.removeEventListener(type,callback)}))}}}(target,type,callback);if(is.string(target))return function(selector,type,callback){return delegate(document.body,selector,type,callback)}(target,type,callback);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(module){module.exports=function(element){var selectedText;if("SELECT"===element.nodeName)element.focus(),selectedText=element.value;else if("INPUT"===element.nodeName||"TEXTAREA"===element.nodeName){var isReadOnly=element.hasAttribute("readonly");isReadOnly||element.setAttribute("readonly",""),element.select(),element.setSelectionRange(0,element.value.length),isReadOnly||element.removeAttribute("readonly"),selectedText=element.value}else{element.hasAttribute("contenteditable")&&element.focus();var selection=window.getSelection(),range=document.createRange();range.selectNodeContents(element),selection.removeAllRanges(),selection.addRange(range),selectedText=selection.toString()}return selectedText}},279:function(module){function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});return(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx}),this},once:function(name,callback,ctx){var self=this;function listener(){self.off(name,listener),callback.apply(ctx,arguments)}return listener._=callback,this.on(name,listener,ctx)},emit:function(name){for(var data=[].slice.call(arguments,1),evtArr=((this.e||(this.e={}))[name]||[]).slice(),i=0,len=evtArr.length;i<len;i++)evtArr[i].fn.apply(evtArr[i].ctx,data);return this},off:function(name,callback){var e=this.e||(this.e={}),evts=e[name],liveEvents=[];if(evts&&callback)for(var i=0,len=evts.length;i<len;i++)evts[i].fn!==callback&&evts[i].fn._!==callback&&liveEvents.push(evts[i]);return liveEvents.length?e[name]=liveEvents:delete e[name],this}},module.exports=E,module.exports.TinyEmitter=E}},__webpack_module_cache__={};function __nested_webpack_require_30551__(moduleId){if(__webpack_module_cache__[moduleId])return __webpack_module_cache__[moduleId].exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__nested_webpack_require_30551__),module.exports}return __nested_webpack_require_30551__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_30551__.d(getter,{a:getter}),getter},__nested_webpack_require_30551__.d=function(exports,definition){for(var key in definition)__nested_webpack_require_30551__.o(definition,key)&&!__nested_webpack_require_30551__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__nested_webpack_require_30551__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},__nested_webpack_require_30551__(686)}().default},"object"===_typeof2(exports)&&"object"===_typeof2(module)?module.exports=factory():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1922:function(module,exports){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports&&(exports=module.exports=function(root,Lockr){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for((from=from<0?Math.ceil(from):Math.floor(from))<0&&(from+=len);from<len;from++)if(from in this&&this[from]===elt)return from;return-1}),Lockr.prefix="",Lockr._getPrefixedKey=function(key,options){return(options=options||{}).noPrefix?key:this.prefix+key},Lockr.set=function(key,value,options){var query_key=this._getPrefixedKey(key,options);try{localStorage.setItem(query_key,JSON.stringify({data:value}))}catch(e){console&&console.warn("Lockr didn't successfully save the '{"+key+": "+value+"}' pair, because the localStorage is full.")}},Lockr.get=function(key,missing,options){var value,query_key=this._getPrefixedKey(key,options);try{value=JSON.parse(localStorage.getItem(query_key))}catch(e){value=localStorage[query_key]?{data:localStorage.getItem(query_key)}:null}return value?"object"===_typeof(value)&&void 0!==value.data?value.data:void 0:missing},Lockr.sadd=function(key,value,options){var json,query_key=this._getPrefixedKey(key,options),values=Lockr.smembers(key);if(values.indexOf(value)>-1)return null;try{values.push(value),json=JSON.stringify({data:values}),localStorage.setItem(query_key,json)}catch(e){console.log(e),console&&console.warn("Lockr didn't successfully add the "+value+" to "+key+" set, because the localStorage is full.")}},Lockr.smembers=function(key,options){var value,query_key=this._getPrefixedKey(key,options);try{value=JSON.parse(localStorage.getItem(query_key))}catch(e){value=null}return value&&value.data?value.data:[]},Lockr.sismember=function(key,value,options){return Lockr.smembers(key).indexOf(value)>-1},Lockr.keys=function(){var keys=[],allKeys=Object.keys(localStorage);return 0===Lockr.prefix.length?allKeys:(allKeys.forEach((function(key){-1!==key.indexOf(Lockr.prefix)&&keys.push(key.replace(Lockr.prefix,""))})),keys)},Lockr.getAll=function(includeKeys){var keys=Lockr.keys();return includeKeys?keys.reduce((function(accum,key){var tempObj={};return tempObj[key]=Lockr.get(key),accum.push(tempObj),accum}),[]):keys.map((function(key){return Lockr.get(key)}))},Lockr.srem=function(key,value,options){var json,index,query_key=this._getPrefixedKey(key,options),values=Lockr.smembers(key,value);(index=values.indexOf(value))>-1&&values.splice(index,1),json=JSON.stringify({data:values});try{localStorage.setItem(query_key,json)}catch(e){console&&console.warn("Lockr couldn't remove the "+value+" from the set "+key)}},Lockr.rm=function(key){var queryKey=this._getPrefixedKey(key);localStorage.removeItem(queryKey)},Lockr.flush=function(){Lockr.prefix.length?Lockr.keys().forEach((function(key){localStorage.removeItem(Lockr._getPrefixedKey(key))})):localStorage.clear()},Lockr}(0,exports))},2218:function(module,__unused_webpack_exports,__webpack_require__){var DataView=__webpack_require__(6884)(__webpack_require__(9879),"DataView");module.exports=DataView},26:function(module,__unused_webpack_exports,__webpack_require__){var hashClear=__webpack_require__(1219),hashDelete=__webpack_require__(4788),hashGet=__webpack_require__(6733),hashHas=__webpack_require__(7724),hashSet=__webpack_require__(7486);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},6384:function(module,__unused_webpack_exports,__webpack_require__){var listCacheClear=__webpack_require__(3373),listCacheDelete=__webpack_require__(281),listCacheGet=__webpack_require__(9025),listCacheHas=__webpack_require__(231),listCacheSet=__webpack_require__(2256);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},5007:function(module,__unused_webpack_exports,__webpack_require__){var Map=__webpack_require__(6884)(__webpack_require__(9879),"Map");module.exports=Map},5438:function(module,__unused_webpack_exports,__webpack_require__){var mapCacheClear=__webpack_require__(2904),mapCacheDelete=__webpack_require__(9004),mapCacheGet=__webpack_require__(9569),mapCacheHas=__webpack_require__(9180),mapCacheSet=__webpack_require__(2133);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},838:function(module,__unused_webpack_exports,__webpack_require__){var Promise=__webpack_require__(6884)(__webpack_require__(9879),"Promise");module.exports=Promise},1296:function(module,__unused_webpack_exports,__webpack_require__){var Set=__webpack_require__(6884)(__webpack_require__(9879),"Set");module.exports=Set},246:function(module,__unused_webpack_exports,__webpack_require__){var MapCache=__webpack_require__(5438),setCacheAdd=__webpack_require__(3572),setCacheHas=__webpack_require__(114);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},1079:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(6384),stackClear=__webpack_require__(804),stackDelete=__webpack_require__(3506),stackGet=__webpack_require__(4197),stackHas=__webpack_require__(3746),stackSet=__webpack_require__(7810);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},7135:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(9879).Symbol;module.exports=_Symbol},1551:function(module,__unused_webpack_exports,__webpack_require__){var Uint8Array=__webpack_require__(9879).Uint8Array;module.exports=Uint8Array},6679:function(module,__unused_webpack_exports,__webpack_require__){var WeakMap=__webpack_require__(6884)(__webpack_require__(9879),"WeakMap");module.exports=WeakMap},5322:function(module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},9204:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}},6447:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},6295:function(module,__unused_webpack_exports,__webpack_require__){var baseIndexOf=__webpack_require__(7737);module.exports=function(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},8894:function(module){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},5347:function(module,__unused_webpack_exports,__webpack_require__){var baseTimes=__webpack_require__(9899),isArguments=__webpack_require__(1363),isArray=__webpack_require__(1433),isBuffer=__webpack_require__(5779),isIndex=__webpack_require__(1807),isTypedArray=__webpack_require__(5246),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},8637:function(module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},1497:function(module){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},6911:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},5148:function(module,__unused_webpack_exports,__webpack_require__){var baseAssignValue=__webpack_require__(1928),eq=__webpack_require__(4287),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},6151:function(module,__unused_webpack_exports,__webpack_require__){var eq=__webpack_require__(4287);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},1928:function(module,__unused_webpack_exports,__webpack_require__){var defineProperty=__webpack_require__(1144);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},6520:function(module,__unused_webpack_exports,__webpack_require__){var baseForOwn=__webpack_require__(8173),baseEach=__webpack_require__(4156)(baseForOwn);module.exports=baseEach},4277:function(module,__unused_webpack_exports,__webpack_require__){var baseEach=__webpack_require__(6520);module.exports=function(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}},6140:function(module){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},2336:function(module,__unused_webpack_exports,__webpack_require__){var baseFor=__webpack_require__(2798)();module.exports=baseFor},8173:function(module,__unused_webpack_exports,__webpack_require__){var baseFor=__webpack_require__(2336),keys=__webpack_require__(6931);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},9665:function(module,__unused_webpack_exports,__webpack_require__){var castPath=__webpack_require__(5977),toKey=__webpack_require__(7124);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},7539:function(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__(1497),isArray=__webpack_require__(1433);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},3559:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7135),getRawTag=__webpack_require__(4813),objectToString=__webpack_require__(1785),symToStringTag=_Symbol?_Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},1479:function(module){module.exports=function(object,key){return null!=object&&key in Object(object)}},7737:function(module,__unused_webpack_exports,__webpack_require__){var baseFindIndex=__webpack_require__(6140),baseIsNaN=__webpack_require__(6756),strictIndexOf=__webpack_require__(76);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},6775:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(3559),isObjectLike=__webpack_require__(2499);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},6831:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(9821),isObjectLike=__webpack_require__(2499);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},9821:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(1079),equalArrays=__webpack_require__(4163),equalByTag=__webpack_require__(13),equalObjects=__webpack_require__(1602),getTag=__webpack_require__(8233),isArray=__webpack_require__(1433),isBuffer=__webpack_require__(5779),isTypedArray=__webpack_require__(5246),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},7812:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(1079),baseIsEqual=__webpack_require__(6831);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},6756:function(module){module.exports=function(value){return value!=value}},7849:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(2551),isMasked=__webpack_require__(7691),isObject=__webpack_require__(3592),toSource=__webpack_require__(6e3),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},2374:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(3559),isLength=__webpack_require__(8717),isObjectLike=__webpack_require__(2499),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},3382:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var baseMatches=__webpack_require__(452),baseMatchesProperty=__webpack_require__(2725),identity=__webpack_require__(3783),isArray=__webpack_require__(1433),property=__webpack_require__(854);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==_typeof(value)?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},3067:function(module,__unused_webpack_exports,__webpack_require__){var isPrototype=__webpack_require__(8300),nativeKeys=__webpack_require__(1380),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},7450:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(3592),isPrototype=__webpack_require__(8300),nativeKeysIn=__webpack_require__(6370),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},452:function(module,__unused_webpack_exports,__webpack_require__){var baseIsMatch=__webpack_require__(7812),getMatchData=__webpack_require__(3473),matchesStrictComparable=__webpack_require__(6676);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},2725:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqual=__webpack_require__(6831),get=__webpack_require__(4651),hasIn=__webpack_require__(362),isKey=__webpack_require__(5139),isStrictComparable=__webpack_require__(7536),matchesStrictComparable=__webpack_require__(6676),toKey=__webpack_require__(7124);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},6192:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(9665),baseSet=__webpack_require__(3e3),castPath=__webpack_require__(5977);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},9414:function(module){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},5543:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(9665);module.exports=function(path){return function(object){return baseGet(object,path)}}},3e3:function(module,__unused_webpack_exports,__webpack_require__){var assignValue=__webpack_require__(5148),castPath=__webpack_require__(5977),isIndex=__webpack_require__(1807),isObject=__webpack_require__(3592),toKey=__webpack_require__(7124);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},9899:function(module){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},7119:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7135),arrayMap=__webpack_require__(8637),isArray=__webpack_require__(1433),isSymbol=__webpack_require__(205),symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},5790:function(module){module.exports=function(func){return function(value){return func(value)}}},3127:function(module,__unused_webpack_exports,__webpack_require__){var SetCache=__webpack_require__(246),arrayIncludes=__webpack_require__(6295),arrayIncludesWith=__webpack_require__(8894),cacheHas=__webpack_require__(8554),createSet=__webpack_require__(9844),setToArray=__webpack_require__(6769);module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},8554:function(module){module.exports=function(cache,key){return cache.has(key)}},8796:function(module,__unused_webpack_exports,__webpack_require__){var identity=__webpack_require__(3783);module.exports=function(value){return"function"==typeof value?value:identity}},5977:function(module,__unused_webpack_exports,__webpack_require__){var isArray=__webpack_require__(1433),isKey=__webpack_require__(5139),stringToPath=__webpack_require__(4431),toString=__webpack_require__(3687);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},8332:function(module,__unused_webpack_exports,__webpack_require__){var coreJsData=__webpack_require__(9879)["__core-js_shared__"];module.exports=coreJsData},4156:function(module,__unused_webpack_exports,__webpack_require__){var isArrayLike=__webpack_require__(9282);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},2798:function(module){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},9844:function(module,__unused_webpack_exports,__webpack_require__){var Set=__webpack_require__(1296),noop=__webpack_require__(706),setToArray=__webpack_require__(6769),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},1144:function(module,__unused_webpack_exports,__webpack_require__){var getNative=__webpack_require__(6884),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},4163:function(module,__unused_webpack_exports,__webpack_require__){var SetCache=__webpack_require__(246),arraySome=__webpack_require__(6911),cacheHas=__webpack_require__(8554);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},13:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7135),Uint8Array=__webpack_require__(1551),eq=__webpack_require__(4287),equalArrays=__webpack_require__(4163),mapToArray=__webpack_require__(458),setToArray=__webpack_require__(6769),symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},1602:function(module,__unused_webpack_exports,__webpack_require__){var getAllKeys=__webpack_require__(2719),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},2297:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var freeGlobal="object"==(void 0===__webpack_require__.g?"undefined":_typeof(__webpack_require__.g))&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g;module.exports=freeGlobal},2719:function(module,__unused_webpack_exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(7539),getSymbols=__webpack_require__(4077),keys=__webpack_require__(6931);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},59:function(module,__unused_webpack_exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(7539),getSymbolsIn=__webpack_require__(8904),keysIn=__webpack_require__(9481);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},8453:function(module,__unused_webpack_exports,__webpack_require__){var isKeyable=__webpack_require__(5209);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},3473:function(module,__unused_webpack_exports,__webpack_require__){var isStrictComparable=__webpack_require__(7536),keys=__webpack_require__(6931);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},6884:function(module,__unused_webpack_exports,__webpack_require__){var baseIsNative=__webpack_require__(7849),getValue=__webpack_require__(3548);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},1395:function(module,__unused_webpack_exports,__webpack_require__){var getPrototype=__webpack_require__(7931)(Object.getPrototypeOf,Object);module.exports=getPrototype},4813:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(7135),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},4077:function(module,__unused_webpack_exports,__webpack_require__){var arrayFilter=__webpack_require__(6447),stubArray=__webpack_require__(1726),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},8904:function(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__(1497),getPrototype=__webpack_require__(1395),getSymbols=__webpack_require__(4077),stubArray=__webpack_require__(1726),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},8233:function(module,__unused_webpack_exports,__webpack_require__){var DataView=__webpack_require__(2218),Map=__webpack_require__(5007),Promise=__webpack_require__(838),Set=__webpack_require__(1296),WeakMap=__webpack_require__(6679),baseGetTag=__webpack_require__(3559),toSource=__webpack_require__(6e3),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},3548:function(module){module.exports=function(object,key){return null==object?void 0:object[key]}},9825:function(module,__unused_webpack_exports,__webpack_require__){var castPath=__webpack_require__(5977),isArguments=__webpack_require__(1363),isArray=__webpack_require__(1433),isIndex=__webpack_require__(1807),isLength=__webpack_require__(8717),toKey=__webpack_require__(7124);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},1219:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(9134);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},4788:function(module){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},6733:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(9134),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},7724:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(9134),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},7486:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(9134);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},1807:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=_typeof(value);return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},5107:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var eq=__webpack_require__(4287),isArrayLike=__webpack_require__(9282),isIndex=__webpack_require__(1807),isObject=__webpack_require__(3592);module.exports=function(value,index,object){if(!isObject(object))return!1;var type=_typeof(index);return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},5139:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var isArray=__webpack_require__(1433),isSymbol=__webpack_require__(205),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=_typeof(value);return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},5209:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){var type=_typeof(value);return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},7691:function(module,__unused_webpack_exports,__webpack_require__){var uid,coreJsData=__webpack_require__(8332),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},8300:function(module){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},7536:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(3592);module.exports=function(value){return value==value&&!isObject(value)}},3373:function(module){module.exports=function(){this.__data__=[],this.size=0}},281:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6151),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},9025:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6151);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},231:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6151);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},2256:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(6151);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},2904:function(module,__unused_webpack_exports,__webpack_require__){var Hash=__webpack_require__(26),ListCache=__webpack_require__(6384),Map=__webpack_require__(5007);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},9004:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(8453);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},9569:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(8453);module.exports=function(key){return getMapData(this,key).get(key)}},9180:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(8453);module.exports=function(key){return getMapData(this,key).has(key)}},2133:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(8453);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},458:function(module){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},6676:function(module){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},7195:function(module,__unused_webpack_exports,__webpack_require__){var memoize=__webpack_require__(9090);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},9134:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(6884)(Object,"create");module.exports=nativeCreate},1380:function(module,__unused_webpack_exports,__webpack_require__){var nativeKeys=__webpack_require__(7931)(Object.keys,Object);module.exports=nativeKeys},6370:function(module){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},7668:function(module,exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module=__webpack_require__.nmd(module);var freeGlobal=__webpack_require__(2297),freeExports="object"==_typeof(exports)&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==_typeof(module)&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil},1785:function(module){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},7931:function(module){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},9879:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var freeGlobal=__webpack_require__(2297),freeSelf="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},3572:function(module){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},114:function(module){module.exports=function(value){return this.__data__.has(value)}},6769:function(module){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},804:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(6384);module.exports=function(){this.__data__=new ListCache,this.size=0}},3506:function(module){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},4197:function(module){module.exports=function(key){return this.__data__.get(key)}},3746:function(module){module.exports=function(key){return this.__data__.has(key)}},7810:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(6384),Map=__webpack_require__(5007),MapCache=__webpack_require__(5438);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},76:function(module){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},4431:function(module,__unused_webpack_exports,__webpack_require__){var memoizeCapped=__webpack_require__(7195),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},7124:function(module,__unused_webpack_exports,__webpack_require__){var isSymbol=__webpack_require__(205);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},6e3:function(module){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},4287:function(module){module.exports=function(value,other){return value===other||value!=value&&other!=other}},8810:function(module,__unused_webpack_exports,__webpack_require__){var arrayEvery=__webpack_require__(9204),baseEvery=__webpack_require__(4277),baseIteratee=__webpack_require__(3382),isArray=__webpack_require__(1433),isIterateeCall=__webpack_require__(5107);module.exports=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}},6705:function(module,__unused_webpack_exports,__webpack_require__){var arrayEach=__webpack_require__(5322),baseEach=__webpack_require__(6520),castFunction=__webpack_require__(8796),isArray=__webpack_require__(1433);module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},4651:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(9665);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},362:function(module,__unused_webpack_exports,__webpack_require__){var baseHasIn=__webpack_require__(1479),hasPath=__webpack_require__(9825);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},3783:function(module){module.exports=function(value){return value}},1363:function(module,__unused_webpack_exports,__webpack_require__){var baseIsArguments=__webpack_require__(6775),isObjectLike=__webpack_require__(2499),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},1433:function(module){var isArray=Array.isArray;module.exports=isArray},9282:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(2551),isLength=__webpack_require__(8717);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},5779:function(module,exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module=__webpack_require__.nmd(module);var root=__webpack_require__(9879),stubFalse=__webpack_require__(4969),freeExports="object"==_typeof(exports)&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==_typeof(module)&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer},2551:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(3559),isObject=__webpack_require__(3592);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},8717:function(module){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},3592:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){var type=_typeof(value);return null!=value&&("object"==type||"function"==type)}},2499:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){return null!=value&&"object"==_typeof(value)}},205:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var baseGetTag=__webpack_require__(3559),isObjectLike=__webpack_require__(2499);module.exports=function(value){return"symbol"==_typeof(value)||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},5246:function(module,__unused_webpack_exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(2374),baseUnary=__webpack_require__(5790),nodeUtil=__webpack_require__(7668),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},6931:function(module,__unused_webpack_exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(5347),baseKeys=__webpack_require__(3067),isArrayLike=__webpack_require__(9282);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},9481:function(module,__unused_webpack_exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(5347),baseKeysIn=__webpack_require__(7450),isArrayLike=__webpack_require__(9282);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},9090:function(module,__unused_webpack_exports,__webpack_require__){var MapCache=__webpack_require__(5438);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function memoized(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},2422:function(module){module.exports=function(predicate){if("function"!=typeof predicate)throw new TypeError("Expected a function");return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}},706:function(module){module.exports=function(){}},9560:function(module,__unused_webpack_exports,__webpack_require__){var baseIteratee=__webpack_require__(3382),negate=__webpack_require__(2422),pickBy=__webpack_require__(3190);module.exports=function(object,predicate){return pickBy(object,negate(baseIteratee(predicate)))}},3190:function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__(8637),baseIteratee=__webpack_require__(3382),basePickBy=__webpack_require__(6192),getAllKeysIn=__webpack_require__(59);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},854:function(module,__unused_webpack_exports,__webpack_require__){var baseProperty=__webpack_require__(9414),basePropertyDeep=__webpack_require__(5543),isKey=__webpack_require__(5139),toKey=__webpack_require__(7124);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},1726:function(module){module.exports=function(){return[]}},4969:function(module){module.exports=function(){return!1}},3687:function(module,__unused_webpack_exports,__webpack_require__){var baseToString=__webpack_require__(7119);module.exports=function(value){return null==value?"":baseToString(value)}},977:function(module,__unused_webpack_exports,__webpack_require__){var baseUniq=__webpack_require__(3127);module.exports=function(array){return array&&array.length?baseUniq(array):[]}},6353:function(__unused_webpack_module,exports){function cloneRoute(to,from){var clone={name:to.name,path:to.path,hash:to.hash,query:to.query,params:to.params,fullPath:to.fullPath,meta:to.meta};return from&&(clone.from=cloneRoute(from)),Object.freeze(clone)}exports.Z=function(store,router,options){var moduleName=(options||{}).moduleName||"route";store.registerModule(moduleName,{namespaced:!0,state:cloneRoute(router.currentRoute),mutations:{ROUTE_CHANGED:function(state,transition){store.state[moduleName]=cloneRoute(transition.to,transition.from)}}});var currentPath,isTimeTraveling=!1,storeUnwatch=store.watch((function(state){return state[moduleName]}),(function(route){var fullPath=route.fullPath;fullPath!==currentPath&&(null!=currentPath&&(isTimeTraveling=!0,router.push(route)),currentPath=fullPath)}),{sync:!0}),afterEachUnHook=router.afterEach((function(to,from){isTimeTraveling?isTimeTraveling=!1:(currentPath=to.fullPath,store.commit(moduleName+"/ROUTE_CHANGED",{to:to,from:from}))}));return function(){null!=afterEachUnHook&&afterEachUnHook(),null!=storeUnwatch&&storeUnwatch(),store.unregisterModule(moduleName)}}},4894:function(module){"use strict";module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAmCAYAAABUKMJkAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAABgJJREFUWIXV2X2QlXUVB/DPc/cFEBYayOW1pWULiInBeNmtBbYgRCc1IscxSCccGLWcrJzKl8HR/nA0GxlTZiwzxrTJoHF0SpLKkaYNkwB5Xw0QRVhh5X1wt4D73Kc/nueyL+wu9y4XHb8zz5x7n5dzvvc8v3N+55xL4XAPnkcj1qJ/cnwksB5RcoSY4SNA/mo8PLR/eTS0f3k0rXJyNK1ycoQm/PRCGk4VQEcJbujkfDnGFEB/lwgKoGMPKh686k7wmcGfAlc9sRDS+FhyX3MiByZyYiIPJXJzIqMO+odBEZcjCLlS7LDvFheA/MXdXCvGWLzR5lwR6vBVlGE/tiZHphMdA/DFiOsExovOxNHvinFR8uUriTycyFcT+d8uiI3CsF7FvfrAleNmgj4lvcG4wZ8GDU0778Zy9MOYioHDbhMJJn1iPDjScgz8c/f6h4Mg2JMO089jSJ/exbMjUdkXpgzuC80tp8G61w7CqSiyNuv50bgJH8cBNOA97O6CeBZfOsd1qE3I1wQsCARBKnV2qBWlUqVhJjMa30dpFEVKS1MdlxCcwkY0FeMXuLZqUEUppDMhXL7naONt4te4Rbyuf548/PdEVmPmhGFj0erxLK4YNwM0NO28GEuqR04YAnfO+k5Ctqjd/Q0HdgawbPvjpfDCissgeLm+EXzvjjVRGEbpKFIrXobNxfgkSjt3mhQuwQQMwR9RL87jMLyL5zqiu7g4J6KIMIzCILBZm/gplmSD6yd/HXxrytXgzcPvgOe2rIJgxaaVNag52HzkXhwRB1jFiAFDOjV46Zjp4GerH4ei+RPn4GyPZzFuSBwjA7dWgqeW7wAPLd0ShWEmTKej6dimNWspxolcPZCgBIPF8XHBEYaZMAiCLWLi7RBgMX5SV1Wdgt/Me6hTJafDNFjZ8DL49drl4J1j74Kba78Jrps0F5T16gumP3oNWFATy+qRE7olu7T+KbD6zXpRRpgOoxnYpBMnp8Sv4Y2OFz5sZDIyAg1i4p0iEG/jV6SC1DL4281Pg1GDKnIyUr97HXjsld+ChgM7wQ3Vsad3HdqTWIqz3o218zvVcyqM8/gtf1gsnQkdbj62EH/Cwa5sZxPuX5y9LX8oSGdCAqGYeLdoW9v8A9Pnjp8Nlsy5u0fGN+zdCh6pfxKseWt9Yik2tejz14Ipydo/2nIcPL3uOWEUati/83QkWowHz2Wr7Vb3ujZp6INGmAmJiEQPYG8uz7T1/HBcnwpS98PKRcvA2MFV50Vq477t4L6XloIN+87KeFmcTmSdOC2+fy7dHYuMZ3ywaz9s87kEJ3WSz7tC25K4ETJR5veYt3DF7eDHM24Cs0ZPBX1LL5ILdhx8C6ze9S+w6/Cedtf7xftAUfOpFhBFUYRfycHjWXTWSW3HulwVFBBbxLV9zuiuk3oGX0NvSAXx7xzavxwM6FPWTkF2B373eBN4P/FoWa9+YOqoSaC2MpYtp+I24YGXHsva+xx2oCVX8t31sKvwI7E3umpICoUWMfG8kE8PWykuj2vEu/KA5PmsjmLxep2FgRNHfDYFd82+BZQWlaD1Dd367D2g8XjTSdyFJfmSz6eHPSGu5ZuS72WJzJLvI+7IrpHfVGIVjudx/xnkQ/5QB5lFdjqwBmOqR04ogtu//G1QUtTexLObXwSNcWycxHz8Lw8eZ1CI6QFME08J8p0Dva2HxDk/8oMS+SpG1VZOSsEPZ94YK+7QMe06+DZYsfGF7KkXcYfOxx054Xw9fymq5D+8inD/edruEfnyRP4bFXVVNQH8YMZCUBS0XznZqjGbz9OZMMIvxcF/XujprHIOKvRsXLgK/+mh3XbIx/jQRK7D8Jmja8GtdQvQugNnkWQT9/31UbDv2AHYJU6nBSn+8vX8PLnPajpiL1YrYNWay5ofkcgNKM/WNnVV1WDb/ngFvHciHnFuanwdvJJ0UMkEbhsmaa3ZC4JcA3aR1kDNF3/GawpMPFd8Q1yuprX+bXOu4wjuxbgLSSyXgJ2ayLniPwYuEY+rs/PHrI6j4vpnjbiEeCI5374LKSD+DyKtzfV7QzLiAAAAAElFTkSuQmCC"}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={id:moduleId,loaded:!1,exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},__webpack_require__.nmd=function(module){return module.paths=[],module.children||(module.children=[]),module},function(){var scriptUrl;__webpack_require__.g.importScripts&&(scriptUrl=__webpack_require__.g.location+"");var document=__webpack_require__.g.document;if(!scriptUrl&&document&&(document.currentScript&&(scriptUrl=document.currentScript.src),!scriptUrl)){var scripts=document.getElementsByTagName("script");if(scripts.length)for(var i=scripts.length-1;i>-1&&!scriptUrl;)scriptUrl=scripts[i--].src}if(!scriptUrl)throw new Error("Automatic publicPath is not supported in this browser");scriptUrl=scriptUrl.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=scriptUrl}(),function(){"use strict";var external_kolibriCoreAppGlobal_lib_logging_namespaceObject=kolibriCoreAppGlobal.lib.logging,external_kolibriCoreAppGlobal_lib_logging_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_logging_namespaceObject),external_kolibriCoreAppGlobal_resources_namespaceObject=kolibriCoreAppGlobal.resources,render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"onboarding"},[this.error?_c("ErrorPage",{staticClass:"body",class:this.windowIsLarge?"":"mobile"}):this.loading?_c("LoadingPage",{staticClass:"body",class:this.windowIsLarge?"":"mobile"}):[_c("router-view")]],2)};render._withStripped=!0;var types_ActionTypes,types_SpecialTargets,_assign=function(){return _assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},_assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function _tslib_values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function _tslib_read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function _tslib_spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}!function(ActionTypes){ActionTypes.Start="xstate.start",ActionTypes.Stop="xstate.stop",ActionTypes.Raise="xstate.raise",ActionTypes.Send="xstate.send",ActionTypes.Cancel="xstate.cancel",ActionTypes.NullEvent="",ActionTypes.Assign="xstate.assign",ActionTypes.After="xstate.after",ActionTypes.DoneState="done.state",ActionTypes.DoneInvoke="done.invoke",ActionTypes.Log="xstate.log",ActionTypes.Init="xstate.init",ActionTypes.Invoke="xstate.invoke",ActionTypes.ErrorExecution="error.execution",ActionTypes.ErrorCommunication="error.communication",ActionTypes.ErrorPlatform="error.platform",ActionTypes.ErrorCustom="xstate.error",ActionTypes.Update="xstate.update",ActionTypes.Pure="xstate.pure",ActionTypes.Choose="xstate.choose"}(types_ActionTypes||(types_ActionTypes={})),function(SpecialTargets){SpecialTargets.Parent="#_parent",SpecialTargets.Internal="#_internal"}(types_SpecialTargets||(types_SpecialTargets={}));var _a,EMPTY_ACTIVITY_MAP={},DEFAULT_GUARD_TYPE="xstate.guard",start=types_ActionTypes.Start,stop=types_ActionTypes.Stop,raise=types_ActionTypes.Raise,send=types_ActionTypes.Send,actionTypes_cancel=types_ActionTypes.Cancel,nullEvent=types_ActionTypes.NullEvent,actionTypes_assign=types_ActionTypes.Assign,log=(types_ActionTypes.After,types_ActionTypes.DoneState,types_ActionTypes.Log),init=types_ActionTypes.Init,invoke=types_ActionTypes.Invoke,errorPlatform=(types_ActionTypes.ErrorExecution,types_ActionTypes.ErrorPlatform),actionTypes_error=types_ActionTypes.ErrorCustom,actionTypes_update=types_ActionTypes.Update,choose=types_ActionTypes.Choose,pure=types_ActionTypes.Pure,environment_IS_PRODUCTION=!0;function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function matchesState(parentStateId,childStateId,delimiter){void 0===delimiter&&(delimiter=".");var parentStateValue=toStateValue(parentStateId,delimiter),childStateValue=toStateValue(childStateId,delimiter);return utils_isString(childStateValue)?!!utils_isString(parentStateValue)&&childStateValue===parentStateValue:utils_isString(parentStateValue)?parentStateValue in childStateValue:Object.keys(parentStateValue).every((function(key){return key in childStateValue&&matchesState(parentStateValue[key],childStateValue[key])}))}function getEventType(event){try{return utils_isString(event)||"number"==typeof event?"".concat(event):event.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function toStatePath(stateId,delimiter){try{return isArray(stateId)?stateId:stateId.toString().split(delimiter)}catch(e){throw new Error("'".concat(stateId,"' is not a valid state path."))}}function toStateValue(stateValue,delimiter){return"object"===_typeof(state=stateValue)&&"value"in state&&"context"in state&&"event"in state&&"_event"in state?stateValue.value:isArray(stateValue)?pathToStateValue(stateValue):"string"!=typeof stateValue?stateValue:pathToStateValue(toStatePath(stateValue,delimiter));var state}function pathToStateValue(statePath){if(1===statePath.length)return statePath[0];for(var value={},marker=value,i=0;i<statePath.length-1;i++)i===statePath.length-2?marker[statePath[i]]=statePath[i+1]:(marker[statePath[i]]={},marker=marker[statePath[i]]);return value}function mapValues(collection,iteratee){for(var result={},collectionKeys=Object.keys(collection),i=0;i<collectionKeys.length;i++){var key=collectionKeys[i];result[key]=iteratee(collection[key],key,collection,i)}return result}function mapFilterValues(collection,iteratee,predicate){var e_1,_a,result={};try{for(var _b=_tslib_values(Object.keys(collection)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,item=collection[key];predicate(item)&&(result[key]=iteratee(item,key,collection))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return result}var path=function(props){return function(object){var e_2,_a,result=object;try{for(var props_1=_tslib_values(props),props_1_1=props_1.next();!props_1_1.done;props_1_1=props_1.next()){result=result[props_1_1.value]}}catch(e_2_1){e_2={error:e_2_1}}finally{try{props_1_1&&!props_1_1.done&&(_a=props_1.return)&&_a.call(props_1)}finally{if(e_2)throw e_2.error}}return result}};function toStatePaths(stateValue){return stateValue?utils_isString(stateValue)?[[stateValue]]:flatten(Object.keys(stateValue).map((function(key){var subStateValue=stateValue[key];return"string"==typeof subStateValue||subStateValue&&Object.keys(subStateValue).length?toStatePaths(stateValue[key]).map((function(subPath){return[key].concat(subPath)})):[[key]]}))):[[]]}function flatten(array){var _a;return(_a=[]).concat.apply(_a,_tslib_spreadArray([],_tslib_read(array),!1))}function toArrayStrict(value){return isArray(value)?value:[value]}function toArray(value){return void 0===value?[]:toArrayStrict(value)}function mapContext(mapper,context,_event){var e_5,_a;if(utils_isFunction(mapper))return mapper(context,_event.data);var result={};try{for(var _b=_tslib_values(Object.keys(mapper)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,subMapper=mapper[key];utils_isFunction(subMapper)?result[key]=subMapper(context,_event.data):result[key]=subMapper}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_5)throw e_5.error}}return result}function isPromiseLike(value){return value instanceof Promise||!(null===value||!utils_isFunction(value)&&"object"!==_typeof(value)||!utils_isFunction(value.then))}function updateHistoryStates(hist,stateValue){return mapValues(hist.states,(function(subHist,key){if(subHist){var subStateValue=(utils_isString(stateValue)?void 0:stateValue[key])||(subHist?subHist.current:void 0);if(subStateValue)return{current:subStateValue,states:updateHistoryStates(subHist,subStateValue)}}}))}function updateContext(context,_event,assignActions,state){environment_IS_PRODUCTION||utils_warn(!!context,"Attempting to update undefined context");var updatedContext=context?assignActions.reduce((function(acc,assignAction){var e_7,_a,assignment=assignAction.assignment,meta={state:state,action:assignAction,_event:_event},partialUpdate={};if(utils_isFunction(assignment))partialUpdate=assignment(acc,_event.data,meta);else try{for(var _b=_tslib_values(Object.keys(assignment)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,propAssignment=assignment[key];partialUpdate[key]=utils_isFunction(propAssignment)?propAssignment(acc,_event.data,meta):propAssignment}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_7)throw e_7.error}}return Object.assign({},acc,partialUpdate)}),context):context;return updatedContext}var utils_warn=function(){};function isArray(value){return Array.isArray(value)}function utils_isFunction(value){return"function"==typeof value}function utils_isString(value){return"string"==typeof value}function toGuard(condition,guardMap){if(condition)return utils_isString(condition)?{type:DEFAULT_GUARD_TYPE,name:condition,predicate:guardMap?guardMap[condition]:void 0}:utils_isFunction(condition)?{type:DEFAULT_GUARD_TYPE,name:condition.name,predicate:condition}:condition}environment_IS_PRODUCTION||(utils_warn=function(condition,message){var error=condition instanceof Error?condition:void 0;if((error||!condition)&&void 0!==console){var args=["Warning: ".concat(message)];error&&args.push(error),console.warn.apply(console,args)}});var symbolObservable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();(_a={})[symbolObservable]=function(){return this},_a[Symbol.observable]=function(){return this};function utils_isMachine(value){return!!value&&"__xstatenode"in value}function toEventObject(event,payload){return utils_isString(event)||"number"==typeof event?_assign({type:event},payload):event}function toSCXMLEvent(event,scxmlEvent){if(!utils_isString(event)&&"$$type"in event&&"scxml"===event.$$type)return event;var eventObject=toEventObject(event);return _assign({name:eventObject.type,data:eventObject,$$type:"scxml",type:"external"},scxmlEvent)}function toTransitionConfigArray(event,configLike){return toArrayStrict(configLike).map((function(transitionLike){return void 0===transitionLike||"string"==typeof transitionLike||utils_isMachine(transitionLike)?{target:transitionLike,event:event}:_assign(_assign({},transitionLike),{event:event})}))}function evaluateGuard(machine,guard,context,_event,state){var guards=machine.options.guards,guardMeta={state:state,cond:guard,_event:_event};if(guard.type===DEFAULT_GUARD_TYPE)return((null==guards?void 0:guards[guard.name])||guard.predicate)(context,_event.data,guardMeta);var condFn=null==guards?void 0:guards[guard.type];if(!condFn)throw new Error("Guard '".concat(guard.type,"' is not implemented on machine '").concat(machine.id,"'."));return condFn(context,_event.data,guardMeta)}function toInvokeSource(src){return"string"==typeof src?{type:src}:src}function toObserver(nextHandler,errorHandler,completionHandler){var noop=function(){},isObserver="object"===_typeof(nextHandler),self=isObserver?nextHandler:null;return{next:((isObserver?nextHandler.next:nextHandler)||noop).bind(self),error:((isObserver?nextHandler.error:errorHandler)||noop).bind(self),complete:((isObserver?nextHandler.complete:completionHandler)||noop).bind(self)}}function createInvokeId(stateNodeId,index){return"".concat(stateNodeId,":invocation[").concat(index,"]")}function isRaisableAction(action){return(action.type===raise||action.type===send&&action.to===types_SpecialTargets.Internal)&&"number"!=typeof action.delay}var isLeafNode=function(stateNode){return"atomic"===stateNode.type||"final"===stateNode.type};function getAllChildren(stateNode){return Object.keys(stateNode.states).map((function(key){return stateNode.states[key]}))}function getChildren(stateNode){return getAllChildren(stateNode).filter((function(sn){return"history"!==sn.type}))}function getAllStateNodes(stateNode){var stateNodes=[stateNode];return isLeafNode(stateNode)?stateNodes:stateNodes.concat(flatten(getChildren(stateNode).map(getAllStateNodes)))}function getConfiguration(prevStateNodes,stateNodes){var e_1,_a,e_2,_b,e_3,_c,e_4,_d,prevAdjList=getAdjList(new Set(prevStateNodes)),configuration=new Set(stateNodes);try{for(var configuration_1=_tslib_values(configuration),configuration_1_1=configuration_1.next();!configuration_1_1.done;configuration_1_1=configuration_1.next())for(var m=(s=configuration_1_1.value).parent;m&&!configuration.has(m);)configuration.add(m),m=m.parent}catch(e_1_1){e_1={error:e_1_1}}finally{try{configuration_1_1&&!configuration_1_1.done&&(_a=configuration_1.return)&&_a.call(configuration_1)}finally{if(e_1)throw e_1.error}}var adjList=getAdjList(configuration);try{for(var configuration_2=_tslib_values(configuration),configuration_2_1=configuration_2.next();!configuration_2_1.done;configuration_2_1=configuration_2.next()){if("compound"!==(s=configuration_2_1.value).type||adjList.get(s)&&adjList.get(s).length){if("parallel"===s.type)try{for(var _e=(e_3=void 0,_tslib_values(getChildren(s))),_f=_e.next();!_f.done;_f=_e.next()){var child=_f.value;configuration.has(child)||(configuration.add(child),prevAdjList.get(child)?prevAdjList.get(child).forEach((function(sn){return configuration.add(sn)})):child.initialStateNodes.forEach((function(sn){return configuration.add(sn)})))}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_f&&!_f.done&&(_c=_e.return)&&_c.call(_e)}finally{if(e_3)throw e_3.error}}}else prevAdjList.get(s)?prevAdjList.get(s).forEach((function(sn){return configuration.add(sn)})):s.initialStateNodes.forEach((function(sn){return configuration.add(sn)}))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{configuration_2_1&&!configuration_2_1.done&&(_b=configuration_2.return)&&_b.call(configuration_2)}finally{if(e_2)throw e_2.error}}try{for(var configuration_3=_tslib_values(configuration),configuration_3_1=configuration_3.next();!configuration_3_1.done;configuration_3_1=configuration_3.next()){var s;for(m=(s=configuration_3_1.value).parent;m&&!configuration.has(m);)configuration.add(m),m=m.parent}}catch(e_4_1){e_4={error:e_4_1}}finally{try{configuration_3_1&&!configuration_3_1.done&&(_d=configuration_3.return)&&_d.call(configuration_3)}finally{if(e_4)throw e_4.error}}return configuration}function getValueFromAdj(baseNode,adjList){var childStateNodes=adjList.get(baseNode);if(!childStateNodes)return{};if("compound"===baseNode.type){var childStateNode=childStateNodes[0];if(!childStateNode)return{};if(isLeafNode(childStateNode))return childStateNode.key}var stateValue={};return childStateNodes.forEach((function(csn){stateValue[csn.key]=getValueFromAdj(csn,adjList)})),stateValue}function getAdjList(configuration){var e_5,_a,adjList=new Map;try{for(var configuration_4=_tslib_values(configuration),configuration_4_1=configuration_4.next();!configuration_4_1.done;configuration_4_1=configuration_4.next()){var s=configuration_4_1.value;adjList.has(s)||adjList.set(s,[]),s.parent&&(adjList.has(s.parent)||adjList.set(s.parent,[]),adjList.get(s.parent).push(s))}}catch(e_5_1){e_5={error:e_5_1}}finally{try{configuration_4_1&&!configuration_4_1.done&&(_a=configuration_4.return)&&_a.call(configuration_4)}finally{if(e_5)throw e_5.error}}return adjList}function getValue(rootNode,configuration){return getValueFromAdj(rootNode,getAdjList(getConfiguration([rootNode],configuration)))}function has(iterable,item){return Array.isArray(iterable)?iterable.some((function(member){return member===item})):iterable instanceof Set&&iterable.has(item)}function isInFinalState(configuration,stateNode){return"compound"===stateNode.type?getChildren(stateNode).some((function(s){return"final"===s.type&&has(configuration,s)})):"parallel"===stateNode.type&&getChildren(stateNode).every((function(sn){return isInFinalState(configuration,sn)}))}function getTagsFromConfiguration(configuration){return new Set(flatten(configuration.map((function(sn){return sn.tags}))))}var initEvent=toSCXMLEvent({type:init});function getActionFunction(actionType,actionFunctionMap){return actionFunctionMap&&actionFunctionMap[actionType]||void 0}function toActionObject(action,actionFunctionMap){var actionObject;if(utils_isString(action)||"number"==typeof action)actionObject=utils_isFunction(exec=getActionFunction(action,actionFunctionMap))?{type:action,exec:exec}:exec||{type:action,exec:void 0};else if(utils_isFunction(action))actionObject={type:action.name||action.toString(),exec:action};else{var exec;if(utils_isFunction(exec=getActionFunction(action.type,actionFunctionMap)))actionObject=_assign(_assign({},action),{exec:exec});else if(exec){var actionType=exec.type||action.type;actionObject=_assign(_assign(_assign({},exec),action),{type:actionType})}else actionObject=action}return actionObject}var toActionObjects=function(action,actionFunctionMap){return action?(isArray(action)?action:[action]).map((function(subAction){return toActionObject(subAction,actionFunctionMap)})):[]};function toActivityDefinition(action){var actionObject=toActionObject(action);return _assign(_assign({id:utils_isString(action)?action:actionObject.id},actionObject),{type:actionObject.type})}function actions_send(event,options){return{to:options?options.to:void 0,type:send,event:utils_isFunction(event)?event:toEventObject(event),delay:options?options.delay:void 0,id:options&&void 0!==options.id?options.id:utils_isFunction(event)?event.name:getEventType(event)}}function done(id,data){var type="".concat(types_ActionTypes.DoneState,".").concat(id),eventObject={type:type,data:data,toString:function(){return type}};return eventObject}function actions_doneInvoke(id,data){var type="".concat(types_ActionTypes.DoneInvoke,".").concat(id),eventObject={type:type,data:data,toString:function(){return type}};return eventObject}function actions_error(id,data){var type="".concat(types_ActionTypes.ErrorPlatform,".").concat(id),eventObject={type:type,data:data,toString:function(){return type}};return eventObject}function resolveActions(machine,currentState,currentContext,_event,actionBlocks,predictableExec,preserveActionOrder){void 0===preserveActionOrder&&(preserveActionOrder=!1);var assignActions=preserveActionOrder?[]:function(actionBlocks){var e_1,_a,assignActions=[];try{for(var actionBlocks_1=_tslib_values(actionBlocks),actionBlocks_1_1=actionBlocks_1.next();!actionBlocks_1_1.done;actionBlocks_1_1=actionBlocks_1.next())for(var block=actionBlocks_1_1.value,i=0;i<block.actions.length;)block.actions[i].type!==actionTypes_assign?i++:(assignActions.push(block.actions[i]),block.actions.splice(i,1))}catch(e_1_1){e_1={error:e_1_1}}finally{try{actionBlocks_1_1&&!actionBlocks_1_1.done&&(_a=actionBlocks_1.return)&&_a.call(actionBlocks_1)}finally{if(e_1)throw e_1.error}}return assignActions}(actionBlocks),updatedContext=assignActions.length?updateContext(currentContext,_event,assignActions,currentState):currentContext,preservedContexts=preserveActionOrder?[currentContext]:void 0,deferredToBlockEnd=[];function handleAction(blockType,actionObject){var _a;switch(actionObject.type){case raise:var raisedAction=function(action,ctx,_event,delaysMap){var resolvedDelay,meta={_event:_event},resolvedEvent=toSCXMLEvent(utils_isFunction(action.event)?action.event(ctx,_event.data,meta):action.event);if(utils_isString(action.delay)){var configDelay=delaysMap&&delaysMap[action.delay];resolvedDelay=utils_isFunction(configDelay)?configDelay(ctx,_event.data,meta):configDelay}else resolvedDelay=utils_isFunction(action.delay)?action.delay(ctx,_event.data,meta):action.delay;return _assign(_assign({},action),{type:raise,_event:resolvedEvent,delay:resolvedDelay})}(actionObject,updatedContext,_event,machine.options.delays);return predictableExec&&"number"==typeof raisedAction.delay&&predictableExec(raisedAction,updatedContext,_event),raisedAction;case send:var sendAction=function(action,ctx,_event,delaysMap){var resolvedDelay,meta={_event:_event},resolvedEvent=toSCXMLEvent(utils_isFunction(action.event)?action.event(ctx,_event.data,meta):action.event);if(utils_isString(action.delay)){var configDelay=delaysMap&&delaysMap[action.delay];resolvedDelay=utils_isFunction(configDelay)?configDelay(ctx,_event.data,meta):configDelay}else resolvedDelay=utils_isFunction(action.delay)?action.delay(ctx,_event.data,meta):action.delay;var resolvedTarget=utils_isFunction(action.to)?action.to(ctx,_event.data,meta):action.to;return _assign(_assign({},action),{to:resolvedTarget,_event:resolvedEvent,event:resolvedEvent.data,delay:resolvedDelay})}(actionObject,updatedContext,_event,machine.options.delays);if(!environment_IS_PRODUCTION){var configuredDelay=actionObject.delay;utils_warn(!utils_isString(configuredDelay)||"number"==typeof sendAction.delay,"No delay reference for delay expression '".concat(configuredDelay,"' was found on machine '").concat(machine.id,"'"))}return predictableExec&&sendAction.to!==types_SpecialTargets.Internal&&("entry"===blockType?deferredToBlockEnd.push(sendAction):predictableExec(sendAction,updatedContext,_event)),sendAction;case log:var resolved=function(action,ctx,_event){return _assign(_assign({},action),{value:utils_isString(action.expr)?action.expr:action.expr(ctx,_event.data,{_event:_event})})}(actionObject,updatedContext,_event);return null==predictableExec||predictableExec(resolved,updatedContext,_event),resolved;case choose:if(!(matchedActions=null===(_a=actionObject.conds.find((function(condition){var guard=toGuard(condition.cond,machine.options.guards);return!guard||evaluateGuard(machine,guard,updatedContext,_event,predictableExec?void 0:currentState)})))||void 0===_a?void 0:_a.actions))return[];var _b=_tslib_read(resolveActions(machine,currentState,updatedContext,_event,[{type:blockType,actions:toActionObjects(toArray(matchedActions),machine.options.actions)}],predictableExec,preserveActionOrder),2),resolvedActionsFromChoose=_b[0],resolvedContextFromChoose=_b[1];return updatedContext=resolvedContextFromChoose,null==preservedContexts||preservedContexts.push(updatedContext),resolvedActionsFromChoose;case pure:var matchedActions;if(!(matchedActions=actionObject.get(updatedContext,_event.data)))return[];var _c=_tslib_read(resolveActions(machine,currentState,updatedContext,_event,[{type:blockType,actions:toActionObjects(toArray(matchedActions),machine.options.actions)}],predictableExec,preserveActionOrder),2),resolvedActionsFromPure=_c[0],resolvedContext=_c[1];return updatedContext=resolvedContext,null==preservedContexts||preservedContexts.push(updatedContext),resolvedActionsFromPure;case stop:resolved=function(action,context,_event){var actorRefOrString=utils_isFunction(action.activity)?action.activity(context,_event.data):action.activity,resolvedActorRef="string"==typeof actorRefOrString?{id:actorRefOrString}:actorRefOrString;return{type:types_ActionTypes.Stop,activity:resolvedActorRef}}(actionObject,updatedContext,_event);return null==predictableExec||predictableExec(resolved,currentContext,_event),resolved;case actionTypes_assign:updatedContext=updateContext(updatedContext,_event,[actionObject],predictableExec?void 0:currentState),null==preservedContexts||preservedContexts.push(updatedContext);break;default:var resolvedActionObject=toActionObject(actionObject,machine.options.actions),exec_1=resolvedActionObject.exec;if(predictableExec)predictableExec(resolvedActionObject,updatedContext,_event);else if(exec_1&&preservedContexts){var contextIndex_1=preservedContexts.length-1,wrapped=_assign(_assign({},resolvedActionObject),{exec:function(_ctx){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];exec_1.apply(void 0,_tslib_spreadArray([preservedContexts[contextIndex_1]],_tslib_read(args),!1))}});resolvedActionObject=wrapped}return resolvedActionObject}}var resolvedActions=flatten(actionBlocks.map((function(block){var e_2,_a,resolvedActions=[];try{for(var _b=_tslib_values(block.actions),_c=_b.next();!_c.done;_c=_b.next()){var action=_c.value,resolved=handleAction(block.type,action);resolved&&(resolvedActions=resolvedActions.concat(resolved))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return deferredToBlockEnd.forEach((function(action){predictableExec(action,updatedContext,_event)})),deferredToBlockEnd.length=0,resolvedActions})));return[resolvedActions,updatedContext]}function State_typeof(o){return State_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},State_typeof(o)}function stateValuesEqual(a,b){if(a===b)return!0;if(void 0===a||void 0===b)return!1;if(utils_isString(a)||utils_isString(b))return a===b;var aKeys=Object.keys(a),bKeys=Object.keys(b);return aKeys.length===bKeys.length&&aKeys.every((function(key){return stateValuesEqual(a[key],b[key])}))}function isStateConfig(state){return"object"===State_typeof(state)&&null!==state&&("value"in state&&"_event"in state)}var State=function(){function State(config){var _a,configuration,_this=this;this.actions=[],this.activities=EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=config.value,this.context=config.context,this._event=config._event,this._sessionid=config._sessionid,this.event=this._event.data,this.historyValue=config.historyValue,this.history=config.history,this.actions=config.actions||[],this.activities=config.activities||EMPTY_ACTIVITY_MAP,this.meta=(void 0===(configuration=config.configuration)&&(configuration=[]),configuration.reduce((function(acc,stateNode){return void 0!==stateNode.meta&&(acc[stateNode.id]=stateNode.meta),acc}),{})),this.events=config.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=config.configuration,this.transitions=config.transitions,this.children=config.children,this.done=!!config.done,this.tags=null!==(_a=Array.isArray(config.tags)?new Set(config.tags):config.tags)&&void 0!==_a?_a:new Set,this.machine=config.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(configuration){return _tslib_spreadArray([],_tslib_read(new Set(flatten(_tslib_spreadArray([],_tslib_read(configuration.map((function(sn){return sn.ownEvents}))),!1)))),!1)}(_this.configuration)}})}return State.from=function(stateValue,context){return stateValue instanceof State?stateValue.context!==context?new State({value:stateValue.value,context:context,_event:stateValue._event,_sessionid:null,historyValue:stateValue.historyValue,history:stateValue.history,actions:[],activities:stateValue.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):stateValue:new State({value:stateValue,context:context,_event:initEvent,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},State.create=function(config){return new State(config)},State.inert=function(stateValue,context){if(stateValue instanceof State){if(!stateValue.actions.length)return stateValue;var _event=initEvent;return new State({value:stateValue.value,context:context,_event:_event,_sessionid:null,historyValue:stateValue.historyValue,history:stateValue.history,activities:stateValue.activities,configuration:stateValue.configuration,transitions:[],children:{}})}return State.from(stateValue,context)},State.prototype.toStrings=function(stateValue,delimiter){var _this=this;if(void 0===stateValue&&(stateValue=this.value),void 0===delimiter&&(delimiter="."),utils_isString(stateValue))return[stateValue];var valueKeys=Object.keys(stateValue);return valueKeys.concat.apply(valueKeys,_tslib_spreadArray([],_tslib_read(valueKeys.map((function(key){return _this.toStrings(stateValue[key],delimiter).map((function(s){return key+delimiter+s}))}))),!1))},State.prototype.toJSON=function(){var _a=this;_a.configuration,_a.transitions;var tags=_a.tags;_a.machine;var jsonValues=__rest(_a,["configuration","transitions","tags","machine"]);return _assign(_assign({},jsonValues),{tags:Array.from(tags)})},State.prototype.matches=function(parentStateValue){return matchesState(parentStateValue,this.value)},State.prototype.hasTag=function(tag){return this.tags.has(tag)},State.prototype.can=function(event){var _a;environment_IS_PRODUCTION&&utils_warn(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var transitionData=null===(_a=this.machine)||void 0===_a?void 0:_a.getTransitionData(this,event);return!!(null==transitionData?void 0:transitionData.transitions.length)&&transitionData.transitions.some((function(t){return void 0!==t.target||t.actions.length}))},State}(),defaultOptions={deferEvents:!1},Scheduler=function(){function Scheduler(options){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=_assign(_assign({},defaultOptions),options)}return Scheduler.prototype.initialize=function(callback){if(this.initialized=!0,callback){if(!this.options.deferEvents)return void this.schedule(callback);this.process(callback)}this.flushEvents()},Scheduler.prototype.schedule=function(task){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(task),this.flushEvents()}else this.queue.push(task)},Scheduler.prototype.clear=function(){this.queue=[]},Scheduler.prototype.flushEvents=function(){for(var nextCallback=this.queue.shift();nextCallback;)this.process(nextCallback),nextCallback=this.queue.shift()},Scheduler.prototype.process=function(callback){this.processingEvent=!0;try{callback()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},Scheduler}(),serviceStack=[],provide=function(service,fn){serviceStack.push(service);var result=fn(service);return serviceStack.pop(),result};function createNullActor(id){var _a;return(_a={id:id,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:id}}})[symbolObservable]=function(){return this},_a}function Actor_createDeferredActor(entity,id,data){var tempActor=createNullActor(id);if(tempActor.deferred=!0,utils_isMachine(entity)){var initialState_1=tempActor.state=provide(void 0,(function(){return(data?entity.withContext(data):entity).initialState}));tempActor.getSnapshot=function(){return initialState_1}}return tempActor}var children=new Map,sessionIdIndex=0,registry_bookId=function(){return"x:".concat(sessionIdIndex++)},registry_register=function(id,actor){return children.set(id,actor),id},registry_get=function(id){return children.get(id)},registry_free=function(id){children.delete(id)};function getGlobal(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void(environment_IS_PRODUCTION||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}function registerService(service){if(getGlobal()){var devTools=function(){var global=getGlobal();if(global&&"__xstate__"in global)return global.__xstate__}();devTools&&devTools.register(service)}}function spawnBehavior(behavior,options){void 0===options&&(options={});var state=behavior.initialState,observers=new Set,mailbox=[],flushing=!1,actor=function(actorRefLike){var _a;return _assign(((_a={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[symbolObservable]=function(){return this},_a),actorRefLike)}({id:options.id,send:function(event){mailbox.push(event),function(){if(!flushing){for(flushing=!0;mailbox.length>0;){var event_1=mailbox.shift();state=behavior.transition(state,event_1,actorCtx),observers.forEach((function(observer){return observer.next(state)}))}flushing=!1}}()},getSnapshot:function(){return state},subscribe:function(next,handleError,complete){var observer=toObserver(next,handleError,complete);return observers.add(observer),observer.next(state),{unsubscribe:function(){observers.delete(observer)}}}}),actorCtx={parent:options.parent,self:actor,id:options.id||"anonymous",observers:observers};return state=behavior.start?behavior.start(actorCtx):state,actor}function interpreter_typeof(o){return interpreter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},interpreter_typeof(o)}var InterpreterStatus,DEFAULT_SPAWN_OPTIONS={sync:!1,autoForward:!1};!function(InterpreterStatus){InterpreterStatus[InterpreterStatus.NotStarted=0]="NotStarted",InterpreterStatus[InterpreterStatus.Running=1]="Running",InterpreterStatus[InterpreterStatus.Stopped=2]="Stopped"}(InterpreterStatus||(InterpreterStatus={}));var Interpreter=function(){function Interpreter(machine,options){void 0===options&&(options=Interpreter.defaultOptions);var _this=this;this.machine=machine,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=InterpreterStatus.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(event,payload){if(isArray(event))return _this.batch(event),_this.state;var _event=toSCXMLEvent(toEventObject(event,payload));if(_this.status===InterpreterStatus.Stopped)return environment_IS_PRODUCTION||utils_warn(!1,'Event "'.concat(_event.name,'" was sent to stopped service "').concat(_this.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(_event.data))),_this.state;if(_this.status!==InterpreterStatus.Running&&!_this.options.deferEvents)throw new Error('Event "'.concat(_event.name,'" was sent to uninitialized service "').concat(_this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(_event.data)));return _this.scheduler.schedule((function(){_this.forward(_event);var nextState=_this._nextState(_event);_this.update(nextState,_event)})),_this._state},this.sendTo=function(event,to,immediate){var value,isParent=_this.parent&&(to===types_SpecialTargets.Parent||_this.parent.id===to),target=isParent?_this.parent:utils_isString(to)?to===types_SpecialTargets.Internal?_this:_this.children.get(to)||registry_get(to):(value=to)&&"function"==typeof value.send?to:void 0;if(target)if("machine"in target){if(_this.status!==InterpreterStatus.Stopped||_this.parent!==target||_this.state.done){var scxmlEvent=_assign(_assign({},event),{name:event.name===actionTypes_error?"".concat(actions_error(_this.id)):event.name,origin:_this.sessionId});!immediate&&_this.machine.config.predictableActionArguments?_this._outgoingQueue.push([target,scxmlEvent]):target.send(scxmlEvent)}}else!immediate&&_this.machine.config.predictableActionArguments?_this._outgoingQueue.push([target,event.data]):target.send(event.data);else{if(!isParent)throw new Error("Unable to send event to child '".concat(to,"' from service '").concat(_this.id,"'."));environment_IS_PRODUCTION||utils_warn(!1,"Service '".concat(_this.id,"' has no parent: unable to send event ").concat(event.type))}},this._exec=function(action,context,_event,actionFunctionMap){void 0===actionFunctionMap&&(actionFunctionMap=_this.machine.options.actions);var actionOrExec=action.exec||getActionFunction(action.type,actionFunctionMap),exec=utils_isFunction(actionOrExec)?actionOrExec:actionOrExec?actionOrExec.exec:action.exec;if(exec)try{return exec(context,_event.data,_this.machine.config.predictableActionArguments?{action:action,_event:_event}:{action:action,state:_this.state,_event:_event})}catch(err){throw _this.parent&&_this.parent.send({type:"xstate.error",data:err}),err}switch(action.type){case raise:var sendAction_1=action;_this.defer(sendAction_1);break;case send:var sendAction=action;if("number"==typeof sendAction.delay)return void _this.defer(sendAction);sendAction.to?_this.sendTo(sendAction._event,sendAction.to,_event===initEvent):_this.send(sendAction._event);break;case actionTypes_cancel:_this.cancel(action.sendId);break;case start:if(_this.status!==InterpreterStatus.Running)return;var activity=action.activity;if(!_this.machine.config.predictableActionArguments&&!_this.state.activities[activity.id||activity.type])break;if(activity.type===types_ActionTypes.Invoke){var invokeSource=toInvokeSource(activity.src),serviceCreator=_this.machine.options.services?_this.machine.options.services[invokeSource.type]:void 0,id=activity.id,data=activity.data;environment_IS_PRODUCTION||utils_warn(!("forward"in activity),"`forward` property is deprecated (found in invocation of '".concat(activity.src,"' in in machine '").concat(_this.machine.id,"'). ")+"Please use `autoForward` instead.");var autoForward="autoForward"in activity?activity.autoForward:!!activity.forward;if(!serviceCreator)return void(environment_IS_PRODUCTION||utils_warn(!1,"No service found for invocation '".concat(activity.src,"' in machine '").concat(_this.machine.id,"'.")));var resolvedData=data?mapContext(data,context,_event):void 0;if("string"==typeof serviceCreator)return;var source=utils_isFunction(serviceCreator)?serviceCreator(context,_event.data,{data:resolvedData,src:invokeSource,meta:activity.meta}):serviceCreator;if(!source)return;var options=void 0;utils_isMachine(source)&&(source=resolvedData?source.withContext(resolvedData):source,options={autoForward:autoForward}),_this.spawn(source,id,options)}else _this.spawnActivity(activity);break;case stop:_this.stopChild(action.activity.id);break;case log:var _a=action,label=_a.label,value=_a.value;label?_this.logger(label,value):_this.logger(value);break;default:environment_IS_PRODUCTION||utils_warn(!1,"No implementation found for action type '".concat(action.type,"'"))}};var resolvedOptions=_assign(_assign({},Interpreter.defaultOptions),options),clock=resolvedOptions.clock,logger=resolvedOptions.logger,parent=resolvedOptions.parent,id=resolvedOptions.id,resolvedId=void 0!==id?id:machine.id;this.id=resolvedId,this.logger=logger,this.clock=clock,this.parent=parent,this.options=resolvedOptions,this.scheduler=new Scheduler({deferEvents:this.options.deferEvents}),this.sessionId=registry_bookId()}return Object.defineProperty(Interpreter.prototype,"initialState",{get:function(){var _this=this;return this._initialState?this._initialState:provide(this,(function(){return _this._initialState=_this.machine.initialState,_this._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(Interpreter.prototype,"state",{get:function(){return environment_IS_PRODUCTION||utils_warn(this.status!==InterpreterStatus.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),Interpreter.prototype.execute=function(state,actionsConfig){var e_1,_a;try{for(var _b=_tslib_values(state.actions),_c=_b.next();!_c.done;_c=_b.next()){var action=_c.value;this.exec(action,state,actionsConfig)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},Interpreter.prototype.update=function(state,_event){var e_2,_a,e_3,_b,e_4,_c,e_5,_d,_this=this;if(state._sessionid=this.sessionId,this._state=state,this.machine.config.predictableActionArguments&&_event!==initEvent||!this.options.execute)for(var item=void 0;item=this._outgoingQueue.shift();)item[0].send(item[1]);else this.execute(this.state);if(this.children.forEach((function(child){_this.state.children[child.id]=child})),this.devTools&&this.devTools.send(_event.data,state),state.event)try{for(var _e=_tslib_values(this.eventListeners),_f=_e.next();!_f.done;_f=_e.next()){(0,_f.value)(state.event)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_a=_e.return)&&_a.call(_e)}finally{if(e_2)throw e_2.error}}try{for(var _g=_tslib_values(this.listeners),_h=_g.next();!_h.done;_h=_g.next()){(0,_h.value)(state,state.event)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_h&&!_h.done&&(_b=_g.return)&&_b.call(_g)}finally{if(e_3)throw e_3.error}}try{for(var _j=_tslib_values(this.contextListeners),_k=_j.next();!_k.done;_k=_j.next()){(0,_k.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_k&&!_k.done&&(_c=_j.return)&&_c.call(_j)}finally{if(e_4)throw e_4.error}}if(this.state.done){var finalChildStateNode=state.configuration.find((function(sn){return"final"===sn.type&&sn.parent===_this.machine})),doneData=finalChildStateNode&&finalChildStateNode.doneData?mapContext(finalChildStateNode.doneData,state.context,_event):void 0;this._doneEvent=actions_doneInvoke(this.id,doneData);try{for(var _l=_tslib_values(this.doneListeners),_m=_l.next();!_m.done;_m=_l.next()){(0,_m.value)(this._doneEvent)}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_m&&!_m.done&&(_d=_l.return)&&_d.call(_l)}finally{if(e_5)throw e_5.error}}this._stop(),this._stopChildren(),registry_free(this.sessionId)}},Interpreter.prototype.onTransition=function(listener){return this.listeners.add(listener),this.status===InterpreterStatus.Running&&listener(this.state,this.state.event),this},Interpreter.prototype.subscribe=function(nextListenerOrObserver,_,completeListener){var _this=this,observer=toObserver(nextListenerOrObserver,_,completeListener);this.listeners.add(observer.next),this.status!==InterpreterStatus.NotStarted&&observer.next(this.state);var completeOnce=function completeOnce(){_this.doneListeners.delete(completeOnce),_this.stopListeners.delete(completeOnce),observer.complete()};return this.status===InterpreterStatus.Stopped?observer.complete():(this.onDone(completeOnce),this.onStop(completeOnce)),{unsubscribe:function(){_this.listeners.delete(observer.next),_this.doneListeners.delete(completeOnce),_this.stopListeners.delete(completeOnce)}}},Interpreter.prototype.onEvent=function(listener){return this.eventListeners.add(listener),this},Interpreter.prototype.onSend=function(listener){return this.sendListeners.add(listener),this},Interpreter.prototype.onChange=function(listener){return this.contextListeners.add(listener),this},Interpreter.prototype.onStop=function(listener){return this.stopListeners.add(listener),this},Interpreter.prototype.onDone=function(listener){return this.status===InterpreterStatus.Stopped&&this._doneEvent?listener(this._doneEvent):this.doneListeners.add(listener),this},Interpreter.prototype.off=function(listener){return this.listeners.delete(listener),this.eventListeners.delete(listener),this.sendListeners.delete(listener),this.stopListeners.delete(listener),this.doneListeners.delete(listener),this.contextListeners.delete(listener),this},Interpreter.prototype.start=function(initialState){var _this=this;if(this.status===InterpreterStatus.Running)return this;this.machine._init(),registry_register(this.sessionId,this),this.initialized=!0,this.status=InterpreterStatus.Running;var resolvedState=void 0===initialState?this.initialState:provide(this,(function(){return isStateConfig(initialState)?_this.machine.resolveState(initialState):_this.machine.resolveState(State.from(initialState,_this.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){_this.update(resolvedState,initEvent)})),this},Interpreter.prototype._stopChildren=function(){this.children.forEach((function(child){utils_isFunction(child.stop)&&child.stop()})),this.children.clear()},Interpreter.prototype._stop=function(){var e_6,_a,e_7,_b,e_8,_c,e_9,_d,e_10,_e;try{for(var _f=_tslib_values(this.listeners),_g=_f.next();!_g.done;_g=_f.next()){var listener=_g.value;this.listeners.delete(listener)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{_g&&!_g.done&&(_a=_f.return)&&_a.call(_f)}finally{if(e_6)throw e_6.error}}try{for(var _h=_tslib_values(this.stopListeners),_j=_h.next();!_j.done;_j=_h.next()){(listener=_j.value)(),this.stopListeners.delete(listener)}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_j&&!_j.done&&(_b=_h.return)&&_b.call(_h)}finally{if(e_7)throw e_7.error}}try{for(var _k=_tslib_values(this.contextListeners),_l=_k.next();!_l.done;_l=_k.next()){listener=_l.value;this.contextListeners.delete(listener)}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_l&&!_l.done&&(_c=_k.return)&&_c.call(_k)}finally{if(e_8)throw e_8.error}}try{for(var _m=_tslib_values(this.doneListeners),_o=_m.next();!_o.done;_o=_m.next()){listener=_o.value;this.doneListeners.delete(listener)}}catch(e_9_1){e_9={error:e_9_1}}finally{try{_o&&!_o.done&&(_d=_m.return)&&_d.call(_m)}finally{if(e_9)throw e_9.error}}if(!this.initialized)return this;this.initialized=!1,this.status=InterpreterStatus.Stopped,this._initialState=void 0;try{for(var _p=_tslib_values(Object.keys(this.delayedEventsMap)),_q=_p.next();!_q.done;_q=_p.next()){var key=_q.value;this.clock.clearTimeout(this.delayedEventsMap[key])}}catch(e_10_1){e_10={error:e_10_1}}finally{try{_q&&!_q.done&&(_e=_p.return)&&_e.call(_p)}finally{if(e_10)throw e_10.error}}this.scheduler.clear(),this.scheduler=new Scheduler({deferEvents:this.options.deferEvents})},Interpreter.prototype.stop=function(){var _this=this,scheduler=this.scheduler;return this._stop(),scheduler.schedule((function(){var _a;if(!(null===(_a=_this._state)||void 0===_a?void 0:_a.done)){var _event=toSCXMLEvent({type:"xstate.stop"}),nextState=provide(_this,(function(){var exitActions=flatten(_tslib_spreadArray([],_tslib_read(_this.state.configuration),!1).sort((function(a,b){return b.order-a.order})).map((function(stateNode){return toActionObjects(stateNode.onExit,_this.machine.options.actions)}))),_a=_tslib_read(resolveActions(_this.machine,_this.state,_this.state.context,_event,[{type:"exit",actions:exitActions}],_this.machine.config.predictableActionArguments?_this._exec:void 0,_this.machine.config.predictableActionArguments||_this.machine.config.preserveActionOrder),2),resolvedActions=_a[0],updatedContext=_a[1],newState=new State({value:_this.state.value,context:updatedContext,_event:_event,_sessionid:_this.sessionId,historyValue:void 0,history:_this.state,actions:resolvedActions.filter((function(action){return!isRaisableAction(action)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:_this.state.done,tags:_this.state.tags,machine:_this.machine});return newState.changed=!0,newState}));_this.update(nextState,_event),_this._stopChildren(),registry_free(_this.sessionId)}})),this},Interpreter.prototype.batch=function(events){var _this=this;if(this.status===InterpreterStatus.NotStarted&&this.options.deferEvents)environment_IS_PRODUCTION||utils_warn(!1,"".concat(events.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==InterpreterStatus.Running)throw new Error("".concat(events.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(events.length){var exec=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var e_11,_a,nextState=_this.state,batchChanged=!1,batchedActions=[],_loop_1=function(event_1){var _event=toSCXMLEvent(event_1);_this.forward(_event),nextState=provide(_this,(function(){return _this.machine.transition(nextState,_event,void 0,exec||void 0)})),batchedActions.push.apply(batchedActions,_tslib_spreadArray([],_tslib_read(_this.machine.config.predictableActionArguments?nextState.actions:nextState.actions.map((function(a){return function(action,state){var exec=action.exec;return _assign(_assign({},action),{exec:void 0!==exec?function(){return exec(state.context,state.event,{action:action,state:state,_event:state._event})}:void 0})}(a,nextState)}))),!1)),batchChanged=batchChanged||!!nextState.changed};try{for(var events_1=_tslib_values(events),events_1_1=events_1.next();!events_1_1.done;events_1_1=events_1.next()){_loop_1(events_1_1.value)}}catch(e_11_1){e_11={error:e_11_1}}finally{try{events_1_1&&!events_1_1.done&&(_a=events_1.return)&&_a.call(events_1)}finally{if(e_11)throw e_11.error}}nextState.changed=batchChanged,nextState.actions=batchedActions,_this.update(nextState,toSCXMLEvent(events[events.length-1]))}))}},Interpreter.prototype.sender=function(event){return this.send.bind(this,event)},Interpreter.prototype._nextState=function(event,exec){var _this=this;void 0===exec&&(exec=!!this.machine.config.predictableActionArguments&&this._exec);var _event=toSCXMLEvent(event);if(0===_event.name.indexOf(errorPlatform)&&!this.state.nextEvents.some((function(nextEvent){return 0===nextEvent.indexOf(errorPlatform)})))throw _event.data.data;return provide(this,(function(){return _this.machine.transition(_this.state,_event,void 0,exec||void 0)}))},Interpreter.prototype.nextState=function(event){return this._nextState(event,!1)},Interpreter.prototype.forward=function(event){var e_12,_a;try{for(var _b=_tslib_values(this.forwardTo),_c=_b.next();!_c.done;_c=_b.next()){var id=_c.value,child=this.children.get(id);if(!child)throw new Error("Unable to forward event '".concat(event,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(id,"'."));child.send(event)}}catch(e_12_1){e_12={error:e_12_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_12)throw e_12.error}}},Interpreter.prototype.defer=function(sendAction){var _this=this,timerId=this.clock.setTimeout((function(){"to"in sendAction&&sendAction.to?_this.sendTo(sendAction._event,sendAction.to,!0):_this.send(sendAction._event)}),sendAction.delay);sendAction.id&&(this.delayedEventsMap[sendAction.id]=timerId)},Interpreter.prototype.cancel=function(sendId){this.clock.clearTimeout(this.delayedEventsMap[sendId]),delete this.delayedEventsMap[sendId]},Interpreter.prototype.exec=function(action,state,actionFunctionMap){void 0===actionFunctionMap&&(actionFunctionMap=this.machine.options.actions),this._exec(action,state.context,state._event,actionFunctionMap)},Interpreter.prototype.removeChild=function(childId){var _a;this.children.delete(childId),this.forwardTo.delete(childId),null===(_a=this.state)||void 0===_a||delete _a.children[childId]},Interpreter.prototype.stopChild=function(childId){var child=this.children.get(childId);child&&(this.removeChild(childId),utils_isFunction(child.stop)&&child.stop())},Interpreter.prototype.spawn=function(entity,name,options){if(this.status!==InterpreterStatus.Running)return Actor_createDeferredActor(entity,name);if(isPromiseLike(entity))return this.spawnPromise(Promise.resolve(entity),name);if(utils_isFunction(entity))return this.spawnCallback(entity,name);if(function(item){try{return"function"==typeof item.send}catch(e){return!1}}(item=entity)&&"id"in item)return this.spawnActor(entity,name);if(function(value){try{return"subscribe"in value&&utils_isFunction(value.subscribe)}catch(e){return!1}}(entity))return this.spawnObservable(entity,name);if(utils_isMachine(entity))return this.spawnMachine(entity,_assign(_assign({},options),{id:name}));if(null!==(value=entity)&&"object"===_typeof(value)&&"transition"in value&&"function"==typeof value.transition)return this.spawnBehavior(entity,name);throw new Error('Unable to spawn entity "'.concat(name,'" of type "').concat(interpreter_typeof(entity),'".'));var value,item},Interpreter.prototype.spawnMachine=function(machine,options){var _this=this;void 0===options&&(options={});var childService=new Interpreter(machine,_assign(_assign({},this.options),{parent:this,id:options.id||machine.id})),resolvedOptions=_assign(_assign({},DEFAULT_SPAWN_OPTIONS),options);resolvedOptions.sync&&childService.onTransition((function(state){_this.send(actionTypes_update,{state:state,id:childService.id})}));var actor=childService;return this.children.set(childService.id,actor),resolvedOptions.autoForward&&this.forwardTo.add(childService.id),childService.onDone((function(doneEvent){_this.removeChild(childService.id),_this.send(toSCXMLEvent(doneEvent,{origin:childService.id}))})).start(),actor},Interpreter.prototype.spawnBehavior=function(behavior,id){var actorRef=spawnBehavior(behavior,{id:id,parent:this});return this.children.set(id,actorRef),actorRef},Interpreter.prototype.spawnPromise=function(promise,id){var _a,resolvedData,_this=this,canceled=!1;promise.then((function(response){canceled||(resolvedData=response,_this.removeChild(id),_this.send(toSCXMLEvent(actions_doneInvoke(id,response),{origin:id})))}),(function(errorData){if(!canceled){_this.removeChild(id);var errorEvent=actions_error(id,errorData);try{_this.send(toSCXMLEvent(errorEvent,{origin:id}))}catch(error){!function(originalError,currentError,id){if(!environment_IS_PRODUCTION){var originalStackTrace=originalError.stack?" Stacktrace was '".concat(originalError.stack,"'"):"";if(originalError===currentError)console.error("Missing onError handler for invocation '".concat(id,"', error was '").concat(originalError,"'.").concat(originalStackTrace));else{var stackTrace=currentError.stack?" Stacktrace was '".concat(currentError.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(id,"'. ")+"Original error: '".concat(originalError,"'. ").concat(originalStackTrace," Current error is '").concat(currentError,"'.").concat(stackTrace))}}}(errorData,error,id),_this.devTools&&_this.devTools.send(errorEvent,_this.state),_this.machine.strict&&_this.stop()}}}));var actor=((_a={id:id,send:function(){},subscribe:function(next,handleError,complete){var observer=toObserver(next,handleError,complete),unsubscribed=!1;return promise.then((function(response){unsubscribed||(observer.next(response),unsubscribed||observer.complete())}),(function(err){unsubscribed||observer.error(err)})),{unsubscribe:function(){return unsubscribed=!0}}},stop:function(){canceled=!0},toJSON:function(){return{id:id}},getSnapshot:function(){return resolvedData}})[symbolObservable]=function(){return this},_a);return this.children.set(id,actor),actor},Interpreter.prototype.spawnCallback=function(callback,id){var _a,emitted,callbackStop,_this=this,canceled=!1,receivers=new Set,listeners=new Set;try{callbackStop=callback((function(e){emitted=e,listeners.forEach((function(listener){return listener(e)})),canceled||_this.send(toSCXMLEvent(e,{origin:id}))}),(function(newListener){receivers.add(newListener)}))}catch(err){this.send(actions_error(id,err))}if(isPromiseLike(callbackStop))return this.spawnPromise(callbackStop,id);var actor=((_a={id:id,send:function(event){return receivers.forEach((function(receiver){return receiver(event)}))},subscribe:function(next){var observer=toObserver(next);return listeners.add(observer.next),{unsubscribe:function(){listeners.delete(observer.next)}}},stop:function(){canceled=!0,utils_isFunction(callbackStop)&&callbackStop()},toJSON:function(){return{id:id}},getSnapshot:function(){return emitted}})[symbolObservable]=function(){return this},_a);return this.children.set(id,actor),actor},Interpreter.prototype.spawnObservable=function(source,id){var _a,emitted,_this=this,subscription=source.subscribe((function(value){emitted=value,_this.send(toSCXMLEvent(value,{origin:id}))}),(function(err){_this.removeChild(id),_this.send(toSCXMLEvent(actions_error(id,err),{origin:id}))}),(function(){_this.removeChild(id),_this.send(toSCXMLEvent(actions_doneInvoke(id),{origin:id}))})),actor=((_a={id:id,send:function(){},subscribe:function(next,handleError,complete){return source.subscribe(next,handleError,complete)},stop:function(){return subscription.unsubscribe()},getSnapshot:function(){return emitted},toJSON:function(){return{id:id}}})[symbolObservable]=function(){return this},_a);return this.children.set(id,actor),actor},Interpreter.prototype.spawnActor=function(actor,name){return this.children.set(name,actor),actor},Interpreter.prototype.spawnActivity=function(activity){var implementation=this.machine.options&&this.machine.options.activities?this.machine.options.activities[activity.type]:void 0;if(implementation){var dispose=implementation(this.state.context,activity);this.spawnEffect(activity.id,dispose)}else environment_IS_PRODUCTION||utils_warn(!1,"No implementation found for activity '".concat(activity.type,"'"))},Interpreter.prototype.spawnEffect=function(id,dispose){var _a;this.children.set(id,((_a={id:id,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:dispose||void 0,getSnapshot:function(){},toJSON:function(){return{id:id}}})[symbolObservable]=function(){return this},_a))},Interpreter.prototype.attachDev=function(){var global=getGlobal();if(this.options.devTools&&global){if(global.__REDUX_DEVTOOLS_EXTENSION__){var devToolsOptions="object"===interpreter_typeof(this.options.devTools)?this.options.devTools:void 0;this.devTools=global.__REDUX_DEVTOOLS_EXTENSION__.connect(_assign(_assign({name:this.id,autoPause:!0,stateSanitizer:function(state){return{value:state.value,context:state.context,actions:state.actions}}},devToolsOptions),{features:_assign({jump:!1,skip:!1},devToolsOptions?devToolsOptions.features:void 0)}),this.machine),this.devTools.init(this.state)}registerService(this)}},Interpreter.prototype.toJSON=function(){return{id:this.id}},Interpreter.prototype[symbolObservable]=function(){return this},Interpreter.prototype.getSnapshot=function(){return this.status===InterpreterStatus.NotStarted?this.initialState:this._state},Interpreter.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(_setTimeout){function setTimeout(_x,_x2){return _setTimeout.apply(this,arguments)}return setTimeout.toString=function(){return _setTimeout.toString()},setTimeout}((function(fn,ms){return setTimeout(fn,ms)})),clearTimeout:function(_clearTimeout){function clearTimeout(_x3){return _clearTimeout.apply(this,arguments)}return clearTimeout.toString=function(){return _clearTimeout.toString()},clearTimeout}((function(id){return clearTimeout(id)}))},logger:console.log.bind(console),devTools:!1},Interpreter.interpret=interpret,Interpreter}();function interpret(machine,options){return new Interpreter(machine,options)}var external_kolibriCoreAppGlobal_lib_vuex_namespaceObject=kolibriCoreAppGlobal.lib.vuex,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.commonCoreStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_namespaceObject),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.responsiveWindowMixin,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_namespaceObject),external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject=kolibriCoreAppGlobal.utils.appCapabilities,lockr=__webpack_require__(1922),lockr_default=__webpack_require__.n(lockr),uniq=__webpack_require__(977),uniq_default=__webpack_require__.n(uniq),constants_Presets=Object.freeze({PERSONAL:"informal",FORMAL:"formal",NONFORMAL:"nonformal"}),constants_UsePresets=Object.freeze({GROUP:"group"}),FacilityTypePresets=Object.freeze({NEW:"NEW",IMPORT:"IMPORT"}),LodTypePresets=Object.freeze({JOIN:"JOIN",IMPORT:"IMPORT"}),DeviceTypePresets=Object.freeze({FULL:"FULL",LOD:"LOD"}),FooterMessageTypes=Object.freeze({NEW_FACILITY:"NEW_FACILITY",IMPORT_FACILITY:"IMPORT_FACILITY",IMPORT_INDIVIDUALS:"IMPORT_INDIVIDUALS",JOIN_FACILITY:"JOIN_FACILITY"});function invokeUtils_toInvokeSource(src){if("string"==typeof src){var simpleSrc={type:src,toString:function(){return src}};return simpleSrc}return src}function toInvokeDefinition(invokeConfig){return _assign(_assign({type:invoke},invokeConfig),{toJSON:function(){invokeConfig.onDone,invokeConfig.onError;var invokeDef=__rest(invokeConfig,["onDone","onError"]);return _assign(_assign({},invokeDef),{type:invoke,src:invokeUtils_toInvokeSource(invokeConfig.src)})}})}function StateNode_typeof(o){return StateNode_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},StateNode_typeof(o)}var EMPTY_OBJECT={},isStateId=function(str){return"#"===str[0]},StateNode_StateNode=function(){function StateNode(config,options,_context,_stateInfo){void 0===_context&&(_context="context"in config?config.context:void 0);var _a,_this=this;this.config=config,this._context=_context,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},options),this.parent=null==_stateInfo?void 0:_stateInfo.parent,this.key=this.config.key||(null==_stateInfo?void 0:_stateInfo.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||_tslib_spreadArray([this.machine.key],_tslib_read(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(_a=this.config.schema)&&void 0!==_a?_a:{},this.description=this.config.description,environment_IS_PRODUCTION||utils_warn(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?mapValues(this.config.states,(function(stateConfig,key){var _a,stateNode=new StateNode(stateConfig,{},void 0,{parent:_this,key:key});return Object.assign(_this.idMap,_assign(((_a={})[stateNode.id]=stateNode,_a),stateNode.idMap)),stateNode})):EMPTY_OBJECT;var order=0;!function dfs(stateNode){var e_1,_a;stateNode.order=order++;try{for(var _b=_tslib_values(getAllChildren(stateNode)),_c=_b.next();!_c.done;_c=_b.next()){dfs(_c.value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(_a){return""===_a.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=toArray(this.config.entry||this.config.onEntry).map((function(action){return toActionObject(action)})),this.onExit=toArray(this.config.exit||this.config.onExit).map((function(action){return toActionObject(action)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=toArray(this.config.invoke).map((function(invokeConfig,i){var _a,_b;if(utils_isMachine(invokeConfig)){var invokeId=createInvokeId(_this.id,i);return _this.machine.options.services=_assign(((_a={})[invokeId]=invokeConfig,_a),_this.machine.options.services),toInvokeDefinition({src:invokeId,id:invokeId})}if(utils_isString(invokeConfig.src)){invokeId=invokeConfig.id||createInvokeId(_this.id,i);return toInvokeDefinition(_assign(_assign({},invokeConfig),{id:invokeId,src:invokeConfig.src}))}if(utils_isMachine(invokeConfig.src)||utils_isFunction(invokeConfig.src)){invokeId=invokeConfig.id||createInvokeId(_this.id,i);return _this.machine.options.services=_assign(((_b={})[invokeId]=invokeConfig.src,_b),_this.machine.options.services),toInvokeDefinition(_assign(_assign({id:invokeId},invokeConfig),{src:invokeId}))}var invokeSource=invokeConfig.src;return toInvokeDefinition(_assign(_assign({id:createInvokeId(_this.id,i)},invokeConfig),{src:invokeSource}))})),this.activities=toArray(this.config.activities).concat(this.invoke).map((function(activity){return toActivityDefinition(activity)})),this.transition=this.transition.bind(this),this.tags=toArray(this.config.tags)}return StateNode.prototype._init=function(){this.__cache.transitions||getAllStateNodes(this).forEach((function(stateNode){return stateNode.on}))},StateNode.prototype.withConfig=function(options,context){var _a=this.options,actions=_a.actions,activities=_a.activities,guards=_a.guards,services=_a.services,delays=_a.delays;return new StateNode(this.config,{actions:_assign(_assign({},actions),options.actions),activities:_assign(_assign({},activities),options.activities),guards:_assign(_assign({},guards),options.guards),services:_assign(_assign({},services),options.services),delays:_assign(_assign({},delays),options.delays)},null!=context?context:this.context)},StateNode.prototype.withContext=function(context){return new StateNode(this.config,this.options,context)},Object.defineProperty(StateNode.prototype,"context",{get:function(){return utils_isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:mapValues(this.states,(function(state){return state.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),StateNode.prototype.toJSON=function(){return this.definition},Object.defineProperty(StateNode.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var transitions=this.transitions;return this.__cache.on=transitions.reduce((function(map,transition){return map[transition.eventType]=map[transition.eventType]||[],map[transition.eventType].push(transition),map}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),StateNode.prototype.getCandidates=function(eventName){if(this.__cache.candidates[eventName])return this.__cache.candidates[eventName];var transient=""===eventName,candidates=this.transitions.filter((function(transition){var sameEventType=transition.eventType===eventName;return transient?sameEventType:sameEventType||"*"===transition.eventType}));return this.__cache.candidates[eventName]=candidates,candidates},StateNode.prototype.getDelayedTransitions=function(){var _this=this,afterConfig=this.config.after;if(!afterConfig)return[];var mutateEntryExit=function(delay,i){var eventType=function(delayRef,id){var idSuffix=id?"#".concat(id):"";return"".concat(types_ActionTypes.After,"(").concat(delayRef,")").concat(idSuffix)}(utils_isFunction(delay)?"".concat(_this.id,":delay[").concat(i,"]"):delay,_this.id);return _this.onEntry.push(actions_send(eventType,{delay:delay})),_this.onExit.push({type:actionTypes_cancel,sendId:eventType}),eventType};return(isArray(afterConfig)?afterConfig.map((function(transition,i){var eventType=mutateEntryExit(transition.delay,i);return _assign(_assign({},transition),{event:eventType})})):flatten(Object.keys(afterConfig).map((function(delay,i){var configTransition=afterConfig[delay],resolvedTransition=utils_isString(configTransition)?{target:configTransition}:configTransition,resolvedDelay=isNaN(+delay)?delay:+delay,eventType=mutateEntryExit(resolvedDelay,i);return toArray(resolvedTransition).map((function(transition){return _assign(_assign({},transition),{event:eventType,delay:resolvedDelay})}))})))).map((function(delayedTransition){var delay=delayedTransition.delay;return _assign(_assign({},_this.formatTransition(delayedTransition)),{delay:delay})}))},StateNode.prototype.getStateNodes=function(state){var _a,_this=this;if(!state)return[];var stateValue=state instanceof State?state.value:toStateValue(state,this.delimiter);if(utils_isString(stateValue)){var initialStateValue=this.getStateNode(stateValue).initial;return void 0!==initialStateValue?this.getStateNodes(((_a={})[stateValue]=initialStateValue,_a)):[this,this.states[stateValue]]}var subStateKeys=Object.keys(stateValue),subStateNodes=[this];return subStateNodes.push.apply(subStateNodes,_tslib_spreadArray([],_tslib_read(flatten(subStateKeys.map((function(subStateKey){return _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey])})))),!1)),subStateNodes},StateNode.prototype.handles=function(event){var eventType=getEventType(event);return this.events.includes(eventType)},StateNode.prototype.resolveState=function(state){var stateFromConfig=state instanceof State?state:State.create(state),configuration=Array.from(getConfiguration([],this.getStateNodes(stateFromConfig.value)));return new State(_assign(_assign({},stateFromConfig),{value:this.resolve(stateFromConfig.value),configuration:configuration,done:isInFinalState(configuration,this),tags:getTagsFromConfiguration(configuration),machine:this.machine}))},StateNode.prototype.transitionLeafNode=function(stateValue,state,_event){var next=this.getStateNode(stateValue).next(state,_event);return next&&next.transitions.length?next:this.next(state,_event)},StateNode.prototype.transitionCompoundNode=function(stateValue,state,_event){var subStateKeys=Object.keys(stateValue),next=this.getStateNode(subStateKeys[0])._transition(stateValue[subStateKeys[0]],state,_event);return next&&next.transitions.length?next:this.next(state,_event)},StateNode.prototype.transitionParallelNode=function(stateValue,state,_event){var e_2,_a,transitionMap={};try{for(var _b=_tslib_values(Object.keys(stateValue)),_c=_b.next();!_c.done;_c=_b.next()){var subStateKey=_c.value,subStateValue=stateValue[subStateKey];if(subStateValue){var next=this.getStateNode(subStateKey)._transition(subStateValue,state,_event);next&&(transitionMap[subStateKey]=next)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}var stateTransitions=Object.keys(transitionMap).map((function(key){return transitionMap[key]})),enabledTransitions=flatten(stateTransitions.map((function(st){return st.transitions})));if(!stateTransitions.some((function(st){return st.transitions.length>0})))return this.next(state,_event);var configuration=flatten(Object.keys(transitionMap).map((function(key){return transitionMap[key].configuration})));return{transitions:enabledTransitions,exitSet:flatten(stateTransitions.map((function(t){return t.exitSet}))),configuration:configuration,source:state,actions:flatten(Object.keys(transitionMap).map((function(key){return transitionMap[key].actions})))}},StateNode.prototype._transition=function(stateValue,state,_event){return utils_isString(stateValue)?this.transitionLeafNode(stateValue,state,_event):1===Object.keys(stateValue).length?this.transitionCompoundNode(stateValue,state,_event):this.transitionParallelNode(stateValue,state,_event)},StateNode.prototype.getTransitionData=function(state,event){return this._transition(state.value,state,toSCXMLEvent(event))},StateNode.prototype.next=function(state,_event){var e_3,_a,selectedTransition,_this=this,eventName=_event.name,actions=[],nextStateNodes=[];try{for(var _b=_tslib_values(this.getCandidates(eventName)),_c=_b.next();!_c.done;_c=_b.next()){var candidate=_c.value,cond=candidate.cond,stateIn=candidate.in,resolvedContext=state.context,isInState=!stateIn||(utils_isString(stateIn)&&isStateId(stateIn)?state.matches(toStateValue(this.getStateNodeById(stateIn).path,this.delimiter)):matchesState(toStateValue(stateIn,this.delimiter),path(this.path.slice(0,-2))(state.value))),guardPassed=!1;try{guardPassed=!cond||evaluateGuard(this.machine,cond,resolvedContext,_event,state)}catch(err){throw new Error("Unable to evaluate guard '".concat(cond.name||cond.type,"' in transition for event '").concat(eventName,"' in state node '").concat(this.id,"':\n").concat(err.message))}if(guardPassed&&isInState){void 0!==candidate.target&&(nextStateNodes=candidate.target),actions.push.apply(actions,_tslib_spreadArray([],_tslib_read(candidate.actions),!1)),selectedTransition=candidate;break}}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_3)throw e_3.error}}if(selectedTransition){if(!nextStateNodes.length)return{transitions:[selectedTransition],exitSet:[],configuration:state.value?[this]:[],source:state,actions:actions};var allNextStateNodes=flatten(nextStateNodes.map((function(stateNode){return _this.getRelativeStateNodes(stateNode,state.historyValue)})));return{transitions:[selectedTransition],exitSet:!!selectedTransition.internal?[]:flatten(nextStateNodes.map((function(targetNode){return _this.getPotentiallyReenteringNodes(targetNode)}))),configuration:allNextStateNodes,source:state,actions:actions}}},StateNode.prototype.getPotentiallyReenteringNodes=function(targetNode){if(this.order<targetNode.order)return[this];for(var nodes=[],marker=this,possibleAncestor=targetNode;marker&&marker!==possibleAncestor;)nodes.push(marker),marker=marker.parent;return marker!==possibleAncestor?[]:(nodes.push(possibleAncestor),nodes)},StateNode.prototype.getActions=function(resolvedConfig,isDone,transition,currentContext,_event,prevState,predictableExec){var e_4,_a,e_5,_b,_this=this,prevConfig=prevState?getConfiguration([],this.getStateNodes(prevState.value)):[],entrySet=new Set;try{for(var _c=_tslib_values(Array.from(resolvedConfig).sort((function(a,b){return a.order-b.order}))),_d=_c.next();!_d.done;_d=_c.next()){(!has(prevConfig,sn=_d.value)||has(transition.exitSet,sn)||sn.parent&&entrySet.has(sn.parent))&&entrySet.add(sn)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_4)throw e_4.error}}try{for(var prevConfig_1=_tslib_values(prevConfig),prevConfig_1_1=prevConfig_1.next();!prevConfig_1_1.done;prevConfig_1_1=prevConfig_1.next()){var sn;has(resolvedConfig,sn=prevConfig_1_1.value)&&!has(transition.exitSet,sn.parent)||transition.exitSet.push(sn)}}catch(e_5_1){e_5={error:e_5_1}}finally{try{prevConfig_1_1&&!prevConfig_1_1.done&&(_b=prevConfig_1.return)&&_b.call(prevConfig_1)}finally{if(e_5)throw e_5.error}}transition.exitSet.sort((function(a,b){return b.order-a.order}));var entryStates=Array.from(entrySet).sort((function(a,b){return a.order-b.order})),exitStates=new Set(transition.exitSet),doneEvents=flatten(entryStates.map((function(sn){var events=[];if("final"!==sn.type)return events;var parent=sn.parent;if(!parent.parent)return events;events.push(done(sn.id,sn.doneData),done(parent.id,sn.doneData?mapContext(sn.doneData,currentContext,_event):void 0));var grandparent=parent.parent;return"parallel"===grandparent.type&&getChildren(grandparent).every((function(parentNode){return isInFinalState(transition.configuration,parentNode)}))&&events.push(done(grandparent.id)),events}))),entryActions=entryStates.map((function(stateNode){var entryActions=stateNode.onEntry,invokeActions=stateNode.activities.map((function(activity){return function(activity){var activityDef=toActivityDefinition(activity);return{type:types_ActionTypes.Start,activity:activityDef,exec:void 0}}(activity)}));return{type:"entry",actions:toActionObjects(predictableExec?_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(entryActions),!1),_tslib_read(invokeActions),!1):_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(invokeActions),!1),_tslib_read(entryActions),!1),_this.machine.options.actions)}})).concat({type:"state_done",actions:doneEvents.map((function(event){return function(event,options){return{type:raise,event:"function"==typeof event?event:toEventObject(event),delay:options?options.delay:void 0,id:null==options?void 0:options.id}}(event)}))}),actions=Array.from(exitStates).map((function(stateNode){return{type:"exit",actions:toActionObjects(_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(stateNode.onExit),!1),_tslib_read(stateNode.activities.map((function(activity){return function(actorRef){var activity=utils_isFunction(actorRef)?actorRef:toActivityDefinition(actorRef);return{type:types_ActionTypes.Stop,activity:activity,exec:void 0}}(activity)}))),!1),_this.machine.options.actions)}})).concat({type:"transition",actions:toActionObjects(transition.actions,this.machine.options.actions)}).concat(entryActions);if(isDone){var stopActions=toActionObjects(flatten(_tslib_spreadArray([],_tslib_read(resolvedConfig),!1).sort((function(a,b){return b.order-a.order})).map((function(stateNode){return stateNode.onExit}))),this.machine.options.actions).filter((function(action){return!isRaisableAction(action)}));return actions.concat({type:"stop",actions:stopActions})}return actions},StateNode.prototype.transition=function(state,event,context,exec){void 0===state&&(state=this.initialState);var currentState,eventType,_event=toSCXMLEvent(event);if(state instanceof State)currentState=void 0===context?state:this.resolveState(State.from(state,context));else{var resolvedStateValue=utils_isString(state)?this.resolve(pathToStateValue(this.getResolvedPath(state))):this.resolve(state),resolvedContext=null!=context?context:this.machine.context;currentState=this.resolveState(State.from(resolvedStateValue,resolvedContext))}if(!environment_IS_PRODUCTION&&"*"===_event.name)throw new Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(_event.name)&&(eventType=_event.name,!/^(done|error)\./.test(eventType)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(_event.name,"'"));var stateTransition=this._transition(currentState.value,currentState,_event)||{transitions:[],configuration:[],exitSet:[],source:currentState,actions:[]},prevConfig=getConfiguration([],this.getStateNodes(currentState.value)),resolvedConfig=stateTransition.configuration.length?getConfiguration(prevConfig,stateTransition.configuration):prevConfig;return stateTransition.configuration=_tslib_spreadArray([],_tslib_read(resolvedConfig),!1),this.resolveTransition(stateTransition,currentState,currentState.context,exec,_event)},StateNode.prototype.resolveRaisedTransition=function(state,_event,originalEvent,predictableExec){var _a,currentActions=state.actions;return(state=this.transition(state,_event,void 0,predictableExec))._event=originalEvent,state.event=originalEvent.data,(_a=state.actions).unshift.apply(_a,_tslib_spreadArray([],_tslib_read(currentActions),!1)),state},StateNode.prototype.resolveTransition=function(stateTransition,currentState,context,predictableExec,_event){var e_6,_a,e_7,_b,_this=this;void 0===_event&&(_event=initEvent);var configuration=stateTransition.configuration,willTransition=!currentState||stateTransition.transitions.length>0,resolvedConfiguration=willTransition?stateTransition.configuration:currentState?currentState.configuration:[],isDone=isInFinalState(resolvedConfiguration,this),resolvedStateValue=willTransition?getValue(this.machine,configuration):void 0,historyValue=currentState?currentState.historyValue?currentState.historyValue:stateTransition.source?this.machine.historyValue(currentState.value):void 0:void 0,actionBlocks=this.getActions(new Set(resolvedConfiguration),isDone,stateTransition,context,_event,currentState,predictableExec),activities=currentState?_assign({},currentState.activities):{};try{for(var actionBlocks_1=_tslib_values(actionBlocks),actionBlocks_1_1=actionBlocks_1.next();!actionBlocks_1_1.done;actionBlocks_1_1=actionBlocks_1.next()){var block=actionBlocks_1_1.value;try{for(var _c=(e_7=void 0,_tslib_values(block.actions)),_d=_c.next();!_d.done;_d=_c.next()){var action=_d.value;action.type===start?activities[action.activity.id||action.activity.type]=action:action.type===stop&&(activities[action.activity.id||action.activity.type]=!1)}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_d&&!_d.done&&(_b=_c.return)&&_b.call(_c)}finally{if(e_7)throw e_7.error}}}}catch(e_6_1){e_6={error:e_6_1}}finally{try{actionBlocks_1_1&&!actionBlocks_1_1.done&&(_a=actionBlocks_1.return)&&_a.call(actionBlocks_1)}finally{if(e_6)throw e_6.error}}var hist,stateValue,_e=_tslib_read(resolveActions(this,currentState,context,_event,actionBlocks,predictableExec,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),resolvedActions=_e[0],updatedContext=_e[1],_f=_tslib_read(function(items,predicate){var e_6,_a,_b=_tslib_read([[],[]],2),truthy=_b[0],falsy=_b[1];try{for(var items_1=_tslib_values(items),items_1_1=items_1.next();!items_1_1.done;items_1_1=items_1.next()){var item=items_1_1.value;predicate(item)?truthy.push(item):falsy.push(item)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{items_1_1&&!items_1_1.done&&(_a=items_1.return)&&_a.call(items_1)}finally{if(e_6)throw e_6.error}}return[truthy,falsy]}(resolvedActions,isRaisableAction),2),raisedEvents=_f[0],nonRaisedActions=_f[1],invokeActions=resolvedActions.filter((function(action){var _a;return action.type===start&&(null===(_a=action.activity)||void 0===_a?void 0:_a.type)===invoke})),children=invokeActions.reduce((function(acc,action){return acc[action.activity.id]=function(invokeDefinition,machine,context,_event){var _a,invokeSrc=toInvokeSource(invokeDefinition.src),serviceCreator=null===(_a=null==machine?void 0:machine.options.services)||void 0===_a?void 0:_a[invokeSrc.type],resolvedData=invokeDefinition.data?mapContext(invokeDefinition.data,context,_event):void 0,tempActor=serviceCreator?Actor_createDeferredActor(serviceCreator,invokeDefinition.id,resolvedData):createNullActor(invokeDefinition.id);return tempActor.meta=invokeDefinition,tempActor}(action.activity,_this.machine,updatedContext,_event),acc}),currentState?_assign({},currentState.children):{}),nextState=new State({value:resolvedStateValue||currentState.value,context:updatedContext,_event:_event,_sessionid:currentState?currentState._sessionid:null,historyValue:resolvedStateValue?historyValue?(hist=historyValue,stateValue=resolvedStateValue,{current:stateValue,states:updateHistoryStates(hist,stateValue)}):void 0:currentState?currentState.historyValue:void 0,history:!resolvedStateValue||stateTransition.source?currentState:void 0,actions:resolvedStateValue?nonRaisedActions:[],activities:resolvedStateValue?activities:currentState?currentState.activities:{},events:[],configuration:resolvedConfiguration,transitions:stateTransition.transitions,children:children,done:isDone,tags:getTagsFromConfiguration(resolvedConfiguration),machine:this}),didUpdateContext=context!==updatedContext;nextState.changed=_event.name===actionTypes_update||didUpdateContext;var history=nextState.history;history&&delete history.history;var hasAlwaysTransitions=!isDone&&(this._transient||configuration.some((function(stateNode){return stateNode._transient})));if(!(willTransition||hasAlwaysTransitions&&""!==_event.name))return nextState;var maybeNextState=nextState;if(!isDone)for(hasAlwaysTransitions&&(maybeNextState=this.resolveRaisedTransition(maybeNextState,{type:nullEvent},_event,predictableExec));raisedEvents.length;){var raisedEvent=raisedEvents.shift();maybeNextState=this.resolveRaisedTransition(maybeNextState,raisedEvent._event,_event,predictableExec)}var changed=maybeNextState.changed||(history?!!maybeNextState.actions.length||didUpdateContext||StateNode_typeof(history.value)!==StateNode_typeof(maybeNextState.value)||!stateValuesEqual(maybeNextState.value,history.value):void 0);return maybeNextState.changed=changed,maybeNextState.history=history,maybeNextState},StateNode.prototype.getStateNode=function(stateKey){if(isStateId(stateKey))return this.machine.getStateNodeById(stateKey);if(!this.states)throw new Error("Unable to retrieve child state '".concat(stateKey,"' from '").concat(this.id,"'; no child states exist."));var result=this.states[stateKey];if(!result)throw new Error("Child state '".concat(stateKey,"' does not exist on '").concat(this.id,"'"));return result},StateNode.prototype.getStateNodeById=function(stateId){var resolvedStateId=isStateId(stateId)?stateId.slice(1):stateId;if(resolvedStateId===this.id)return this;var stateNode=this.machine.idMap[resolvedStateId];if(!stateNode)throw new Error("Child state node '#".concat(resolvedStateId,"' does not exist on machine '").concat(this.id,"'"));return stateNode},StateNode.prototype.getStateNodeByPath=function(statePath){if("string"==typeof statePath&&isStateId(statePath))try{return this.getStateNodeById(statePath.slice(1))}catch(e){}for(var arrayStatePath=toStatePath(statePath,this.delimiter).slice(),currentStateNode=this;arrayStatePath.length;){var key=arrayStatePath.shift();if(!key.length)break;currentStateNode=currentStateNode.getStateNode(key)}return currentStateNode},StateNode.prototype.resolve=function(stateValue){var _a,_this=this;if(!stateValue)return this.initialStateValue||EMPTY_OBJECT;switch(this.type){case"parallel":return mapValues(this.initialStateValue,(function(subStateValue,subStateKey){return subStateValue?_this.getStateNode(subStateKey).resolve(stateValue[subStateKey]||subStateValue):EMPTY_OBJECT}));case"compound":if(utils_isString(stateValue)){var subStateNode=this.getStateNode(stateValue);return"parallel"===subStateNode.type||"compound"===subStateNode.type?((_a={})[stateValue]=subStateNode.initialStateValue,_a):stateValue}return Object.keys(stateValue).length?mapValues(stateValue,(function(subStateValue,subStateKey){return subStateValue?_this.getStateNode(subStateKey).resolve(subStateValue):EMPTY_OBJECT})):this.initialStateValue||{};default:return stateValue||EMPTY_OBJECT}},StateNode.prototype.getResolvedPath=function(stateIdentifier){if(isStateId(stateIdentifier)){var stateNode=this.machine.idMap[stateIdentifier.slice(1)];if(!stateNode)throw new Error("Unable to find state node '".concat(stateIdentifier,"'"));return stateNode.path}return toStatePath(stateIdentifier,this.delimiter)},Object.defineProperty(StateNode.prototype,"initialStateValue",{get:function(){var _a,initialStateValue;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)initialStateValue=mapFilterValues(this.states,(function(state){return state.initialStateValue||EMPTY_OBJECT}),(function(stateNode){return!("history"===stateNode.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));initialStateValue=isLeafNode(this.states[this.initial])?this.initial:((_a={})[this.initial]=this.states[this.initial].initialStateValue,_a)}else initialStateValue={};return this.__cache.initialStateValue=initialStateValue,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),StateNode.prototype.getInitialState=function(stateValue,context){this._init();var configuration=this.getStateNodes(stateValue);return this.resolveTransition({configuration:configuration,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=context?context:this.machine.context,void 0)},Object.defineProperty(StateNode.prototype,"initialState",{get:function(){var initialStateValue=this.initialStateValue;if(!initialStateValue)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(initialStateValue)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"target",{get:function(){var target;if("history"===this.type){var historyConfig=this.config;target=utils_isString(historyConfig.target)&&isStateId(historyConfig.target)?pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length-1)):historyConfig.target}return target},enumerable:!1,configurable:!0}),StateNode.prototype.getRelativeStateNodes=function(relativeStateId,historyValue,resolve){return void 0===resolve&&(resolve=!0),resolve?"history"===relativeStateId.type?relativeStateId.resolveHistory(historyValue):relativeStateId.initialStateNodes:[relativeStateId]},Object.defineProperty(StateNode.prototype,"initialStateNodes",{get:function(){var _this=this;return isLeafNode(this)?[this]:"compound"!==this.type||this.initial?flatten(toStatePaths(this.initialStateValue).map((function(initialPath){return _this.getFromRelativePath(initialPath)}))):(environment_IS_PRODUCTION||utils_warn(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),StateNode.prototype.getFromRelativePath=function(relativePath){if(!relativePath.length)return[this];var _a=_tslib_read(relativePath),stateKey=_a[0],childStatePath=_a.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(stateKey,"' from node with no states"));var childStateNode=this.getStateNode(stateKey);if("history"===childStateNode.type)return childStateNode.resolveHistory();if(!this.states[stateKey])throw new Error("Child state '".concat(stateKey,"' does not exist on '").concat(this.id,"'"));return this.states[stateKey].getFromRelativePath(childStatePath)},StateNode.prototype.historyValue=function(relativeStateValue){if(Object.keys(this.states).length)return{current:relativeStateValue||this.initialStateValue,states:mapFilterValues(this.states,(function(stateNode,key){if(!relativeStateValue)return stateNode.historyValue();var subStateValue=utils_isString(relativeStateValue)?void 0:relativeStateValue[key];return stateNode.historyValue(subStateValue||stateNode.initialStateValue)}),(function(stateNode){return!stateNode.history}))}},StateNode.prototype.resolveHistory=function(historyValue){var _this=this;if("history"!==this.type)return[this];var parent=this.parent;if(!historyValue){var historyTarget=this.target;return historyTarget?flatten(toStatePaths(historyTarget).map((function(relativeChildPath){return parent.getFromRelativePath(relativeChildPath)}))):parent.initialStateNodes}var props,accessorProp,subHistoryValue=(props=parent.path,accessorProp="states",function(object){var e_3,_a,result=object;try{for(var props_2=_tslib_values(props),props_2_1=props_2.next();!props_2_1.done;props_2_1=props_2.next()){var prop=props_2_1.value;result=result[accessorProp][prop]}}catch(e_3_1){e_3={error:e_3_1}}finally{try{props_2_1&&!props_2_1.done&&(_a=props_2.return)&&_a.call(props_2)}finally{if(e_3)throw e_3.error}}return result})(historyValue).current;return utils_isString(subHistoryValue)?[parent.getStateNode(subHistoryValue)]:flatten(toStatePaths(subHistoryValue).map((function(subStatePath){return"deep"===_this.history?parent.getFromRelativePath(subStatePath):[parent.states[subStatePath[0]]]})))},Object.defineProperty(StateNode.prototype,"stateIds",{get:function(){var _this=this,childStateIds=flatten(Object.keys(this.states).map((function(stateKey){return _this.states[stateKey].stateIds})));return[this.id].concat(childStateIds)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"events",{get:function(){var e_8,_a,e_9,_b;if(this.__cache.events)return this.__cache.events;var states=this.states,events=new Set(this.ownEvents);if(states)try{for(var _c=_tslib_values(Object.keys(states)),_d=_c.next();!_d.done;_d=_c.next()){var state=states[_d.value];if(state.states)try{for(var _e=(e_9=void 0,_tslib_values(state.events)),_f=_e.next();!_f.done;_f=_e.next()){var event_1=_f.value;events.add("".concat(event_1))}}catch(e_9_1){e_9={error:e_9_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_9)throw e_9.error}}}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_8)throw e_8.error}}return this.__cache.events=Array.from(events)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"ownEvents",{get:function(){var events=new Set(this.transitions.filter((function(transition){return!(!transition.target&&!transition.actions.length&&transition.internal)})).map((function(transition){return transition.eventType})));return Array.from(events)},enumerable:!1,configurable:!0}),StateNode.prototype.resolveTarget=function(_target){var _this=this;if(void 0!==_target)return _target.map((function(target){if(!utils_isString(target))return target;var isInternalTarget=target[0]===_this.delimiter;if(isInternalTarget&&!_this.parent)return _this.getStateNodeByPath(target.slice(1));var resolvedTarget=isInternalTarget?_this.key+target:target;if(!_this.parent)return _this.getStateNodeByPath(resolvedTarget);try{return _this.parent.getStateNodeByPath(resolvedTarget)}catch(err){throw new Error("Invalid transition definition for state node '".concat(_this.id,"':\n").concat(err.message))}}))},StateNode.prototype.formatTransition=function(transitionConfig){var _this=this,normalizedTarget=function(target){if(void 0!==target&&""!==target)return toArray(target)}(transitionConfig.target),internal="internal"in transitionConfig?transitionConfig.internal:!normalizedTarget||normalizedTarget.some((function(_target){return utils_isString(_target)&&_target[0]===_this.delimiter})),guards=this.machine.options.guards,target=this.resolveTarget(normalizedTarget),transition=_assign(_assign({},transitionConfig),{actions:toActionObjects(toArray(transitionConfig.actions)),cond:toGuard(transitionConfig.cond,guards),target:target,source:this,internal:internal,eventType:transitionConfig.event,toJSON:function(){return _assign(_assign({},transition),{target:transition.target?transition.target.map((function(t){return"#".concat(t.id)})):void 0,source:"#".concat(_this.id)})}});return transition},StateNode.prototype.formatTransitions=function(){var e_10,_a,onConfig,_this=this;if(this.config.on)if(Array.isArray(this.config.on))onConfig=this.config.on;else{var _b=this.config.on,_d=_b["*"],wildcardConfigs=void 0===_d?[]:_d,strictTransitionConfigs_1=__rest(_b,[(StateNode_typeof("*"),"*")]);onConfig=flatten(Object.keys(strictTransitionConfigs_1).map((function(key){environment_IS_PRODUCTION||""!==key||utils_warn(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(_this.id,'".'));var transitionConfigArray=toTransitionConfigArray(key,strictTransitionConfigs_1[key]);return environment_IS_PRODUCTION||function(stateNode,event,transitions){var hasNonLastUnguardedTarget=transitions.slice(0,-1).some((function(transition){return!("cond"in transition)&&!("in"in transition)&&(utils_isString(transition.target)||utils_isMachine(transition.target))})),eventText=""===event?"the transient event":"event '".concat(event,"'");utils_warn(!hasNonLastUnguardedTarget,"One or more transitions for ".concat(eventText," on state '").concat(stateNode.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(_this,key,transitionConfigArray),transitionConfigArray})).concat(toTransitionConfigArray("*",wildcardConfigs)))}else onConfig=[];var eventlessConfig=this.config.always?toTransitionConfigArray("",this.config.always):[],doneConfig=this.config.onDone?toTransitionConfigArray(String(done(this.id)),this.config.onDone):[];environment_IS_PRODUCTION||utils_warn(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var invokeConfig=flatten(this.invoke.map((function(invokeDef){var settleTransitions=[];return invokeDef.onDone&&settleTransitions.push.apply(settleTransitions,_tslib_spreadArray([],_tslib_read(toTransitionConfigArray(String(actions_doneInvoke(invokeDef.id)),invokeDef.onDone)),!1)),invokeDef.onError&&settleTransitions.push.apply(settleTransitions,_tslib_spreadArray([],_tslib_read(toTransitionConfigArray(String(actions_error(invokeDef.id)),invokeDef.onError)),!1)),settleTransitions}))),delayedTransitions=this.after,formattedTransitions=flatten(_tslib_spreadArray(_tslib_spreadArray(_tslib_spreadArray(_tslib_spreadArray([],_tslib_read(doneConfig),!1),_tslib_read(invokeConfig),!1),_tslib_read(onConfig),!1),_tslib_read(eventlessConfig),!1).map((function(transitionConfig){return toArray(transitionConfig).map((function(transition){return _this.formatTransition(transition)}))})));try{for(var delayedTransitions_1=_tslib_values(delayedTransitions),delayedTransitions_1_1=delayedTransitions_1.next();!delayedTransitions_1_1.done;delayedTransitions_1_1=delayedTransitions_1.next()){var delayedTransition=delayedTransitions_1_1.value;formattedTransitions.push(delayedTransition)}}catch(e_10_1){e_10={error:e_10_1}}finally{try{delayedTransitions_1_1&&!delayedTransitions_1_1.done&&(_a=delayedTransitions_1.return)&&_a.call(delayedTransitions_1)}finally{if(e_10)throw e_10.error}}return formattedTransitions},StateNode}(),warned=!1;var config,options,es_assign=function(assignment){return{type:actionTypes_assign,assignment:assignment}},initialContext={onMyOwnOrGroup:null,facilityNewOrImport:null,facilityName:"",fullOrLOD:null,lodImportOrJoin:null,deviceName:"",formalOrNonformal:null,guestAccess:null,learnerCanCreateAccount:null,requirePassword:null,selectedFacility:null,importDeviceId:null,importDevice:null,superuser:null,lodAdmin:{},remoteUsers:[],importedUsers:[],firstImportedLodUser:null,facilitiesOnDeviceCount:null},wizardMachine=(config={id:"wizard",initial:"initializeContext",context:initialContext,predictableActionArguments:!0,on:{START_OVER:{target:"howAreYouUsingKolibri",actions:"resetContext"}},states:{initializeContext:{on:{CONTINUE:{target:"howAreYouUsingKolibri",actions:"setCanGetOsUser"}}},howAreYouUsingKolibri:{meta:{route:{name:"HOW_ARE_YOU_USING_KOLIBRI",path:"/"}},on:{CONTINUE:{target:"onMyOwnOrGroupSetup",actions:"setOnMyOwnOrGroup"}}},onMyOwnOrGroupSetup:{on:{BACK:"howAreYouUsingKolibri"},always:[{cond:"isOnMyOwnOrGroup",target:"defaultLanguage"},{cond:"isGroupSetup",target:"deviceName"}]},defaultLanguage:{meta:{route:{name:"DEFAULT_LANGUAGE",path:"default-language"}},on:{CONTINUE:"createAccountOrFinalizeSetup",BACK:"howAreYouUsingKolibri"}},createAccountOrFinalizeSetup:{on:{BACK:"defaultLanguage"},always:[{cond:"canGetOsUser",target:"finalizeSetup"},{target:"createOnMyOwnAccount"}]},createOnMyOwnAccount:{meta:{route:{name:"CREATE_SUPERUSER_AND_FACILITY",path:"create-account"}},on:{CONTINUE:{target:"finalizeSetup",actions:"setSuperuser"},BACK:"defaultLanguage"}},deviceName:{meta:{route:{name:"DEVICE_NAME",path:"device-name"}},on:{CONTINUE:{target:"fullOrLearnOnlyDevice",actions:"setDeviceName"},BACK:"howAreYouUsingKolibri"}},fullOrLearnOnlyDevice:{id:"fullOrLearnOnlyDevice",meta:{route:{name:"FULL_OR_LOD",path:"full-or-lod"}},on:{CONTINUE:{target:"fullOrLodSetup",actions:"setFullOrLOD"},BACK:"deviceName"}},fullOrLodSetup:{on:{BACK:"fullOrLearnOnlyDevice"},always:[{cond:"isLodSetup",target:"importLodUsers"},{cond:"isFullSetup",target:"fullDeviceNewOrImportFacility"}]},fullDeviceNewOrImportFacility:{meta:{route:{name:"FULL_NEW_OR_IMPORT_FACILITY"}},on:{CONTINUE:{target:"facilitySetupType",actions:"setFacilityNewOrImport"},BACK:"fullOrLearnOnlyDevice"}},facilitySetupType:{on:{BACK:"fullDeviceNewOrImportFacility"},always:[{cond:"isNewFacility",target:"setFacilityPermissions"},{cond:"isImportFacility",target:"importFacility"}]},setFacilityPermissions:{meta:{route:{name:"FACILITY_PERMISSIONS"}},on:{CONTINUE:{target:"guestAccess",actions:"setFacilityTypeAndName"},BACK:"fullDeviceNewOrImportFacility"}},guestAccess:{meta:{route:{name:"GUEST_ACCESS"}},on:{CONTINUE:{target:"createLearnerAccount",actions:"setGuestAccess"},BACK:{target:"setFacilityPermissions",actions:"setGuestAccess"}}},createLearnerAccount:{meta:{route:{name:"CREATE_LEARNER_ACCOUNT"}},on:{CONTINUE:{target:"requirePassword",actions:"setLearnerCanCreateAccount"},BACK:{target:"guestAccess",actions:"setLearnerCanCreateAccount"}}},requirePassword:{meta:{route:{name:"REQUIRE_PASSWORD"}},on:{CONTINUE:{target:"personalDataConsent",actions:"setRequirePassword"},BACK:{target:"createLearnerAccount",actions:"setRequirePassword"}}},personalDataConsent:{meta:{route:{name:"PERSONAL_DATA_CONSENT"},nextEvent:"CONTINUE"},on:{CONTINUE:"createSuperuserAndFacility",BACK:"requirePassword"}},createSuperuserAndFacility:{meta:{route:{name:"CREATE_SUPERUSER_AND_FACILITY",path:"create-account"}},on:{CONTINUE:{target:"finalizeSetup",actions:"setSuperuser"},BACK:"personalDataConsent"}},importFacility:{initial:"selectFacilityForm",states:{selectFacilityForm:{meta:{route:{name:"SELECT_FACILITY_FOR_IMPORT"}},on:{BACK:{target:"#wizard.fullDeviceNewOrImportFacility",actions:["clearSelectedSetupType","revertFullDeviceImport"]},CONTINUE:{target:"importAuthentication",actions:"setSelectedImportDeviceFacility"}}},importAuthentication:{meta:{route:{name:"IMPORT_AUTHENTICATION"}},on:{BACK:{target:"selectFacilityForm"},BACK_SKIP_FACILITY_FORM:{target:"#wizard.fullDeviceNewOrImportFacility",actions:["clearSelectedSetupType","revertFullDeviceImport"]},CONTINUE:{target:"loadingTaskPage"}}},loadingTaskPage:{meta:{route:{name:"IMPORT_LOADING"}},on:{CONTINUE:"selectSuperAdminAccountForm"}},selectSuperAdminAccountForm:{meta:{route:{name:"SELECT_ADMIN"}},on:{CONTINUE:{target:"personalDataConsentForm",nextEvent:"FINISH",actions:"setSuperuser"}}},personalDataConsentForm:{meta:{route:{name:"IMPORT_DATA_CONSENT"},nextEvent:"FINISH"},on:{BACK:"selectSuperAdminAccountForm"}}},on:{FINISH:"finalizeSetup"}},importLodUsers:{initial:"selectLodSetupType",states:{selectLodSetupType:{meta:{route:{name:"LOD_SETUP_TYPE"}},on:{BACK:{target:"#wizard.fullOrLearnOnlyDevice"},CONTINUE:{target:"selectLodFacility",actions:"setLodType"}}},selectLodFacility:{meta:{route:{name:"LOD_SELECT_FACILITY"}},on:{BACK:"selectLodSetupType",CONTINUE:{target:"lodProceedJoinOrNew",actions:"setSelectedImportDeviceFacility"}}},lodProceedJoinOrNew:{always:[{cond:function(ctx){return ctx.lodImportOrJoin===LodTypePresets.JOIN},target:"lodJoinFacility"},{target:"lodImportUserAuth"}]},lodImportUserAuth:{meta:{route:{name:"LOD_IMPORT_USER_AUTH"}},on:{BACK:"selectLodSetupType",CONTINUE:{target:"lodLoading",actions:"setLodSuperAdmin"},CONTINUEADMIN:{target:"lodImportAsAdmin",actions:["setRemoteUsers","setLodAdmin"]}}},lodLoading:{meta:{route:{name:"LOD_LOADING_TASK_PAGE"}},on:{SET_SUPERADMIN:{actions:"setLodSuperAdmin"},IMPORT_ANOTHER:"lodImportUserAuth"}},lodImportAsAdmin:{meta:{route:{name:"LOD_IMPORT_AS_ADMIN"}},on:{BACK:"lodImportUserAuth",LOADING:"lodLoading",SET_SUPERADMIN:{actions:"setLodSuperAdmin"}}},lodJoinLoading:{meta:{route:{name:"LOD_JOIN_LOADING_TASK_PAGE"}},on:{SET_SUPERADMIN:{actions:"setLodSuperAdmin"},IMPORT_ANOTHER:"lodImportUserAuth"}},lodJoinFacility:{meta:{route:{name:"LOD_CREATE_USER_FORM"}},on:{BACK:"selectLodSetupType",CONTINUE:"lodJoinLoading"}}},on:{SET_SUPERUSER:{actions:"setSuperuser"},ADD_IMPORTED_USER:{actions:"addImportedUser"},SET_FIRST_LOD:{actions:"setFirstLodUser"},FINISH:"finalizeSetup"}},finalizeSetup:{meta:{route:{name:"FINALIZE_SETUP"}}}}},options={actions:{setOnMyOwnOrGroup:es_assign({onMyOwnOrGroup:function(_,event){return event.value}}),setDeviceName:es_assign({deviceName:function(_,event){return event.value}}),setFullOrLOD:es_assign({fullOrLOD:function(_,event){return event.value}}),setCanGetOsUser:es_assign({canGetOsUser:function(_,event){return event.value}}),setFacilityNewOrImport:es_assign({facilityNewOrImport:function(_,event){return event.value.importOrNew},importDeviceId:function(_,event){return event.value.importDeviceId}}),setSuperuser:es_assign({superuser:function(_,event){return event.value}}),setSelectedImportDeviceFacility:es_assign({selectedFacility:function(_,event){return event.value.selectedFacility},importDevice:function(_,event){return event.value.importDevice},facilitiesOnDeviceCount:function(_,event){return event.value.facilitiesCount}}),clearSelectedSetupType:es_assign({facilityNewOrImport:function(){return null}}),clearFullOrLOD:es_assign({fullOrLOD:function(){return null}}),revertFullDeviceImport:es_assign({selectedFacility:function(){return null},importDeviceId:function(){return null}}),setFacilityTypeAndName:es_assign({formalOrNonformal:function(_,event){return event.value.selected},facilityName:function(_,event){return event.value.facilityName}}),setGuestAccess:es_assign({guestAccess:function(_,event){return event.value}}),setLearnerCanCreateAccount:es_assign({learnerCanCreateAccount:function(_,event){return event.value}}),setRequirePassword:es_assign({requirePassword:function(_,event){return event.value}}),setLodType:es_assign({lodImportOrJoin:function(_,event){return event.value.importOrJoin},importDeviceId:function(_,event){return event.value.importDeviceId}}),setLodImportDeviceId:es_assign({importDeviceId:function(_,event){return event.value}}),addImportedUser:es_assign({importedUsers:function(ctx,event){var users=ctx.importedUsers;return users.push(event.value),uniq_default()(users)}}),setFirstLodUser:es_assign({firstImportedLodUser:function(_,event){return event.value}}),setLodAdmin:es_assign({lodAdmin:function(_,event){return{username:event.value.adminUsername,password:event.value.adminPassword,id:event.value.id}}}),setLodSuperAdmin:es_assign({superuser:function(ctx,event){return ctx.superuser?ctx.superuser:{username:event.value.username,password:event.value.password}}}),setRemoteUsers:es_assign({remoteUsers:function(_,event){return event.value.users}}),resetContext:es_assign(initialContext)},guards:{isOnMyOwnOrGroup:function(context){return context.onMyOwnOrGroup===constants_Presets.PERSONAL},isGroupSetup:function(context){return context.onMyOwnOrGroup===constants_UsePresets.GROUP},canGetOsUser:function(){return(0,external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject.checkCapability)("get_os_user")},isNewFacility:function(context){return context.facilityNewOrImport===FacilityTypePresets.NEW},isImportFacility:function(context){return context.facilityNewOrImport===FacilityTypePresets.IMPORT},isLodSetup:function(context){return context.fullOrLOD===DeviceTypePresets.LOD},isFullSetup:function(context){return context.fullOrLOD===DeviceTypePresets.FULL}}},environment_IS_PRODUCTION||"predictableActionArguments"in config||warned||(warned=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new StateNode_StateNode(config,options)),LoadingPagevue_type_template_id_e6083312_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("SubmissionStatePage",{attrs:{header:this.$tr("loadingPageHeader")}},[this._v("\n\n  "+this._s(this.$tr("loadingPageSubheader"))+"\n\n")])};LoadingPagevue_type_template_id_e6083312_scoped_true_render._withStripped=!0;var SubmissionStatePagevue_type_template_id_527c621a_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"submission-state-page"},[_c("KCircularLoader",{staticClass:"submission-state-page-spinner",attrs:{delay:!1}}),_c("h1",{staticClass:"submission-state-page-header",style:{color:this.$themeTokens.primary}},[this._v("\n    "+this._s(this.header)+"\n  ")]),_c("div",{staticClass:"submission-state-page-body"},[this._t("default")],2)],1)};function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options:options}}SubmissionStatePagevue_type_template_id_527c621a_scoped_true_render._withStripped=!0;var SubmissionStatePage=normalizeComponent({name:"SubmissionStatePage",props:{header:{type:String,required:!0}}},SubmissionStatePagevue_type_template_id_527c621a_scoped_true_render,[],!1,null,"527c621a",null).exports,LoadingPage=normalizeComponent({name:"LoadingPage",components:{SubmissionStatePage:SubmissionStatePage},$trs:{loadingPageHeader:{message:"Setting up your facility...",context:"Message on loading page when facility set up is in progress."},loadingPageSubheader:{message:"Please be patient. Setup may take several minutes",context:"Description below 'Setting up your facility...' message."}}},LoadingPagevue_type_template_id_e6083312_scoped_true_render,[],!1,null,"e6083312",null).exports,ErrorPagevue_type_template_id_6d050406_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("SubmissionStatePage",{attrs:{header:_vm.$tr("errorPageHeader")}},[_c("p",{staticClass:"error-page-subheader"},[_vm._v("\n    "+_vm._s(_vm.$tr("errorPageSubheader"))+"\n  ")]),_c("KButton",{staticClass:"error-page-retry-button",attrs:{text:_vm.$tr("errorPageRetryButtonLabel"),primary:!0},on:{click:_vm.refreshPage}}),_c("p",{staticClass:"error-page-subtext",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n    "+_vm._s(_vm.$tr("errorPageAdditionalGuidance"))+"\n  ")])],1)};function SetupWizardIndexvue_type_script_lang_js_typeof(o){return SetupWizardIndexvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SetupWizardIndexvue_type_script_lang_js_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=SetupWizardIndexvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SetupWizardIndexvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==SetupWizardIndexvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ErrorPagevue_type_template_id_6d050406_scoped_true_render._withStripped=!0;var SetupWizardIndexvue_type_script_lang_js={name:"SetupWizardIndex",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{LoadingPage:LoadingPage,ErrorPage:normalizeComponent({name:"ErrorPage",components:{SubmissionStatePage:SubmissionStatePage},inject:["wizardService"],methods:{refreshPage:function(){this.wizardService.send("START_OVER"),__webpack_require__.g.location.reload(!0)}},$trs:{errorPageHeader:{message:"Something went wrong",context:"Generic error message."},errorPageSubheader:{message:"Please check your server connection and retry.",context:"Error message containing some helper information."},errorPageAdditionalGuidance:{message:"If retrying doesn't work, restart the server and refresh the page.",context:"Guidance for the admin for handling errors."},errorPageRetryButtonLabel:{message:"Retry",context:"Button to aid admin troubleshooting."}}},ErrorPagevue_type_template_id_6d050406_scoped_true_render,[],!1,null,"6d050406",null).exports},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],data:function(){return{service:interpret(wizardMachine)}},provide:function(){return{wizardService:this.service}},computed:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)(["loading","error"])),created:function(){var _this=this,synchronizeRouteAndMachine=function(state){if(state){var meta=state.meta;if(Object.keys(meta).length){var route=meta[Object.keys(meta)[0]].route;route?_this.$route.name!==route.name&&_this.$router.replace(route):_this.$router.replace("/")}else _this.$router.replace("/")}},savedState=lockr_default().get("savedState","initializeContext");"initializeContext"!==savedState?synchronizeRouteAndMachine(savedState):this.service.send({type:"CONTINUE",value:(0,external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject.checkCapability)("get_os_user")}),this.service.start(savedState),this.service.onTransition((function(state){synchronizeRouteAndMachine(state),lockr_default().set("savedState",_this.service._state)}))},destroyed:function(){lockr_default().set("savedState",null),this.service.stop()},$trs:{documentTitle:{message:"Setup Wizard",context:"The Kolibri set up wizard helps the admin through the process of creating their facility. The text 'Setup Wizard' is the title of the wizard and this can been seen the in the browser tab when the admin is setting up their facility."}}},SetupWizardIndex=normalizeComponent(SetupWizardIndexvue_type_script_lang_js,render,[],!1,null,"28f4138b",null).exports,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject=kolibriCoreAppGlobal.utils.i18n;function pluginModule_typeof(o){return pluginModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},pluginModule_typeof(o)}function pluginModule_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function pluginModule_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?pluginModule_ownKeys(Object(t),!0).forEach((function(r){pluginModule_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pluginModule_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function pluginModule_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=pluginModule_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=pluginModule_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==pluginModule_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var pluginModule={namespace:"SetupWizard",state:function(){return{started:!1,onboardingData:{device_name:null,language_id:external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage,facility:{name:""},preset:null,allow_guest_access:null,settings:{learner_can_sign_up:null,learner_can_edit_name:null,learner_can_edit_username:null,learner_can_login_with_no_password:null,learner_can_edit_password:null},user:{full_name:"",username:"",password:""}},loading:!1,error:!1}},actions:{showError:function(store,errorMsg){store.commit("SET_ERROR",!0),store.dispatch("handleApiError",{error:errorMsg})}},mutations:{CLEAR_PASSWORD:function(state){state.onboardingData.user.password=""},SET_LANGUAGE:function(state,language_id){state.onboardingData.language_id=language_id},SET_USER_CREDENTIALS:function(state,payload){state.onboardingData.user=pluginModule_objectSpread(pluginModule_objectSpread({},state.onboardingData.user),payload)},SET_LOADING:function(state,loadingFlag){state.loading=loadingFlag},SET_ERROR:function(state,errorFlag){state.error=errorFlag}}},DeviceNameFormvue_type_template_id_2d2ab2fc_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.coreString("deviceNameLabel"),description:_vm.$tr("deviceNameDescription")},on:{continue:_vm.handleContinue}},[_c("KTextbox",{ref:"textbox",attrs:{label:_vm.coreString("deviceNameLabel"),autofocus:!0,maxlength:50,invalid:Boolean(_vm.invalidText),invalidText:_vm.invalidText},on:{blur:function($event){_vm.shouldValidate=!0}},model:{value:_vm.value,callback:function($$v){_vm.value=$$v},expression:"value"}})],1)};DeviceNameFormvue_type_template_id_2d2ab2fc_render._withStripped=!0;var OnboardingStepBasevue_type_template_id_98dfd250_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:{"base-container":!0,windowIsSmall:_vm.windowIsSmall},style:{"background-color":_vm.windowIsSmall?_vm.$themeTokens.surface:""},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.handleEnterKey.apply(null,arguments)}}},[_c("div",{staticClass:"logo-lang-container"},[_vm.windowIsSmall?_vm.noBackAction?_vm._e():_c("KIconButton",{staticClass:"back-icon-button",attrs:{icon:"back"},on:{click:function($event){return _vm.wizardService.send(_vm.eventOnGoBack)}}}):_c("div",{staticClass:"logo-wrapper"},[_c("CoreLogo",{staticClass:"logo-image"}),_c("span",{staticClass:"logo-text"},[_vm._v(_vm._s(_vm.coreString("kolibriLabel")))])],1),_c("KButton",{staticClass:"languages-button",attrs:{icon:"language",text:_vm.selectedLanguage.lang_name,primary:!1,appearance:"flat-button"},on:{click:function($event){_vm.showLanguageModal=!0}}})],1),_c(_vm.windowIsSmall?"div":"KPageContainer",{tag:"component",attrs:{topMargin:16,noPadding:!0}},[_vm.coreError?_c("div",{staticStyle:{padding:"16px"}},[_c("AppError",{attrs:{hideParagraphs:!0},scopedSlots:_vm._u([{key:"buttons",fn:function(){return[_c("KButton",{attrs:{text:_vm.coreString("startOverAction"),primary:!0},on:{click:_vm.startOver}})]},proxy:!0}],null,!1,3207282553)},[_c("h2",[_vm._v(_vm._s(_vm.coreError))])])],1):_c("div",{staticClass:"content"},[_vm.showBackArrow?_c("KIconButton",{staticStyle:{"margin-left":"-12px"},attrs:{icon:"back"},on:{click:function($event){return _vm.wizardService.send(_vm.eventOnGoBack)}}}):_vm._e(),_c("h1",{staticClass:"title"},[_vm._v("\n        "+_vm._s(_vm.title)+"\n      ")]),_vm.description?_c("p",{staticClass:"description"},[_vm._v("\n        "+_vm._s(_vm.description)+"\n      ")]):_vm._e(),_vm._t("default")],2),_vm.coreError?_vm._e():_c("div",{staticClass:"footer",style:{borderTop:"1px solid "+(_vm.windowIsSmall?_vm.$themeTokens.surface:_vm.$themeTokens.fineLine)}},[_vm.windowIsSmall?_vm._e():_c("div",{staticClass:"footer-section"},[_vm._t("footer"),_vm._v("\n        "+_vm._s(_vm.footerMessage)+"\n      ")],2),_vm.windowIsSmall?_vm._e():_c("KButtonGroup",{staticClass:"footer-actions footer-section"},[_vm._t("buttons"),_vm.noBackAction||_vm.$slots.buttons?_vm._e():_c("KButton",{attrs:{text:_vm.coreString("goBackAction"),appearance:"flat-button",primary:!1,disabled:_vm.navDisabled},on:{click:function($event){return _vm.wizardService.send(_vm.eventOnGoBack)}}}),_vm.$slots.buttons?_vm._e():_c("KButton",{attrs:{text:_vm.coreString("continueAction"),primary:!0,disabled:_vm.navDisabled},on:{click:function($event){return _vm.$emit("continue")}}})],2),_vm.windowIsSmall?_c("div",{staticClass:"mobile-footer"},[_vm._t("buttons"),_vm.$slots.buttons?_vm._e():_c("KButton",{staticClass:"mobile-continue-button",attrs:{text:_vm.coreString("continueAction"),primary:!0,disabled:_vm.navDisabled},on:{click:function($event){return _vm.$emit("continue")}}})],2):_vm._e()],1)]),_vm.showLanguageModal?_c("LanguageSwitcherModal",{staticClass:"ta-l",on:{cancel:function($event){_vm.showLanguageModal=!1}}}):_vm._e()],1)};OnboardingStepBasevue_type_template_id_98dfd250_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_CoreLogo_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreLogo,external_kolibriCoreAppGlobal_coreVue_components_CoreLogo_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreLogo_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_LanguageSwitcherModal_namespaceObject=kolibriCoreAppGlobal.coreVue.components.LanguageSwitcherModal,external_kolibriCoreAppGlobal_coreVue_components_LanguageSwitcherModal_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_LanguageSwitcherModal_namespaceObject),AppErrorvue_type_template_id_0b9de6ee_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"app-error",attrs:{role:"alert"}},[_c("img",{attrs:{src:__webpack_require__(4894)}}),_c("h1",[_vm._v("\n    "+_vm._s(_vm.headerText)+"\n  ")]),_vm._l(_vm.paragraphTexts,(function(paragraph){return _c("p",{key:paragraph},[_vm._v("\n    "+_vm._s(paragraph)+"\n  ")])})),_c("p",[_c("KButtonGroup",[_vm._t("buttons",(function(){return[_vm.isPageNotFound?_vm._e():_c("KButton",{attrs:{text:_vm.coreString("refresh"),primary:!0},on:{click:_vm.reloadPage}}),_c("KButton",{attrs:{primary:_vm.isPageNotFound,appearance:"raised-button",text:_vm.exitButtonLabel},on:{click:_vm.handleClickBackToHome}})]}))],2)],1),_vm.isPageNotFound?_vm._e():_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("defaultErrorReportPrompt")},on:{click:function($event){return _vm.revealDetailsModal()}}})],1),_vm.showDetailsModal?_c("ReportErrorModal",{attrs:{error:_vm.error},on:{cancel:_vm.hideDetailsModal}}):_vm._e()],2)};AppErrorvue_type_template_id_0b9de6ee_scoped_true_render._withStripped=!0;var get=__webpack_require__(4651),get_default=__webpack_require__.n(get),ReportErrorModalvue_type_template_id_43dfa34c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{staticClass:"error-detail-modal",attrs:{title:_vm.$tr("reportErrorHeader"),cancelText:_vm.coreString("closeAction"),size:"large"},on:{cancel:function($event){return _vm.$emit("cancel")}}},[_c("section",[_vm.offline?_c("h3",[_vm._v("\n      "+_vm._s(_vm.$tr("forumPrompt"))+"\n    ")]):_vm._e(),_c("p",[_vm._v(_vm._s(_vm.$tr("forumUseTips")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("forumPostingTips")))]),_c("KExternalLink",{staticClass:"download-as-text-link",attrs:{text:_vm.forumLink,href:_vm.forumLink}})],1),_vm.offline?_c("section",[_c("h3",[_vm._v(_vm._s(_vm.$tr("emailPrompt")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("emailDescription")))]),_c("KExternalLink",{attrs:{text:_vm.emailAddress,href:_vm.emailAddressLink}})],1):_vm._e(),_c("h3",[_vm._v("\n    "+_vm._s(_vm.$tr("errorDetailsHeader"))+"\n  ")]),_c("TechnicalTextBlock",{attrs:{text:_vm.error,maxHeight:240}})],1)};ReportErrorModalvue_type_template_id_43dfa34c_scoped_true_render._withStripped=!0;var TechnicalTextBlockvue_type_template_id_216ad586_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("textarea",{staticClass:"error-log",style:[_vm.dynamicHeightStyle,{backgroundColor:_vm.$themePalette.grey.v_200,border:_vm.$themePalette.grey.v_300}],attrs:{readonly:"",wrap:"soft","aria-hidden":"true"},domProps:{value:_vm.text}}),_c("pre",{ref:"textBox",staticClass:"visuallyhidden"},[_vm._v(_vm._s(_vm.text))]),_c("div",[_vm.clipboardCapable?_c("KButton",{ref:"copyButton",style:{marginTop:"8px",marginBottom:"8px"},attrs:{primary:!1,text:_vm.$tr("copyToClipboardButtonPrompt")}}):_vm._e()],1)])};TechnicalTextBlockvue_type_template_id_216ad586_scoped_true_render._withStripped=!0;var clipboard=__webpack_require__(9487),clipboard_default=__webpack_require__.n(clipboard);function TechnicalTextBlockvue_type_script_lang_js_typeof(o){return TechnicalTextBlockvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},TechnicalTextBlockvue_type_script_lang_js_typeof(o)}function TechnicalTextBlockvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function TechnicalTextBlockvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=TechnicalTextBlockvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=TechnicalTextBlockvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==TechnicalTextBlockvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var TechnicalTextBlockvue_type_script_lang_js={name:"TechnicalTextBlock",props:{text:{type:String,default:""},maxHeight:{type:Number,default:null},minHeight:{type:Number,default:72}},computed:{clipboardCapable:function(){return clipboard_default().isSupported()},dynamicHeightStyle:function(){return{height:"".concat(16+18*this.text.split("\n").length,"px"),maxHeight:"".concat(this.maxHeight,"px"),minHeight:"".concat(this.minHeight,"px")}}},mounted:function(){var _this=this;this.clipboardCapable&&(this.clipboard=new(clipboard_default())(this.$refs.copyButton.$el,{text:function(){return _this.text},container:this.$refs.textBox}),this.clipboard.on("success",(function(){_this.createSnackbar(_this.$tr("copiedToClipboardConfirmation"))})))},destroyed:function(){this.clipboard&&this.clipboard.destroy()},methods:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?TechnicalTextBlockvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){TechnicalTextBlockvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TechnicalTextBlockvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)(["createSnackbar"])),$trs:{copyToClipboardButtonPrompt:{message:"Copy to clipboard",context:"Button which allows the user to copy content to the clipboard.\n\nA clipboard is a temporary storage area where material cut or copied from a file is kept for pasting into another file."},copiedToClipboardConfirmation:{message:"Copied to clipboard",context:"Message displayed when some content is copied to the clipboard.\n\nA clipboard is a temporary storage area where material cut or copied from a file is kept for pasting into another file."}}},TechnicalTextBlock_component=normalizeComponent(TechnicalTextBlockvue_type_script_lang_js,TechnicalTextBlockvue_type_template_id_216ad586_scoped_true_render,[],!1,null,"216ad586",null),ReportErrorModal_component=normalizeComponent({name:"ReportErrorModal",components:{TechnicalTextBlock:TechnicalTextBlock_component.exports},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{error:{type:String,required:!0}},data:function(){return{offline:!1}},computed:{forumLink:function(){return"https://community.learningequality.org/c/support/kolibri"},emailAddress:function(){return"info@learningequality.org"},emailAddressLink:function(){return"mailto:".concat(this.emailAddress)}},$trs:{reportErrorHeader:{message:"Report Error",context:"Title of the window where the user can report an error."},forumPrompt:{message:"Visit the community forums",context:"If a user spots an error in Kolibri, this prompt links through to the Kolibri community forums where they can also report errors or search for similar issues."},forumUseTips:{message:"Search the community forum to see if others encountered similar issues. If unable to find anything, paste the error details below into a new forum post so we can rectify the error in a future version of Kolibri.",context:"If a user spots an error in Kolibri, this text indicates that in Kolibri community forums they can also report errors or search for similar issues."},forumPostingTips:{message:"Include a description of what you were trying to do and what you clicked on when the error appeared.",context:"Helper text for the user when describing the details of the error they saw in their email to the development team.\n"},emailPrompt:{message:"Send an email to the developers",context:"Users can send an email to the Kolibri development team indicating details about an error if they see one."},emailDescription:{message:"Contact the support team with your error details and we'll do our best to help.",context:"This is a message that a user sees if they provoke an error in Kolibri. They can send an email to the Kolibri development team indicating further details about the error."},errorDetailsHeader:{message:"Error details",context:"Here the user would indicate the details of the error they saw in their email to the development team."}}},ReportErrorModalvue_type_template_id_43dfa34c_scoped_true_render,[],!1,null,"43dfa34c",null);function AppErrorvue_type_script_lang_js_typeof(o){return AppErrorvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},AppErrorvue_type_script_lang_js_typeof(o)}function AppErrorvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AppErrorvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AppErrorvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){AppErrorvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AppErrorvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function AppErrorvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=AppErrorvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=AppErrorvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==AppErrorvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AppError=normalizeComponent({name:"AppError",components:{ReportErrorModal:ReportErrorModal_component.exports},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{hideParagraphs:{type:Boolean,default:!1}},data:function(){return{showDetailsModal:!1}},computed:AppErrorvue_type_script_lang_js_objectSpread(AppErrorvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({error:function(state){return state.core.error}})),{},{headerText:function(){return this.isPageNotFound?this.$tr("resourceNotFoundHeader"):this.$tr("defaultErrorHeader")},paragraphTexts:function(){return this.hideParagraphs?[]:this.isPageNotFound?[this.$tr("resourceNotFoundMessage")]:[this.$tr("defaultErrorMessage"),this.$tr("defaultErrorResolution")]},errorObject:function(){if(this.error)try{return JSON.parse(this.error)}catch(err){return null}return null},isPageNotFound:function(){return 404===get_default()(this.errorObject,"status")&&"get"===get_default()(this.errorObject,"config.method")},exitButtonLabel:function(){return this.$tr("defaultErrorExitPrompt")}}),methods:AppErrorvue_type_script_lang_js_objectSpread(AppErrorvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)(["clearError"])),{},{revealDetailsModal:function(){this.showDetailsModal=!0},hideDetailsModal:function(){this.showDetailsModal=!1},reloadPage:function(){__webpack_require__.g.location.reload()},handleClickBackToHome:function(){this.clearError(),this.$router.push({path:"/"})}}),$trs:{defaultErrorHeader:{message:"Sorry! Something went wrong!",context:"This is a generic error message that the user will see when an error has occurred."},defaultErrorExitPrompt:{message:"Back to home",context:"If Kolibri produces an unexpected error, this link appears which take the user back to the homepage."},defaultErrorMessage:{message:"We care about your experience on Kolibri and are working hard to fix this issue",context:"Error message that a user will see if an error that is the result of a known bug has occurred."},defaultErrorResolution:{message:"Try refreshing this page or going back to the home page",context:"Helper text which advises the user to refresh their browser if an error has occurred, or go back to the home page."},defaultErrorReportPrompt:{message:"Help us by reporting this error",context:"Text that informs the user about how to report an error if they see one in Kolibri."},resourceNotFoundHeader:{message:"Resource not found",context:"Error message that may appear if Kolibri cannot find a learning resource such as a video or a quiz."},resourceNotFoundMessage:{message:"Sorry, that resource does not exist",context:"Message that appears when a user tries to access a learning resource that is not available in Kolibri."}}},AppErrorvue_type_template_id_0b9de6ee_scoped_true_render,[],!1,null,"0b9de6ee",null).exports,OnboardingStepBase=normalizeComponent({name:"OnboardingStepBase",components:{AppError:AppError,CoreLogo:external_kolibriCoreAppGlobal_coreVue_components_CoreLogo_default(),LanguageSwitcherModal:external_kolibriCoreAppGlobal_coreVue_components_LanguageSwitcherModal_default()},inject:["wizardService"],mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],props:{eventOnGoBack:{type:Object,default:function(){return{type:"BACK"}}},showBackArrow:{type:Boolean,default:!1},noBackAction:{type:Boolean,default:!1},navDisabled:{type:Boolean,default:!1},title:{type:String,default:null},description:{type:String,default:null},footerMessageType:{type:String,default:null,validate:function(str){return Object.keys(FooterMessageTypes).includes(str)}},step:{type:Number,default:null},steps:{type:Number,default:null}},data:function(){return{showLanguageModal:!1}},computed:{footerMessage:function(){switch(this.footerMessageType){case FooterMessageTypes.NEW_FACILITY:return this.$tr("newLearningFacilitySteps",{step:this.step,steps:this.steps});case FooterMessageTypes.IMPORT_FACILITY:return this.$tr("importLearningFacilitySteps",{step:this.step,steps:this.steps});case FooterMessageTypes.IMPORT_INDIVIDUALS:return this.$tr("importIndividualUsersSteps",{step:this.step,steps:this.steps});case FooterMessageTypes.JOIN_FACILITY:return this.$tr("joinLearningFacilitySteps",{step:this.step,steps:this.steps});default:return null}},selectedLanguage:function(){return external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.availableLanguages[external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage]},coreError:function(){return this.$store?this.$store.state.core.error:null}},methods:{startOver:function(){this.wizardService.send("START_OVER"),this.$store.dispatch("clearError")},handleEnterKey:function(e){e.preventDefault(),!this.navDisabled&"INPUT"===e.target.tagName&&this.$emit("continue")}},$trs:{newLearningFacilitySteps:{message:"New learning facility - {step} of {steps}",context:"A message indicating to the user the number of steps in the process and\n        how far along they are in the process"},importLearningFacilitySteps:{message:"Import learning facility - {step} of {steps}",context:"A message indicating to the user the number of steps in the process and\n        how far along they are in the process"},importIndividualUsersSteps:{message:"Import individual user accounts - {step} of {steps}",context:"A message indicating to the user the number of steps in the process and\n        how far along they are in the process"},joinLearningFacilitySteps:{message:"Join learning facility - {step} of {steps}",context:"A message indicating to the user the number of steps in the process and\n        how far along they are in the process"}}},OnboardingStepBasevue_type_template_id_98dfd250_scoped_true_render,[],!1,null,"98dfd250",null).exports,DeviceNameForm=normalizeComponent({name:"DeviceNameForm",components:{OnboardingStepBase:OnboardingStepBase},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{value:this.wizardService.state.context.deviceName,shouldValidate:!1}},inject:["wizardService"],computed:{invalidText:function(){return this.shouldValidate&&""===this.value.trim()?this.coreString("requiredFieldError"):""}},methods:{handleContinue:function(){this.shouldValidate=!0,this.invalidText?this.$refs.textbox.focus():this.goToNextStep()},goToNextStep:function(){this.wizardService.send({type:"CONTINUE",value:this.value})}},$trs:{deviceNameDescription:{message:"Give this device a name that can be easily recognized by you and others you connect with.",context:""}}},DeviceNameFormvue_type_template_id_2d2ab2fc_render,[],!1,null,null,null).exports,DefaultLanguageFormvue_type_template_id_b7d2019e_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:this.$tr("languageFormHeader")},on:{continue:this.handleSubmit}},[_c("LanguageSwitcherList")],1)};DefaultLanguageFormvue_type_template_id_b7d2019e_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_LanguageSwitcherList_namespaceObject=kolibriCoreAppGlobal.coreVue.components.LanguageSwitcherList,DefaultLanguageForm=normalizeComponent({name:"DefaultLanguageForm",components:{OnboardingStepBase:OnboardingStepBase,LanguageSwitcherList:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_LanguageSwitcherList_namespaceObject)()},inject:["wizardService"],methods:{handleSubmit:function(){this.wizardService.send("CONTINUE")}},$trs:{languageFormHeader:{message:"Please select the default language for Kolibri",context:"Admins must pick the default language they want to use in Kolibri."}}},DefaultLanguageFormvue_type_template_id_b7d2019e_scoped_true_render,[],!1,null,"b7d2019e",null).exports,FullOrLearnOnlyDeviceFormvue_type_template_id_12960f0e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("whatKindOfDeviceTitle")},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{attrs:{label:_vm.$tr("fullDeviceLabel"),value:_vm.Options.FULL,description:_vm.$tr("fullDeviceDescription")},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_c("KRadioButton",{attrs:{label:_vm.$tr("learnOnlyDeviceLabel"),value:_vm.Options.LOD,description:_vm.$tr("learnOnlyDeviceDescription")},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}})],1)};FullOrLearnOnlyDeviceFormvue_type_template_id_12960f0e_scoped_true_render._withStripped=!0;var Options=Object.freeze({FULL:"FULL",LOD:"LOD"}),FullOrLearnOnlyDeviceForm=normalizeComponent({name:"FullOrLearnOnlyDeviceForm",components:{OnboardingStepBase:OnboardingStepBase},inject:["wizardService"],data:function(){var selected=this.wizardService.state.context.fullOrLOD||Options.FULL;return{Options:Options,selected:selected}},methods:{handleContinue:function(){this.wizardService.send({type:"CONTINUE",value:this.selected})}},$trs:{whatKindOfDeviceTitle:{message:"What kind of device is this?",context:"Title for the Kolibri setup wizard step where user decides if they want to configure their device as only used by one or more learners, of as a full device to also be used by coaches and administrators."},fullDeviceLabel:{message:"Full device",context:""},fullDeviceDescription:{message:"This device will be a fully-featured Kolibri server used by admins, coaches, and learners.",context:""},learnOnlyDeviceLabel:{message:"Learn-only device",context:""},learnOnlyDeviceDescription:{message:"This device will have one or more learner accounts imported from a full device that already exists. Learner accounts will auto-sync with the full device.",context:""}}},FullOrLearnOnlyDeviceFormvue_type_template_id_12960f0e_scoped_true_render,[],!1,null,"12960f0e",null).exports,SetUpLearningFacilityFormvue_type_template_id_e99d937a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("setUpFacilityTitle"),description:_vm.$tr("setUpFacilityDescription")},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{staticClass:"radio-button",attrs:{label:_vm.$tr("createFacilityLabel"),value:_vm.Options.NEW},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_c("KRadioButton",{staticClass:"radio-button",attrs:{label:_vm.$tr("importFacilityLabel"),value:_vm.Options.IMPORT},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_vm.showSelectAddressModal?_c("SelectDeviceModalGroup",{on:{cancel:function($event){_vm.showSelectAddressModal=!1},submit:_vm.handleContinueImport}}):_vm._e()],1)};SetUpLearningFacilityFormvue_type_template_id_e99d937a_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject=kolibriCoreAppGlobal.coreVue.componentSets.sync,SetUpLearningFacilityForm=normalizeComponent({name:"SetUpLearningFacilityForm",components:{OnboardingStepBase:OnboardingStepBase,SelectDeviceModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.SelectDeviceModalGroup},inject:["wizardService"],data:function(){var selected=this.wizardService.state.context.importOrNew||FacilityTypePresets.NEW;return{Options:FacilityTypePresets,selected:selected,showSelectAddressModal:!1}},methods:{handleContinueImport:function(address){this.wizardService.send({type:"CONTINUE",value:{importOrNew:FacilityTypePresets.IMPORT,importDeviceId:address.id}})},handleContinue:function(){this.selected===FacilityTypePresets.IMPORT?this.showSelectAddressModal=!0:this.wizardService.send({type:"CONTINUE",value:{importOrNew:FacilityTypePresets.NEW}})}},$trs:{setUpFacilityTitle:{message:"Set up the learning facility for this full device",context:""},setUpFacilityDescription:{message:"A learning facility is the location where you use Kolibri, such as a school, training center, or your home.",context:""},createFacilityLabel:{message:"Create a new learning facility",context:""},importFacilityLabel:{message:"Import all data from an existing learning facility",context:""}}},SetUpLearningFacilityFormvue_type_template_id_e99d937a_scoped_true_render,[],!1,null,"e99d937a",null).exports,HowAreYouUsingKolibrivue_type_template_id_11893a42_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{dir:"auto",noBackAction:!0,title:_vm.getCommonSyncString("howAreYouUsingKolibri")},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{staticStyle:{"margin-bottom":"1em"},attrs:{value:_vm.Presets.PERSONAL,label:_vm.$tr("onMyOwnLabel"),description:_vm.getCommonSyncString("onMyOwn")},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_c("KRadioButton",{attrs:{value:_vm.UsePresets.GROUP,label:_vm.$tr("groupLearningLabel"),description:_vm.$tr("groupLearningDescription")},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}})],1)};HowAreYouUsingKolibrivue_type_template_id_11893a42_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.commonSyncElements,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_namespaceObject),HowAreYouUsingKolibri=normalizeComponent({name:"HowAreYouUsingKolibri",components:{OnboardingStepBase:OnboardingStepBase},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],inject:["wizardService"],data:function(){return{selected:this.wizardService.state.context.onMyOwnOrGroup||constants_Presets.PERSONAL}},computed:{UsePresets:function(){return constants_UsePresets},Presets:function(){return constants_Presets}},methods:{handleContinue:function(){this.wizardService.send({type:"CONTINUE",value:this.selected})}},$trs:{onMyOwnLabel:{message:"On my own",context:"Label for a radio button..."},groupLearningLabel:{message:"Group learning",context:"label"},groupLearningDescription:{message:"This device will need to connect with other devices using Kolibri in schools or other group learning settings.",context:"desc"}}},HowAreYouUsingKolibrivue_type_template_id_11893a42_render,[],!1,null,null,null).exports,UserCredentialsFormvue_type_template_id_0679e8e6_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{dir:"auto",title:_vm.header,footerMessageType:_vm.footerMessageType,step:_vm.step,steps:_vm.steps,description:_vm.description,noBackAction:_vm.noBackAction},on:{continue:_vm.handleContinue}},[_vm._t("aboveform"),_c("form",[_c("FullNameTextbox",{directives:[{name:"show",rawName:"v-show",value:!_vm.selectedUser,expression:"!selectedUser"}],ref:"fullNameTextbox",attrs:{value:_vm.fullName,isValid:_vm.fullNameValid,shouldValidate:_vm.formSubmitted,disabled:_vm.disabled,autofocus:!0,autocomplete:"name"},on:{"update:value":function($event){_vm.fullName=$event},"update:isValid":function($event){_vm.fullNameValid=$event},"update:is-valid":function($event){_vm.fullNameValid=$event}}}),_c("UsernameTextbox",{directives:[{name:"show",rawName:"v-show",value:!_vm.selectedUser,expression:"!selectedUser"}],ref:"usernameTextbox",attrs:{value:_vm.username,isValid:_vm.usernameValid,disabled:_vm.disabled,shouldValidate:_vm.formSubmitted,errors:_vm.caughtErrors,isUniqueValidator:_vm.selectedUser?function(){return!0}:_vm.uniqueUsernameValidator},on:{"update:value":function($event){_vm.username=$event},"update:isValid":function($event){_vm.usernameValid=$event},"update:is-valid":function($event){_vm.usernameValid=$event},"update:errors":function($event){_vm.caughtErrors=$event}}}),_c("PasswordTextbox",{ref:"passwordTextbox",attrs:{value:_vm.password,disabled:_vm.disabled,isValid:_vm.passwordValid,shouldValidate:_vm.formSubmitted,showConfirmationInput:!_vm.selectedUser,autocomplete:"new-password"},on:{"update:value":function($event){_vm.password=$event},"update:isValid":function($event){_vm.passwordValid=$event},"update:is-valid":function($event){_vm.passwordValid=$event}}}),_vm.hidePrivacyLink?_vm._e():_c("PrivacyLinkAndModal")],1),_vm._t("footer",(function(){return[_c("div",{staticClass:"reminder"},[_c("div",{staticClass:"icon"},[_c("KIcon",{attrs:{icon:"warning"}})],1),_c("p",{staticClass:"text"},[_vm._v("\n        "+_vm._s(_vm.coreString("rememberThisAccountInformation"))+"\n      ")])])]}))],2)};UserCredentialsFormvue_type_template_id_0679e8e6_scoped_true_render._withStripped=!0;var every=__webpack_require__(8810),every_default=__webpack_require__.n(every),external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_namespaceObject=kolibriCoreAppGlobal.coreVue.components.FullNameTextbox,external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UsernameTextbox,external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_namespaceObject=kolibriCoreAppGlobal.coreVue.components.PasswordTextbox,external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_PrivacyLinkAndModal_namespaceObject=kolibriCoreAppGlobal.coreVue.components.PrivacyLinkAndModal,external_kolibriCoreAppGlobal_coreVue_components_PrivacyLinkAndModal_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PrivacyLinkAndModal_namespaceObject),UserCredentialsForm=normalizeComponent({name:"UserCredentialsForm",components:{OnboardingStepBase:OnboardingStepBase,FullNameTextbox:external_kolibriCoreAppGlobal_coreVue_components_FullNameTextbox_default(),UsernameTextbox:external_kolibriCoreAppGlobal_coreVue_components_UsernameTextbox_default(),PasswordTextbox:external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default(),PrivacyLinkAndModal:external_kolibriCoreAppGlobal_coreVue_components_PrivacyLinkAndModal_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],inject:["wizardService"],props:{disabled:{type:Boolean,default:!1},doNotContinue:{type:Boolean,default:!1},step:{type:Number,default:null},steps:{type:Number,default:null},footerMessageType:{type:String,default:null},noBackAction:{type:Boolean,default:!1},uniqueUsernameValidator:{type:Function,default:null},hidePrivacyLink:{type:Boolean,default:!1},adminUserLabels:{type:Boolean,default:!0},selectedUser:{type:Object,required:!1,default:null},errors:{type:Array,required:!1,default:function(){return[]}}},data:function(){var user;return{fullName:(user=this.selectedUser?this.selectedUser:this.$store.state.onboardingData.user).full_name,fullNameValid:!1,username:user.username,usernameValid:!1,password:"",passwordValid:!1,formSubmitted:!1,caughtErrors:[]}},computed:{header:function(){return this.adminUserLabels?this.$tr("adminAccountCreationHeader"):this.$tr("learnerAccountCreationHeader")},description:function(){return this.adminUserLabels?this.getCommonSyncString("superAdminPermissionsDescription"):this.$tr("learnerAccountCreationDescription",{facility:this.selectedFacilityName})},selectedFacilityName:function(){return get_default()(this,"wizardService.state.context.selectedFacility.name","")},formIsValid:function(){return this.selectedUser?this.passwordValid:every_default()([this.usernameValid,this.fullNameValid,this.passwordValid])}},watch:{selectedUser:function(user){var _this=this;user?(this.fullName=user.full_name,this.username=user.username):(this.fullName="",this.username=""),this.$nextTick((function(){_this.syncOnboardingData(),_this.focusOnInvalidField()}))},errors:function(){this.errors&&this.errors.length&&this.focusOnInvalidField(),this.caughtErrors=this.errors},caughtErrors:function(){this.$emit("update:errors",this.caughtErrors)}},mounted:function(){this.syncOnboardingData()},methods:{syncOnboardingData:function(){var payload={password:this.password,username:this.username,full_name:this.fullName};this.$store.commit("SET_USER_CREDENTIALS",payload)},handleContinue:function(){this.syncOnboardingData(),this.formIsValid?(this.$emit("submit"),this.doNotContinue?this.wizardService.send({type:"SET_SUPERUSER",value:this.$store.state.onboardingData.user}):this.wizardService.send({type:"CONTINUE",value:this.$store.state.onboardingData.user})):this.focusOnInvalidField()},focusOnInvalidField:function(){var _this2=this;this.$nextTick().then((function(){_this2.fullNameValid?_this2.usernameValid?_this2.passwordValid||_this2.$refs.passwordTextbox.focus():_this2.$refs.usernameTextbox.focus():_this2.$refs.fullNameTextbox.focus()}))}},$trs:{adminAccountCreationHeader:{message:"Create super admin",context:"The title of the 'Create a super admin account' section. A super admin can manage all the content and all other Kolibri users on the device."},learnerAccountCreationHeader:{message:"Create your account",context:"The title of the 'Create your account' section."},learnerAccountCreationDescription:{message:"New account for '{facility}' learning facility",context:"The learner is creating their account for an existing facility and is told what that is"}}},UserCredentialsFormvue_type_template_id_0679e8e6_scoped_true_render,[],!1,null,"0679e8e6",null).exports,FacilityPermissionsFormvue_type_template_id_22536917_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("learningEnvironmentHeader"),footerMessageType:_vm.footerMessageType,step:1,steps:5},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{ref:"first-button",staticClass:"permission-preset-radio-button",attrs:{value:_vm.Presets.NONFORMAL,label:_vm.$tr("nonFormalLabel"),description:_vm.$tr("nonFormalDescription")},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_vm.selected===_vm.Presets.NONFORMAL?_c("FacilityNameTextbox",{ref:"facility-name",staticClass:"textbox",model:{value:_vm.facilityName,callback:function($$v){_vm.facilityName=$$v},expression:"facilityName"}}):_vm._e(),_c("KRadioButton",{staticClass:"permission-preset-radio-button",attrs:{value:_vm.Presets.FORMAL,label:_vm.$tr("formalLabel"),description:_vm.$tr("formalDescription")},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_vm.selected===_vm.Presets.FORMAL?_c("FacilityNameTextbox",{ref:"facility-name",staticClass:"textbox",model:{value:_vm.facilityName,callback:function($$v){_vm.facilityName=$$v},expression:"facilityName"}}):_vm._e()],1)};FacilityPermissionsFormvue_type_template_id_22536917_scoped_true_render._withStripped=!0;var FacilityNameTextboxvue_type_template_id_323d98c2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("KTextbox",{ref:"facilityName",attrs:{invalid:_vm.facilityNameIsInvalid,invalidText:_vm.facilityNameErrorMessage,label:_vm.$tr("facilityNameFieldLabel"),maxlength:50},on:{blur:_vm.validateFacilityName,input:function($event){return _vm.$emit("input",_vm.facilityName)}},model:{value:_vm.facilityName,callback:function($$v){_vm.facilityName=$$v},expression:"facilityName"}})],1)};FacilityNameTextboxvue_type_template_id_323d98c2_scoped_true_render._withStripped=!0;var FacilityNameTextbox_component=normalizeComponent({name:"FacilityNameTextbox",props:{value:{type:String,required:!0,default:""}},data:function(){return{facilityName:this.value,fieldVisited:!1}},computed:{facilityNameErrorMessage:function(){return""===this.facilityName.trim()?this.$tr("facilityNameFieldEmptyErrorMessage"):this.facilityName.length>100?this.$tr("facilityNameFieldMaxLengthReached"):""},facilityNameIsInvalid:function(){return this.fieldVisited&&Boolean(this.facilityNameErrorMessage)}},methods:{validateFacilityName:function(){this.fieldVisited=!0},focus:function(){this.$refs.facilityName&&this.$refs.facilityName.focus()}},$trs:{facilityNameFieldLabel:{message:"Learning facility name",context:"The field where the admin adds the name of their facility."},facilityNameFieldEmptyErrorMessage:{message:"Facility cannot be empty",context:"Error message which displays if the admin does not enter a facility name."},facilityNameFieldMaxLengthReached:{message:"Facility name cannot be more than 50 characters",context:"Error message which displays if the admin inputs a facility name that's over 50 characters."}}},FacilityNameTextboxvue_type_template_id_323d98c2_scoped_true_render,[],!1,null,"323d98c2",null),FacilityPermissionsForm=normalizeComponent({name:"FacilityPermissionsForm",components:{FacilityNameTextbox:FacilityNameTextbox_component.exports,OnboardingStepBase:OnboardingStepBase},data:function(){var selected=this.wizardService.state.context.formalOrNonformal||constants_Presets.NONFORMAL,facilityName=this.wizardService.state.context.facilityName;return{footerMessageType:FooterMessageTypes.NEW_FACILITY,facilityName:facilityName,selected:selected,Presets:constants_Presets}},computed:{facilityNameInvalid:function(){return!this.facilityName||""===this.facilityName.trim()}},mounted:function(){this.focusOnTextbox()},inject:["wizardService"],methods:{handleContinue:function(){if(this.facilityNameInvalid)return this.focusOnTextbox();this.wizardService.send({type:"CONTINUE",value:{selected:this.selected,facilityName:this.facilityName}})},focusOnTextbox:function(){if(this.$refs&&this.$refs["facility-name"])return this.$refs["facility-name"].focus()}},$trs:{learningEnvironmentHeader:{message:"What kind of learning environment is your facility?",context:"Page title for facility setup process."},formalLabel:{message:"Formal",context:"Label for the radio button option in the facility setup."},formalDescription:{message:"Schools and other formal learning contexts.",context:"Option description text for 'Formal' facility types."},nonFormalLabel:{message:"Non-formal",context:"Label for the radio button option in the facility setup"},nonFormalDescription:{message:"Libraries, orphanages, youth centers, computer labs, and other non-formal learning contexts.",context:"Option description text for 'Non-formal' facility types."}}},FacilityPermissionsFormvue_type_template_id_22536917_scoped_true_render,[],!1,null,"22536917",null).exports,GuestAccessFormvue_type_template_id_7760e923_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("header"),footerMessageType:_vm.footerMessageType,step:2,steps:5,description:_vm.$tr("description"),eventOnGoBack:_vm.backEvent},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{ref:"yesRadio",attrs:{label:_vm.$tr("yesOptionLabel"),value:!0},model:{value:_vm.setting,callback:function($$v){_vm.setting=$$v},expression:"setting"}}),_c("KRadioButton",{ref:"noRadio",attrs:{label:_vm.$tr("noOptionLabel"),value:!1},model:{value:_vm.setting,callback:function($$v){_vm.setting=$$v},expression:"setting"}}),_c("p",{staticClass:"form"},[_vm._v("\n    "+_vm._s(_vm.$tr("changeLater"))+"\n  ")])],1)};GuestAccessFormvue_type_template_id_7760e923_scoped_true_render._withStripped=!0;var GuestAccessForm=normalizeComponent({name:"GuestAccessForm",components:{OnboardingStepBase:OnboardingStepBase},data:function(){var setting=this.wizardService.state.context.guestAccess;null===setting&&(setting=this.wizardService.state.context.formalOrNonformal===constants_Presets.NONFORMAL);return{footerMessageType:FooterMessageTypes.NEW_FACILITY,setting:setting}},inject:["wizardService"],computed:{backEvent:function(){return{type:"BACK",value:Boolean(this.setting)}}},methods:{handleContinue:function(){this.wizardService.send({type:"CONTINUE",value:this.setting})}},$trs:{yesOptionLabel:{message:"Yes",context:"Option label."},description:{message:"This option allows anyone to view educational materials on Kolibri without needing to make an account",context:"Description of the 'Enable guest access?' option that an admin can configure in the set up process. It means that anyone can access Kolibri without having to create an account."},header:{message:"Enable users to explore Kolibri without an account?",context:"Option that an admin can configure in the set up process. If selected, guests can access Kolibri without the need to create an account."},noOptionLabel:{message:"No. Users must have an account to explore Kolibri.",context:"Possible answer to the 'Enable guest access?' question."},changeLater:{message:"You can change this in your device settings later.",context:"Refers to the selected option for guest access in the setup wizard."}}},GuestAccessFormvue_type_template_id_7760e923_scoped_true_render,[],!1,null,"7760e923",null).exports,CreateLearnerAccountFormvue_type_template_id_78917bf4_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("header"),footerMessageType:_vm.footerMessageType,step:3,steps:5,eventOnGoBack:_vm.backEvent},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{ref:"yesRadio",staticClass:"radio-button",attrs:{label:_vm.$tr("yesOptionLabel"),value:!0},model:{value:_vm.setting,callback:function($$v){_vm.setting=$$v},expression:"setting"}}),_c("KRadioButton",{ref:"noRadio",staticClass:"radio-button",attrs:{label:_vm.$tr("noOptionLabel"),value:!1},model:{value:_vm.setting,callback:function($$v){_vm.setting=$$v},expression:"setting"}}),_c("p",{staticClass:"description"},[_vm._v("\n    "+_vm._s(_vm.getCommonSyncString("changeLater"))+"\n  ")])],1)};CreateLearnerAccountFormvue_type_template_id_78917bf4_scoped_true_render._withStripped=!0;var CreateLearnerAccountForm=normalizeComponent({name:"CreateLearnerAccountForm",components:{OnboardingStepBase:OnboardingStepBase},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],data:function(){var setting=this.wizardService.state.context.learnerCanCreateAccount;null===setting&&(setting=this.wizardService.state.context.formalOrNonformal===constants_Presets.NONFORMAL);return{footerMessageType:FooterMessageTypes.NEW_FACILITY,setting:setting}},inject:["wizardService"],computed:{backEvent:function(){return{type:"BACK",value:Boolean(this.setting)}}},methods:{handleContinue:function(){this.wizardService.send({type:"CONTINUE",value:this.setting})}},$trs:{header:{message:"Allow learners to join this facility?",context:"Admins have the option to allow either anyone to create a user account for themselves, or for accounts to be created only by Kolibri admins.\n\n"},yesOptionLabel:{message:"Yes",context:"Possible answer to the 'Allow anyone to create their own learner account?' question."},noOptionLabel:{message:"No. Admins must create an account for them to join this facility.",context:"Possible answer to the 'Allow anyone to create their own learner account?' question."}}},CreateLearnerAccountFormvue_type_template_id_78917bf4_scoped_true_render,[],!1,null,"78917bf4",null).exports,RequirePasswordForLearnersFormvue_type_template_id_e057e526_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("header"),footerMessageType:_vm.footerMessageType,step:4,steps:5,eventOnGoBack:_vm.backEvent},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{ref:"yesRadio",staticClass:"radio-button",attrs:{label:_vm.$tr("yesOptionLabel"),value:!0},model:{value:_vm.setting,callback:function($$v){_vm.setting=$$v},expression:"setting"}}),_c("KRadioButton",{ref:"noRadio",staticClass:"radio-button",attrs:{label:_vm.$tr("noOptionLabel"),value:!1},model:{value:_vm.setting,callback:function($$v){_vm.setting=$$v},expression:"setting"}}),_c("p",{staticClass:"description"},[_vm._v("\n    "+_vm._s(_vm.getCommonSyncString("changeLater"))+"\n  ")])],1)};RequirePasswordForLearnersFormvue_type_template_id_e057e526_scoped_true_render._withStripped=!0;var RequirePasswordForLearnersForm=normalizeComponent({name:"RequirePasswordForLearnersForm",components:{OnboardingStepBase:OnboardingStepBase},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],inject:["wizardService"],data:function(){var setting=this.wizardService.state.context.requirePassword;null===setting&&(setting=this.wizardService.state.context.formalOrNonformal===constants_Presets.NONFORMAL);return{footerMessageType:FooterMessageTypes.NEW_FACILITY,setting:setting}},computed:{backEvent:function(){return{type:"BACK",value:Boolean(this.setting)}}},methods:{handleContinue:function(){this.wizardService.send({type:"CONTINUE",value:this.setting})}},$trs:{header:{message:"Enable passwords on learner accounts?",context:"Admins can either enable passwords for learners or offer a simplified sign-in, without the password requirement. This allows easier access for younger learners."},yesOptionLabel:{message:"Yes",context:"Option on the 'Enable passwords for learners' screen. The admin selects this option if they don't want to enable passwords for learner accounts."},noOptionLabel:{message:"No. Learners can sign in with just a username.",context:"Option on the 'Enable passwords for learners' screen. The admin selects this option if they don't want to enable passwords for learner accounts."}}},RequirePasswordForLearnersFormvue_type_template_id_e057e526_scoped_true_render,[],!1,null,"e057e526",null).exports,PersonalDataConsentFormvue_type_template_id_3346b614_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("header"),footerMessageType:_vm.footerMessageType,step:_vm.step,steps:_vm.step,noBackAction:!0,description:_vm.$tr("description")},on:{continue:_vm.handleContinue}},[_c("KButton",{ref:"modalButton",attrs:{"data-test":"modal-open-button",text:_vm.coreString("usageAndPrivacyLabel"),appearance:"basic-link"},on:{click:function($event){_vm.showModal=!0}}}),_vm.showModal?_c("PrivacyInfoModal",{attrs:{hideUsersSection:""},on:{cancel:_vm.closeModal,submit:_vm.closeModal}}):_vm._e()],1)};PersonalDataConsentFormvue_type_template_id_3346b614_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_PrivacyInfoModal_namespaceObject=kolibriCoreAppGlobal.coreVue.components.PrivacyInfoModal,PersonalDataConsentForm=normalizeComponent({name:"PersonalDataConsentForm",components:{PrivacyInfoModal:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PrivacyInfoModal_namespaceObject)(),OnboardingStepBase:OnboardingStepBase},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{footerMessageType:{type:String,required:!0}},data:function(){return{showModal:!1}},computed:{step:function(){return this.footerMessageType===FooterMessageTypes.NEW_FACILITY?5:this.footerMessageType===FooterMessageTypes.IMPORT_FACILITY?1==this.wizardService.state.context.facilitiesOnDeviceCount?4:5:null}},mounted:function(){this.focusOnModalButton()},inject:["wizardService"],methods:{handleContinue:function(){var lastStatePath=Object.keys(this.wizardService._state.meta)[0],_this$wizardService$s=this.wizardService.state.meta[lastStatePath].nextEvent,nextEvent=void 0===_this$wizardService$s?null:_this$wizardService$s;if(!nextEvent){return this.$store.dispatch("handleApiError",{error:"Please provide the event you expect where you are using this Component in the state machine in the meta field's `nextEvent` property."})}this.wizardService.send(nextEvent)},closeModal:function(){this.focusOnModalButton(),this.showModal=!1},focusOnModalButton:function(){var _this=this;this.$nextTick().then((function(){var modalButton=_this.$refs.modalButton;modalButton.$refs.button&&setTimeout((function(){modalButton.$refs.button.focus()}),200)}))}},$trs:{description:{message:"If you are setting up Kolibri for other users, you or someone you delegate will need to be responsible for protecting and managing their accounts and personal information.",context:"Description of the 'Responsibilities as an administrator' page."},header:{message:"Responsibilities as an administrator",context:"When an admin sets up a Kolibri facility they need to take into consideration the relevant privacy laws and regulations. This is the title of that section in the set up process where they can view those regulations."}}},PersonalDataConsentFormvue_type_template_id_3346b614_scoped_true_render,[],!1,null,"3346b614",null).exports,SettingUpKolibrivue_type_template_id_5e901006_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"full-page"},[_vm.coreError?_c("AppError",{attrs:{hideParagraphs:!0},scopedSlots:_vm._u([{key:"buttons",fn:function(){return[_c("KButton",{attrs:{text:_vm.coreString("startOverAction")},on:{click:_vm.startOver}}),_c("KButton",{attrs:{primary:!0,text:_vm.coreString("retryAction")},on:{click:_vm.provisionDevice}})]},proxy:!0}],null,!1,2169625961)}):_c("main",{staticClass:"content"},[_c("KolibriLoadingSnippet"),_c("h1",{staticClass:"page-title"},[_vm._v("\n      "+_vm._s(_vm.$tr("pageTitle"))+"\n    ")]),_c("p",{staticClass:"message"},[_vm._v("\n      "+_vm._s(_vm.$tr("pleaseWaitMessage"))+"\n    ")])],1)],1)};SettingUpKolibrivue_type_template_id_5e901006_scoped_true_render._withStripped=!0;var omitBy=__webpack_require__(9560),omitBy_default=__webpack_require__.n(omitBy),external_kolibriCoreAppGlobal_utils_redirectBrowser_namespaceObject=kolibriCoreAppGlobal.utils.redirectBrowser,external_kolibriCoreAppGlobal_utils_redirectBrowser_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_redirectBrowser_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_KolibriLoadingSnippet_namespaceObject=kolibriCoreAppGlobal.coreVue.components.KolibriLoadingSnippet,external_kolibriCoreAppGlobal_coreVue_components_KolibriLoadingSnippet_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_KolibriLoadingSnippet_namespaceObject),external_kolibriCoreAppGlobal_urls_namespaceObject=kolibriCoreAppGlobal.urls,external_kolibriCoreAppGlobal_urls_default=__webpack_require__.n(external_kolibriCoreAppGlobal_urls_namespaceObject),external_kolibriCoreAppGlobal_client_namespaceObject=kolibriCoreAppGlobal.client,external_kolibriCoreAppGlobal_client_default=__webpack_require__.n(external_kolibriCoreAppGlobal_client_namespaceObject);function SettingUpKolibrivue_type_script_lang_js_typeof(o){return SettingUpKolibrivue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SettingUpKolibrivue_type_script_lang_js_typeof(o)}function SettingUpKolibrivue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SettingUpKolibrivue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SettingUpKolibrivue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){SettingUpKolibrivue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SettingUpKolibrivue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function SettingUpKolibrivue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=SettingUpKolibrivue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SettingUpKolibrivue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==SettingUpKolibrivue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SettingUpKolibri=normalizeComponent({name:"SettingUpKolibri",components:{AppError:AppError,KolibriLoadingSnippet:external_kolibriCoreAppGlobal_coreVue_components_KolibriLoadingSnippet_default()},inject:["wizardService"],mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],computed:{coreError:function(){return this.$store?this.$store.state.core.error:null},facilityData:function(){var usersName=get_default()(this.wizardContext("superuser"),"full_name",""),facilityName=this.wizardContext("facilityName")||this.$tr("onMyOwnFacilityName",{name:usersName}).slice(0,100),selectedFacility=this.wizardContext("selectedFacility");return selectedFacility?selectedFacility.id?{facility_id:selectedFacility.id}:{facility:selectedFacility}:{facility:{name:facilityName}}},learnerCanLoginWithNoPassword:function(){var _this$facilityData=this.facilityData,facility=_this$facilityData.facility;if(_this$facilityData.facility_id)return null;var facilitySetting=get_default()(facility,"learner_can_login_with_no_password",null);return null!==facilitySetting?facilitySetting:null===this.wizardContext("requirePassword")||!this.wizardContext("requirePassword")},learnerCanEditPassword:function(){return!(this.learnerCanLoginWithNoPassword||this.isOnMyOwnSetup&&(0,external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject.checkCapability)("get_os_user"))&&null},deviceProvisioningData:function(){var superuser=null;this.isOnMyOwnSetup&&(0,external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject.checkCapability)("get_os_user")||(this.wizardContext("firstImportedLodUser")&&(superuser=this.wizardContext("firstImportedLodUser")),superuser||(superuser=this.wizardContext("superuser")||this.$store.state.onboardingData.user));var settings={learner_can_login_with_no_password:this.learnerCanLoginWithNoPassword,learner_can_edit_password:this.learnerCanEditPassword,on_my_own_setup:this.isOnMyOwnSetup,learner_can_sign_up:this.wizardContext("learnerCanCreateAccount")},payload=SettingUpKolibrivue_type_script_lang_js_objectSpread(SettingUpKolibrivue_type_script_lang_js_objectSpread({},this.facilityData),{},{superuser:superuser,settings:omitBy_default()(settings,(function(v){return null===v})),preset:this.presetValue,language_id:external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage,device_name:this.wizardContext("deviceName")||this.$tr("onMyOwnDeviceName",{name:get_default()(superuser,"full_name","")}).slice(0,50),allow_guest_access:Boolean(this.wizardContext("guestAccess")),is_provisioned:!0,is_soud:this.wizardContext("fullOrLOD")===DeviceTypePresets.LOD});return omitBy_default()(payload,(function(v){return null===v}))},isOnMyOwnSetup:function(){return this.wizardContext("onMyOwnOrGroup")==constants_Presets.PERSONAL},presetValue:function(){return this.isOnMyOwnSetup?constants_Presets.PERSONAL:this.wizardContext("formalOrNonformal")}},created:function(){this.provisionDevice()},methods:{startOver:function(){this.$store.dispatch("clearError"),this.wizardService.send("START_OVER")},wizardContext:function(key){return this.wizardService.state.context[key]},provisionDevice:function(){var _this=this;this.$store.dispatch("clearError"),external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:deviceprovision"](),method:"POST",data:this.deviceProvisioningData}).then((function(){window.sessionStorage.setItem("DEVICE_WELCOME_MODAL_DISMISSED",!1),lockr_default().rm("savedState"),external_kolibriCoreAppGlobal_utils_redirectBrowser_default()()})).catch((function(e){_this.$store.dispatch("handleApiError",{error:e})}))}},$trs:{pageTitle:{message:"Setting up Kolibri",context:"The title of the page"},pleaseWaitMessage:{message:"This may take several minutes",context:"Kolibri is working in the background and the user may need to wait"},onMyOwnDeviceName:{message:"Personal device for {name}",context:"The default device name for a user installing Kolibri using the personal 'on my own' (formerly Quick Start) flow"},onMyOwnFacilityName:{message:"Home Facility for {name}",context:"Default facility name when Kolibri is installed with the 'Quick start' setup option for at home learning, outside any type of structure or institution like a school or a library. '{name}' will display the full name of the super admin user for their Kolibri server. Note that users can change this default name after the setup, and put whatever name they want to use for their home facility."}}},SettingUpKolibrivue_type_template_id_5e901006_scoped_true_render,[],!1,null,"5e901006",null).exports,JoinOrNewLODvue_type_template_id_5ba21df8_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("setUpFacilityTitle"),description:_vm.$tr("setUpFacilityDescription")},on:{continue:_vm.handleContinue}},[_c("KRadioButton",{staticClass:"radio-button",attrs:{label:_vm.$tr("joinFacilityLabel"),value:_vm.Options.JOIN},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_c("KRadioButton",{staticClass:"radio-button",attrs:{label:_vm.$tr("importFromFacilityLabel"),value:_vm.Options.IMPORT},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_vm.showSelectAddressModal?_c("SelectDeviceModalGroup",{attrs:{filterLODAvailable:!0,filterByFacilityCanSignUp:_vm.selected===_vm.Options.JOIN||null},on:{cancel:function($event){_vm.showSelectAddressModal=!1},submit:_vm.handleContinueImport}}):_vm._e()],1)};JoinOrNewLODvue_type_template_id_5ba21df8_scoped_true_render._withStripped=!0;var JoinOrNewLOD=normalizeComponent({name:"JoinOrNewLOD",components:{OnboardingStepBase:OnboardingStepBase,SelectDeviceModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.SelectDeviceModalGroup},inject:["wizardService"],data:function(){return{Options:LodTypePresets,selected:LodTypePresets.JOIN,showSelectAddressModal:!1}},methods:{handleContinueImport:function(address){this.wizardService.send({type:"CONTINUE",value:{importDeviceId:address.id,importOrJoin:this.selected}})},handleContinue:function(){this.showSelectAddressModal=!0}},$trs:{setUpFacilityTitle:{message:"Select a facility setup for this learn-only device",context:""},setUpFacilityDescription:{message:"This device will have Kolibri features for learners, but not those for coaches and admins",context:""},joinFacilityLabel:{message:"Create a new user account for an existing facility",context:""},importFromFacilityLabel:{message:"Import one or more existing user accounts from an existing facility",context:""}}},JoinOrNewLODvue_type_template_id_5ba21df8_scoped_true_render,[],!1,null,"5ba21df8",null).exports,LodJoinFacilityvue_type_template_id_f30f3376_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement;return(_vm._self._c||_h)("UserCredentialsForm",{attrs:{header:_vm.$tr("header"),description:_vm.getCommonSyncString("superAdminPermissionDescription"),footerMessageType:_vm.footerMessageType,disabled:_vm.loading,step:1,steps:2,doNotContinue:!0,adminUserLabels:!1,noBackAction:!1,errors:_vm.caughtErrors},on:{"update:errors":function($event){_vm.caughtErrors=$event},submit:_vm.handleClickNext}})};LodJoinFacilityvue_type_template_id_f30f3376_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject=kolibriCoreAppGlobal.coreVue.vuex.constants,external_kolibriCoreAppGlobal_lib_apiResource_namespaceObject=kolibriCoreAppGlobal.lib.apiResource,SetupWizardResource=new external_kolibriCoreAppGlobal_lib_apiResource_namespaceObject.Resource({name:"setupwizard",namespace:"kolibri.plugins.setup_wizard",createuseronremote:function(_ref){var facility_id=_ref.facility_id,username=_ref.username,password=_ref.password,full_name=_ref.full_name,baseurl=_ref.baseurl;return this.postListEndpoint("createuseronremote",{facility_id:facility_id,username:username,password:password,full_name:full_name,baseurl:baseurl})}}),FacilityImportResource=new external_kolibriCoreAppGlobal_lib_apiResource_namespaceObject.Resource({name:"facilityimport",namespace:"kolibri.plugins.setup_wizard",grantsuperuserpermissions:function(_ref2){var user_id=_ref2.user_id,password=_ref2.password;return this.postListEndpoint("grantsuperuserpermissions",{user_id:user_id,password:password})},createsuperuser:function(_ref3){var username=_ref3.username,full_name=_ref3.full_name,password=_ref3.password,extra_fields=_ref3.extra_fields,facility_name=_ref3.facility_name;return this.postListEndpoint("createsuperuser",{username:username,full_name:full_name,password:password,extra_fields:extra_fields,facility_name:facility_name})},facilityadmins:function(){return this.getListEndpoint("facilityadmins").then((function(response){return response.data}))},listfacilitylearners:function(params){return this.postListEndpoint("listfacilitylearners",params).then((function(response){return response.data}))}});function LodJoinFacilityvue_type_script_lang_js_typeof(o){return LodJoinFacilityvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LodJoinFacilityvue_type_script_lang_js_typeof(o)}function LodJoinFacilityvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LodJoinFacilityvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LodJoinFacilityvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){LodJoinFacilityvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LodJoinFacilityvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function LodJoinFacilityvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=LodJoinFacilityvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LodJoinFacilityvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==LodJoinFacilityvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var LodJoinFacility=normalizeComponent({name:"LodJoinFacility",components:{UserCredentialsForm:UserCredentialsForm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],inject:["wizardService"],data:function(){return{loading:!1,footerMessageType:FooterMessageTypes.JOIN_FACILITY,caughtErrors:[]}},computed:{facility:function(){return this.wizardService._state.context.selectedFacility}},methods:{handleClickNext:function(){var _this=this,_this$wizardService$s=this.wizardService.state.context.importDevice,baseurl=_this$wizardService$s.baseurl,id=_this$wizardService$s.id,user={username:this.$store.state.onboardingData.user.username,password:this.$store.state.onboardingData.user.password,full_name:this.$store.state.onboardingData.user.full_name};this.loading=!0,SetupWizardResource.createuseronremote(LodJoinFacilityvue_type_script_lang_js_objectSpread({facility_id:this.facility.id,baseurl:baseurl.slice(0,-1)},user)).then((function(response){var _response$data=response.data,status=_response$data.status,data=_response$data.data;if(201==status){var params=LodJoinFacilityvue_type_script_lang_js_objectSpread(LodJoinFacilityvue_type_script_lang_js_objectSpread({type:"kolibri.core.auth.tasks.peeruserimport"},user),{},{facility:_this.facility.id,facility_name:_this.facility.name,device_id:id,using_admin:!1});external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.startTask(params).then((function(){return _this.wizardService.send("CONTINUE")})).catch((function(err){_this.$store.dispatch("handleApiError",{error:err})}))}else{JSON.parse(data).find((function(error){return error.id===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS}))&&(_this.caughtErrors=[external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.USERNAME_ALREADY_EXISTS]),_this.loading=!1}}))}},$trs:{header:{message:"Select super admin",context:"Page title,"}}},LodJoinFacilityvue_type_template_id_f30f3376_scoped_true_render,[],!1,null,"f30f3376",null).exports,ImportAuthenticationvue_type_template_id_61a630fa_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.getCommonSyncString("importFacilityAction"),eventOnGoBack:_vm.backEvent,footerMessageType:_vm.footerMessageType,step:_vm.step,steps:_vm.steps},on:{continue:_vm.handleCredentialsSubmit}},[_c("FacilityAdminCredentialsForm",{ref:"credentialsForm",attrs:{disabled:_vm.formDisabled,device:_vm.device,facility:_vm.facility}})],1)};ImportAuthenticationvue_type_template_id_61a630fa_scoped_true_render._withStripped=!0;var ImportAuthentication=normalizeComponent({name:"ImportAuthentication",components:{FacilityAdminCredentialsForm:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.FacilityAdminCredentialsForm,OnboardingStepBase:OnboardingStepBase},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],inject:["wizardService"],data:function(){return{footerMessageType:FooterMessageTypes.IMPORT_FACILITY,formDisabled:!1}},computed:{step:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?1:2},steps:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?4:5},backEvent:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?{type:"BACK_SKIP_FACILITY_FORM"}:{type:"BACK"}},facility:function(){return this.wizardService.state.context.selectedFacility},device:function(){return this.wizardService.state.context.importDevice}},methods:{callSubmitCredentials:function(){var $credentialsForm=this.$refs.credentialsForm;return $credentialsForm?$credentialsForm.startImport().then((function(importStarted){return!!importStarted&&{username:$credentialsForm.username,password:$credentialsForm.password}})):Promise.resolve(!1)},handleCredentialsSubmit:function(){var _this=this;this.formDisabled=!0,this.callSubmitCredentials().then((function(data){data?_this.wizardService.send("CONTINUE"):_this.formDisabled=!1}))}}},ImportAuthenticationvue_type_template_id_61a630fa_scoped_true_render,[],!1,null,"61a630fa",null).exports,SelectFacilityFormvue_type_template_id_1ea2ddf1_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.loading?"":_vm.header,footerMessageType:_vm.loading?null:_vm.footerMessageType,step:_vm.loading?null:1,steps:_vm.loading?null:5},on:{continue:_vm.handleContinue}},[_vm.loading?_c("KCircularLoader"):_c("div",[_vm.loadingNewAddress?_vm._e():_c("RadioButtonGroup",{staticClass:"radio-group",attrs:{items:_vm.facilities,currentValue:_vm.selectedFacilityId,itemLabel:function(x){return _vm.formatNameAndId(x.name,x.id)},itemValue:function(x){return x.id},disabled:_vm.formDisabled},on:{"update:currentValue":function($event){_vm.selectedFacilityId=$event},"update:current-value":function($event){_vm.selectedFacilityId=$event}}}),_c("label",{staticClass:"select-button-label",attrs:{for:"select-address-button"}},[_vm._v("\n      "+_vm._s(_vm.$tr("selectDifferentDeviceLabel"))+"\n    ")]),_c("KButton",{attrs:{id:"select-address-button",appearance:"basic-link",text:_vm.getCommonSyncString("addNewAddressAction")},on:{click:function($event){_vm.showSelectAddressModal=!0}}}),_vm.showSelectAddressModal?_c("SelectDeviceModalGroup",{on:{cancel:function($event){_vm.showSelectAddressModal=!1},submit:_vm.handleAddressSubmit}}):_vm._e()],1)],1)};function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}SelectFacilityFormvue_type_template_id_1ea2ddf1_scoped_true_render._withStripped=!0;var SelectFacilityForm=normalizeComponent({name:"SelectFacilityForm",components:{OnboardingStepBase:OnboardingStepBase,RadioButtonGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.RadioButtonGroup,SelectDeviceModalGroup:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.SelectDeviceModalGroup},inject:["wizardService"],mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],data:function(){return{loading:!0,footerMessageType:FooterMessageTypes.IMPORT_FACILITY,selectedFacilityId:"selectedFacilityId",facilities:[],device:null,formDisabled:!1,loadingNewAddress:!1,showSelectAddressModal:!1}},computed:{header:function(){return this.getCommonSyncString("selectFacilityTitle")},importDeviceId:function(){return this.wizardService.state.context.importDeviceId},selectedFacility:function(){var _this=this;return this.facilities.find((function(f){return f.id===_this.selectedFacilityId}))}},beforeMount:function(){this.fetchNetworkLocation(this.importDeviceId)},methods:{fetchNetworkLocation:function(deviceId){var _this2=this;return this.loadingNewAddress=!0,this.fetchNetworkLocationFacilities(deviceId).then((function(data){_this2.facilities=_toConsumableArray(data.facilities),_this2.device={name:data.device_name,id:data.device_id,baseurl:data.device_address},_this2.selectedFacilityId=_this2.facilities[0].id,1===_this2.facilities.length?_this2.handleContinue():(_this2.loading=!1,_this2.loadingNewAddress=!1)})).catch((function(error){_this2.$store.dispatch("showError",error)}))},handleAddressSubmit:function(address){var _this3=this;this.fetchNetworkLocation(address.id).then((function(){return _this3.showSelectAddressModal=!1}))},handleContinue:function(){this.wizardService.send({type:"CONTINUE",value:{selectedFacility:this.selectedFacility,importDevice:this.device,facilitiesCount:this.facilities.length}})}},$trs:{selectDifferentDeviceLabel:{message:"Don't see your learning facility?",context:"A label shown above a link that will open a modal to select a different network location from which to select a facility"}}},SelectFacilityFormvue_type_template_id_1ea2ddf1_scoped_true_render,[],!1,null,"1ea2ddf1",null).exports,SelectSuperAdminAccountFormvue_type_template_id_5972ed0e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading?_vm._e():_c("UserCredentialsForm",{attrs:{footerMessageType:_vm.footerMessageType,step:_vm.step,steps:_vm.steps,header:_vm.$tr("header"),description:_vm.getCommonSyncString("superAdminPermissionsDescription"),uniqueUsernameValidator:_vm.uniqueUsernameValidator,selectedUser:_vm.selectedImportedUser,noBackAction:!0},on:{submit:_vm.handleClickNext},scopedSlots:_vm._u([{key:"aboveform",fn:function(){return[_vm.error?_c("p",{style:{color:_vm.$themeTokens.error}},[_vm._v("\n      "+_vm._s(_vm.coreString("invalidCredentialsError"))+"\n    ")]):_vm._e(),_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("chooseAdminPrompt",{facility:_vm.facility.name}))+"\n    ")]),_c("KSelect",{staticClass:"select",attrs:{label:_vm.coreString("superAdminLabel"),options:_vm.dropdownOptions},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_vm.importedUserIsSelected?_vm._e():_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("accountFacilityExplanation",{facility:_vm.facility.name}))+"\n    ")])]},proxy:!0}],null,!1,3704356629)},[_vm.importedUserIsSelected?_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("enterPasswordPrompt",{username:_vm.selected.label,facility_name:_vm.facility.name}))+"\n  ")]):_vm._e()])};function SelectSuperAdminAccountFormvue_type_script_lang_js_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return SelectSuperAdminAccountFormvue_type_script_lang_js_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return SelectSuperAdminAccountFormvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SelectSuperAdminAccountFormvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SelectSuperAdminAccountFormvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}SelectSuperAdminAccountFormvue_type_template_id_5972ed0e_scoped_true_render._withStripped=!0;var SelectSuperAdminAccountForm=normalizeComponent({name:"SelectSuperAdminAccountForm",components:{UserCredentialsForm:UserCredentialsForm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],inject:["wizardService"],data:function(){return{footerMessageType:FooterMessageTypes.IMPORT_FACILITY,selected:{},password:"",passwordValid:!1,shouldValidate:!1,loading:!0,error:!1,facilityAdmins:[]}},computed:{step:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?3:4},steps:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?4:5},facility:function(){return this.wizardService._state.context.selectedFacility},selectedImportedUser:function(){var _this=this;return this.facilityAdmins.find((function(admin){return admin.id==_this.selected.value}))},importedUserIsSelected:function(){return"CREATE_NEW_SUPER_ADMIN"!==this.selected.value},dropdownOptions:function(){var adminOptions=this.facilityAdmins.map((function(admin){return{label:admin.username,value:admin.id}}));return[].concat(SelectSuperAdminAccountFormvue_type_script_lang_js_toConsumableArray(adminOptions),[{label:this.$tr("createSuperAdminOption"),value:"CREATE_NEW_SUPER_ADMIN"}])}},watch:{selected:function(newVal){newVal.label===this.facility.username&&this.setSavedAdminPassword()}},beforeMount:function(){this.fetchFacilityAdmins()},methods:{uniqueUsernameValidator:function(username){return!this.facilityAdmins.find((function(admin){return admin.username===username}))},setSavedAdminPassword:function(){this.password=this.facility.password},fetchFacilityAdmins:function(){var _this2=this;return FacilityImportResource.facilityadmins().then((function(admins){_this2.facilityAdmins=SelectSuperAdminAccountFormvue_type_script_lang_js_toConsumableArray(admins);var superuserMatch=_this2.dropdownOptions.find((function(_ref){return _ref.label===_this2.facility.username}));superuserMatch?(_this2.selected=superuserMatch,_this2.setSavedAdminPassword()):(_this2.selected=_this2.dropdownOptions[0],_this2.password=""),_this2.$nextTick().then((function(){_this2.resetFormAndRefocus()})),_this2.loading=!1})).catch((function(error){_this2.$store.dispatch("handleApiError",{error:error})}))},resetFormAndRefocus:function(){this.shouldValidate=!1,this.$refs.password&&this.selected.label!==this.facility.username&&this.$refs.password.resetAndFocus()},handleClickNextImportedUser:function(){var _this3=this;if(this.error=!1,this.passwordValid)return FacilityImportResource.grantsuperuserpermissions({user_id:this.selected.value,password:this.password}).then((function(){_this3.updateSuperuserAndClickNext(_this3.selected.label,_this3.password)})).catch((function(){_this3.error=!0}));this.$refs.password.focus()},handleClickNextNewUser:function(data){var _this4=this;return FacilityImportResource.createsuperuser(data).then((function(){_this4.updateSuperuserAndClickNext(data.username,data.password)})).catch((function(){_this4.error=!0}))},updateSuperuserAndClickNext:function(username,password){this.$emit("update:superuser",{username:username,password:password}),this.$emit("click_next")},handleClickNext:function(data){this.shouldValidate=!0,this.importedUserIsSelected?this.handleClickNextImportedUser():this.handleClickNextNewUser(data)}},$trs:{header:{message:"Select super admin",context:"Page title,"},chooseAdminPrompt:{message:"Choose an admin from '{facility}' learning facility or create a new super admin.",context:"Prompt that goes above a select input of options for admins"},enterPasswordPrompt:{message:"Enter the password for '{username}' in '{facility_name}' learning facility",context:"Prompt that goes above the password input."},createSuperAdminOption:{message:"Create new super admin",context:"Option in a select input."},accountFacilityExplanation:{message:"This account will be associated with the facility '{facility}'",context:"Explanation that goes above the new user form"}}},SelectSuperAdminAccountFormvue_type_template_id_5972ed0e_scoped_true_render,[],!1,null,"5972ed0e",null).exports,ImportIndividualUserFormvue_type_template_id_9ba9167e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.$tr("importIndividualUsersHeader"),noBackAction:!_vm.noUsersImported,footerMessageType:_vm.footerMessageType,step:_vm.step,steps:_vm.steps,description:_vm.formDescription,submitText:_vm.coreString("importAction"),disabled:_vm.formSubmitted||_vm.wizardService.state.context.importedUsers.length>0,finishButton:0!==_vm.users.length},on:{continue:_vm.handleSubmit}},[_vm.noUsersImported?_c("div",[_vm._v("\n    "+_vm._s(_vm.getCommonSyncString("warningFirstImportedIsSuperuser"))+"\n  ")]):_vm._e(),_vm.facility?_c("div",[_c("p",{staticClass:"facility-name"},[_vm._v("\n      "+_vm._s(_vm.formatNameAndId(_vm.facility.name,_vm.facility.id))+"\n    ")]),_c("p",[_vm._v(_vm._s(_vm.$tr("enterCredentials")))]),_vm.error&&!_vm.useAdmin?_c("p",{style:{color:_vm.$themeTokens.error}},[_vm._v("\n      "+_vm._s(_vm.coreString("invalidCredentialsError"))+"\n    ")]):_vm._e(),_c("KTextbox",{ref:"usernameTextbox",attrs:{disabled:_vm.formSubmitted,label:_vm.coreString("usernameLabel"),autofocus:_vm.$attrs.autofocus,invalid:Boolean(_vm.invalidText),invalidText:_vm.invalidText},on:{blur:function($event){_vm.shouldValidate=!0}},model:{value:_vm.username,callback:function($$v){_vm.username="string"==typeof $$v?$$v.trim():$$v},expression:"username"}}),_vm.facility.learner_can_login_with_no_password?_vm._e():_c("PasswordTextbox",{ref:"passwordTextbox",attrs:{disabled:_vm.formSubmitted,value:_vm.password,showConfirmationInput:!1,autocomplete:"new-password"},on:{"update:value":function($event){_vm.password=$event}}}),_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("doNotHaveUserCredentials"))+"\n      "),_c("KButton",{attrs:{text:_vm.profileString("useAdminAccount"),appearance:"basic-link"},on:{click:_vm.openAdminCredentialsForm}})],1),_vm.deviceLimitations?_c("KModal",{attrs:{title:_vm.$tr("deviceLimitationsTitle"),cancelText:_vm.coreString("cancelAction"),submitText:_vm.coreString("importAction")},on:{cancel:_vm.closeModal,submit:_vm.importUser}},[_c("p",[_vm._v(" "+_vm._s(_vm.modalMessage)+" ")])]):_vm._e(),_vm.useAdmin?_c("KModal",{attrs:{title:_vm.profileString("useAdminAccount"),cancelText:_vm.coreString("cancelAction"),submitText:_vm.coreString("continueAction")},on:{cancel:_vm.closeModal,submit:_vm.moveAdmin}},[_c("p",[_vm._v(" "+_vm._s(_vm.adminModalMessage)+" ")]),_vm.error&&_vm.useAdmin?_c("p",{style:{color:_vm.$themeTokens.error}},[_vm._v("\n        "+_vm._s(_vm.coreString("invalidCredentialsError"))+"\n      ")]):_vm._e(),_c("KTextbox",{ref:"adminUsernameTextbox",attrs:{label:_vm.coreString("usernameLabel"),autofocus:_vm.$attrs.autofocus,invalid:Boolean(_vm.invalidText),invalidText:_vm.invalidText},on:{blur:function($event){_vm.shouldValidate=!0}},model:{value:_vm.adminUsername,callback:function($$v){_vm.adminUsername="string"==typeof $$v?$$v.trim():$$v},expression:"adminUsername"}}),_c("PasswordTextbox",{ref:"adminPasswordTextbox",attrs:{value:_vm.adminPassword,showConfirmationInput:!1,autocomplete:"new-password"},on:{"update:value":function($event){_vm.adminPassword=$event}}})],1):_vm._e()],1):_c("KCircularLoader")],1)};ImportIndividualUserFormvue_type_template_id_9ba9167e_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_utils_CatchErrors_namespaceObject=kolibriCoreAppGlobal.utils.CatchErrors,external_kolibriCoreAppGlobal_utils_CatchErrors_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_CatchErrors_namespaceObject),profileStrings=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("CommonProfileStrings",{createAccount:{message:"Create new account",context:"Text is used on a button or label to indicate the current step to create a new user account"},mergeAccounts:{message:"Merge accounts",context:"Text is used on a button or label to merge accounts between facilities."},useAdminAccount:{message:"Use an admin account",context:"Link to use an admin account for the target facility to do the merge"}});var commonProfileStrings={methods:{profileString:function(key,args){return profileStrings.$tr(key,args)}}};function ImportIndividualUserFormvue_type_script_lang_js_typeof(o){return ImportIndividualUserFormvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ImportIndividualUserFormvue_type_script_lang_js_typeof(o)}function ImportIndividualUserFormvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ImportIndividualUserFormvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ImportIndividualUserFormvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ImportIndividualUserFormvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ImportIndividualUserFormvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ImportIndividualUserFormvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ImportIndividualUserFormvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ImportIndividualUserFormvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ImportIndividualUserFormvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ImportIndividualUserFormvue_type_script_lang_js_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return ImportIndividualUserFormvue_type_script_lang_js_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return ImportIndividualUserFormvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ImportIndividualUserFormvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ImportIndividualUserFormvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ImportIndividualUserForm=normalizeComponent({name:"ImportIndividualUserForm",components:{OnboardingStepBase:OnboardingStepBase,PasswordTextbox:external_kolibriCoreAppGlobal_coreVue_components_PasswordTextbox_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonProfileStrings],data:function(){return{footerMessageType:FooterMessageTypes.IMPORT_INDIVIDUALS,username:"",password:"",full_name:"",roles:"",error:!1,deviceLimitations:!1,useAdmin:!1,forceNonLearnerImport:!1,adminUsername:null,adminPassword:null,device:null,facilities:[],selectedFacilityId:"selectedFacilityId",formSubmitted:!1,shouldValidate:!1}},inject:["wizardService"],computed:{noUsersImported:function(){return 0==this.wizardService.state.context.importedUsers.length},step:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?1:2},steps:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?2:3},deviceId:function(){return this.wizardService.state.context.importDeviceId},facility:function(){var _this=this;return this.facilities.find((function(f){return f.id===_this.selectedFacilityId}))},users:function(){return this.wizardService.state.context.importedUsers||[]},formDescription:function(){return this.device&&this.device.name?this.$tr("commaSeparatedPair",{first:this.formatNameAndId(this.device.name,this.deviceId),second:this.device.baseurl}):""},modalMessage:function(){var importedUserIsAdmin=this.roles&&this.roles.includes("admin"),messageArgs={full_name:this.full_name,username:this.username,non_admin_role:!importedUserIsAdmin&&this.coreString("coachLabel").toLocaleLowerCase(external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage),device:this.device.name};return importedUserIsAdmin?this.$tr("deviceLimitationsAdminsMessage",messageArgs):this.$tr("deviceLimitationsMessage",messageArgs)},adminModalMessage:function(){return this.$tr("enterAdminCredentials",{facility:this.facility.name})},invalidText:function(){return this.shouldValidate&&(!this.useAdmin&""===this.username.trim()||this.useAdmin&(null===this.adminUsername||""===this.adminUsername.trim()))?this.coreString("requiredFieldError"):""}},beforeMount:function(){var _this2=this;this.fetchNetworkLocation(this.deviceId).then((function(){_this2.facility||_this2.$store.dispatch("showError","Failed to retrieve facilities.")}))},mounted:function(){this.selectedFacilityId=this.wizardService.state.context.selectedFacility.id},methods:{fetchNetworkLocation:function(deviceId){var _this3=this;return this.loadingNewAddress=!0,this.fetchNetworkLocationFacilities(deviceId).then((function(data){_this3.facilities=ImportIndividualUserFormvue_type_script_lang_js_toConsumableArray(data.facilities),_this3.device={name:data.device_name,id:data.device_id,baseurl:data.device_address},_this3.loadingNewAddress=!1})).catch((function(error){_this3.$store.dispatch("showError",error)}))},closeModal:function(){this.deviceLimitations=!1,this.useAdmin=!1},openAdminCredentialsForm:function(){this.shouldValidate=!1,this.error=!1,this.useAdmin=!0,this.$nextTick((function(){this.$refs.adminUsernameTextbox.focus()}))},handleSubmit:function(){var _this4=this;if(0===this.wizardService.state.context.importedUsers.length&&(this.shouldValidate=!0,this.invalidText))this.$refs.usernameTextbox.focus();else{this.formSubmitted=!0;var password=""===this.password?external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.DemographicConstants.NOT_SPECIFIED:this.password,params={type:"kolibri.core.auth.tasks.peeruserimport",username:this.username,password:password,facility:this.facility.id,facility_name:this.facility.name,device_id:this.deviceId,using_admin:!1,force_non_learner_import:this.forceNonLearnerImport};if(!params.username&&params.password===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.DemographicConstants.NOT_SPECIFIED&&(this.formSubmitted=!1,this.wizardService.state.context.importedUsers.length>0))return this.wizardService.send("FINISH");external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.startTask(params).then((function(task){var user={};_this4.users.length||(user={username:params.username,password:params.password}),task.device_id=_this4.deviceId,task.facility_name=_this4.facility.name,_this4.wizardService.state.context.firstImportedLodUser||_this4.wizardService.send({type:"SET_FIRST_LOD",value:{username:task.extra_metadata.username,password:password}}),_this4.wizardService.send({type:"CONTINUE",value:ImportIndividualUserFormvue_type_script_lang_js_objectSpread(ImportIndividualUserFormvue_type_script_lang_js_objectSpread({},task),user)})})).catch((function(error){_this4.formSubmitted=!1;var errorsCaught=external_kolibriCoreAppGlobal_utils_CatchErrors_default()(error,[external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.INVALID_CREDENTIALS,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.MISSING_PASSWORD,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.PASSWORD_NOT_SPECIFIED,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.AUTHENTICATION_FAILED,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.INVALID_USERNAME]),errorData=error.response.data;if(errorsCaught)_this4.error=!0;else if(Array.isArray(errorData)&&errorData.find((function(e){return get_default()(e,"metadata.message",null)===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.DEVICE_LIMITATIONS}))){var error_info=errorData.reduce((function(info,err){var _err$metadata=err.metadata,field=_err$metadata.field,message=_err$metadata.message;return info[field]=message,info}),{});_this4.full_name=error_info.full_name,_this4.roles=error_info.roles,_this4.deviceLimitations=!0}}))}},importUser:function(){this.forceNonLearnerImport=!0,this.error=!1,this.handleSubmit()},moveAdmin:function(){var _this5=this;if(this.shouldValidate=!0,this.invalidText)this.$refs.adminUsernameTextbox.focus();else{var params={baseurl:this.device.baseurl,username:this.adminUsername,password:this.adminPassword,facility_id:this.facility.id};FacilityImportResource.listfacilitylearners(params).then((function(data){_this5.wizardService.send({type:"CONTINUEADMIN",value:{adminUsername:_this5.adminUsername,adminPassword:_this5.adminPassword,adminId:data.admin.id,users:data.students}})})).catch((function(error){external_kolibriCoreAppGlobal_utils_CatchErrors_default()(error,[external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.INVALID_CREDENTIALS,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.AUTHENTICATION_FAILED,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.PERMISSION_DENIED,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.MISSING_PASSWORD,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.PASSWORD_NOT_SPECIFIED,external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ERROR_CONSTANTS.INVALID_USERNAME])?_this5.error=!0:_this5.$store.dispatch("handleApiError",{error:error})}))}}},$trs:{commaSeparatedPair:{message:"{first}, {second}",context:"DO NOT TRANSLATE\nCopy the source string."},importIndividualUsersHeader:{message:"Import individual user accounts",context:"The title of the 'Import individual user accounts' step in the wizard setup"},enterCredentials:{message:"Enter the user credentials of the account you want to import.",context:"Asking user and password of the user to be imported."},enterAdminCredentials:{message:"Enter the username and password of a facility admin or a super admin of '{facility}'",context:"Asking user and password of the  admin user of the facility to be imported"},deviceLimitationsTitle:{message:"Device limitations",context:"Heading for the window which informs that only learner features will be available on the device. "},deviceLimitationsMessage:{message:"'{full_name} ({username})' is a {non_admin_role} on '{device}'. This device is limited to features for learners only. Features for coaches and admins will not be available.",context:"Appears on 'Device limitations' window which informs that only learner features will be available on the device."},deviceLimitationsAdminsMessage:{message:"'{full_name} ({username})' is an admin on '{device}'. This device is limited to features for learners only. Features for coaches and admins will not be available."},doNotHaveUserCredentials:{message:"Don't have the user credentials?",context:"'Credentials' refers to learner's username and password."}}},ImportIndividualUserFormvue_type_template_id_9ba9167e_scoped_true_render,[],!1,null,"9ba9167e",null).exports,ImportMultipleUsersvue_type_template_id_58541054_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{footerMessageType:_vm.footerMessageType,step:_vm.step,steps:_vm.steps,showBackArrow:!0,eventOnGoBack:_vm.backArrowEvent,title:_vm.$tr("selectAUser"),description:_vm.facilityDescription},scopedSlots:_vm._u([{key:"buttons",fn:function(){return[_c("div")]},proxy:!0}])},[_c("p",{staticClass:"device-name"},[_vm._v("\n    "+_vm._s(_vm.deviceDescription)+"\n  ")]),_vm.noUsersImported?_c("div",[_vm._v("\n    "+_vm._s(_vm.getCommonSyncString("warningFirstImportedIsSuperuser"))+"\n  ")]):_vm._e(),_c("PaginatedListContainer",{attrs:{items:_vm.learners,filterPlaceholder:_vm.coreString("searchForUser")},scopedSlots:_vm._u([{key:"default",fn:function(ref){var items=ref.items;return[_c("UserTable",{attrs:{users:items,selectable:!1,showDemographicInfo:!1,value:_vm.usersID,selectedStyle:"color:"+_vm.$themeTokens.textDisabled},scopedSlots:_vm._u([{key:"action",fn:function(userRow){return[_vm.isImported(userRow.user)||_vm.isImporting(userRow.user)?_vm.isImporting(userRow.user)?_c("KCircularLoader",{staticStyle:{margin:"4px auto 0"},attrs:{size:24}}):_c("p",{staticClass:"imported"},[_vm._v("\n            "+_vm._s(_vm.$tr("imported"))+"\n          ")]):_c("KButton",{attrs:{text:_vm.coreString("importAction"),appearance:"flat-button"},on:{click:function($event){return _vm.startImport(userRow.user)}}})]}}],null,!0)})]}}])})],1)};ImportMultipleUsersvue_type_template_id_58541054_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_namespaceObject=kolibriCoreAppGlobal.coreVue.components.PaginatedListContainer,external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_namespaceObject),external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject=kolibriCoreAppGlobal.utils.syncTaskUtils,external_kolibriCoreAppGlobal_coreVue_components_UserTable_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UserTable,external_kolibriCoreAppGlobal_coreVue_components_UserTable_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UserTable_namespaceObject);function ImportMultipleUsersvue_type_script_lang_js_typeof(o){return ImportMultipleUsersvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ImportMultipleUsersvue_type_script_lang_js_typeof(o)}function ImportMultipleUsersvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ImportMultipleUsersvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ImportMultipleUsersvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ImportMultipleUsersvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ImportMultipleUsersvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ImportMultipleUsersvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ImportMultipleUsersvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ImportMultipleUsersvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ImportMultipleUsersvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ImportMultipleUsers=normalizeComponent({name:"ImportMultipleUsers",components:{OnboardingStepBase:OnboardingStepBase,PaginatedListContainer:external_kolibriCoreAppGlobal_coreVue_components_PaginatedListContainer_default(),UserTable:external_kolibriCoreAppGlobal_coreVue_components_UserTable_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],data:function(){return{footerMessageType:FooterMessageTypes.IMPORT_INDIVIDUALS,isPolling:!1,learnersBeingImported:[]}},inject:["wizardService"],computed:{noUsersImported:function(){return 0==this.wizardService.state.context.importedUsers.length},step:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?1:2},steps:function(){return 1==this.wizardService.state.context.facilitiesOnDeviceCount?2:3},learners:function(){return this.wizardService.state.context.remoteUsers},usersID:function(){return this.learners.map((function(user){return user.id}))},device:function(){return this.wizardService.state.context.importDevice},facility:function(){return this.wizardService.state.context.selectedFacility},facilityDescription:function(){return this.formatNameAndId(this.facility.name,this.facility.id)},deviceDescription:function(){return this.device.name?this.$tr("commaSeparatedPair",{first:this.formatNameAndId(this.device.name,this.device.id),second:this.device.baseurl}):""},backArrowEvent:function(){return 0==this.learnersBeingImported.length?{type:"BACK"}:{type:"LOADING"}}},beforeMount:function(){this.isPolling=!0,this.pollImportTask()},methods:{importedLearners:function(){return this.wizardService.state.context.importedUsers},pollImportTask:function(){var _this=this;external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.list({queue:"soud_sync"}).then((function(tasks){tasks.length&&tasks.forEach((function(task){if(task.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED){var taskUserId=task.extra_metadata.user_id;_this.learnersBeingImported=_this.learnersBeingImported.filter((function(id){return id!=taskUserId}));var taskUsername=task.extra_metadata.username;_this.importedLearners().length||_this.wizardService.send({type:"SET_SUPERADMIN",value:{username:taskUsername,password:"Not The Real Password"}}),_this.importedLearners().includes(taskUsername)||_this.wizardService.send({type:"ADD_IMPORTED_USER",value:taskUsername})}}))})),this.isPolling&&setTimeout((function(){_this.pollImportTask()}),2e3)},startImport:function(learner){var _this2=this;this.learnersBeingImported.push(learner.id);var params=ImportMultipleUsersvue_type_script_lang_js_objectSpread(ImportMultipleUsersvue_type_script_lang_js_objectSpread({type:"kolibri.core.auth.tasks.peeruserimport"},this.wizardService.state.context.lodAdmin),{},{facility:this.facility.id,facility_name:this.facility.name,device_id:this.device.id,user_id:learner.id,using_admin:!0});this.wizardService.state.context.firstImportedLodUser||this.wizardService.send({type:"SET_FIRST_LOD",value:{username:learner.username,password:external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.DemographicConstants.NOT_SPECIFIED}}),external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.startTask(params).catch((function(){_this2.learnersBeingImported=_this2.learnersBeingImported.filter((function(id){return id!=learner.id}))}))},isImported:function(learner){return this.importedLearners().find((function(u){return u===learner.username}))},isImporting:function(learner){return this.learnersBeingImported.includes(learner.id)}},$trs:{commaSeparatedPair:{message:"{first}, {second}",context:"DO NOT TRANSLATE\nCopy the source string."},imported:{message:"Imported",context:"Label indicating that a learner user account has already been imported."},selectAUser:{message:"Select a user",context:"Descriptive text which appears in the title of this page to select users to sync."}}},ImportMultipleUsersvue_type_template_id_58541054_scoped_true_render,[],!1,null,"58541054",null).exports,LoadingTaskPagevue_type_template_id_18a97099_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("OnboardingStepBase",{attrs:{title:_vm.header,navDisabled:_vm.runningTasks.length>0,footerMessageType:_vm.footerMessageType,step:_vm.step,steps:_vm.steps},on:{continue:function($event){return _vm.$emit("click_next")}},scopedSlots:_vm._u([{key:"buttons",fn:function(){return["COMPLETED"===_vm.loadingTask.status?_c("KButton",{attrs:{primary:"",text:_vm.nextButtonLabel},on:{click:_vm.handleClickContinue}}):"FAILED"===_vm.loadingTask.status?[_c("KButton",{attrs:{text:_vm.coreString("startOverAction"),appearance:"flat-button"},on:{click:_vm.startOver}}),_c("KButton",{attrs:{primary:"",text:_vm.coreString("retryAction")},on:{click:_vm.retryImport}})]:_c("span")]},proxy:!0}])},[_vm.loadingTask.status?_c("FacilityTaskPanel",{attrs:{task:_vm.loadingTask},on:{cancel:_vm.cancelTask}}):_c("KCircularLoader"),"COMPLETED"===_vm.loadingTask.status&&_vm.isImportingSoud?_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("importAnother")},on:{click:_vm.importAnother}}):_vm._e()],1)};LoadingTaskPagevue_type_template_id_18a97099_scoped_true_render._withStripped=!0;var urls,LoadingTaskPage=normalizeComponent({name:"LoadingTaskPage",components:{FacilityTaskPanel:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.FacilityTaskPanel,OnboardingStepBase:OnboardingStepBase},inject:["wizardService"],mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],props:{footerMessageType:{type:String,required:!0}},data:function(){return{allTasks:[],isPolling:!1,lastLoadingTask:{status:null}}},computed:{nextButtonLabel:function(){return this.step===this.steps&&null!==this.step?this.coreString("finishAction"):this.coreString("continueAction")},step:function(){return this.footerMessageType===FooterMessageTypes.IMPORT_FACILITY||this.footerMessageType===FooterMessageTypes.IMPORT_INDIVIDUALS||this.footerMessageType===FooterMessageTypes.JOIN_FACILITY?1==this.wizardService.state.context.facilitiesOnDeviceCount?2:3:null},steps:function(){return this.footerMessageType===FooterMessageTypes.IMPORT_FACILITY?1==this.wizardService.state.context.facilitiesOnDeviceCount?4:5:this.footerMessageType===FooterMessageTypes.IMPORT_INDIVIDUALS||this.footerMessageType===FooterMessageTypes.JOIN_FACILITY?1==this.wizardService.state.context.facilitiesOnDeviceCount?2:3:null},doneTaskStatuses:function(){return[external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED,external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.FAILED]},completedTasks:function(){return this.allTasks.filter((function(t){return t.status===external_kolibriCoreAppGlobal_utils_syncTaskUtils_namespaceObject.TaskStatuses.COMPLETED}))},runningTasks:function(){var _this=this;return this.allTasks.filter((function(t){return!_this.doneTaskStatuses.includes(t.status)}))},loadingTask:function(){return this.runningTasks.length?this.runningTasks[0]:this.lastLoadingTask},isSoud:function(){return"soud_sync"===this.queue},isImportingSoud:function(){return this.wizardService.state.context.lodImportOrJoin===LodTypePresets.IMPORT},queue:function(){return this.wizardService.state.context.fullOrLOD===DeviceTypePresets.LOD?"soud_sync":"facility_task"},header:function(){return this.isSoud?this.$tr("loadUserTitle"):this.getCommonSyncString("importFacilityAction")}},beforeMount:function(){this.isPolling=!0,this.pollTask()},methods:{importAnother:function(){this.isPolling=!1,this.wizardService.send("IMPORT_ANOTHER")},pushCompletedToWizardMachine:function(){var _this2=this;this.completedTasks.forEach((function(task){_this2.wizardService.state.context.importedUsers.includes(task.username)||_this2.wizardService.send({type:"ADD_IMPORTED_USER",value:task.extra_metadata.username})}))},pollTask:function(){var _this3=this;external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.list({queue:this.queue}).then((function(tasks){tasks.length||_this3.handleClickContinue(),_this3.loadingTask&&(_this3.lastLoadingTask=_this3.loadingTask),_this3.allTasks=tasks,_this3.pushCompletedToWizardMachine(),0===_this3.runningTasks.length&&(_this3.lastLoadingTask=_this3.completedTasks.length?_this3.completedTasks[_this3.completedTasks.length-1]:_this3.allTasks[0],_this3.isPolling=!1),_this3.isPolling&&setTimeout((function(){_this3.pollTask()}),2e3)})).catch((function(error){500==error.status&&_this3.isPolling&&setTimeout((function(){_this3.pollTask()}),2e3)}))},retryImport:function(){var _this4=this;external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.restart(this.loadingTask.id).catch((function(error){_this4.$store.dispatch("handleApiError",{error:error})}))},cancelTask:function(){return external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.cancel(this.loadingTask.id)},startOver:function(){var _this5=this;this.isPolling=!1,this.clearTasks().then((function(){_this5.wizardService.send("START_OVER")}))},clearTasks:function(){return external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.clearAll(this.queue)},handleClickContinue:function(){this.isPolling=!1,this.clearTasks(),this.wizardService.send(this.isSoud?"FINISH":"CONTINUE")}},$trs:{importAnother:{message:"Import another user account",context:"Link to restart the import step for another user. "},loadUserTitle:{message:"Load user account",context:"Title of a page where user is waiting for a user to be imported"}}},LoadingTaskPagevue_type_template_id_18a97099_scoped_true_render,[],!1,null,"18a97099",null).exports,routes=[{path:"/",name:"HOW_ARE_YOU_USING_KOLIBRI",component:HowAreYouUsingKolibri},{path:"/default-language",name:"DEFAULT_LANGUAGE",component:DefaultLanguageForm},{path:"/create-account",name:"CREATE_SUPERUSER_AND_FACILITY",component:UserCredentialsForm},{path:"/device-name",name:"DEVICE_NAME",component:DeviceNameForm},{path:"/full-or-lod",name:"FULL_OR_LOD",component:FullOrLearnOnlyDeviceForm},{path:"/facility-new-or-import",name:"FULL_NEW_OR_IMPORT_FACILITY",component:SetUpLearningFacilityForm},{name:"FACILITY_PERMISSIONS",path:"/create_facility/1",component:FacilityPermissionsForm},{name:"GUEST_ACCESS",path:"/create-facility/2",component:GuestAccessForm},{name:"CREATE_LEARNER_ACCOUNT",path:"/create-facility/3",component:CreateLearnerAccountForm},{name:"REQUIRE_PASSWORD",path:"/create-facility/4",component:RequirePasswordForLearnersForm},{name:"PERSONAL_DATA_CONSENT",path:"/create-facility/5",component:PersonalDataConsentForm,props:{footerMessageType:FooterMessageTypes.NEW_FACILITY}},{name:"SELECT_FACILITY_FOR_IMPORT",path:"/import-facility/select",component:SelectFacilityForm},{name:"IMPORT_AUTHENTICATION",path:"/import-facility/auth",component:ImportAuthentication},{name:"IMPORT_LOADING",path:"/import-facility/loading",component:LoadingTaskPage,props:{footerMessageType:FooterMessageTypes.IMPORT_FACILITY}},{name:"SELECT_ADMIN",path:"/import-facility/select-admin",component:SelectSuperAdminAccountForm},{name:"IMPORT_DATA_CONSENT",path:"/import-facility/consent",component:PersonalDataConsentForm,props:{footerMessageType:FooterMessageTypes.IMPORT_FACILITY}},{name:"LOD_SETUP_TYPE",path:"/learn-only/setup-type",component:JoinOrNewLOD},{name:"LOD_SELECT_FACILITY",path:"/learn-only/select-facility",component:SelectFacilityForm},{name:"LOD_IMPORT_USER_AUTH",path:"/learn-only/import/sign-in",component:ImportIndividualUserForm},{name:"LOD_LOADING_TASK_PAGE",path:"/learn-only/loading",component:LoadingTaskPage,props:{footerMessageType:FooterMessageTypes.IMPORT_INDIVIDUALS}},{name:"LOD_JOIN_LOADING_TASK_PAGE",path:"/learn-only/loading",component:LoadingTaskPage,props:{footerMessageType:FooterMessageTypes.JOIN_FACILITY}},{name:"LOD_IMPORT_AS_ADMIN",path:"/learn-only/import/multiple-users",component:ImportMultipleUsers},{name:"LOD_CREATE_USER_FORM",path:"/learn-only/join/create-user",component:LodJoinFacility},{name:"FINALIZE_SETUP",path:"/setting-up",component:SettingUpKolibri}],vuex_router_sync=__webpack_require__(6353),forEach=__webpack_require__(6705),forEach_default=__webpack_require__.n(forEach),external_kolibriCoreAppGlobal_coreVue_router_namespaceObject=kolibriCoreAppGlobal.coreVue.router,external_kolibriCoreAppGlobal_coreVue_router_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_router_namespaceObject),external_kolibriCoreAppGlobal_lib_vue_namespaceObject=kolibriCoreAppGlobal.lib.vue,external_kolibriCoreAppGlobal_lib_vue_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_vue_namespaceObject),external_kolibriCoreAppGlobal_coreVue_vuex_store_namespaceObject=kolibriCoreAppGlobal.coreVue.vuex.store,external_kolibriCoreAppGlobal_coreVue_vuex_store_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_vuex_store_namespaceObject),external_kolibriCoreAppGlobal_heartbeat_namespaceObject=kolibriCoreAppGlobal.heartbeat,external_kolibriCoreAppGlobal_heartbeat_default=__webpack_require__.n(external_kolibriCoreAppGlobal_heartbeat_namespaceObject),external_kolibriCoreAppGlobal_namespaceObject=kolibriCoreAppGlobal,external_kolibriCoreAppGlobal_default=__webpack_require__.n(external_kolibriCoreAppGlobal_namespaceObject);function kolibri_module_typeof(o){return kolibri_module_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kolibri_module_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,kolibri_module_toPropertyKey(descriptor.key),descriptor)}}function kolibri_module_toPropertyKey(t){var i=function(t,r){if("object"!=kolibri_module_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=kolibri_module_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==kolibri_module_typeof(i)?i:String(i)}urls=external_kolibriCoreAppGlobal_urls_default(),__webpack_require__.p=urls.static("".concat("kolibri.plugins.setup_wizard.app","/"));var KolibriModule=function(){function KolibriModule(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KolibriModule),this.name="kolibri.plugins.setup_wizard.app";var safeOptions={};this.kolibriModuleOptions.forEach((function(option){options[option]&&(safeOptions[option]=options[option])})),Object.assign(this,safeOptions);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.initialize.apply(this,[options].concat(args)),this._registerKolibriModule()}var Constructor,protoProps,staticProps;return Constructor=KolibriModule,protoProps=[{key:"kolibriModuleOptions",get:function(){return[]}},{key:"_registerKolibriModule",value:function(){external_kolibriCoreAppGlobal_default().registerKolibriModuleSync(this)}},{key:"initialize",value:function(){}},{key:"ready",value:function(){}},{key:"stopListening",value:function(event,method){external_kolibriCoreAppGlobal_default().stopListening(event,this,method)}},{key:"emit",value:function(){external_kolibriCoreAppGlobal_default().emit.apply(external_kolibriCoreAppGlobal_default(),arguments)}},{key:"Kolibri",get:function(){return external_kolibriCoreAppGlobal_default()}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),KolibriModule}();function kolibri_app_typeof(o){return kolibri_app_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kolibri_app_typeof(o)}function kolibri_app_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return kolibri_app_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return kolibri_app_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kolibri_app_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kolibri_app_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function kolibri_app_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function kolibri_app_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?kolibri_app_ownKeys(Object(t),!0).forEach((function(r){kolibri_app_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kolibri_app_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function kolibri_app_defineProperty(obj,key,value){return(key=kolibri_app_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function kolibri_app_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,kolibri_app_toPropertyKey(descriptor.key),descriptor)}}function kolibri_app_toPropertyKey(t){var i=function(t,r){if("object"!=kolibri_app_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=kolibri_app_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==kolibri_app_typeof(i)?i:String(i)}function _callSuper(_this,derived,args){return derived=_getPrototypeOf(derived),function(self,call){if(call&&("object"===kolibri_app_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/core/assets/src/kolibri_app.js");var KolibriApp=function(_KolibriModule){function KolibriApp(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KolibriApp),_callSuper(this,KolibriApp,arguments)}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(KolibriApp,_KolibriModule),Constructor=KolibriApp,(protoProps=[{key:"routes",get:function(){return[]}},{key:"RootVue",get:function(){return{}}},{key:"store",get:function(){return external_kolibriCoreAppGlobal_coreVue_vuex_store_default()}},{key:"stateSetters",get:function(){return[]}},{key:"pluginModule",get:function(){return{}}},{key:"setupVue",value:function(){if(external_kolibriCoreAppGlobal_coreVue_router_default()._vueRouter||external_kolibriCoreAppGlobal_coreVue_router_default().initRouter(),(0,vuex_router_sync.Z)(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),external_kolibriCoreAppGlobal_coreVue_router_default()),this.store.hotUpdate({actions:this.pluginModule.actions||{},getters:this.pluginModule.getters||{},mutations:this.pluginModule.mutations||{}}),"function"!=typeof this.pluginModule.state)throw TypeError("pluginModule.state must be a function returning a state object");this.store.replaceState(kolibri_app_objectSpread(kolibri_app_objectSpread({},this.store.state),this.pluginModule.state())),forEach_default()(this.pluginModule.modules,(function(module,name){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().registerModule(name,module)}))}},{key:"startRootVue",value:function(){this.rootvue=new(external_kolibriCoreAppGlobal_lib_vue_default())(Object.assign({el:"rootvue",store:external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),router:external_kolibriCoreAppGlobal_coreVue_router_default().initRoutes(this.routes)},this.RootVue))}},{key:"ready",value:function(){var _this2=this;return this.setupVue(),external_kolibriCoreAppGlobal_heartbeat_default().startPolling().then((function(){return _this2.store.dispatch("getNotifications"),Promise.all(kolibri_app_toConsumableArray(_this2.stateSetters.map((function(setter){return setter(_this2.store)})))).then((function(){_this2.startRootVue()}))}))}}])&&kolibri_app_defineProperties(Constructor.prototype,protoProps),staticProps&&kolibri_app_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),KolibriApp}(KolibriModule);function app_typeof(o){return app_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},app_typeof(o)}function app_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,app_toPropertyKey(descriptor.key),descriptor)}}function app_toPropertyKey(t){var i=function(t,r){if("object"!=app_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=app_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==app_typeof(i)?i:String(i)}function app_callSuper(_this,derived,args){return derived=app_getPrototypeOf(derived),function(self,call){if(call&&("object"===app_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],app_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function app_getPrototypeOf(o){return app_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},app_getPrototypeOf(o)}function app_setPrototypeOf(o,p){return app_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},app_setPrototypeOf(o,p)}var app_logging=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/plugins/setup_wizard/assets/src/app.js"),SetupWizardModule=function(_KolibriApp){function SetupWizardModule(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SetupWizardModule),app_callSuper(this,SetupWizardModule,arguments)}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&app_setPrototypeOf(subClass,superClass)}(SetupWizardModule,_KolibriApp),Constructor=SetupWizardModule,(protoProps=[{key:"RootVue",get:function(){return SetupWizardIndex}},{key:"routes",get:function(){return routes}},{key:"pluginModule",get:function(){return pluginModule}},{key:"ready",value:function(){this.setupVue(),app_logging.info("Clearing facility tasks created in previous sessions..."),external_kolibriCoreAppGlobal_resources_namespaceObject.TaskResource.clearAll("facility_task"),this.startRootVue()}}])&&app_defineProperties(Constructor.prototype,protoProps),staticProps&&app_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),SetupWizardModule}(KolibriApp);new SetupWizardModule}()}();
//# sourceMappingURL=kolibri.plugins.setup_wizard.app-0.16.0.js.map