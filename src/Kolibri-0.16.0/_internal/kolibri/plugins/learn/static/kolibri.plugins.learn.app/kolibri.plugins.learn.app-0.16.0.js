/*! For license information please see kolibri.plugins.learn.app-0.16.0.js.LICENSE.txt */
!function(){var deferred,inProgress,__webpack_modules__={9598:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;function _typeof2(o){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof2(o)}module=__webpack_require__.nmd(module),factory=function(){return function(){var __webpack_modules__={686:function(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1108__){"use strict";__nested_webpack_require_1108__.d(__nested_webpack_exports__,{default:function(){return clipboard}});var tiny_emitter=__nested_webpack_require_1108__(279),tiny_emitter_default=__nested_webpack_require_1108__.n(tiny_emitter),listen=__nested_webpack_require_1108__(370),listen_default=__nested_webpack_require_1108__.n(listen),src_select=__nested_webpack_require_1108__(817),select_default=__nested_webpack_require_1108__.n(src_select);function command(type){try{return document.execCommand(type)}catch(err){return!1}}var actions_cut=function(target){var selectedText=select_default()(target);return command("cut"),selectedText},fakeCopyAction=function(value,options){var fakeElement=function(value){var isRTL="rtl"===document.documentElement.getAttribute("dir"),fakeElement=document.createElement("textarea");fakeElement.style.fontSize="12pt",fakeElement.style.border="0",fakeElement.style.padding="0",fakeElement.style.margin="0",fakeElement.style.position="absolute",fakeElement.style[isRTL?"right":"left"]="-9999px";var yPosition=window.pageYOffset||document.documentElement.scrollTop;return fakeElement.style.top="".concat(yPosition,"px"),fakeElement.setAttribute("readonly",""),fakeElement.value=value,fakeElement}(value);options.container.appendChild(fakeElement);var selectedText=select_default()(fakeElement);return command("copy"),fakeElement.remove(),selectedText},actions_copy=function(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},selectedText="";return"string"==typeof target?selectedText=fakeCopyAction(target,options):target instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==target?void 0:target.type)?selectedText=fakeCopyAction(target.value,options):(selectedText=select_default()(target),command("copy")),selectedText};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var actions_default=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_options$action=options.action,action=void 0===_options$action?"copy":_options$action,container=options.container,target=options.target,text=options.text;if("copy"!==action&&"cut"!==action)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==target){if(!target||"object"!==_typeof(target)||1!==target.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===action&&target.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===action&&(target.hasAttribute("readonly")||target.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return text?actions_copy(text,{container:container}):target?"cut"===action?actions_cut(target):actions_copy(target,{container:container}):void 0};function clipboard_typeof(obj){return clipboard_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},clipboard_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function(self,call){return!call||"object"!==clipboard_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function getAttributeValue(suffix,element){var attribute="data-clipboard-".concat(suffix);if(element.hasAttribute(attribute))return element.getAttribute(attribute)}var Clipboard=function(_Emitter){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Clipboard,_Emitter);var Constructor,protoProps,staticProps,_super=_createSuper(Clipboard);function Clipboard(trigger,options){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Clipboard),(_this=_super.call(this)).resolveOptions(options),_this.listenClick(trigger),_this}return Constructor=Clipboard,protoProps=[{key:"resolveOptions",value:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof options.action?options.action:this.defaultAction,this.target="function"==typeof options.target?options.target:this.defaultTarget,this.text="function"==typeof options.text?options.text:this.defaultText,this.container="object"===clipboard_typeof(options.container)?options.container:document.body}},{key:"listenClick",value:function(trigger){var _this2=this;this.listener=listen_default()(trigger,"click",(function(e){return _this2.onClick(e)}))}},{key:"onClick",value:function(e){var trigger=e.delegateTarget||e.currentTarget,action=this.action(trigger)||"copy",text=actions_default({action:action,container:this.container,target:this.target(trigger),text:this.text(trigger)});this.emit(text?"success":"error",{action:action,text:text,trigger:trigger,clearSelection:function(){trigger&&trigger.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(trigger){return getAttributeValue("action",trigger)}},{key:"defaultTarget",value:function(trigger){var selector=getAttributeValue("target",trigger);if(selector)return document.querySelector(selector)}},{key:"defaultText",value:function(trigger){return getAttributeValue("text",trigger)}},{key:"destroy",value:function(){this.listener.destroy()}}],staticProps=[{key:"copy",value:function(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return actions_copy(target,options)}},{key:"cut",value:function(target){return actions_cut(target)}},{key:"isSupported",value:function(){var action=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],actions="string"==typeof action?[action]:action,support=!!document.queryCommandSupported;return actions.forEach((function(action){support=support&&!!document.queryCommandSupported(action)})),support}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Clipboard}(tiny_emitter_default()),clipboard=Clipboard},828:function(module){if("undefined"!=typeof Element&&!Element.prototype.matches){var proto=Element.prototype;proto.matches=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector}module.exports=function(element,selector){for(;element&&9!==element.nodeType;){if("function"==typeof element.matches&&element.matches(selector))return element;element=element.parentNode}}},438:function(module,__unused_webpack_exports,__nested_webpack_require_19930__){var closest=__nested_webpack_require_19930__(828);function _delegate(element,selector,type,callback,useCapture){var listenerFn=listener.apply(this,arguments);return element.addEventListener(type,listenerFn,useCapture),{destroy:function(){element.removeEventListener(type,listenerFn,useCapture)}}}function listener(element,selector,type,callback){return function(e){e.delegateTarget=closest(e.target,selector),e.delegateTarget&&callback.call(element,e)}}module.exports=function(elements,selector,type,callback,useCapture){return"function"==typeof elements.addEventListener?_delegate.apply(null,arguments):"function"==typeof type?_delegate.bind(null,document).apply(null,arguments):("string"==typeof elements&&(elements=document.querySelectorAll(elements)),Array.prototype.map.call(elements,(function(element){return _delegate(element,selector,type,callback,useCapture)})))}},879:function(__unused_webpack_module,exports){exports.node=function(value){return void 0!==value&&value instanceof HTMLElement&&1===value.nodeType},exports.nodeList=function(value){var type=Object.prototype.toString.call(value);return void 0!==value&&("[object NodeList]"===type||"[object HTMLCollection]"===type)&&"length"in value&&(0===value.length||exports.node(value[0]))},exports.string=function(value){return"string"==typeof value||value instanceof String},exports.fn=function(value){return"[object Function]"===Object.prototype.toString.call(value)}},370:function(module,__unused_webpack_exports,__nested_webpack_require_24033__){var is=__nested_webpack_require_24033__(879),delegate=__nested_webpack_require_24033__(438);module.exports=function(target,type,callback){if(!target&&!type&&!callback)throw new Error("Missing required arguments");if(!is.string(type))throw new TypeError("Second argument must be a String");if(!is.fn(callback))throw new TypeError("Third argument must be a Function");if(is.node(target))return function(node,type,callback){return node.addEventListener(type,callback),{destroy:function(){node.removeEventListener(type,callback)}}}(target,type,callback);if(is.nodeList(target))return function(nodeList,type,callback){return Array.prototype.forEach.call(nodeList,(function(node){node.addEventListener(type,callback)})),{destroy:function(){Array.prototype.forEach.call(nodeList,(function(node){node.removeEventListener(type,callback)}))}}}(target,type,callback);if(is.string(target))return function(selector,type,callback){return delegate(document.body,selector,type,callback)}(target,type,callback);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(module){module.exports=function(element){var selectedText;if("SELECT"===element.nodeName)element.focus(),selectedText=element.value;else if("INPUT"===element.nodeName||"TEXTAREA"===element.nodeName){var isReadOnly=element.hasAttribute("readonly");isReadOnly||element.setAttribute("readonly",""),element.select(),element.setSelectionRange(0,element.value.length),isReadOnly||element.removeAttribute("readonly"),selectedText=element.value}else{element.hasAttribute("contenteditable")&&element.focus();var selection=window.getSelection(),range=document.createRange();range.selectNodeContents(element),selection.removeAllRanges(),selection.addRange(range),selectedText=selection.toString()}return selectedText}},279:function(module){function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});return(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx}),this},once:function(name,callback,ctx){var self=this;function listener(){self.off(name,listener),callback.apply(ctx,arguments)}return listener._=callback,this.on(name,listener,ctx)},emit:function(name){for(var data=[].slice.call(arguments,1),evtArr=((this.e||(this.e={}))[name]||[]).slice(),i=0,len=evtArr.length;i<len;i++)evtArr[i].fn.apply(evtArr[i].ctx,data);return this},off:function(name,callback){var e=this.e||(this.e={}),evts=e[name],liveEvents=[];if(evts&&callback)for(var i=0,len=evts.length;i<len;i++)evts[i].fn!==callback&&evts[i].fn._!==callback&&liveEvents.push(evts[i]);return liveEvents.length?e[name]=liveEvents:delete e[name],this}},module.exports=E,module.exports.TinyEmitter=E}},__webpack_module_cache__={};function __nested_webpack_require_30551__(moduleId){if(__webpack_module_cache__[moduleId])return __webpack_module_cache__[moduleId].exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__nested_webpack_require_30551__),module.exports}return __nested_webpack_require_30551__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_30551__.d(getter,{a:getter}),getter},__nested_webpack_require_30551__.d=function(exports,definition){for(var key in definition)__nested_webpack_require_30551__.o(definition,key)&&!__nested_webpack_require_30551__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__nested_webpack_require_30551__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},__nested_webpack_require_30551__(686)}().default},"object"===_typeof2(exports)&&"object"===_typeof2(module)?module.exports=factory():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},4026:function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof window&&window,void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){if("undefined"==typeof window)return null;var globalWindow="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),requestAnimationFrame=globalWindow.requestAnimationFrame||globalWindow.mozRequestAnimationFrame||globalWindow.webkitRequestAnimationFrame||function(fn){return globalWindow.setTimeout(fn,20)},cancelAnimationFrame=globalWindow.cancelAnimationFrame||globalWindow.mozCancelAnimationFrame||globalWindow.webkitCancelAnimationFrame||function(timer){globalWindow.clearTimeout(timer)};function forEachElement(elements,callback){var elementsType=Object.prototype.toString.call(elements),isCollectionTyped="[object Array]"===elementsType||"[object NodeList]"===elementsType||"[object HTMLCollection]"===elementsType||"[object Object]"===elementsType||"undefined"!=typeof jQuery&&elements instanceof jQuery||"undefined"!=typeof Elements&&elements instanceof Elements,i=0,j=elements.length;if(isCollectionTyped)for(;i<j;i++)callback(elements[i]);else callback(elements)}function getElementSize(element){if(!element.getBoundingClientRect)return{width:element.offsetWidth,height:element.offsetHeight};var rect=element.getBoundingClientRect();return{width:Math.round(rect.width),height:Math.round(rect.height)}}function setStyle(element,style){Object.keys(style).forEach((function(key){element.style[key]=style[key]}))}var ResizeSensor=function ResizeSensor(element,callback){var lastAnimationFrameForInvisibleCheck=0;function EventQueue(){var i,j,q=[];this.add=function(ev){q.push(ev)},this.call=function(sizeInfo){for(i=0,j=q.length;i<j;i++)q[i].call(this,sizeInfo)},this.remove=function(ev){var newQueue=[];for(i=0,j=q.length;i<j;i++)q[i]!==ev&&newQueue.push(q[i]);q=newQueue},this.length=function(){return q.length}}function attachResizeEvent(element,resized){if(element)if(element.resizedAttached)element.resizedAttached.add(resized);else{element.resizedAttached=new EventQueue,element.resizedAttached.add(resized),element.resizeSensor=document.createElement("div"),element.resizeSensor.dir="ltr",element.resizeSensor.className="resize-sensor";var style={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},styleChild={position:"absolute",left:"0px",top:"0px",transition:"0s"};setStyle(element.resizeSensor,style);var expand=document.createElement("div");expand.className="resize-sensor-expand",setStyle(expand,style);var expandChild=document.createElement("div");setStyle(expandChild,styleChild),expand.appendChild(expandChild);var shrink=document.createElement("div");shrink.className="resize-sensor-shrink",setStyle(shrink,style);var shrinkChild=document.createElement("div");setStyle(shrinkChild,styleChild),setStyle(shrinkChild,{width:"200%",height:"200%"}),shrink.appendChild(shrinkChild),element.resizeSensor.appendChild(expand),element.resizeSensor.appendChild(shrink),element.appendChild(element.resizeSensor);var computedStyle=window.getComputedStyle(element),position=computedStyle?computedStyle.getPropertyValue("position"):null;"absolute"!==position&&"relative"!==position&&"fixed"!==position&&"sticky"!==position&&(element.style.position="relative");var dirty=!1,rafId=0,size=getElementSize(element),lastWidth=0,lastHeight=0,initialHiddenCheck=!0;lastAnimationFrameForInvisibleCheck=0;var resetExpandShrink=function(){var width=element.offsetWidth,height=element.offsetHeight;expandChild.style.width=width+10+"px",expandChild.style.height=height+10+"px",expand.scrollLeft=width+10,expand.scrollTop=height+10,shrink.scrollLeft=width+10,shrink.scrollTop=height+10},reset=function reset(){if(initialHiddenCheck){if(0===element.offsetWidth&&0===element.offsetHeight)return void(lastAnimationFrameForInvisibleCheck||(lastAnimationFrameForInvisibleCheck=requestAnimationFrame((function(){lastAnimationFrameForInvisibleCheck=0,reset()}))));initialHiddenCheck=!1}resetExpandShrink()};element.resizeSensor.resetSensor=reset;var onResized=function(){rafId=0,dirty&&(lastWidth=size.width,lastHeight=size.height,element.resizedAttached&&element.resizedAttached.call(size))},onScroll=function(){size=getElementSize(element),(dirty=size.width!==lastWidth||size.height!==lastHeight)&&!rafId&&(rafId=requestAnimationFrame(onResized)),reset()},addEvent=function(el,name,cb){el.attachEvent?el.attachEvent("on"+name,cb):el.addEventListener(name,cb)};addEvent(expand,"scroll",onScroll),addEvent(shrink,"scroll",onScroll),lastAnimationFrameForInvisibleCheck=requestAnimationFrame((function(){lastAnimationFrameForInvisibleCheck=0,reset()}))}}forEachElement(element,(function(elem){attachResizeEvent(elem,callback)})),this.detach=function(ev){lastAnimationFrameForInvisibleCheck||(cancelAnimationFrame(lastAnimationFrameForInvisibleCheck),lastAnimationFrameForInvisibleCheck=0),ResizeSensor.detach(element,ev)},this.reset=function(){element.resizeSensor.resetSensor()}};if(ResizeSensor.reset=function(element){forEachElement(element,(function(elem){elem.resizeSensor.resetSensor()}))},ResizeSensor.detach=function(element,ev){forEachElement(element,(function(elem){elem&&(elem.resizedAttached&&"function"==typeof ev&&(elem.resizedAttached.remove(ev),elem.resizedAttached.length())||elem.resizeSensor&&(elem.contains(elem.resizeSensor)&&elem.removeChild(elem.resizeSensor),delete elem.resizeSensor,delete elem.resizedAttached))}))},"undefined"!=typeof MutationObserver){var observer=new MutationObserver((function(mutations){for(var i in mutations)if(mutations.hasOwnProperty(i))for(var items=mutations[i].addedNodes,j=0;j<items.length;j++)items[j].resizeSensor&&ResizeSensor.reset(items[j])}));document.addEventListener("DOMContentLoaded",(function(event){observer.observe(document.body,{childList:!0,subtree:!0})}))}return ResizeSensor})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},1823:function(__unused_webpack_module,exports){"use strict";var throttleFactory=function(callback,thisArg){for(var argArray=[],_i=2;_i<arguments.length;_i++)argArray[_i-2]=arguments[_i];var wrapper=function(wrapperContext){var resetCancelToken=function(){wrapperContext.cancelToken=!1},wrapper=function(cbThis,cb){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];wrapperContext.callbackThis=cbThis,wrapperContext.args=args,wrapperContext.cancelToken||("requestAnimationFrame"in window?wrapperContext.cancelToken=window.requestAnimationFrame((function(){cb.apply(wrapperContext.callbackThis,wrapperContext.args),resetCancelToken()})):(cb.apply(wrapperContext.callbackThis,wrapperContext.args),wrapperContext.cancelToken=window.setTimeout(resetCancelToken,1e3/60)))};return wrapper.cancel=function(){"requestAnimationFrame"in window&&window.cancelAnimationFrame(wrapperContext.cancelToken),window.clearTimeout(wrapperContext.cancelToken),resetCancelToken()},wrapper}({}),argCount=arguments.length,throttledCallback=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];wrapper.apply(void 0,[argCount>1?thisArg:this,callback].concat(argArray,args))};return throttledCallback.cancel=function(){return wrapper.cancel()},throttledCallback};exports.P=function(callback){var throttledCallback=throttleFactory(callback);return throttledCallback.bind=throttleFactory.bind(null,callback),throttledCallback}},9723:function(module,__unused_webpack_exports,__webpack_require__){var DataView=__webpack_require__(7674)(__webpack_require__(3100),"DataView");module.exports=DataView},9601:function(module,__unused_webpack_exports,__webpack_require__){var hashClear=__webpack_require__(4801),hashDelete=__webpack_require__(5722),hashGet=__webpack_require__(2975),hashHas=__webpack_require__(7410),hashSet=__webpack_require__(5692);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},2547:function(module,__unused_webpack_exports,__webpack_require__){var listCacheClear=__webpack_require__(3058),listCacheDelete=__webpack_require__(6153),listCacheGet=__webpack_require__(4478),listCacheHas=__webpack_require__(2424),listCacheSet=__webpack_require__(6297);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},6632:function(module,__unused_webpack_exports,__webpack_require__){var Map=__webpack_require__(7674)(__webpack_require__(3100),"Map");module.exports=Map},8318:function(module,__unused_webpack_exports,__webpack_require__){var mapCacheClear=__webpack_require__(8843),mapCacheDelete=__webpack_require__(3513),mapCacheGet=__webpack_require__(4788),mapCacheHas=__webpack_require__(1197),mapCacheSet=__webpack_require__(7468);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},8128:function(module,__unused_webpack_exports,__webpack_require__){var Promise=__webpack_require__(7674)(__webpack_require__(3100),"Promise");module.exports=Promise},6762:function(module,__unused_webpack_exports,__webpack_require__){var Set=__webpack_require__(7674)(__webpack_require__(3100),"Set");module.exports=Set},1416:function(module,__unused_webpack_exports,__webpack_require__){var MapCache=__webpack_require__(8318),setCacheAdd=__webpack_require__(3981),setCacheHas=__webpack_require__(2713);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},9375:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(2547),stackClear=__webpack_require__(7769),stackDelete=__webpack_require__(8282),stackGet=__webpack_require__(2909),stackHas=__webpack_require__(9195),stackSet=__webpack_require__(5491);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},9818:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(3100).Symbol;module.exports=_Symbol},3973:function(module,__unused_webpack_exports,__webpack_require__){var Uint8Array=__webpack_require__(3100).Uint8Array;module.exports=Uint8Array},6901:function(module,__unused_webpack_exports,__webpack_require__){var WeakMap=__webpack_require__(7674)(__webpack_require__(3100),"WeakMap");module.exports=WeakMap},1258:function(module){module.exports=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},8953:function(module){module.exports=function(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}},6909:function(module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},3512:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}},4007:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},6438:function(module,__unused_webpack_exports,__webpack_require__){var baseIndexOf=__webpack_require__(686);module.exports=function(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},6962:function(module){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},8350:function(module,__unused_webpack_exports,__webpack_require__){var baseTimes=__webpack_require__(3789),isArguments=__webpack_require__(8166),isArray=__webpack_require__(1122),isBuffer=__webpack_require__(8483),isIndex=__webpack_require__(8076),isTypedArray=__webpack_require__(5577),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},3680:function(module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},2282:function(module){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},8368:function(module){module.exports=function(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},4513:function(module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},1050:function(module){module.exports=function(string){return string.split("")}},5327:function(module){var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;module.exports=function(string){return string.match(reAsciiWord)||[]}},6739:function(module,__unused_webpack_exports,__webpack_require__){var baseAssignValue=__webpack_require__(8011),eq=__webpack_require__(1237),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},8770:function(module,__unused_webpack_exports,__webpack_require__){var eq=__webpack_require__(1237);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},3598:function(module,__unused_webpack_exports,__webpack_require__){var baseEach=__webpack_require__(11);module.exports=function(collection,setter,iteratee,accumulator){return baseEach(collection,(function(value,key,collection){setter(accumulator,value,iteratee(value),collection)})),accumulator}},8011:function(module,__unused_webpack_exports,__webpack_require__){var defineProperty=__webpack_require__(2385);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},8566:function(module){module.exports=function(number,lower,upper){return number==number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}},11:function(module,__unused_webpack_exports,__webpack_require__){var baseForOwn=__webpack_require__(1),baseEach=__webpack_require__(7884)(baseForOwn);module.exports=baseEach},6945:function(module,__unused_webpack_exports,__webpack_require__){var baseEach=__webpack_require__(11);module.exports=function(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}},313:function(module,__unused_webpack_exports,__webpack_require__){var baseEach=__webpack_require__(11);module.exports=function(collection,predicate){var result=[];return baseEach(collection,(function(value,index,collection){predicate(value,index,collection)&&result.push(value)})),result}},9138:function(module){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},6612:function(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__(2282),isFlattenable=__webpack_require__(942);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},9221:function(module,__unused_webpack_exports,__webpack_require__){var baseFor=__webpack_require__(3035)();module.exports=baseFor},1:function(module,__unused_webpack_exports,__webpack_require__){var baseFor=__webpack_require__(9221),keys=__webpack_require__(7097);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},1519:function(module,__unused_webpack_exports,__webpack_require__){var castPath=__webpack_require__(3285),toKey=__webpack_require__(3649);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},1058:function(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__(2282),isArray=__webpack_require__(1122);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},4086:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(9818),getRawTag=__webpack_require__(1715),objectToString=__webpack_require__(9294),symToStringTag=_Symbol?_Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},3377:function(module){module.exports=function(object,key){return null!=object&&key in Object(object)}},686:function(module,__unused_webpack_exports,__webpack_require__){var baseFindIndex=__webpack_require__(9138),baseIsNaN=__webpack_require__(1781),strictIndexOf=__webpack_require__(8080);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},5517:function(module,__unused_webpack_exports,__webpack_require__){var baseForOwn=__webpack_require__(1);module.exports=function(object,setter,iteratee,accumulator){return baseForOwn(object,(function(value,key,object){setter(accumulator,iteratee(value),key,object)})),accumulator}},1782:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(4086),isObjectLike=__webpack_require__(5613);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},8233:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(9234),isObjectLike=__webpack_require__(5613);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},9234:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(9375),equalArrays=__webpack_require__(4211),equalByTag=__webpack_require__(8251),equalObjects=__webpack_require__(7974),getTag=__webpack_require__(5806),isArray=__webpack_require__(1122),isBuffer=__webpack_require__(8483),isTypedArray=__webpack_require__(5577),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},2687:function(module,__unused_webpack_exports,__webpack_require__){var Stack=__webpack_require__(9375),baseIsEqual=__webpack_require__(8233);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},1781:function(module){module.exports=function(value){return value!=value}},7638:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(3605),isMasked=__webpack_require__(6107),isObject=__webpack_require__(7218),toSource=__webpack_require__(702),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},6163:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(4086),isLength=__webpack_require__(8594),isObjectLike=__webpack_require__(5613),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},7123:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var baseMatches=__webpack_require__(5662),baseMatchesProperty=__webpack_require__(812),identity=__webpack_require__(876),isArray=__webpack_require__(1122),property=__webpack_require__(8297);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==_typeof(value)?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},6494:function(module,__unused_webpack_exports,__webpack_require__){var isPrototype=__webpack_require__(7783),nativeKeys=__webpack_require__(1815),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},2117:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(7218),isPrototype=__webpack_require__(7783),nativeKeysIn=__webpack_require__(1927),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},9650:function(module,__unused_webpack_exports,__webpack_require__){var baseEach=__webpack_require__(11),isArrayLike=__webpack_require__(9713);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},5662:function(module,__unused_webpack_exports,__webpack_require__){var baseIsMatch=__webpack_require__(2687),getMatchData=__webpack_require__(8244),matchesStrictComparable=__webpack_require__(8587);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},812:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqual=__webpack_require__(8233),get=__webpack_require__(8334),hasIn=__webpack_require__(1476),isKey=__webpack_require__(9162),isStrictComparable=__webpack_require__(8441),matchesStrictComparable=__webpack_require__(8587),toKey=__webpack_require__(3649);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},2703:function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__(3680),baseGet=__webpack_require__(1519),baseIteratee=__webpack_require__(7123),baseMap=__webpack_require__(9650),baseSortBy=__webpack_require__(3102),baseUnary=__webpack_require__(4516),compareMultiple=__webpack_require__(9550),identity=__webpack_require__(876),isArray=__webpack_require__(1122);module.exports=function(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,(function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[identity];var index=-1;iteratees=arrayMap(iteratees,baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}},2652:function(module,__unused_webpack_exports,__webpack_require__){var basePickBy=__webpack_require__(3452),hasIn=__webpack_require__(1476);module.exports=function(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}},3452:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(1519),baseSet=__webpack_require__(2110),castPath=__webpack_require__(3285);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},8578:function(module){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},471:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(1519);module.exports=function(path){return function(object){return baseGet(object,path)}}},5018:function(module){module.exports=function(object){return function(key){return null==object?void 0:object[key]}}},1406:function(module,__unused_webpack_exports,__webpack_require__){var identity=__webpack_require__(876),overRest=__webpack_require__(8158),setToString=__webpack_require__(9309);module.exports=function(func,start){return setToString(overRest(func,start,identity),func+"")}},2110:function(module,__unused_webpack_exports,__webpack_require__){var assignValue=__webpack_require__(6739),castPath=__webpack_require__(3285),isIndex=__webpack_require__(8076),isObject=__webpack_require__(7218),toKey=__webpack_require__(3649);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},7642:function(module,__unused_webpack_exports,__webpack_require__){var constant=__webpack_require__(2560),defineProperty=__webpack_require__(2385),identity=__webpack_require__(876),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},8772:function(module){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},3102:function(module){module.exports=function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},3789:function(module){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},822:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(9818),arrayMap=__webpack_require__(3680),isArray=__webpack_require__(1122),isSymbol=__webpack_require__(3269),symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},7686:function(module,__unused_webpack_exports,__webpack_require__){var trimmedEndIndex=__webpack_require__(9030),reTrimStart=/^\s+/;module.exports=function(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},4516:function(module){module.exports=function(func){return function(value){return func(value)}}},8416:function(module,__unused_webpack_exports,__webpack_require__){var SetCache=__webpack_require__(1416),arrayIncludes=__webpack_require__(6438),arrayIncludesWith=__webpack_require__(6962),cacheHas=__webpack_require__(6060),createSet=__webpack_require__(8858),setToArray=__webpack_require__(7985);module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},3638:function(module,__unused_webpack_exports,__webpack_require__){var castPath=__webpack_require__(3285),last=__webpack_require__(1414),parent=__webpack_require__(8541),toKey=__webpack_require__(3649);module.exports=function(object,path){return path=castPath(path,object),null==(object=parent(object,path))||delete object[toKey(last(path))]}},6060:function(module){module.exports=function(cache,key){return cache.has(key)}},3221:function(module,__unused_webpack_exports,__webpack_require__){var identity=__webpack_require__(876);module.exports=function(value){return"function"==typeof value?value:identity}},3285:function(module,__unused_webpack_exports,__webpack_require__){var isArray=__webpack_require__(1122),isKey=__webpack_require__(9162),stringToPath=__webpack_require__(5534),toString=__webpack_require__(7306);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},6844:function(module,__unused_webpack_exports,__webpack_require__){var baseSlice=__webpack_require__(8772);module.exports=function(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},1873:function(module,__unused_webpack_exports,__webpack_require__){var isSymbol=__webpack_require__(3269);module.exports=function(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},9550:function(module,__unused_webpack_exports,__webpack_require__){var compareAscending=__webpack_require__(1873);module.exports=function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},8619:function(module,__unused_webpack_exports,__webpack_require__){var coreJsData=__webpack_require__(3100)["__core-js_shared__"];module.exports=coreJsData},2318:function(module,__unused_webpack_exports,__webpack_require__){var arrayAggregator=__webpack_require__(8953),baseAggregator=__webpack_require__(3598),baseIteratee=__webpack_require__(7123),isArray=__webpack_require__(1122);module.exports=function(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,baseIteratee(iteratee,2),accumulator)}}},7884:function(module,__unused_webpack_exports,__webpack_require__){var isArrayLike=__webpack_require__(9713);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},3035:function(module){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},3516:function(module,__unused_webpack_exports,__webpack_require__){var castSlice=__webpack_require__(6844),hasUnicode=__webpack_require__(9494),stringToArray=__webpack_require__(4269),toString=__webpack_require__(7306);module.exports=function(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},9135:function(module,__unused_webpack_exports,__webpack_require__){var arrayReduce=__webpack_require__(8368),deburr=__webpack_require__(3510),words=__webpack_require__(4189),reApos=RegExp("['’]","g");module.exports=function(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}},4206:function(module,__unused_webpack_exports,__webpack_require__){var baseIteratee=__webpack_require__(7123),isArrayLike=__webpack_require__(9713),keys=__webpack_require__(7097);module.exports=function(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}},9727:function(module,__unused_webpack_exports,__webpack_require__){var baseInverter=__webpack_require__(5517);module.exports=function(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}},4619:function(module,__unused_webpack_exports,__webpack_require__){var apply=__webpack_require__(1258),arrayMap=__webpack_require__(3680),baseIteratee=__webpack_require__(7123),baseRest=__webpack_require__(1406),baseUnary=__webpack_require__(4516),flatRest=__webpack_require__(1743);module.exports=function(arrayFunc){return flatRest((function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(baseIteratee)),baseRest((function(args){var thisArg=this;return arrayFunc(iteratees,(function(iteratee){return apply(iteratee,thisArg,args)}))}))}))}},8858:function(module,__unused_webpack_exports,__webpack_require__){var Set=__webpack_require__(6762),noop=__webpack_require__(3795),setToArray=__webpack_require__(7985),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},6263:function(module,__unused_webpack_exports,__webpack_require__){var deburrLetter=__webpack_require__(5018)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});module.exports=deburrLetter},2385:function(module,__unused_webpack_exports,__webpack_require__){var getNative=__webpack_require__(7674),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},4211:function(module,__unused_webpack_exports,__webpack_require__){var SetCache=__webpack_require__(1416),arraySome=__webpack_require__(4513),cacheHas=__webpack_require__(6060);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},8251:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(9818),Uint8Array=__webpack_require__(3973),eq=__webpack_require__(1237),equalArrays=__webpack_require__(4211),mapToArray=__webpack_require__(5747),setToArray=__webpack_require__(7985),symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},7974:function(module,__unused_webpack_exports,__webpack_require__){var getAllKeys=__webpack_require__(7315),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},1743:function(module,__unused_webpack_exports,__webpack_require__){var flatten=__webpack_require__(3880),overRest=__webpack_require__(8158),setToString=__webpack_require__(9309);module.exports=function(func){return setToString(overRest(func,void 0,flatten),func+"")}},1265:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var freeGlobal="object"==(void 0===__webpack_require__.g?"undefined":_typeof(__webpack_require__.g))&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g;module.exports=freeGlobal},7315:function(module,__unused_webpack_exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(1058),getSymbols=__webpack_require__(7948),keys=__webpack_require__(7097);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},5308:function(module,__unused_webpack_exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(1058),getSymbolsIn=__webpack_require__(4913),keysIn=__webpack_require__(7711);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},2882:function(module,__unused_webpack_exports,__webpack_require__){var isKeyable=__webpack_require__(7662);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},8244:function(module,__unused_webpack_exports,__webpack_require__){var isStrictComparable=__webpack_require__(8441),keys=__webpack_require__(7097);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},7674:function(module,__unused_webpack_exports,__webpack_require__){var baseIsNative=__webpack_require__(7638),getValue=__webpack_require__(1778);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},5103:function(module,__unused_webpack_exports,__webpack_require__){var getPrototype=__webpack_require__(6702)(Object.getPrototypeOf,Object);module.exports=getPrototype},1715:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(9818),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},7948:function(module,__unused_webpack_exports,__webpack_require__){var arrayFilter=__webpack_require__(4007),stubArray=__webpack_require__(2953),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},4913:function(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__(2282),getPrototype=__webpack_require__(5103),getSymbols=__webpack_require__(7948),stubArray=__webpack_require__(2953),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},5806:function(module,__unused_webpack_exports,__webpack_require__){var DataView=__webpack_require__(9723),Map=__webpack_require__(6632),Promise=__webpack_require__(8128),Set=__webpack_require__(6762),WeakMap=__webpack_require__(6901),baseGetTag=__webpack_require__(4086),toSource=__webpack_require__(702),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},1778:function(module){module.exports=function(object,key){return null==object?void 0:object[key]}},1191:function(module,__unused_webpack_exports,__webpack_require__){var castPath=__webpack_require__(3285),isArguments=__webpack_require__(8166),isArray=__webpack_require__(1122),isIndex=__webpack_require__(8076),isLength=__webpack_require__(8594),toKey=__webpack_require__(3649);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},9494:function(module){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function(string){return reHasUnicode.test(string)}},3171:function(module){var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;module.exports=function(string){return reHasUnicodeWord.test(string)}},4801:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(3984);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},5722:function(module){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},2975:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(3984),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},7410:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(3984),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},5692:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(3984);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},942:function(module,__unused_webpack_exports,__webpack_require__){var _Symbol=__webpack_require__(9818),isArguments=__webpack_require__(8166),isArray=__webpack_require__(1122),spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},8076:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=_typeof(value);return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},3900:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var eq=__webpack_require__(1237),isArrayLike=__webpack_require__(9713),isIndex=__webpack_require__(8076),isObject=__webpack_require__(7218);module.exports=function(value,index,object){if(!isObject(object))return!1;var type=_typeof(index);return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},9162:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var isArray=__webpack_require__(1122),isSymbol=__webpack_require__(3269),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=_typeof(value);return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},7662:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){var type=_typeof(value);return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},6107:function(module,__unused_webpack_exports,__webpack_require__){var uid,coreJsData=__webpack_require__(8619),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},7783:function(module){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},8441:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(7218);module.exports=function(value){return value==value&&!isObject(value)}},3058:function(module){module.exports=function(){this.__data__=[],this.size=0}},6153:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(8770),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},4478:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(8770);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},2424:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(8770);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},6297:function(module,__unused_webpack_exports,__webpack_require__){var assocIndexOf=__webpack_require__(8770);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},8843:function(module,__unused_webpack_exports,__webpack_require__){var Hash=__webpack_require__(9601),ListCache=__webpack_require__(2547),Map=__webpack_require__(6632);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},3513:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(2882);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},4788:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(2882);module.exports=function(key){return getMapData(this,key).get(key)}},1197:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(2882);module.exports=function(key){return getMapData(this,key).has(key)}},7468:function(module,__unused_webpack_exports,__webpack_require__){var getMapData=__webpack_require__(2882);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},5747:function(module){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},8587:function(module){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},4270:function(module,__unused_webpack_exports,__webpack_require__){var memoize=__webpack_require__(8093);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},3984:function(module,__unused_webpack_exports,__webpack_require__){var nativeCreate=__webpack_require__(7674)(Object,"create");module.exports=nativeCreate},1815:function(module,__unused_webpack_exports,__webpack_require__){var nativeKeys=__webpack_require__(6702)(Object.keys,Object);module.exports=nativeKeys},1927:function(module){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},411:function(module,exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module=__webpack_require__.nmd(module);var freeGlobal=__webpack_require__(1265),freeExports="object"==_typeof(exports)&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==_typeof(module)&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil},9294:function(module){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},6702:function(module){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},8158:function(module,__unused_webpack_exports,__webpack_require__){var apply=__webpack_require__(1258),nativeMax=Math.max;module.exports=function(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},8541:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(1519),baseSlice=__webpack_require__(8772);module.exports=function(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}},3100:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var freeGlobal=__webpack_require__(1265),freeSelf="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},3981:function(module){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},2713:function(module){module.exports=function(value){return this.__data__.has(value)}},7985:function(module){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},9309:function(module,__unused_webpack_exports,__webpack_require__){var baseSetToString=__webpack_require__(7642),setToString=__webpack_require__(8057)(baseSetToString);module.exports=setToString},8057:function(module){var nativeNow=Date.now;module.exports=function(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},7769:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(2547);module.exports=function(){this.__data__=new ListCache,this.size=0}},8282:function(module){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},2909:function(module){module.exports=function(key){return this.__data__.get(key)}},9195:function(module){module.exports=function(key){return this.__data__.has(key)}},5491:function(module,__unused_webpack_exports,__webpack_require__){var ListCache=__webpack_require__(2547),Map=__webpack_require__(6632),MapCache=__webpack_require__(8318);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},8080:function(module){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},4269:function(module,__unused_webpack_exports,__webpack_require__){var asciiToArray=__webpack_require__(1050),hasUnicode=__webpack_require__(9494),unicodeToArray=__webpack_require__(6995);module.exports=function(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},5534:function(module,__unused_webpack_exports,__webpack_require__){var memoizeCapped=__webpack_require__(4270),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},3649:function(module,__unused_webpack_exports,__webpack_require__){var isSymbol=__webpack_require__(3269);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},702:function(module){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},9030:function(module){var reWhitespace=/\s/;module.exports=function(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},6995:function(module){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function(string){return string.match(reUnicode)||[]}},1876:function(module){var rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g");module.exports=function(string){return string.match(reUnicodeWord)||[]}},4662:function(module,__unused_webpack_exports,__webpack_require__){var capitalize=__webpack_require__(9010),camelCase=__webpack_require__(9135)((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));module.exports=camelCase},9010:function(module,__unused_webpack_exports,__webpack_require__){var toString=__webpack_require__(7306),upperFirst=__webpack_require__(1527);module.exports=function(string){return upperFirst(toString(string).toLowerCase())}},2560:function(module){module.exports=function(value){return function(){return value}}},2230:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(7218),now=__webpack_require__(228),toNumber=__webpack_require__(8850),nativeMax=Math.max,nativeMin=Math.min;module.exports=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}},3510:function(module,__unused_webpack_exports,__webpack_require__){var deburrLetter=__webpack_require__(6263),toString=__webpack_require__(7306),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reComboMark=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");module.exports=function(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}},1237:function(module){module.exports=function(value,other){return value===other||value!=value&&other!=other}},5737:function(module,__unused_webpack_exports,__webpack_require__){var arrayEvery=__webpack_require__(3512),baseEvery=__webpack_require__(6945),baseIteratee=__webpack_require__(7123),isArray=__webpack_require__(1122),isIterateeCall=__webpack_require__(3900);module.exports=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}},1132:function(module,__unused_webpack_exports,__webpack_require__){var arrayFilter=__webpack_require__(4007),baseFilter=__webpack_require__(313),baseIteratee=__webpack_require__(7123),isArray=__webpack_require__(1122);module.exports=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,baseIteratee(predicate,3))}},8633:function(module,__unused_webpack_exports,__webpack_require__){var find=__webpack_require__(4206)(__webpack_require__(3828));module.exports=find},3828:function(module,__unused_webpack_exports,__webpack_require__){var baseFindIndex=__webpack_require__(9138),baseIteratee=__webpack_require__(7123),toInteger=__webpack_require__(6838),nativeMax=Math.max;module.exports=function(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}},8152:function(module,__unused_webpack_exports,__webpack_require__){var baseFlatten=__webpack_require__(6612),map=__webpack_require__(87);module.exports=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}},6317:function(module,__unused_webpack_exports,__webpack_require__){var baseFlatten=__webpack_require__(6612),map=__webpack_require__(87),toInteger=__webpack_require__(6838);module.exports=function(collection,iteratee,depth){return depth=void 0===depth?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)}},3880:function(module,__unused_webpack_exports,__webpack_require__){var baseFlatten=__webpack_require__(6612);module.exports=function(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}},768:function(module,__unused_webpack_exports,__webpack_require__){var arrayEach=__webpack_require__(6909),baseEach=__webpack_require__(11),castFunction=__webpack_require__(3221),isArray=__webpack_require__(1122);module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},2153:function(module){module.exports=function(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}},8334:function(module,__unused_webpack_exports,__webpack_require__){var baseGet=__webpack_require__(1519);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},7016:function(module,__unused_webpack_exports,__webpack_require__){var baseAssignValue=__webpack_require__(8011),createAggregator=__webpack_require__(2318),hasOwnProperty=Object.prototype.hasOwnProperty,groupBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])}));module.exports=groupBy},1476:function(module,__unused_webpack_exports,__webpack_require__){var baseHasIn=__webpack_require__(3377),hasPath=__webpack_require__(1191);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},876:function(module){module.exports=function(value){return value}},9087:function(module,__unused_webpack_exports,__webpack_require__){var constant=__webpack_require__(2560),createInverter=__webpack_require__(9727),identity=__webpack_require__(876),nativeObjectToString=Object.prototype.toString,invert=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key}),constant(identity));module.exports=invert},8166:function(module,__unused_webpack_exports,__webpack_require__){var baseIsArguments=__webpack_require__(1782),isObjectLike=__webpack_require__(5613),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},1122:function(module){var isArray=Array.isArray;module.exports=isArray},9713:function(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__(3605),isLength=__webpack_require__(8594);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},2172:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(4086),isObjectLike=__webpack_require__(5613);module.exports=function(value){return!0===value||!1===value||isObjectLike(value)&&"[object Boolean]"==baseGetTag(value)}},8483:function(module,exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module=__webpack_require__.nmd(module);var root=__webpack_require__(3100),stubFalse=__webpack_require__(8447),freeExports="object"==_typeof(exports)&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==_typeof(module)&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer},8654:function(module,__unused_webpack_exports,__webpack_require__){var baseKeys=__webpack_require__(6494),getTag=__webpack_require__(5806),isArguments=__webpack_require__(8166),isArray=__webpack_require__(1122),isArrayLike=__webpack_require__(9713),isBuffer=__webpack_require__(8483),isPrototype=__webpack_require__(7783),isTypedArray=__webpack_require__(5577),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},5946:function(module,__unused_webpack_exports,__webpack_require__){var baseIsEqual=__webpack_require__(8233);module.exports=function(value,other){return baseIsEqual(value,other)}},3605:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(4086),isObject=__webpack_require__(7218);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},8594:function(module){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},1553:function(module,__unused_webpack_exports,__webpack_require__){var baseIsMatch=__webpack_require__(2687),getMatchData=__webpack_require__(8244);module.exports=function(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}},4382:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(4086),isObjectLike=__webpack_require__(5613);module.exports=function(value){return"number"==typeof value||isObjectLike(value)&&"[object Number]"==baseGetTag(value)}},7218:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){var type=_typeof(value);return null!=value&&("object"==type||"function"==type)}},5613:function(module){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=function(value){return null!=value&&"object"==_typeof(value)}},2363:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(4086),getPrototype=__webpack_require__(5103),isObjectLike=__webpack_require__(5613),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},3269:function(module,__unused_webpack_exports,__webpack_require__){function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var baseGetTag=__webpack_require__(4086),isObjectLike=__webpack_require__(5613);module.exports=function(value){return"symbol"==_typeof(value)||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},5577:function(module,__unused_webpack_exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(6163),baseUnary=__webpack_require__(4516),nodeUtil=__webpack_require__(411),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},953:function(module){module.exports=function(value){return void 0===value}},7097:function(module,__unused_webpack_exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(8350),baseKeys=__webpack_require__(6494),isArrayLike=__webpack_require__(9713);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},7711:function(module,__unused_webpack_exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(8350),baseKeysIn=__webpack_require__(2117),isArrayLike=__webpack_require__(9713);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},1414:function(module){module.exports=function(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},87:function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__(3680),baseIteratee=__webpack_require__(7123),baseMap=__webpack_require__(9650),isArray=__webpack_require__(1122);module.exports=function(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},8093:function(module,__unused_webpack_exports,__webpack_require__){var MapCache=__webpack_require__(8318);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function memoized(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},3795:function(module){module.exports=function(){}},228:function(module,__unused_webpack_exports,__webpack_require__){var root=__webpack_require__(3100);module.exports=function(){return root.Date.now()}},8581:function(module,__unused_webpack_exports,__webpack_require__){var arraySome=__webpack_require__(4513),overSome=__webpack_require__(4619)(arraySome);module.exports=overSome},278:function(module,__unused_webpack_exports,__webpack_require__){var basePick=__webpack_require__(2652),pick=__webpack_require__(1743)((function(object,paths){return null==object?{}:basePick(object,paths)}));module.exports=pick},3550:function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__(3680),baseIteratee=__webpack_require__(7123),basePickBy=__webpack_require__(3452),getAllKeysIn=__webpack_require__(5308);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},8297:function(module,__unused_webpack_exports,__webpack_require__){var baseProperty=__webpack_require__(8578),basePropertyDeep=__webpack_require__(471),isKey=__webpack_require__(9162),toKey=__webpack_require__(3649);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},2228:function(module,__unused_webpack_exports,__webpack_require__){var baseSet=__webpack_require__(2110);module.exports=function(object,path,value){return null==object?object:baseSet(object,path,value)}},5207:function(module,__unused_webpack_exports,__webpack_require__){var baseFlatten=__webpack_require__(6612),baseOrderBy=__webpack_require__(2703),baseRest=__webpack_require__(1406),isIterateeCall=__webpack_require__(3900),sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}));module.exports=sortBy},5657:function(module,__unused_webpack_exports,__webpack_require__){var baseClamp=__webpack_require__(8566),baseToString=__webpack_require__(822),toInteger=__webpack_require__(6838),toString=__webpack_require__(7306);module.exports=function(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target}},2953:function(module){module.exports=function(){return[]}},8447:function(module){module.exports=function(){return!1}},7846:function(module,__unused_webpack_exports,__webpack_require__){var debounce=__webpack_require__(2230),isObject=__webpack_require__(7218);module.exports=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}},2297:function(module,__unused_webpack_exports,__webpack_require__){var toNumber=__webpack_require__(8850);module.exports=function(value){return value?Infinity===(value=toNumber(value))||-Infinity===value?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}},6838:function(module,__unused_webpack_exports,__webpack_require__){var toFinite=__webpack_require__(2297);module.exports=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},8850:function(module,__unused_webpack_exports,__webpack_require__){var baseTrim=__webpack_require__(7686),isObject=__webpack_require__(7218),isSymbol=__webpack_require__(3269),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},7306:function(module,__unused_webpack_exports,__webpack_require__){var baseToString=__webpack_require__(822);module.exports=function(value){return null==value?"":baseToString(value)}},584:function(module,__unused_webpack_exports,__webpack_require__){var baseIteratee=__webpack_require__(7123),baseUniq=__webpack_require__(8416);module.exports=function(array,iteratee){return array&&array.length?baseUniq(array,baseIteratee(iteratee,2)):[]}},528:function(module,__unused_webpack_exports,__webpack_require__){var baseUnset=__webpack_require__(3638);module.exports=function(object,path){return null==object||baseUnset(object,path)}},1527:function(module,__unused_webpack_exports,__webpack_require__){var upperFirst=__webpack_require__(3516)("toUpperCase");module.exports=upperFirst},4189:function(module,__unused_webpack_exports,__webpack_require__){var asciiWords=__webpack_require__(5327),hasUnicodeWord=__webpack_require__(3171),toString=__webpack_require__(7306),unicodeWords=__webpack_require__(1876);module.exports=function(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}},4174:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var getRandomValues;__webpack_require__.d(__webpack_exports__,{Z:function(){return esm_browser_v4}});var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}for(var validate=__webpack_require__(3983),byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));var esm_browser_stringify=function(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!(0,validate.Z)(uuid))throw TypeError("Stringified UUID is invalid");return uuid};var esm_browser_v4=function(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return esm_browser_stringify(rnds)}},3983:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return esm_browser_validate}});var regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var esm_browser_validate=function(uuid){return"string"==typeof uuid&&regex.test(uuid)}},1844:function(__unused_webpack_module,exports){function cloneRoute(to,from){var clone={name:to.name,path:to.path,hash:to.hash,query:to.query,params:to.params,fullPath:to.fullPath,meta:to.meta};return from&&(clone.from=cloneRoute(from)),Object.freeze(clone)}exports.Z=function(store,router,options){var moduleName=(options||{}).moduleName||"route";store.registerModule(moduleName,{namespaced:!0,state:cloneRoute(router.currentRoute),mutations:{ROUTE_CHANGED:function(state,transition){store.state[moduleName]=cloneRoute(transition.to,transition.from)}}});var currentPath,isTimeTraveling=!1,storeUnwatch=store.watch((function(state){return state[moduleName]}),(function(route){var fullPath=route.fullPath;fullPath!==currentPath&&(null!=currentPath&&(isTimeTraveling=!0,router.push(route)),currentPath=fullPath)}),{sync:!0}),afterEachUnHook=router.afterEach((function(to,from){isTimeTraveling?isTimeTraveling=!1:(currentPath=to.fullPath,store.commit(moduleName+"/ROUTE_CHANGED",{to:to,from:from}))}));return function(){null!=afterEachUnHook&&afterEachUnHook(),null!=storeUnwatch&&storeUnwatch(),store.unregisterModule(moduleName)}}},8063:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Aw:function(){return interactionOptionsLookup},E9:function(){return ObjectTypeChoices},Hx:function(){return OUTER_DELIMITER},Rb:function(){return INTERACTION_TYPES},TF:function(){return RANGE_DELIMITER},g:function(){return OBJECT_TYPES},gs:function(){return CMI_INTERACTION},oO:function(){return INNER_DELIMITER},ys:function(){return InteractionTypeChoices}});__webpack_require__(7873),__webpack_require__(1607),__webpack_require__(9762),__webpack_require__(8517),__webpack_require__(2577),__webpack_require__(4374),__webpack_require__(1105),__webpack_require__(4721),__webpack_require__(4350),__webpack_require__(2369),__webpack_require__(4868),__webpack_require__(3226),__webpack_require__(7199),__webpack_require__(335),__webpack_require__(9008),__webpack_require__(1507),__webpack_require__(5120),__webpack_require__(4537),__webpack_require__(508),__webpack_require__(590),__webpack_require__(194),__webpack_require__(9981),__webpack_require__(4886),__webpack_require__(1816),__webpack_require__(5489),__webpack_require__(3664),__webpack_require__(6366),__webpack_require__(6869),__webpack_require__(8417),__webpack_require__(7748);var OBJECT_TYPES={AGENT:"Agent",GROUP:"Group",ACTIVITY:"Activity",STATEMENTREF:"StatementRef",SUBSTATEMENT:"SubStatement"},ObjectTypeChoices=new Set(Object.values(OBJECT_TYPES)),INTERACTION_TYPES={TRUE_FALSE:"true-false",CHOICE:"choice",FILL_IN:"fill-in",LONG_FILL_IN:"long-fill-in",MATCHING:"matching",PERFORMANCE:"performance",SEQUENCING:"sequencing",LIKERT:"likert",NUMERIC:"numeric",OTHER:"other"},InteractionTypeChoices=new Set(Object.values(INTERACTION_TYPES)),interactionOptionsLookup={choices:new Set([INTERACTION_TYPES.CHOICE,INTERACTION_TYPES.SEQUENCING]),scale:new Set([INTERACTION_TYPES.LIKERT]),source:new Set([INTERACTION_TYPES.MATCHING]),target:new Set([INTERACTION_TYPES.MATCHING]),steps:new Set([INTERACTION_TYPES.PERFORMANCE])},OUTER_DELIMITER="[,]",INNER_DELIMITER="[.]",RANGE_DELIMITER="[:]",CMI_INTERACTION="http://adlnet.gov/expapi/activities/cmi.interaction"},3705:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return XAPIVerbMap}});var XAPIVerbMap={attended:"http://adlnet.gov/expapi/verbs/attended",imported:"http://adlnet.gov/expapi/verbs/imported",interacted:"http://adlnet.gov/expapi/verbs/interacted",attempted:"http://adlnet.gov/expapi/verbs/attempted",registered:"http://adlnet.gov/expapi/verbs/registered",progressed:"http://adlnet.gov/expapi/verbs/progressed",preferred:"http://adlnet.gov/expapi/verbs/preferred",commented:"http://adlnet.gov/expapi/verbs/commented",answered:"http://adlnet.gov/expapi/verbs/answered",asked:"http://adlnet.gov/expapi/verbs/asked",launched:"http://adlnet.gov/expapi/verbs/launched","logged-in":"https://w3id.org/xapi/adl/verbs/logged-in",shared:"http://adlnet.gov/expapi/verbs/shared","logged-out":"https://w3id.org/xapi/adl/verbs/logged-out",voided:"http://adlnet.gov/expapi/verbs/voided",exited:"http://adlnet.gov/expapi/verbs/exited",experienced:"http://adlnet.gov/expapi/verbs/experienced",mastered:"http://adlnet.gov/expapi/verbs/mastered",completed:"http://adlnet.gov/expapi/verbs/completed",failed:"http://adlnet.gov/expapi/verbs/failed",initialized:"http://adlnet.gov/expapi/verbs/initialized",passed:"http://adlnet.gov/expapi/verbs/passed",responded:"http://adlnet.gov/expapi/verbs/responded",resumed:"http://adlnet.gov/expapi/verbs/resumed",scored:"http://adlnet.gov/expapi/verbs/scored",suspended:"http://adlnet.gov/expapi/verbs/suspended",terminated:"http://adlnet.gov/expapi/verbs/terminated",downloaded:"http://h5p.org/x-api/verbs/downloaded",copied:"http://h5p.org/x-api/verbs/copied","accessed-reuse":"http://h5p.org/x-api/verbs/accessed-reuse","accessed-embed":"http://h5p.org/x-api/verbs/accessed-embed","accessed-copyright":"http://h5p.org/x-api/verbs/accessed-copyright"}},4894:function(module){"use strict";module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAmCAYAAABUKMJkAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAABgJJREFUWIXV2X2QlXUVB/DPc/cFEBYayOW1pWULiInBeNmtBbYgRCc1IscxSCccGLWcrJzKl8HR/nA0GxlTZiwzxrTJoHF0SpLKkaYNkwB5Xw0QRVhh5X1wt4D73Kc/nueyL+wu9y4XHb8zz5x7n5dzvvc8v3N+55xL4XAPnkcj1qJ/cnwksB5RcoSY4SNA/mo8PLR/eTS0f3k0rXJyNK1ycoQm/PRCGk4VQEcJbujkfDnGFEB/lwgKoGMPKh686k7wmcGfAlc9sRDS+FhyX3MiByZyYiIPJXJzIqMO+odBEZcjCLlS7LDvFheA/MXdXCvGWLzR5lwR6vBVlGE/tiZHphMdA/DFiOsExovOxNHvinFR8uUriTycyFcT+d8uiI3CsF7FvfrAleNmgj4lvcG4wZ8GDU0778Zy9MOYioHDbhMJJn1iPDjScgz8c/f6h4Mg2JMO089jSJ/exbMjUdkXpgzuC80tp8G61w7CqSiyNuv50bgJH8cBNOA97O6CeBZfOsd1qE3I1wQsCARBKnV2qBWlUqVhJjMa30dpFEVKS1MdlxCcwkY0FeMXuLZqUEUppDMhXL7naONt4te4Rbyuf548/PdEVmPmhGFj0erxLK4YNwM0NO28GEuqR04YAnfO+k5Ctqjd/Q0HdgawbPvjpfDCissgeLm+EXzvjjVRGEbpKFIrXobNxfgkSjt3mhQuwQQMwR9RL87jMLyL5zqiu7g4J6KIMIzCILBZm/gplmSD6yd/HXxrytXgzcPvgOe2rIJgxaaVNag52HzkXhwRB1jFiAFDOjV46Zjp4GerH4ei+RPn4GyPZzFuSBwjA7dWgqeW7wAPLd0ShWEmTKej6dimNWspxolcPZCgBIPF8XHBEYaZMAiCLWLi7RBgMX5SV1Wdgt/Me6hTJafDNFjZ8DL49drl4J1j74Kba78Jrps0F5T16gumP3oNWFATy+qRE7olu7T+KbD6zXpRRpgOoxnYpBMnp8Sv4Y2OFz5sZDIyAg1i4p0iEG/jV6SC1DL4281Pg1GDKnIyUr97HXjsld+ChgM7wQ3Vsad3HdqTWIqz3o218zvVcyqM8/gtf1gsnQkdbj62EH/Cwa5sZxPuX5y9LX8oSGdCAqGYeLdoW9v8A9Pnjp8Nlsy5u0fGN+zdCh6pfxKseWt9Yik2tejz14Ipydo/2nIcPL3uOWEUati/83QkWowHz2Wr7Vb3ujZp6INGmAmJiEQPYG8uz7T1/HBcnwpS98PKRcvA2MFV50Vq477t4L6XloIN+87KeFmcTmSdOC2+fy7dHYuMZ3ywaz9s87kEJ3WSz7tC25K4ETJR5veYt3DF7eDHM24Cs0ZPBX1LL5ILdhx8C6ze9S+w6/Cedtf7xftAUfOpFhBFUYRfycHjWXTWSW3HulwVFBBbxLV9zuiuk3oGX0NvSAXx7xzavxwM6FPWTkF2B373eBN4P/FoWa9+YOqoSaC2MpYtp+I24YGXHsva+xx2oCVX8t31sKvwI7E3umpICoUWMfG8kE8PWykuj2vEu/KA5PmsjmLxep2FgRNHfDYFd82+BZQWlaD1Dd367D2g8XjTSdyFJfmSz6eHPSGu5ZuS72WJzJLvI+7IrpHfVGIVjudx/xnkQ/5QB5lFdjqwBmOqR04ogtu//G1QUtTexLObXwSNcWycxHz8Lw8eZ1CI6QFME08J8p0Dva2HxDk/8oMS+SpG1VZOSsEPZ94YK+7QMe06+DZYsfGF7KkXcYfOxx054Xw9fymq5D+8inD/edruEfnyRP4bFXVVNQH8YMZCUBS0XznZqjGbz9OZMMIvxcF/XujprHIOKvRsXLgK/+mh3XbIx/jQRK7D8Jmja8GtdQvQugNnkWQT9/31UbDv2AHYJU6nBSn+8vX8PLnPajpiL1YrYNWay5ofkcgNKM/WNnVV1WDb/ngFvHciHnFuanwdvJJ0UMkEbhsmaa3ZC4JcA3aR1kDNF3/GawpMPFd8Q1yuprX+bXOu4wjuxbgLSSyXgJ2ayLniPwYuEY+rs/PHrI6j4vpnjbiEeCI5374LKSD+DyKtzfV7QzLiAAAAAElFTkSuQmCC"},2567:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(8194),tryToString=__webpack_require__(1533),$TypeError=TypeError;module.exports=function(argument){if(isCallable(argument))return argument;throw new $TypeError(tryToString(argument)+" is not a function")}},6530:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isConstructor=__webpack_require__(7718),tryToString=__webpack_require__(1533),$TypeError=TypeError;module.exports=function(argument){if(isConstructor(argument))return argument;throw new $TypeError(tryToString(argument)+" is not a constructor")}},179:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(8194),$String=String,$TypeError=TypeError;module.exports=function(argument){if("object"==typeof argument||isCallable(argument))return argument;throw new $TypeError("Can't set "+$String(argument)+" as a prototype")}},1278:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var has=__webpack_require__(4265).has;module.exports=function(it){return has(it),it}},1970:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var wellKnownSymbol=__webpack_require__(8361),create=__webpack_require__(9654),defineProperty=__webpack_require__(6531).f,UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;void 0===ArrayPrototype[UNSCOPABLES]&&defineProperty(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create(null)}),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},8056:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isPrototypeOf=__webpack_require__(3772),$TypeError=TypeError;module.exports=function(it,Prototype){if(isPrototypeOf(Prototype,it))return it;throw new $TypeError("Incorrect invocation")}},4701:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isObject=__webpack_require__(2599),$String=String,$TypeError=TypeError;module.exports=function(argument){if(isObject(argument))return argument;throw new $TypeError($String(argument)+" is not an object")}},2658:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var fails=__webpack_require__(7731);module.exports=fails((function(){if("function"==typeof ArrayBuffer){var buffer=new ArrayBuffer(8);Object.isExtensible(buffer)&&Object.defineProperty(buffer,"a",{value:8})}}))},5753:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(318),toAbsoluteIndex=__webpack_require__(8217),lengthOfArrayLike=__webpack_require__(2067),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=lengthOfArrayLike(O),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},4449:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toAbsoluteIndex=__webpack_require__(8217),lengthOfArrayLike=__webpack_require__(2067),createProperty=__webpack_require__(1239),$Array=Array,max=Math.max;module.exports=function(O,start,end){for(var length=lengthOfArrayLike(O),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length),result=$Array(max(fin-k,0)),n=0;k<fin;k++,n++)createProperty(result,n,O[k]);return result.length=n,result}},9638:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329);module.exports=uncurryThis([].slice)},5825:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var ITERATOR=__webpack_require__(8361)("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(error){}module.exports=function(exec,SKIP_CLOSING){try{if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1}catch(error){return!1}var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},6902:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),toString=uncurryThis({}.toString),stringSlice=uncurryThis("".slice);module.exports=function(it){return stringSlice(toString(it),8,-1)}},9022:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__(6528),isCallable=__webpack_require__(8194),classofRaw=__webpack_require__(6902),TO_STRING_TAG=__webpack_require__(8361)("toStringTag"),$Object=Object,CORRECT_ARGUMENTS="Arguments"===classofRaw(function(){return arguments}());module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=$Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"===(result=classofRaw(O))&&isCallable(O.callee)?"Arguments":result}},2253:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var bind=__webpack_require__(6543),call=__webpack_require__(8942),aCallable=__webpack_require__(2567),aConstructor=__webpack_require__(6530),isNullOrUndefined=__webpack_require__(6757),iterate=__webpack_require__(7405),push=[].push;module.exports=function(source){var mapping,array,n,boundFunction,length=arguments.length,mapFn=length>1?arguments[1]:void 0;return aConstructor(this),(mapping=void 0!==mapFn)&&aCallable(mapFn),isNullOrUndefined(source)?new this:(array=[],mapping?(n=0,boundFunction=bind(mapFn,length>2?arguments[2]:void 0),iterate(source,(function(nextItem){call(push,array,boundFunction(nextItem,n++))}))):iterate(source,push,{that:array}),new this(array))}},7833:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var arraySlice=__webpack_require__(9638);module.exports=function(){return new this(arraySlice(arguments))}},9610:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var create=__webpack_require__(9654),defineBuiltInAccessor=__webpack_require__(1270),defineBuiltIns=__webpack_require__(5958),bind=__webpack_require__(6543),anInstance=__webpack_require__(8056),isNullOrUndefined=__webpack_require__(6757),iterate=__webpack_require__(7405),defineIterator=__webpack_require__(1581),createIterResultObject=__webpack_require__(8631),setSpecies=__webpack_require__(1492),DESCRIPTORS=__webpack_require__(1252),fastKey=__webpack_require__(8209).fastKey,InternalStateModule=__webpack_require__(8511),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor;module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper((function(that,iterable){anInstance(that,Prototype),setInternalState(that,{type:CONSTRUCTOR_NAME,index:create(null),first:void 0,last:void 0,size:0}),DESCRIPTORS||(that.size=0),isNullOrUndefined(iterable)||iterate(iterable,that[ADDER],{that:that,AS_ENTRIES:IS_MAP})})),Prototype=Constructor.prototype,getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=function(that,key,value){var previous,index,state=getInternalState(that),entry=getEntry(that,key);return entry?entry.value=value:(state.last=entry={index:index=fastKey(key,!0),key:key,value:value,previous:previous=state.last,next:void 0,removed:!1},state.first||(state.first=entry),previous&&(previous.next=entry),DESCRIPTORS?state.size++:that.size++,"F"!==index&&(state.index[index]=entry)),that},getEntry=function(that,key){var entry,state=getInternalState(that),index=fastKey(key);if("F"!==index)return state.index[index];for(entry=state.first;entry;entry=entry.next)if(entry.key===key)return entry};return defineBuiltIns(Prototype,{clear:function(){for(var state=getInternalState(this),data=state.index,entry=state.first;entry;)entry.removed=!0,entry.previous&&(entry.previous=entry.previous.next=void 0),delete data[entry.index],entry=entry.next;state.first=state.last=void 0,DESCRIPTORS?state.size=0:this.size=0},delete:function(key){var state=getInternalState(this),entry=getEntry(this,key);if(entry){var next=entry.next,prev=entry.previous;delete state.index[entry.index],entry.removed=!0,prev&&(prev.next=next),next&&(next.previous=prev),state.first===entry&&(state.first=next),state.last===entry&&(state.last=prev),DESCRIPTORS?state.size--:this.size--}return!!entry},forEach:function(callbackfn){for(var entry,state=getInternalState(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0);entry=entry?entry.next:state.first;)for(boundFunction(entry.value,entry.key,this);entry&&entry.removed;)entry=entry.previous},has:function(key){return!!getEntry(this,key)}}),defineBuiltIns(Prototype,IS_MAP?{get:function(key){var entry=getEntry(this,key);return entry&&entry.value},set:function(key,value){return define(this,0===key?0:key,value)}}:{add:function(value){return define(this,value=0===value?0:value,value)}}),DESCRIPTORS&&defineBuiltInAccessor(Prototype,"size",{configurable:!0,get:function(){return getInternalState(this).size}}),Constructor},setStrong:function(Constructor,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+" Iterator",getInternalCollectionState=internalStateGetterFor(CONSTRUCTOR_NAME),getInternalIteratorState=internalStateGetterFor(ITERATOR_NAME);defineIterator(Constructor,CONSTRUCTOR_NAME,(function(iterated,kind){setInternalState(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind:kind,last:void 0})}),(function(){for(var state=getInternalIteratorState(this),kind=state.kind,entry=state.last;entry&&entry.removed;)entry=entry.previous;return state.target&&(state.last=entry=entry?entry.next:state.state.first)?createIterResultObject("keys"===kind?entry.key:"values"===kind?entry.value:[entry.key,entry.value],!1):(state.target=void 0,createIterResultObject(void 0,!0))}),IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(CONSTRUCTOR_NAME)}}},619:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),global=__webpack_require__(6661),uncurryThis=__webpack_require__(3329),isForced=__webpack_require__(933),defineBuiltIn=__webpack_require__(4197),InternalMetadataModule=__webpack_require__(8209),iterate=__webpack_require__(7405),anInstance=__webpack_require__(8056),isCallable=__webpack_require__(8194),isNullOrUndefined=__webpack_require__(6757),isObject=__webpack_require__(2599),fails=__webpack_require__(7731),checkCorrectnessOfIteration=__webpack_require__(5825),setToStringTag=__webpack_require__(1176),inheritIfRequired=__webpack_require__(9622);module.exports=function(CONSTRUCTOR_NAME,wrapper,common){var IS_MAP=-1!==CONSTRUCTOR_NAME.indexOf("Map"),IS_WEAK=-1!==CONSTRUCTOR_NAME.indexOf("Weak"),ADDER=IS_MAP?"set":"add",NativeConstructor=global[CONSTRUCTOR_NAME],NativePrototype=NativeConstructor&&NativeConstructor.prototype,Constructor=NativeConstructor,exported={},fixMethod=function(KEY){var uncurriedNativeMethod=uncurryThis(NativePrototype[KEY]);defineBuiltIn(NativePrototype,KEY,"add"===KEY?function(value){return uncurriedNativeMethod(this,0===value?0:value),this}:"delete"===KEY?function(key){return!(IS_WEAK&&!isObject(key))&&uncurriedNativeMethod(this,0===key?0:key)}:"get"===KEY?function(key){return IS_WEAK&&!isObject(key)?void 0:uncurriedNativeMethod(this,0===key?0:key)}:"has"===KEY?function(key){return!(IS_WEAK&&!isObject(key))&&uncurriedNativeMethod(this,0===key?0:key)}:function(key,value){return uncurriedNativeMethod(this,0===key?0:key,value),this})};if(isForced(CONSTRUCTOR_NAME,!isCallable(NativeConstructor)||!(IS_WEAK||NativePrototype.forEach&&!fails((function(){(new NativeConstructor).entries().next()})))))Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER),InternalMetadataModule.enable();else if(isForced(CONSTRUCTOR_NAME,!0)){var instance=new Constructor,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!==instance,THROWS_ON_PRIMITIVES=fails((function(){instance.has(1)})),ACCEPT_ITERABLES=checkCorrectnessOfIteration((function(iterable){new NativeConstructor(iterable)})),BUGGY_ZERO=!IS_WEAK&&fails((function(){for(var $instance=new NativeConstructor,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)}));ACCEPT_ITERABLES||((Constructor=wrapper((function(dummy,iterable){anInstance(dummy,NativePrototype);var that=inheritIfRequired(new NativeConstructor,dummy,Constructor);return isNullOrUndefined(iterable)||iterate(iterable,that[ADDER],{that:that,AS_ENTRIES:IS_MAP}),that}))).prototype=NativePrototype,NativePrototype.constructor=Constructor),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&NativePrototype.clear&&delete NativePrototype.clear}return exported[CONSTRUCTOR_NAME]=Constructor,$({global:!0,constructor:!0,forced:Constructor!==NativeConstructor},exported),setToStringTag(Constructor,CONSTRUCTOR_NAME),IS_WEAK||common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP),Constructor}},8119:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var hasOwn=__webpack_require__(9281),ownKeys=__webpack_require__(930),getOwnPropertyDescriptorModule=__webpack_require__(1869),definePropertyModule=__webpack_require__(6531);module.exports=function(target,source,exceptions){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];hasOwn(target,key)||exceptions&&hasOwn(exceptions,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},2418:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var fails=__webpack_require__(7731);module.exports=!fails((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},8631:function(module){"use strict";module.exports=function(value,done){return{value:value,done:done}}},8771:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(1252),definePropertyModule=__webpack_require__(6531),createPropertyDescriptor=__webpack_require__(6642);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},6642:function(module){"use strict";module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},1239:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toPropertyKey=__webpack_require__(4188),definePropertyModule=__webpack_require__(6531),createPropertyDescriptor=__webpack_require__(6642);module.exports=function(object,key,value){var propertyKey=toPropertyKey(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},1270:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var makeBuiltIn=__webpack_require__(7494),defineProperty=__webpack_require__(6531);module.exports=function(target,name,descriptor){return descriptor.get&&makeBuiltIn(descriptor.get,name,{getter:!0}),descriptor.set&&makeBuiltIn(descriptor.set,name,{setter:!0}),defineProperty.f(target,name,descriptor)}},4197:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(8194),definePropertyModule=__webpack_require__(6531),makeBuiltIn=__webpack_require__(7494),defineGlobalProperty=__webpack_require__(2316);module.exports=function(O,key,value,options){options||(options={});var simple=options.enumerable,name=void 0!==options.name?options.name:key;if(isCallable(value)&&makeBuiltIn(value,name,options),options.global)simple?O[key]=value:defineGlobalProperty(key,value);else{try{options.unsafe?O[key]&&(simple=!0):delete O[key]}catch(error){}simple?O[key]=value:definePropertyModule.f(O,key,{value:value,enumerable:!1,configurable:!options.nonConfigurable,writable:!options.nonWritable})}return O}},5958:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var defineBuiltIn=__webpack_require__(4197);module.exports=function(target,src,options){for(var key in src)defineBuiltIn(target,key,src[key],options);return target}},2316:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),defineProperty=Object.defineProperty;module.exports=function(key,value){try{defineProperty(global,key,{value:value,configurable:!0,writable:!0})}catch(error){global[key]=value}return value}},1252:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var fails=__webpack_require__(7731);module.exports=!fails((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1751:function(module){"use strict";var documentAll="object"==typeof document&&document.all,IS_HTMLDDA=void 0===documentAll&&void 0!==documentAll;module.exports={all:documentAll,IS_HTMLDDA:IS_HTMLDDA}},7817:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),isObject=__webpack_require__(2599),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},1071:function(module){"use strict";module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},449:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var classList=__webpack_require__(7817)("span").classList,DOMTokenListPrototype=classList&&classList.constructor&&classList.constructor.prototype;module.exports=DOMTokenListPrototype===Object.prototype?void 0:DOMTokenListPrototype},2014:function(module){"use strict";module.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},8192:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var match,version,global=__webpack_require__(6661),userAgent=__webpack_require__(2014),process=global.process,Deno=global.Deno,versions=process&&process.versions||Deno&&Deno.version,v8=versions&&versions.v8;v8&&(version=(match=v8.split("."))[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent&&(!(match=userAgent.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/))&&(version=+match[1]),module.exports=version},4780:function(module){"use strict";module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1777:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),getOwnPropertyDescriptor=__webpack_require__(1869).f,createNonEnumerableProperty=__webpack_require__(8771),defineBuiltIn=__webpack_require__(4197),defineGlobalProperty=__webpack_require__(2316),copyConstructorProperties=__webpack_require__(8119),isForced=__webpack_require__(933);module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||defineGlobalProperty(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.dontCallGetSet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&void 0!==targetProperty){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(sourceProperty,"sham",!0),defineBuiltIn(target,key,sourceProperty,options)}}},7731:function(module){"use strict";module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},878:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var fails=__webpack_require__(7731);module.exports=!fails((function(){return Object.isExtensible(Object.preventExtensions({}))}))},6543:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(2086),aCallable=__webpack_require__(2567),NATIVE_BIND=__webpack_require__(7624),bind=uncurryThis(uncurryThis.bind);module.exports=function(fn,that){return aCallable(fn),void 0===that?fn:NATIVE_BIND?bind(fn,that):function(){return fn.apply(that,arguments)}}},7624:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var fails=__webpack_require__(7731);module.exports=!fails((function(){var test=function(){}.bind();return"function"!=typeof test||test.hasOwnProperty("prototype")}))},8942:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var NATIVE_BIND=__webpack_require__(7624),call=Function.prototype.call;module.exports=NATIVE_BIND?call.bind(call):function(){return call.apply(call,arguments)}},2824:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(1252),hasOwn=__webpack_require__(9281),FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn(FunctionPrototype,"name"),PROPER=EXISTS&&"something"===function(){}.name,CONFIGURABLE=EXISTS&&(!DESCRIPTORS||DESCRIPTORS&&getDescriptor(FunctionPrototype,"name").configurable);module.exports={EXISTS:EXISTS,PROPER:PROPER,CONFIGURABLE:CONFIGURABLE}},1674:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),aCallable=__webpack_require__(2567);module.exports=function(object,key,method){try{return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object,key)[method]))}catch(error){}}},2086:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var classofRaw=__webpack_require__(6902),uncurryThis=__webpack_require__(3329);module.exports=function(fn){if("Function"===classofRaw(fn))return uncurryThis(fn)}},3329:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var NATIVE_BIND=__webpack_require__(7624),FunctionPrototype=Function.prototype,call=FunctionPrototype.call,uncurryThisWithBind=NATIVE_BIND&&FunctionPrototype.bind.bind(call,call);module.exports=NATIVE_BIND?uncurryThisWithBind:function(fn){return function(){return call.apply(fn,arguments)}}},5284:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),isCallable=__webpack_require__(8194);module.exports=function(namespace,method){return arguments.length<2?(argument=global[namespace],isCallable(argument)?argument:void 0):global[namespace]&&global[namespace][method];var argument}},5372:function(module){"use strict";module.exports=function(obj){return{iterator:obj,next:obj.next,done:!1}}},7402:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var classof=__webpack_require__(9022),getMethod=__webpack_require__(69),isNullOrUndefined=__webpack_require__(6757),Iterators=__webpack_require__(776),ITERATOR=__webpack_require__(8361)("iterator");module.exports=function(it){if(!isNullOrUndefined(it))return getMethod(it,ITERATOR)||getMethod(it,"@@iterator")||Iterators[classof(it)]}},4205:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var call=__webpack_require__(8942),aCallable=__webpack_require__(2567),anObject=__webpack_require__(4701),tryToString=__webpack_require__(1533),getIteratorMethod=__webpack_require__(7402),$TypeError=TypeError;module.exports=function(argument,usingIterator){var iteratorMethod=arguments.length<2?getIteratorMethod(argument):usingIterator;if(aCallable(iteratorMethod))return anObject(call(iteratorMethod,argument));throw new $TypeError(tryToString(argument)+" is not iterable")}},69:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aCallable=__webpack_require__(2567),isNullOrUndefined=__webpack_require__(6757);module.exports=function(V,P){var func=V[P];return isNullOrUndefined(func)?void 0:aCallable(func)}},8883:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aCallable=__webpack_require__(2567),anObject=__webpack_require__(4701),call=__webpack_require__(8942),toIntegerOrInfinity=__webpack_require__(4009),getIteratorDirect=__webpack_require__(5372),$RangeError=RangeError,$TypeError=TypeError,max=Math.max,SetRecord=function(set,size,has,keys){this.set=set,this.size=size,this.has=has,this.keys=keys};SetRecord.prototype={getIterator:function(){return getIteratorDirect(anObject(call(this.keys,this.set)))},includes:function(it){return call(this.has,this.set,it)}},module.exports=function(obj){anObject(obj);var numSize=+obj.size;if(numSize!=numSize)throw new $TypeError("Invalid size");var intSize=toIntegerOrInfinity(numSize);if(intSize<0)throw new $RangeError("Invalid size");return new SetRecord(obj,max(intSize,0),aCallable(obj.has),aCallable(obj.keys))}},6661:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var check=function(it){return it&&it.Math===Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof __webpack_require__.g&&__webpack_require__.g)||check("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9281:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),toObject=__webpack_require__(381),hasOwnProperty=uncurryThis({}.hasOwnProperty);module.exports=Object.hasOwn||function(it,key){return hasOwnProperty(toObject(it),key)}},5840:function(module){"use strict";module.exports={}},5480:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(5284);module.exports=getBuiltIn("document","documentElement")},8302:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(1252),fails=__webpack_require__(7731),createElement=__webpack_require__(7817);module.exports=!DESCRIPTORS&&!fails((function(){return 7!==Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a}))},3737:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),fails=__webpack_require__(7731),classof=__webpack_require__(6902),$Object=Object,split=uncurryThis("".split);module.exports=fails((function(){return!$Object("z").propertyIsEnumerable(0)}))?function(it){return"String"===classof(it)?split(it,""):$Object(it)}:$Object},9622:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(8194),isObject=__webpack_require__(2599),setPrototypeOf=__webpack_require__(5582);module.exports=function($this,dummy,Wrapper){var NewTarget,NewTargetPrototype;return setPrototypeOf&&isCallable(NewTarget=dummy.constructor)&&NewTarget!==Wrapper&&isObject(NewTargetPrototype=NewTarget.prototype)&&NewTargetPrototype!==Wrapper.prototype&&setPrototypeOf($this,NewTargetPrototype),$this}},1502:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),isCallable=__webpack_require__(8194),store=__webpack_require__(9415),functionToString=uncurryThis(Function.toString);isCallable(store.inspectSource)||(store.inspectSource=function(it){return functionToString(it)}),module.exports=store.inspectSource},8209:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),uncurryThis=__webpack_require__(3329),hiddenKeys=__webpack_require__(5840),isObject=__webpack_require__(2599),hasOwn=__webpack_require__(9281),defineProperty=__webpack_require__(6531).f,getOwnPropertyNamesModule=__webpack_require__(2561),getOwnPropertyNamesExternalModule=__webpack_require__(4705),isExtensible=__webpack_require__(5780),uid=__webpack_require__(2668),FREEZING=__webpack_require__(878),REQUIRED=!1,METADATA=uid("meta"),id=0,setMetadata=function(it){defineProperty(it,METADATA,{value:{objectID:"O"+id++,weakData:{}}})},meta=module.exports={enable:function(){meta.enable=function(){},REQUIRED=!0;var getOwnPropertyNames=getOwnPropertyNamesModule.f,splice=uncurryThis([].splice),test={};test[METADATA]=1,getOwnPropertyNames(test).length&&(getOwnPropertyNamesModule.f=function(it){for(var result=getOwnPropertyNames(it),i=0,length=result.length;i<length;i++)if(result[i]===METADATA){splice(result,i,1);break}return result},$({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!hasOwn(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID},getWeakData:function(it,create){if(!hasOwn(it,METADATA)){if(!isExtensible(it))return!0;if(!create)return!1;setMetadata(it)}return it[METADATA].weakData},onFreeze:function(it){return FREEZING&&REQUIRED&&isExtensible(it)&&!hasOwn(it,METADATA)&&setMetadata(it),it}};hiddenKeys[METADATA]=!0},8511:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var set,get,has,NATIVE_WEAK_MAP=__webpack_require__(7925),global=__webpack_require__(6661),isObject=__webpack_require__(2599),createNonEnumerableProperty=__webpack_require__(8771),hasOwn=__webpack_require__(9281),shared=__webpack_require__(9415),sharedKey=__webpack_require__(2902),hiddenKeys=__webpack_require__(5840),TypeError=global.TypeError,WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap);store.get=store.get,store.has=store.has,store.set=store.set,set=function(it,metadata){if(store.has(it))throw new TypeError("Object already initialized");return metadata.facade=it,store.set(it,metadata),metadata},get=function(it){return store.get(it)||{}},has=function(it){return store.has(it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){if(hasOwn(it,STATE))throw new TypeError("Object already initialized");return metadata.facade=it,createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return hasOwn(it,STATE)?it[STATE]:{}},has=function(it){return hasOwn(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw new TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},3699:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var wellKnownSymbol=__webpack_require__(8361),Iterators=__webpack_require__(776),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},8194:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $documentAll=__webpack_require__(1751),documentAll=$documentAll.all;module.exports=$documentAll.IS_HTMLDDA?function(argument){return"function"==typeof argument||argument===documentAll}:function(argument){return"function"==typeof argument}},7718:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),fails=__webpack_require__(7731),isCallable=__webpack_require__(8194),classof=__webpack_require__(9022),getBuiltIn=__webpack_require__(5284),inspectSource=__webpack_require__(1502),noop=function(){},empty=[],construct=getBuiltIn("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=uncurryThis(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop),isConstructorModern=function(argument){if(!isCallable(argument))return!1;try{return construct(noop,empty,argument),!0}catch(error){return!1}},isConstructorLegacy=function(argument){if(!isCallable(argument))return!1;switch(classof(argument)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec(constructorRegExp,inspectSource(argument))}catch(error){return!0}};isConstructorLegacy.sham=!0,module.exports=!construct||fails((function(){var called;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){called=!0}))||called}))?isConstructorLegacy:isConstructorModern},933:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var fails=__webpack_require__(7731),isCallable=__webpack_require__(8194),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value===POLYFILL||value!==NATIVE&&(isCallable(detection)?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},1085:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var classof=__webpack_require__(9022),hasOwn=__webpack_require__(9281),isNullOrUndefined=__webpack_require__(6757),wellKnownSymbol=__webpack_require__(8361),Iterators=__webpack_require__(776),ITERATOR=wellKnownSymbol("iterator"),$Object=Object;module.exports=function(it){if(isNullOrUndefined(it))return!1;var O=$Object(it);return void 0!==O[ITERATOR]||"@@iterator"in O||hasOwn(Iterators,classof(O))}},6757:function(module){"use strict";module.exports=function(it){return null==it}},2599:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(8194),$documentAll=__webpack_require__(1751),documentAll=$documentAll.all;module.exports=$documentAll.IS_HTMLDDA?function(it){return"object"==typeof it?null!==it:isCallable(it)||it===documentAll}:function(it){return"object"==typeof it?null!==it:isCallable(it)}},6362:function(module){"use strict";module.exports=!1},77:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(5284),isCallable=__webpack_require__(8194),isPrototypeOf=__webpack_require__(3772),USE_SYMBOL_AS_UID=__webpack_require__(5828),$Object=Object;module.exports=USE_SYMBOL_AS_UID?function(it){return"symbol"==typeof it}:function(it){var $Symbol=getBuiltIn("Symbol");return isCallable($Symbol)&&isPrototypeOf($Symbol.prototype,$Object(it))}},6699:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var call=__webpack_require__(8942);module.exports=function(record,fn,ITERATOR_INSTEAD_OF_RECORD){for(var step,result,iterator=ITERATOR_INSTEAD_OF_RECORD?record:record.iterator,next=record.next;!(step=call(next,iterator)).done;)if(void 0!==(result=fn(step.value)))return result}},7405:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var bind=__webpack_require__(6543),call=__webpack_require__(8942),anObject=__webpack_require__(4701),tryToString=__webpack_require__(1533),isArrayIteratorMethod=__webpack_require__(3699),lengthOfArrayLike=__webpack_require__(2067),isPrototypeOf=__webpack_require__(3772),getIterator=__webpack_require__(4205),getIteratorMethod=__webpack_require__(7402),iteratorClose=__webpack_require__(9382),$TypeError=TypeError,Result=function(stopped,result){this.stopped=stopped,this.result=result},ResultPrototype=Result.prototype;module.exports=function(iterable,unboundFunction,options){var iterator,iterFn,index,length,result,next,step,that=options&&options.that,AS_ENTRIES=!(!options||!options.AS_ENTRIES),IS_RECORD=!(!options||!options.IS_RECORD),IS_ITERATOR=!(!options||!options.IS_ITERATOR),INTERRUPTED=!(!options||!options.INTERRUPTED),fn=bind(unboundFunction,that),stop=function(condition){return iterator&&iteratorClose(iterator,"normal",condition),new Result(!0,condition)},callFn=function(value){return AS_ENTRIES?(anObject(value),INTERRUPTED?fn(value[0],value[1],stop):fn(value[0],value[1])):INTERRUPTED?fn(value,stop):fn(value)};if(IS_RECORD)iterator=iterable.iterator;else if(IS_ITERATOR)iterator=iterable;else{if(!(iterFn=getIteratorMethod(iterable)))throw new $TypeError(tryToString(iterable)+" is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=lengthOfArrayLike(iterable);length>index;index++)if((result=callFn(iterable[index]))&&isPrototypeOf(ResultPrototype,result))return result;return new Result(!1)}iterator=getIterator(iterable,iterFn)}for(next=IS_RECORD?iterable.next:iterator.next;!(step=call(next,iterator)).done;){try{result=callFn(step.value)}catch(error){iteratorClose(iterator,"throw",error)}if("object"==typeof result&&result&&isPrototypeOf(ResultPrototype,result))return result}return new Result(!1)}},9382:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var call=__webpack_require__(8942),anObject=__webpack_require__(4701),getMethod=__webpack_require__(69);module.exports=function(iterator,kind,value){var innerResult,innerError;anObject(iterator);try{if(!(innerResult=getMethod(iterator,"return"))){if("throw"===kind)throw value;return value}innerResult=call(innerResult,iterator)}catch(error){innerError=!0,innerResult=error}if("throw"===kind)throw value;if(innerError)throw innerResult;return anObject(innerResult),value}},7935:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var IteratorPrototype=__webpack_require__(2476).IteratorPrototype,create=__webpack_require__(9654),createPropertyDescriptor=__webpack_require__(6642),setToStringTag=__webpack_require__(1176),Iterators=__webpack_require__(776),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next,ENUMERABLE_NEXT){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(+!ENUMERABLE_NEXT,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},1581:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),IS_PURE=__webpack_require__(6362),FunctionName=__webpack_require__(2824),isCallable=__webpack_require__(8194),createIteratorConstructor=__webpack_require__(7935),getPrototypeOf=__webpack_require__(4131),setPrototypeOf=__webpack_require__(5582),setToStringTag=__webpack_require__(1176),createNonEnumerableProperty=__webpack_require__(8771),defineBuiltIn=__webpack_require__(4197),wellKnownSymbol=__webpack_require__(8361),Iterators=__webpack_require__(776),IteratorsCore=__webpack_require__(2476),PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":case"values":case"entries":return function(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"===NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)))!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):isCallable(CurrentIteratorPrototype[ITERATOR])||defineBuiltIn(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis)),PROPER_FUNCTION_NAME&&"values"===DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(!IS_PURE&&CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty(IterablePrototype,"name","values"):(INCORRECT_VALUES_NAME=!0,defaultIterator=function(){return call(nativeIterator,this)})),DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&defineBuiltIn(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||defineBuiltIn(IterablePrototype,ITERATOR,defaultIterator,{name:DEFAULT}),Iterators[NAME]=defaultIterator,methods}},2476:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,fails=__webpack_require__(7731),isCallable=__webpack_require__(8194),isObject=__webpack_require__(2599),create=__webpack_require__(9654),getPrototypeOf=__webpack_require__(4131),defineBuiltIn=__webpack_require__(4197),wellKnownSymbol=__webpack_require__(8361),IS_PURE=__webpack_require__(6362),ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),!isObject(IteratorPrototype)||fails((function(){var test={};return IteratorPrototype[ITERATOR].call(test)!==test}))?IteratorPrototype={}:IS_PURE&&(IteratorPrototype=create(IteratorPrototype)),isCallable(IteratorPrototype[ITERATOR])||defineBuiltIn(IteratorPrototype,ITERATOR,(function(){return this})),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},776:function(module){"use strict";module.exports={}},2067:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toLength=__webpack_require__(7258);module.exports=function(obj){return toLength(obj.length)}},7494:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),fails=__webpack_require__(7731),isCallable=__webpack_require__(8194),hasOwn=__webpack_require__(9281),DESCRIPTORS=__webpack_require__(1252),CONFIGURABLE_FUNCTION_NAME=__webpack_require__(2824).CONFIGURABLE,inspectSource=__webpack_require__(1502),InternalStateModule=__webpack_require__(8511),enforceInternalState=InternalStateModule.enforce,getInternalState=InternalStateModule.get,$String=String,defineProperty=Object.defineProperty,stringSlice=uncurryThis("".slice),replace=uncurryThis("".replace),join=uncurryThis([].join),CONFIGURABLE_LENGTH=DESCRIPTORS&&!fails((function(){return 8!==defineProperty((function(){}),"length",{value:8}).length})),TEMPLATE=String(String).split("String"),makeBuiltIn=module.exports=function(value,name,options){"Symbol("===stringSlice($String(name),0,7)&&(name="["+replace($String(name),/^Symbol\(([^)]*)\)/,"$1")+"]"),options&&options.getter&&(name="get "+name),options&&options.setter&&(name="set "+name),(!hasOwn(value,"name")||CONFIGURABLE_FUNCTION_NAME&&value.name!==name)&&(DESCRIPTORS?defineProperty(value,"name",{value:name,configurable:!0}):value.name=name),CONFIGURABLE_LENGTH&&options&&hasOwn(options,"arity")&&value.length!==options.arity&&defineProperty(value,"length",{value:options.arity});try{options&&hasOwn(options,"constructor")&&options.constructor?DESCRIPTORS&&defineProperty(value,"prototype",{writable:!1}):value.prototype&&(value.prototype=void 0)}catch(error){}var state=enforceInternalState(value);return hasOwn(state,"source")||(state.source=join(TEMPLATE,"string"==typeof name?name:"")),value};Function.prototype.toString=makeBuiltIn((function(){return isCallable(this)&&getInternalState(this).source||inspectSource(this)}),"toString")},3447:function(module){"use strict";var ceil=Math.ceil,floor=Math.floor;module.exports=Math.trunc||function(x){var n=+x;return(n>0?floor:ceil)(n)}},9654:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var activeXDocument,anObject=__webpack_require__(4701),definePropertiesModule=__webpack_require__(5344),enumBugKeys=__webpack_require__(4780),hiddenKeys=__webpack_require__(5840),html=__webpack_require__(5480),documentCreateElement=__webpack_require__(7817),sharedKey=__webpack_require__(2902),IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(content){return"<script>"+content+"<\/script>"},NullProtoObjectViaActiveX=function(activeXDocument){activeXDocument.write(scriptTag("")),activeXDocument.close();var temp=activeXDocument.parentWindow.Object;return activeXDocument=null,temp},NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(error){}var iframeDocument,iframe;NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):((iframe=documentCreateElement("iframe")).style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write(scriptTag("document.F=Object")),iframeDocument.close(),iframeDocument.F):NullProtoObjectViaActiveX(activeXDocument);for(var length=enumBugKeys.length;length--;)delete NullProtoObject.prototype[enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0,module.exports=Object.create||function(O,Properties){var result;return null!==O?(EmptyConstructor.prototype=anObject(O),result=new EmptyConstructor,EmptyConstructor.prototype=null,result[IE_PROTO]=O):result=NullProtoObject(),void 0===Properties?result:definePropertiesModule.f(result,Properties)}},5344:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(1252),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__(415),definePropertyModule=__webpack_require__(6531),anObject=__webpack_require__(4701),toIndexedObject=__webpack_require__(318),objectKeys=__webpack_require__(6222);exports.f=DESCRIPTORS&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(O,Properties){anObject(O);for(var key,props=toIndexedObject(Properties),keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],props[key]);return O}},6531:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(1252),IE8_DOM_DEFINE=__webpack_require__(8302),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__(415),anObject=__webpack_require__(4701),toPropertyKey=__webpack_require__(4188),$TypeError=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?V8_PROTOTYPE_DEFINE_BUG?function(O,P,Attributes){if(anObject(O),P=toPropertyKey(P),anObject(Attributes),"function"==typeof O&&"prototype"===P&&"value"in Attributes&&"writable"in Attributes&&!Attributes.writable){var current=$getOwnPropertyDescriptor(O,P);current&&current.writable&&(O[P]=Attributes.value,Attributes={configurable:"configurable"in Attributes?Attributes.configurable:current.configurable,enumerable:"enumerable"in Attributes?Attributes.enumerable:current.enumerable,writable:!1})}return $defineProperty(O,P,Attributes)}:$defineProperty:function(O,P,Attributes){if(anObject(O),P=toPropertyKey(P),anObject(Attributes),IE8_DOM_DEFINE)try{return $defineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw new $TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},1869:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(1252),call=__webpack_require__(8942),propertyIsEnumerableModule=__webpack_require__(1371),createPropertyDescriptor=__webpack_require__(6642),toIndexedObject=__webpack_require__(318),toPropertyKey=__webpack_require__(4188),hasOwn=__webpack_require__(9281),IE8_DOM_DEFINE=__webpack_require__(8302),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?$getOwnPropertyDescriptor:function(O,P){if(O=toIndexedObject(O),P=toPropertyKey(P),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(O,P)}catch(error){}if(hasOwn(O,P))return createPropertyDescriptor(!call(propertyIsEnumerableModule.f,O,P),O[P])}},4705:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var classof=__webpack_require__(6902),toIndexedObject=__webpack_require__(318),$getOwnPropertyNames=__webpack_require__(2561).f,arraySlice=__webpack_require__(4449),windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"Window"===classof(it)?function(it){try{return $getOwnPropertyNames(it)}catch(error){return arraySlice(windowNames)}}(it):$getOwnPropertyNames(toIndexedObject(it))}},2561:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var internalObjectKeys=__webpack_require__(6248),hiddenKeys=__webpack_require__(4780).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return internalObjectKeys(O,hiddenKeys)}},661:function(__unused_webpack_module,exports){"use strict";exports.f=Object.getOwnPropertySymbols},4131:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var hasOwn=__webpack_require__(9281),isCallable=__webpack_require__(8194),toObject=__webpack_require__(381),sharedKey=__webpack_require__(2902),CORRECT_PROTOTYPE_GETTER=__webpack_require__(2418),IE_PROTO=sharedKey("IE_PROTO"),$Object=Object,ObjectPrototype=$Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(O){var object=toObject(O);if(hasOwn(object,IE_PROTO))return object[IE_PROTO];var constructor=object.constructor;return isCallable(constructor)&&object instanceof constructor?constructor.prototype:object instanceof $Object?ObjectPrototype:null}},5780:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var fails=__webpack_require__(7731),isObject=__webpack_require__(2599),classof=__webpack_require__(6902),ARRAY_BUFFER_NON_EXTENSIBLE=__webpack_require__(2658),$isExtensible=Object.isExtensible,FAILS_ON_PRIMITIVES=fails((function(){$isExtensible(1)}));module.exports=FAILS_ON_PRIMITIVES||ARRAY_BUFFER_NON_EXTENSIBLE?function(it){return!!isObject(it)&&((!ARRAY_BUFFER_NON_EXTENSIBLE||"ArrayBuffer"!==classof(it))&&(!$isExtensible||$isExtensible(it)))}:$isExtensible},3772:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329);module.exports=uncurryThis({}.isPrototypeOf)},6248:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),hasOwn=__webpack_require__(9281),toIndexedObject=__webpack_require__(318),indexOf=__webpack_require__(5753).indexOf,hiddenKeys=__webpack_require__(5840),push=uncurryThis([].push);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!hasOwn(hiddenKeys,key)&&hasOwn(O,key)&&push(result,key);for(;names.length>i;)hasOwn(O,key=names[i++])&&(~indexOf(result,key)||push(result,key));return result}},6222:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var internalObjectKeys=__webpack_require__(6248),enumBugKeys=__webpack_require__(4780);module.exports=Object.keys||function(O){return internalObjectKeys(O,enumBugKeys)}},1371:function(__unused_webpack_module,exports){"use strict";var $propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!$propertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:$propertyIsEnumerable},5582:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThisAccessor=__webpack_require__(1674),anObject=__webpack_require__(4701),aPossiblePrototype=__webpack_require__(179);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=uncurryThisAccessor(Object.prototype,"__proto__","set"))(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter(O,proto):O.__proto__=proto,O}}():void 0)},9223:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__(6528),classof=__webpack_require__(9022);module.exports=TO_STRING_TAG_SUPPORT?{}.toString:function(){return"[object "+classof(this)+"]"}},9770:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var call=__webpack_require__(8942),isCallable=__webpack_require__(8194),isObject=__webpack_require__(2599),$TypeError=TypeError;module.exports=function(input,pref){var fn,val;if("string"===pref&&isCallable(fn=input.toString)&&!isObject(val=call(fn,input)))return val;if(isCallable(fn=input.valueOf)&&!isObject(val=call(fn,input)))return val;if("string"!==pref&&isCallable(fn=input.toString)&&!isObject(val=call(fn,input)))return val;throw new $TypeError("Can't convert object to primitive value")}},930:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(5284),uncurryThis=__webpack_require__(3329),getOwnPropertyNamesModule=__webpack_require__(2561),getOwnPropertySymbolsModule=__webpack_require__(661),anObject=__webpack_require__(4701),concat=uncurryThis([].concat);module.exports=getBuiltIn("Reflect","ownKeys")||function(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?concat(keys,getOwnPropertySymbols(it)):keys}},9398:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isNullOrUndefined=__webpack_require__(6757),$TypeError=TypeError;module.exports=function(it){if(isNullOrUndefined(it))throw new $TypeError("Can't call method on "+it);return it}},1408:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var SetHelpers=__webpack_require__(4265),iterate=__webpack_require__(7767),Set=SetHelpers.Set,add=SetHelpers.add;module.exports=function(set){var result=new Set;return iterate(set,(function(it){add(result,it)})),result}},8932:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aSet=__webpack_require__(1278),SetHelpers=__webpack_require__(4265),clone=__webpack_require__(1408),size=__webpack_require__(8889),getSetRecord=__webpack_require__(8883),iterateSet=__webpack_require__(7767),iterateSimple=__webpack_require__(6699),has=SetHelpers.has,remove=SetHelpers.remove;module.exports=function(other){var O=aSet(this),otherRec=getSetRecord(other),result=clone(O);return size(O)<=otherRec.size?iterateSet(O,(function(e){otherRec.includes(e)&&remove(result,e)})):iterateSimple(otherRec.getIterator(),(function(e){has(O,e)&&remove(result,e)})),result}},4265:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),SetPrototype=Set.prototype;module.exports={Set:Set,add:uncurryThis(SetPrototype.add),has:uncurryThis(SetPrototype.has),remove:uncurryThis(SetPrototype.delete),proto:SetPrototype}},8982:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aSet=__webpack_require__(1278),SetHelpers=__webpack_require__(4265),size=__webpack_require__(8889),getSetRecord=__webpack_require__(8883),iterateSet=__webpack_require__(7767),iterateSimple=__webpack_require__(6699),Set=SetHelpers.Set,add=SetHelpers.add,has=SetHelpers.has;module.exports=function(other){var O=aSet(this),otherRec=getSetRecord(other),result=new Set;return size(O)>otherRec.size?iterateSimple(otherRec.getIterator(),(function(e){has(O,e)&&add(result,e)})):iterateSet(O,(function(e){otherRec.includes(e)&&add(result,e)})),result}},6516:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aSet=__webpack_require__(1278),has=__webpack_require__(4265).has,size=__webpack_require__(8889),getSetRecord=__webpack_require__(8883),iterateSet=__webpack_require__(7767),iterateSimple=__webpack_require__(6699),iteratorClose=__webpack_require__(9382);module.exports=function(other){var O=aSet(this),otherRec=getSetRecord(other);if(size(O)<=otherRec.size)return!1!==iterateSet(O,(function(e){if(otherRec.includes(e))return!1}),!0);var iterator=otherRec.getIterator();return!1!==iterateSimple(iterator,(function(e){if(has(O,e))return iteratorClose(iterator,"normal",!1)}))}},6643:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aSet=__webpack_require__(1278),size=__webpack_require__(8889),iterate=__webpack_require__(7767),getSetRecord=__webpack_require__(8883);module.exports=function(other){var O=aSet(this),otherRec=getSetRecord(other);return!(size(O)>otherRec.size)&&!1!==iterate(O,(function(e){if(!otherRec.includes(e))return!1}),!0)}},2570:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aSet=__webpack_require__(1278),has=__webpack_require__(4265).has,size=__webpack_require__(8889),getSetRecord=__webpack_require__(8883),iterateSimple=__webpack_require__(6699),iteratorClose=__webpack_require__(9382);module.exports=function(other){var O=aSet(this),otherRec=getSetRecord(other);if(size(O)<otherRec.size)return!1;var iterator=otherRec.getIterator();return!1!==iterateSimple(iterator,(function(e){if(!has(O,e))return iteratorClose(iterator,"normal",!1)}))}},7767:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),iterateSimple=__webpack_require__(6699),SetHelpers=__webpack_require__(4265),Set=SetHelpers.Set,SetPrototype=SetHelpers.proto,forEach=uncurryThis(SetPrototype.forEach),keys=uncurryThis(SetPrototype.keys),next=keys(new Set).next;module.exports=function(set,fn,interruptible){return interruptible?iterateSimple({iterator:keys(set),next:next},fn):forEach(set,fn)}},2321:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(5284),createSetLike=function(size){return{size:size,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};module.exports=function(name){var Set=getBuiltIn("Set");try{(new Set)[name](createSetLike(0));try{return(new Set)[name](createSetLike(-1)),!1}catch(error2){return!0}}catch(error){return!1}}},8889:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThisAccessor=__webpack_require__(1674),SetHelpers=__webpack_require__(4265);module.exports=uncurryThisAccessor(SetHelpers.proto,"size","get")||function(set){return set.size}},1492:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(5284),defineBuiltInAccessor=__webpack_require__(1270),wellKnownSymbol=__webpack_require__(8361),DESCRIPTORS=__webpack_require__(1252),SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME);DESCRIPTORS&&Constructor&&!Constructor[SPECIES]&&defineBuiltInAccessor(Constructor,SPECIES,{configurable:!0,get:function(){return this}})}},7932:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aSet=__webpack_require__(1278),SetHelpers=__webpack_require__(4265),clone=__webpack_require__(1408),getSetRecord=__webpack_require__(8883),iterateSimple=__webpack_require__(6699),add=SetHelpers.add,has=SetHelpers.has,remove=SetHelpers.remove;module.exports=function(other){var O=aSet(this),keysIter=getSetRecord(other).getIterator(),result=clone(O);return iterateSimple(keysIter,(function(e){has(O,e)?remove(result,e):add(result,e)})),result}},1176:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var defineProperty=__webpack_require__(6531).f,hasOwn=__webpack_require__(9281),TO_STRING_TAG=__webpack_require__(8361)("toStringTag");module.exports=function(target,TAG,STATIC){target&&!STATIC&&(target=target.prototype),target&&!hasOwn(target,TO_STRING_TAG)&&defineProperty(target,TO_STRING_TAG,{configurable:!0,value:TAG})}},4905:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var aSet=__webpack_require__(1278),add=__webpack_require__(4265).add,clone=__webpack_require__(1408),getSetRecord=__webpack_require__(8883),iterateSimple=__webpack_require__(6699);module.exports=function(other){var O=aSet(this),keysIter=getSetRecord(other).getIterator(),result=clone(O);return iterateSimple(keysIter,(function(it){add(result,it)})),result}},2902:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var shared=__webpack_require__(7918),uid=__webpack_require__(2668),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},9415:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),defineGlobalProperty=__webpack_require__(2316),store=global["__core-js_shared__"]||defineGlobalProperty("__core-js_shared__",{});module.exports=store},7918:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var IS_PURE=__webpack_require__(6362),store=__webpack_require__(9415);(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.34.0",mode:IS_PURE?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},4112:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),toIntegerOrInfinity=__webpack_require__(4009),toString=__webpack_require__(7947),requireObjectCoercible=__webpack_require__(9398),charAt=uncurryThis("".charAt),charCodeAt=uncurryThis("".charCodeAt),stringSlice=uncurryThis("".slice),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=toString(requireObjectCoercible($this)),position=toIntegerOrInfinity(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=charCodeAt(S,position))<55296||first>56319||position+1===size||(second=charCodeAt(S,position+1))<56320||second>57343?CONVERT_TO_STRING?charAt(S,position):first:CONVERT_TO_STRING?stringSlice(S,position,position+2):second-56320+(first-55296<<10)+65536}};module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},2059:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var V8_VERSION=__webpack_require__(8192),fails=__webpack_require__(7731),$String=__webpack_require__(6661).String;module.exports=!!Object.getOwnPropertySymbols&&!fails((function(){var symbol=Symbol("symbol detection");return!$String(symbol)||!(Object(symbol)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41}))},8217:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toIntegerOrInfinity=__webpack_require__(4009),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toIntegerOrInfinity(index);return integer<0?max(integer+length,0):min(integer,length)}},318:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var IndexedObject=__webpack_require__(3737),requireObjectCoercible=__webpack_require__(9398);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},4009:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var trunc=__webpack_require__(3447);module.exports=function(argument){var number=+argument;return number!=number||0===number?0:trunc(number)}},7258:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toIntegerOrInfinity=__webpack_require__(4009),min=Math.min;module.exports=function(argument){return argument>0?min(toIntegerOrInfinity(argument),9007199254740991):0}},381:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var requireObjectCoercible=__webpack_require__(9398),$Object=Object;module.exports=function(argument){return $Object(requireObjectCoercible(argument))}},464:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var call=__webpack_require__(8942),isObject=__webpack_require__(2599),isSymbol=__webpack_require__(77),getMethod=__webpack_require__(69),ordinaryToPrimitive=__webpack_require__(9770),wellKnownSymbol=__webpack_require__(8361),$TypeError=TypeError,TO_PRIMITIVE=wellKnownSymbol("toPrimitive");module.exports=function(input,pref){if(!isObject(input)||isSymbol(input))return input;var result,exoticToPrim=getMethod(input,TO_PRIMITIVE);if(exoticToPrim){if(void 0===pref&&(pref="default"),result=call(exoticToPrim,input,pref),!isObject(result)||isSymbol(result))return result;throw new $TypeError("Can't convert object to primitive value")}return void 0===pref&&(pref="number"),ordinaryToPrimitive(input,pref)}},4188:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toPrimitive=__webpack_require__(464),isSymbol=__webpack_require__(77);module.exports=function(argument){var key=toPrimitive(argument,"string");return isSymbol(key)?key:key+""}},4809:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(5284),isCallable=__webpack_require__(8194),isIterable=__webpack_require__(1085),isObject=__webpack_require__(2599),Set=getBuiltIn("Set");module.exports=function(it){return function(it){return isObject(it)&&"number"==typeof it.size&&isCallable(it.has)&&isCallable(it.keys)}(it)?it:isIterable(it)?new Set(it):it}},6528:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var test={};test[__webpack_require__(8361)("toStringTag")]="z",module.exports="[object z]"===String(test)},7947:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var classof=__webpack_require__(9022),$String=String;module.exports=function(argument){if("Symbol"===classof(argument))throw new TypeError("Cannot convert a Symbol value to a string");return $String(argument)}},1533:function(module){"use strict";var $String=String;module.exports=function(argument){try{return $String(argument)}catch(error){return"Object"}}},2668:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var uncurryThis=__webpack_require__(3329),id=0,postfix=Math.random(),toString=uncurryThis(1..toString);module.exports=function(key){return"Symbol("+(void 0===key?"":key)+")_"+toString(++id+postfix,36)}},5828:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var NATIVE_SYMBOL=__webpack_require__(2059);module.exports=NATIVE_SYMBOL&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},415:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(1252),fails=__webpack_require__(7731);module.exports=DESCRIPTORS&&fails((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7925:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),isCallable=__webpack_require__(8194),WeakMap=global.WeakMap;module.exports=isCallable(WeakMap)&&/native code/.test(String(WeakMap))},8361:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),shared=__webpack_require__(7918),hasOwn=__webpack_require__(9281),uid=__webpack_require__(2668),NATIVE_SYMBOL=__webpack_require__(2059),USE_SYMBOL_AS_UID=__webpack_require__(5828),Symbol=global.Symbol,WellKnownSymbolsStore=shared("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol.for||Symbol:Symbol&&Symbol.withoutSetter||uid;module.exports=function(name){return hasOwn(WellKnownSymbolsStore,name)||(WellKnownSymbolsStore[name]=NATIVE_SYMBOL&&hasOwn(Symbol,name)?Symbol[name]:createWellKnownSymbol("Symbol."+name)),WellKnownSymbolsStore[name]}},7873:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(318),addToUnscopables=__webpack_require__(1970),Iterators=__webpack_require__(776),InternalStateModule=__webpack_require__(8511),defineProperty=__webpack_require__(6531).f,defineIterator=__webpack_require__(1581),createIterResultObject=__webpack_require__(8631),IS_PURE=__webpack_require__(6362),DESCRIPTORS=__webpack_require__(1252),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",(function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})}),(function(){var state=getInternalState(this),target=state.target,index=state.index++;if(!target||index>=target.length)return state.target=void 0,createIterResultObject(void 0,!0);switch(state.kind){case"keys":return createIterResultObject(index,!1);case"values":return createIterResultObject(target[index],!1)}return createIterResultObject([index,target[index]],!1)}),"values");var values=Iterators.Arguments=Iterators.Array;if(addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries"),!IS_PURE&&DESCRIPTORS&&"values"!==values.name)try{defineProperty(values,"name",{value:"values"})}catch(error){}},1607:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__(6528),defineBuiltIn=__webpack_require__(4197),toString=__webpack_require__(9223);TO_STRING_TAG_SUPPORT||defineBuiltIn(Object.prototype,"toString",toString,{unsafe:!0})},1459:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";__webpack_require__(619)("Set",(function(init){return function(){return init(this,arguments.length?arguments[0]:void 0)}}),__webpack_require__(9610))},9762:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";__webpack_require__(1459)},8517:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var charAt=__webpack_require__(4112).charAt,toString=__webpack_require__(7947),InternalStateModule=__webpack_require__(8511),defineIterator=__webpack_require__(1581),createIterResultObject=__webpack_require__(8631),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(function(iterated){setInternalState(this,{type:"String Iterator",string:toString(iterated),index:0})}),(function(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?createIterResultObject(void 0,!0):(point=charAt(string,index),state.index+=point.length,createIterResultObject(point,!1))}))},2577:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),aSet=__webpack_require__(1278),add=__webpack_require__(4265).add;$({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var set=aSet(this),k=0,len=arguments.length;k<len;k++)add(set,arguments[k]);return set}})},4374:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),aSet=__webpack_require__(1278),remove=__webpack_require__(4265).remove;$({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var wasDeleted,collection=aSet(this),allDeleted=!0,k=0,len=arguments.length;k<len;k++)wasDeleted=remove(collection,arguments[k]),allDeleted=allDeleted&&wasDeleted;return!!allDeleted}})},4721:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),toSetLike=__webpack_require__(4809),$difference=__webpack_require__(8932);$({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(other){return call($difference,this,toSetLike(other))}})},1105:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),difference=__webpack_require__(8932);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(2321)("difference")},{difference:difference})},4350:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),bind=__webpack_require__(6543),aSet=__webpack_require__(1278),iterate=__webpack_require__(7767);$({target:"Set",proto:!0,real:!0,forced:!0},{every:function(callbackfn){var set=aSet(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0);return!1!==iterate(set,(function(value){if(!boundFunction(value,value,set))return!1}),!0)}})},2369:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),bind=__webpack_require__(6543),aSet=__webpack_require__(1278),SetHelpers=__webpack_require__(4265),iterate=__webpack_require__(7767),Set=SetHelpers.Set,add=SetHelpers.add;$({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(callbackfn){var set=aSet(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0),newSet=new Set;return iterate(set,(function(value){boundFunction(value,value,set)&&add(newSet,value)})),newSet}})},4868:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),bind=__webpack_require__(6543),aSet=__webpack_require__(1278),iterate=__webpack_require__(7767);$({target:"Set",proto:!0,real:!0,forced:!0},{find:function(callbackfn){var set=aSet(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0),result=iterate(set,(function(value){if(boundFunction(value,value,set))return{value:value}}),!0);return result&&result.value}})},3226:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";__webpack_require__(1777)({target:"Set",stat:!0,forced:!0},{from:__webpack_require__(2253)})},335:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),toSetLike=__webpack_require__(4809),$intersection=__webpack_require__(8982);$({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(other){return call($intersection,this,toSetLike(other))}})},7199:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),fails=__webpack_require__(7731),intersection=__webpack_require__(8982);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(2321)("intersection")||fails((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:intersection})},1507:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),toSetLike=__webpack_require__(4809),$isDisjointFrom=__webpack_require__(6516);$({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(other){return call($isDisjointFrom,this,toSetLike(other))}})},9008:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),isDisjointFrom=__webpack_require__(6516);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(2321)("isDisjointFrom")},{isDisjointFrom:isDisjointFrom})},4537:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),toSetLike=__webpack_require__(4809),$isSubsetOf=__webpack_require__(6643);$({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(other){return call($isSubsetOf,this,toSetLike(other))}})},5120:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),isSubsetOf=__webpack_require__(6643);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(2321)("isSubsetOf")},{isSubsetOf:isSubsetOf})},590:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),toSetLike=__webpack_require__(4809),$isSupersetOf=__webpack_require__(2570);$({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(other){return call($isSupersetOf,this,toSetLike(other))}})},508:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),isSupersetOf=__webpack_require__(2570);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(2321)("isSupersetOf")},{isSupersetOf:isSupersetOf})},194:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),uncurryThis=__webpack_require__(3329),aSet=__webpack_require__(1278),iterate=__webpack_require__(7767),toString=__webpack_require__(7947),arrayJoin=uncurryThis([].join),push=uncurryThis([].push);$({target:"Set",proto:!0,real:!0,forced:!0},{join:function(separator){var set=aSet(this),sep=void 0===separator?",":toString(separator),array=[];return iterate(set,(function(value){push(array,value)})),arrayJoin(array,sep)}})},9981:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),bind=__webpack_require__(6543),aSet=__webpack_require__(1278),SetHelpers=__webpack_require__(4265),iterate=__webpack_require__(7767),Set=SetHelpers.Set,add=SetHelpers.add;$({target:"Set",proto:!0,real:!0,forced:!0},{map:function(callbackfn){var set=aSet(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0),newSet=new Set;return iterate(set,(function(value){add(newSet,boundFunction(value,value,set))})),newSet}})},4886:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";__webpack_require__(1777)({target:"Set",stat:!0,forced:!0},{of:__webpack_require__(7833)})},1816:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),aCallable=__webpack_require__(2567),aSet=__webpack_require__(1278),iterate=__webpack_require__(7767),$TypeError=TypeError;$({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(callbackfn){var set=aSet(this),noInitial=arguments.length<2,accumulator=noInitial?void 0:arguments[1];if(aCallable(callbackfn),iterate(set,(function(value){noInitial?(noInitial=!1,accumulator=value):accumulator=callbackfn(accumulator,value,value,set)})),noInitial)throw new $TypeError("Reduce of empty set with no initial value");return accumulator}})},5489:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),bind=__webpack_require__(6543),aSet=__webpack_require__(1278),iterate=__webpack_require__(7767);$({target:"Set",proto:!0,real:!0,forced:!0},{some:function(callbackfn){var set=aSet(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0);return!0===iterate(set,(function(value){if(boundFunction(value,value,set))return!0}),!0)}})},6366:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),toSetLike=__webpack_require__(4809),$symmetricDifference=__webpack_require__(7932);$({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(other){return call($symmetricDifference,this,toSetLike(other))}})},3664:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),symmetricDifference=__webpack_require__(7932);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(2321)("symmetricDifference")},{symmetricDifference:symmetricDifference})},8417:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),call=__webpack_require__(8942),toSetLike=__webpack_require__(4809),$union=__webpack_require__(4905);$({target:"Set",proto:!0,real:!0,forced:!0},{union:function(other){return call($union,this,toSetLike(other))}})},6869:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__(1777),union=__webpack_require__(4905);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(2321)("union")},{union:union})},7748:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var global=__webpack_require__(6661),DOMIterables=__webpack_require__(1071),DOMTokenListPrototype=__webpack_require__(449),ArrayIteratorMethods=__webpack_require__(7873),createNonEnumerableProperty=__webpack_require__(8771),setToStringTag=__webpack_require__(1176),ITERATOR=__webpack_require__(8361)("iterator"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(CollectionPrototype,COLLECTION_NAME){if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(setToStringTag(CollectionPrototype,COLLECTION_NAME,!0),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global[COLLECTION_NAME]&&global[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList")}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={id:moduleId,loaded:!1,exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(result,chunkIds,fn,priority){if(!chunkIds){var notFulfilled=1/0;for(i=0;i<deferred.length;i++){chunkIds=deferred[i][0],fn=deferred[i][1],priority=deferred[i][2];for(var fulfilled=!0,j=0;j<chunkIds.length;j++)(!1&priority||notFulfilled>=priority)&&Object.keys(__webpack_require__.O).every((function(key){return __webpack_require__.O[key](chunkIds[j])}))?chunkIds.splice(j--,1):(fulfilled=!1,priority<notFulfilled&&(notFulfilled=priority));if(fulfilled){deferred.splice(i--,1);var r=fn();void 0!==r&&(result=r)}}return result}priority=priority||0;for(var i=deferred.length;i>0&&deferred[i-1][2]>priority;i--)deferred[i]=deferred[i-1];deferred[i]=[chunkIds,fn,priority]},__webpack_require__.F={},__webpack_require__.E=function(chunkId){Object.keys(__webpack_require__.F).map((function(key){__webpack_require__.F[key](chunkId)}))},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.f={},__webpack_require__.e=function(chunkId){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(promises,key){return __webpack_require__.f[key](chunkId,promises),promises}),[]))},__webpack_require__.u=function(chunkId){return"kolibri.plugins.learn.app-"+({346:"H5PRunner",944:"xAPISchema"}[chunkId]||chunkId)+"-0.16.0.js"},__webpack_require__.miniCssF=function(chunkId){},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},inProgress={},__webpack_require__.l=function(url,done,key,chunkId){if(inProgress[url])inProgress[url].push(done);else{var script,needAttach;if(void 0!==key)for(var scripts=document.getElementsByTagName("script"),i=0;i<scripts.length;i++){var s=scripts[i];if(s.getAttribute("src")==url||s.getAttribute("data-webpack")=="kolibri-root:"+key){script=s;break}}script||(needAttach=!0,(script=document.createElement("script")).type="text/javascript",script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.setAttribute("data-webpack","kolibri-root:"+key),script.src=url),inProgress[url]=[done];var onScriptComplete=function(prev,event){script.onerror=script.onload=null,clearTimeout(timeout);var doneFns=inProgress[url];if(delete inProgress[url],script.parentNode&&script.parentNode.removeChild(script),doneFns&&doneFns.forEach((function(fn){return fn(event)})),prev)return prev(event)},timeout=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:script}),12e4);script.onerror=onScriptComplete.bind(null,script.onerror),script.onload=onScriptComplete.bind(null,script.onload),needAttach&&document.head.appendChild(script)}},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.nmd=function(module){return module.paths=[],module.children||(module.children=[]),module},function(){var scriptUrl;__webpack_require__.g.importScripts&&(scriptUrl=__webpack_require__.g.location+"");var document=__webpack_require__.g.document;if(!scriptUrl&&document&&(document.currentScript&&(scriptUrl=document.currentScript.src),!scriptUrl)){var scripts=document.getElementsByTagName("script");if(scripts.length)for(var i=scripts.length-1;i>-1&&!scriptUrl;)scriptUrl=scripts[i--].src}if(!scriptUrl)throw new Error("Automatic publicPath is not supported in this browser");scriptUrl=scriptUrl.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=scriptUrl}(),function(){var installedChunks={878:0};__webpack_require__.f.j=function(chunkId,promises){var installedChunkData=__webpack_require__.o(installedChunks,chunkId)?installedChunks[chunkId]:void 0;if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var url=__webpack_require__.p+__webpack_require__.u(chunkId),error=new Error;__webpack_require__.l(url,(function(event){if(__webpack_require__.o(installedChunks,chunkId)&&(0!==(installedChunkData=installedChunks[chunkId])&&(installedChunks[chunkId]=void 0),installedChunkData)){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")",error.name="ChunkLoadError",error.type=errorType,error.request=realSrc,installedChunkData[1](error)}}),"chunk-"+chunkId,chunkId)}},__webpack_require__.F.j=function(chunkId){if(!__webpack_require__.o(installedChunks,chunkId)||void 0===installedChunks[chunkId]){installedChunks[chunkId]=null;var link=document.createElement("link");__webpack_require__.nc&&link.setAttribute("nonce",__webpack_require__.nc),link.rel="prefetch",link.as="script",link.href=__webpack_require__.p+__webpack_require__.u(chunkId),document.head.appendChild(link)}},__webpack_require__.O.j=function(chunkId){return 0===installedChunks[chunkId]};var webpackJsonpCallback=function(parentChunkLoadingFunction,data){var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],runtime=data[2],i=0;if(chunkIds.some((function(id){return 0!==installedChunks[id]}))){for(moduleId in moreModules)__webpack_require__.o(moreModules,moduleId)&&(__webpack_require__.m[moduleId]=moreModules[moduleId]);if(runtime)var result=runtime(__webpack_require__)}for(parentChunkLoadingFunction&&parentChunkLoadingFunction(data);i<chunkIds.length;i++)chunkId=chunkIds[i],__webpack_require__.o(installedChunks,chunkId)&&installedChunks[chunkId]&&installedChunks[chunkId][0](),installedChunks[chunkId]=0;return __webpack_require__.O(result)},chunkLoadingGlobal=self["webpackChunkwebpack__kolibriplugins.learn.app"]=self["webpackChunkwebpack__kolibriplugins.learn.app"]||[];chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null,0)),chunkLoadingGlobal.push=webpackJsonpCallback.bind(null,chunkLoadingGlobal.push.bind(chunkLoadingGlobal))}(),__webpack_require__.O(0,[878],(function(){__webpack_require__.E(230),__webpack_require__.E(944)}),5);var __webpack_exports__={};!function(){"use strict";var getters_namespaceObject={};__webpack_require__.r(getters_namespaceObject),__webpack_require__.d(getters_namespaceObject,{allowGuestAccess:function(){return allowGuestAccess},canAccessUnassignedContent:function(){return canAccessUnassignedContent}});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,{resetModuleState:function(){return resetModuleState}});var urls,external_kolibriCoreAppGlobal_coreVue_router_namespaceObject=kolibriCoreAppGlobal.coreVue.router,external_kolibriCoreAppGlobal_coreVue_router_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_router_namespaceObject),vuex_router_sync=__webpack_require__(1844),forEach=__webpack_require__(768),forEach_default=__webpack_require__.n(forEach),external_kolibriCoreAppGlobal_lib_logging_namespaceObject=kolibriCoreAppGlobal.lib.logging,external_kolibriCoreAppGlobal_lib_logging_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_logging_namespaceObject),external_kolibriCoreAppGlobal_lib_vue_namespaceObject=kolibriCoreAppGlobal.lib.vue,external_kolibriCoreAppGlobal_lib_vue_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_vue_namespaceObject),external_kolibriCoreAppGlobal_coreVue_vuex_store_namespaceObject=kolibriCoreAppGlobal.coreVue.vuex.store,external_kolibriCoreAppGlobal_coreVue_vuex_store_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_vuex_store_namespaceObject),external_kolibriCoreAppGlobal_heartbeat_namespaceObject=kolibriCoreAppGlobal.heartbeat,external_kolibriCoreAppGlobal_heartbeat_default=__webpack_require__.n(external_kolibriCoreAppGlobal_heartbeat_namespaceObject),external_kolibriCoreAppGlobal_namespaceObject=kolibriCoreAppGlobal,external_kolibriCoreAppGlobal_default=__webpack_require__.n(external_kolibriCoreAppGlobal_namespaceObject),external_kolibriCoreAppGlobal_urls_namespaceObject=kolibriCoreAppGlobal.urls,external_kolibriCoreAppGlobal_urls_default=__webpack_require__.n(external_kolibriCoreAppGlobal_urls_namespaceObject);function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(t){var i=function(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}urls=external_kolibriCoreAppGlobal_urls_default(),__webpack_require__.p=urls.static("".concat("kolibri.plugins.learn.app","/"));var KolibriModule=function(){function KolibriModule(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KolibriModule),this.name="kolibri.plugins.learn.app";var safeOptions={};this.kolibriModuleOptions.forEach((function(option){options[option]&&(safeOptions[option]=options[option])})),Object.assign(this,safeOptions);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.initialize.apply(this,[options].concat(args)),this._registerKolibriModule()}var Constructor,protoProps,staticProps;return Constructor=KolibriModule,protoProps=[{key:"kolibriModuleOptions",get:function(){return[]}},{key:"_registerKolibriModule",value:function(){external_kolibriCoreAppGlobal_default().registerKolibriModuleSync(this)}},{key:"initialize",value:function(){}},{key:"ready",value:function(){}},{key:"stopListening",value:function(event,method){external_kolibriCoreAppGlobal_default().stopListening(event,this,method)}},{key:"emit",value:function(){external_kolibriCoreAppGlobal_default().emit.apply(external_kolibriCoreAppGlobal_default(),arguments)}},{key:"Kolibri",get:function(){return external_kolibriCoreAppGlobal_default()}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),KolibriModule}();function kolibri_app_typeof(o){return kolibri_app_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kolibri_app_typeof(o)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=kolibri_app_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function kolibri_app_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,kolibri_app_toPropertyKey(descriptor.key),descriptor)}}function kolibri_app_toPropertyKey(t){var i=function(t,r){if("object"!=kolibri_app_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=kolibri_app_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==kolibri_app_typeof(i)?i:String(i)}function _callSuper(_this,derived,args){return derived=_getPrototypeOf(derived),function(self,call){if(call&&("object"===kolibri_app_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/core/assets/src/kolibri_app.js");var KolibriApp=function(_KolibriModule){function KolibriApp(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,KolibriApp),_callSuper(this,KolibriApp,arguments)}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(KolibriApp,_KolibriModule),Constructor=KolibriApp,(protoProps=[{key:"routes",get:function(){return[]}},{key:"RootVue",get:function(){return{}}},{key:"store",get:function(){return external_kolibriCoreAppGlobal_coreVue_vuex_store_default()}},{key:"stateSetters",get:function(){return[]}},{key:"pluginModule",get:function(){return{}}},{key:"setupVue",value:function(){if(external_kolibriCoreAppGlobal_coreVue_router_default()._vueRouter||external_kolibriCoreAppGlobal_coreVue_router_default().initRouter(),(0,vuex_router_sync.Z)(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),external_kolibriCoreAppGlobal_coreVue_router_default()),this.store.hotUpdate({actions:this.pluginModule.actions||{},getters:this.pluginModule.getters||{},mutations:this.pluginModule.mutations||{}}),"function"!=typeof this.pluginModule.state)throw TypeError("pluginModule.state must be a function returning a state object");this.store.replaceState(_objectSpread(_objectSpread({},this.store.state),this.pluginModule.state())),forEach_default()(this.pluginModule.modules,(function(module,name){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().registerModule(name,module)}))}},{key:"startRootVue",value:function(){this.rootvue=new(external_kolibriCoreAppGlobal_lib_vue_default())(Object.assign({el:"rootvue",store:external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),router:external_kolibriCoreAppGlobal_coreVue_router_default().initRoutes(this.routes)},this.RootVue))}},{key:"ready",value:function(){var _this2=this;return this.setupVue(),external_kolibriCoreAppGlobal_heartbeat_default().startPolling().then((function(){return _this2.store.dispatch("getNotifications"),Promise.all(_toConsumableArray(_this2.stateSetters.map((function(setter){return setter(_this2.store)})))).then((function(){_this2.startRootVue()}))}))}}])&&kolibri_app_defineProperties(Constructor.prototype,protoProps),staticProps&&kolibri_app_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),KolibriApp}(KolibriModule),render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("NotificationsRoot",{attrs:{authorized:this.userIsAuthorized,authorizedRole:"registeredUser"}},[_c("router-view",{attrs:{loading:this.loading}})],1)};render._withStripped=!0;var _plugin_data$studioDe,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject=kolibriCoreAppGlobal.lib.vuex,external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_namespaceObject=kolibriCoreAppGlobal.coreVue.components.NotificationsRoot,external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_namespaceObject),plugin_data_src=(__webpack_require__.g.kolibriPluginDataGlobal||{})["kolibri.plugins.learn.app"]||{};function constants_typeof(o){return constants_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},constants_typeof(o)}function constants_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=constants_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=constants_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==constants_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var constants_PageNames={ROOT:"ROOT",HOME:"HOME",TOPICS_TOPIC:"TOPICS_TOPIC",TOPICS_TOPIC_SEARCH:"TOPICS_TOPIC_SEARCH",TOPICS_CONTENT:"TOPICS_CONTENT",LIBRARY:"LIBRARY",CONTENT_UNAVAILABLE:"CONTENT_UNAVAILABLE",EXAM_LIST:"EXAM_LIST",EXAM:"EXAM",EXAM_ROOT:"EXAM_ROOT",BOOKMARKS:"BOOKMARKS",EXPLORE_LIBRARIES:"EXPLORE_LIBRARIES"},ExternalPagePaths=constants_defineProperty({},"MY_DOWNLOADS","/my-downloads"),constants_ClassesPageNames={ALL_CLASSES:"ALL_CLASSES",CLASS_ASSIGNMENTS:"CLASS_ASSIGNMENTS",LESSON_PLAYLIST:"LESSON_PLAYLIST",CLASS_LEARNERS_LIST_VIEWER:"CLASS_LEARNERS_LIST_VIEWER",EXAM_VIEWER:"EXAM_VIEWER",EXAM_REPORT_VIEWER:"EXAM_REPORT_VIEWER"},pageNameToModuleMap=constants_defineProperty(constants_defineProperty(constants_defineProperty(constants_defineProperty(constants_defineProperty({},constants_ClassesPageNames.ALL_CLASSES,"classes"),constants_ClassesPageNames.CLASS_ASSIGNMENTS,"classAssignments"),constants_ClassesPageNames.EXAM_VIEWER,"examViewer"),constants_ClassesPageNames.EXAM_REPORT_VIEWER,"examReportViewer"),constants_ClassesPageNames.LESSON_PLAYLIST,"lessonPlaylist"),KolibriStudioId=null===(_plugin_data$studioDe=plugin_data_src.studioDevice)||void 0===_plugin_data$studioDe?void 0:_plugin_data$studioDe.instance_id;function LearnIndexvue_type_script_lang_js_typeof(o){return LearnIndexvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LearnIndexvue_type_script_lang_js_typeof(o)}function LearnIndexvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LearnIndexvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LearnIndexvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){LearnIndexvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LearnIndexvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function LearnIndexvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=LearnIndexvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LearnIndexvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==LearnIndexvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function normalizeComponent(scriptExports,render,staticRenderFns,functionalTemplate,injectStyles,scopeId,moduleIdentifier,shadowMode){var hook,options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(render&&(options.render=render,options.staticRenderFns=staticRenderFns,options._compiled=!0),functionalTemplate&&(options.functional=!0),scopeId&&(options._scopeId="data-v-"+scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),injectStyles&&injectStyles.call(this,context),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):injectStyles&&(hook=shadowMode?function(){injectStyles.call(this,(options.functional?this.parent:this).$root.$options.shadowRoot)}:injectStyles),hook)if(options.functional){options._injectStyles=hook;var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return{exports:scriptExports,options:options}}var _vue,LearnIndex=normalizeComponent({name:"LearnIndex",components:{NotificationsRoot:external_kolibriCoreAppGlobal_coreVue_components_NotificationsRoot_default()},computed:LearnIndexvue_type_script_lang_js_objectSpread(LearnIndexvue_type_script_lang_js_objectSpread(LearnIndexvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isUserLoggedIn"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({loading:function(state){return state.core.loading}})),{},{userIsAuthorized:function(){return this.pageName===constants_PageNames.BOOKMARKS?this.isUserLoggedIn:plugin_data_src.allowGuestAccess&&this.$store.getters.allowAccess||this.isUserLoggedIn}}),methods:{}},render,[],!1,null,"a5f37acc",null).exports,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject=kolibriCoreAppGlobal.lib.vueCompositionApi,external_kolibriCoreAppGlobal_lib_vueCompositionApi_default=__webpack_require__.n(external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject);(_vue=(_vue=external_kolibriCoreAppGlobal_lib_vue_default())||external_kolibriCoreAppGlobal_lib_vue_default())&&!_vue.__composition_api_installed__&&external_kolibriCoreAppGlobal_lib_vue_default().use(external_kolibriCoreAppGlobal_lib_vueCompositionApi_default());var index_esm_isVue2=!0;external_kolibriCoreAppGlobal_lib_vue_default().version;var _a;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var shared_isClient="undefined"!=typeof window;Object.prototype.toString,shared_isClient&&(null==(_a=null==window?void 0:window.navigator)?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function shared_resolveUnref(r){return"function"==typeof r?r():(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.unref)(r)}function shared_tryOnScopeDispose(fn){return!!(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentScope)()&&((0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onScopeDispose)(fn),!0)}function shared_get(obj,key){return null==key?(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.unref)(obj):(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.unref)(obj)[key]}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function set(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];if(2===args.length){var _ref3=args[0],value=args[1];_ref3.value=value}if(3===args.length)if(index_esm_isVue2)external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.set.apply(void 0,args);else{var target=args[0],key=args[1],_value2=args[2];target[key]=_value2}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function shared_useTimeoutFn(cb,interval){var _options$immediate5=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).immediate,immediate=void 0===_options$immediate5||_options$immediate5,isPending=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),timer=null;function clear(){timer&&(clearTimeout(timer),timer=null)}function stop(){isPending.value=!1,clear()}function start(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];clear(),isPending.value=!0,timer=setTimeout((function(){isPending.value=!1,timer=null,cb.apply(void 0,args)}),shared_resolveUnref(interval))}return immediate&&(isPending.value=!0,shared_isClient&&start()),shared_tryOnScopeDispose(stop),{isPending:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.readonly)(isPending),start:start,stop:stop}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var external_kolibriCoreAppGlobal_coreVue_composables_useUser_namespaceObject=kolibriCoreAppGlobal.coreVue.composables.useUser,external_kolibriCoreAppGlobal_coreVue_composables_useUser_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_composables_useUser_namespaceObject),pickBy=__webpack_require__(3550),pickBy_default=__webpack_require__.n(pickBy),external_kolibriCoreAppGlobal_resources_namespaceObject=kolibriCoreAppGlobal.resources;function useChannels_typeof(o){return useChannels_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useChannels_typeof(o)}function useChannels_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return useChannels_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useChannels_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useChannels_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useChannels_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function useChannels_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=useChannels_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useChannels_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==useChannels_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var channelsMap=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.reactive)({}),localChannelsCache=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)([]);function fetchChannels(params){return params=pickBy_default()(params||{}),external_kolibriCoreAppGlobal_resources_namespaceObject.ChannelResource.list(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useChannels_ownKeys(Object(t),!0).forEach((function(r){useChannels_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useChannels_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({available:!0},params)).then((function(channels){var _step,_iterator=useChannels_createForOfIteratorHelper(channels);try{for(_iterator.s();!(_step=_iterator.n()).done;){var channel=_step.value;set(channelsMap,channel.id,channel)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return 0===Object.keys(params).length&&set(localChannelsCache,channels),channels}))}function getChannelThumbnail(channelId){var channel=shared_get(channelsMap)[channelId];return channel?channel.thumbnail:""}function getChannelTitle(channelId){var channel=shared_get(channelsMap)[channelId];return channel?channel.name:""}function useChannels(){return{channelsMap:channelsMap,localChannelsCache:localChannelsCache,fetchChannels:fetchChannels,getChannelThumbnail:getChannelThumbnail,getChannelTitle:getChannelTitle}}var LibraryPagevue_type_template_id_6bad738b_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{style:{maxWidth:"1700px"}},[_c("transition",{attrs:{name:"delay-entry"}},[_vm.rootNodesLoading||_vm.searchLoading||!_vm.welcomeModalVisible?_vm.usingMeteredConnection?_c("MeteredConnectionNotificationModal",{on:{update:function(value){return _vm.allowDownloadOnMeteredConnection=value}}}):_vm._e():_c("PostSetupModalGroup",{attrs:{isOnMyOwnUser:""},on:{cancel:_vm.hideWelcomeModal}})],1),_c("LearnAppBarPage",{attrs:{appBarTitle:_vm.appBarTitle,loading:_vm.rootNodesLoading,appearanceOverrides:{},deviceId:_vm.deviceId,route:_vm.back}},[_c("main",{staticClass:"main-grid",style:_vm.gridOffset},[_vm.windowIsLarge||_vm.isLocalLibraryEmpty&&!_vm.deviceId?_vm._e():_c("div",[_c("KButton",{staticClass:"filter-button",attrs:{icon:"filter","data-test":"filter-button",text:_vm.coreString("filter"),primary:!1},on:{click:_vm.toggleSidePanelVisibility}})],1),_vm.rootNodesLoading||_vm.searchLoading?_c("KCircularLoader",{staticClass:"loader",attrs:{type:"indeterminate",delay:!1}}):_vm.displayingSearchResults||_vm.rootNodesLoading?_vm.displayingSearchResults?_c("SearchResultsGrid",{attrs:{"data-test":"search-results",allowDownloads:_vm.allowDownloads,results:_vm.results,removeFilterTag:_vm.removeFilterTag,clearSearch:_vm.clearSearch,moreLoading:_vm.moreLoading,searchMore:_vm.searchMore,currentCardViewStyle:_vm.currentCardViewStyle,searchTerms:_vm.searchTerms,searchLoading:_vm.searchLoading,more:_vm.more},on:{setCardStyle:function(style){return _vm.currentCardViewStyle=style},setSidePanelMetadataContent:function(content){return _vm.metadataSidePanelContent=content}}}):_vm._e():_c("div",{attrs:{"data-test":"channels"}},[_c("h1",{staticClass:"channels-label"},[_vm._v("\n          "+_vm._s(_vm.channelsLabel)+"\n        ")]),_vm.isLocalLibraryEmpty?_c("p",{staticClass:"nothing-in-lib-label",attrs:{"data-test":"nothing-in-lib-label"}},[_vm._v("\n          "+_vm._s(_vm.coreString("nothingInLibraryLearner"))+"\n        ")]):_vm._e(),_vm.isLocalLibraryEmpty?_vm._e():_c("ChannelCardGroupGrid",{staticClass:"grid",attrs:{"data-test":"channel-cards",contents:_vm.rootNodes,deviceId:_vm.deviceId}}),_vm.deviceId?_vm._e():_c("ResumableContentGrid",{attrs:{"data-test":"resumable-content",currentCardViewStyle:_vm.currentCardViewStyle},on:{setCardStyle:function(style){return _vm.currentCardViewStyle=style},setSidePanelMetadataContent:function(content){return _vm.metadataSidePanelContent=content}}}),_vm.showOtherLibraries?_c("OtherLibraries",{attrs:{"data-test":"other-libraries",injectedtr:_vm.injecttr}}):_vm._e()],1)],1),_vm.isLocalLibraryEmpty&&!_vm.deviceId||!_vm.windowIsLarge&&!_vm.mobileSidePanelIsOpen?_vm._e():_c("SearchFiltersPanel",{ref:"sidePanel",attrs:{"data-test":"side-panel",width:_vm.sidePanelWidth+"px"},on:{close:_vm.toggleSidePanelVisibility},model:{value:_vm.searchTerms,callback:function($$v){_vm.searchTerms=$$v},expression:"searchTerms"}}),_vm.metadataSidePanelContent?_c("SidePanelModal",{attrs:{"data-test":"side-panel-modal",alignment:"right"},on:{closePanel:function($event){_vm.metadataSidePanelContent=null},shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([_vm.metadataSidePanelContent.learning_activities.length?{key:"header",fn:function(){return _vm._l(_vm.metadataSidePanelContent.learning_activities,(function(activity){return _c("div",{key:activity,staticClass:"side-panel-chips",class:_vm.$computedClass({"::after":{content:"",flex:"auto"}})},[_c("LearningActivityChip",{staticClass:"chip",staticStyle:{"margin-left":"8px","margin-bottom":"8px"},attrs:{kind:activity}})],1)}))},proxy:!0}:null],null,!0)},[_c("BrowseResourceMetadata",{ref:"resourcePanel",attrs:{content:_vm.metadataSidePanelContent,showLocationsInChannel:!0,canDownloadExternally:_vm.canDownloadExternally&&!_vm.deviceId}})],1):_vm._e()],1)],1)};LibraryPagevue_type_template_id_6bad738b_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.commonCoreStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_namespaceObject),external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_namespaceObject=kolibriCoreAppGlobal.coreVue.composables.useKResponsiveWindow,external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_namespaceObject),external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_namespaceObject=kolibriCoreAppGlobal.utils.samePageCheckGenerator,external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_namespaceObject),MeteredConnectionNotificationModalvue_type_template_id_3050d05d_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.displayMeteredConnectionWarning?_c("KModal",{attrs:{title:_vm.$tr("modalTitle"),submitText:_vm.coreString("continueAction"),submitDisabled:_vm.loading},on:{submit:_vm.submit}},[_c("div",[_c("p",[_vm._v(_vm._s(_vm.$tr("modalDescription")))]),_c("KRadioButton",{staticClass:"radio-button",attrs:{label:_vm.$tr("doNotUseMetered"),value:_vm.Options.DO_NOT_USE_METERED,disabled:_vm.loading},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}}),_c("KRadioButton",{staticClass:"radio-button",attrs:{label:_vm.$tr("useMetered"),value:_vm.Options.USE_METERED,disabled:_vm.loading},model:{value:_vm.selected,callback:function($$v){_vm.selected=$$v},expression:"selected"}})],1)]):_vm._e()};MeteredConnectionNotificationModalvue_type_template_id_3050d05d_render._withStripped=!0;var external_kolibriCoreAppGlobal_client_namespaceObject=kolibriCoreAppGlobal.client,external_kolibriCoreAppGlobal_client_default=__webpack_require__.n(external_kolibriCoreAppGlobal_client_namespaceObject),external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject=kolibriCoreAppGlobal.utils.appCapabilities,external_kolibriCoreAppGlobal_utils_appCapabilities_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject);function MeteredConnectionNotificationModalvue_type_script_lang_js_typeof(o){return MeteredConnectionNotificationModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},MeteredConnectionNotificationModalvue_type_script_lang_js_typeof(o)}function MeteredConnectionNotificationModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function MeteredConnectionNotificationModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?MeteredConnectionNotificationModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){MeteredConnectionNotificationModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):MeteredConnectionNotificationModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function MeteredConnectionNotificationModalvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=MeteredConnectionNotificationModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=MeteredConnectionNotificationModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==MeteredConnectionNotificationModalvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var MeteredConnectionNotificationModalvue_type_script_lang_js_logging=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("packages/kolibri-common/components/MeteredConnectionNotificationModal.vue?vue&type=script&lang=js"),Options=Object.freeze({DO_NOT_USE_METERED:"DO_NOT_USE_METERED",USE_METERED:"USE_METERED"}),MeteredConnectionNotificationModal=normalizeComponent({name:"MeteredConnectionNotificationModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],data:function(){return{Options:Options,selected:Options.DO_NOT_USE_METERED,loading:!1,activeConnectionIsMetered:!1,extra_settings:{},dismissed:Boolean(window.sessionStorage.getItem("METERED_NETWORK_MODAL_DISMISSED"))}},computed:MeteredConnectionNotificationModalvue_type_script_lang_js_objectSpread(MeteredConnectionNotificationModalvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isSuperuser"])),{},{displayMeteredConnectionWarning:function(){return this.originalSettingDisallows&&this.activeConnectionIsMetered&&this.isSuperuser&&!this.dismissed},settingsUrl:function(){return external_kolibriCoreAppGlobal_urls_default()["kolibri:core:devicesettings"]()},originalSettingDisallows:function(){return!this.extra_settings.allow_download_on_metered_connection}}),mounted:function(){var _this=this;(0,external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject.checkCapability)("check_is_metered")&&(this.loading=!0,external_kolibriCoreAppGlobal_utils_appCapabilities_default().checkIsMetered().then((function(isMetered){_this.activeConnectionIsMetered=isMetered,external_kolibriCoreAppGlobal_client_default()({method:"GET",url:_this.settingsUrl}).then((function(_ref){var data=_ref.data;MeteredConnectionNotificationModalvue_type_script_lang_js_logging.log("mounted",isMetered),MeteredConnectionNotificationModalvue_type_script_lang_js_logging.log(data),_this.extra_settings=data.extra_settings,_this.selected=_this.extra_settings.allow_download_on_metered_connection?Options.USE_METERED:Options.DO_NOT_USE_METERED})).catch((function(e){MeteredConnectionNotificationModalvue_type_script_lang_js_logging.error(e)})).finally((function(){return _this.loading=!1}))})))},methods:{submit:function(){var _this2=this;this.$emit("submit",this.selected);var allow_download_on_metered_connection=this.selected===Options.USE_METERED,extra_settings=MeteredConnectionNotificationModalvue_type_script_lang_js_objectSpread(MeteredConnectionNotificationModalvue_type_script_lang_js_objectSpread({},this.extra_settings),{},{allow_download_on_metered_connection:allow_download_on_metered_connection});this.loading=!0,external_kolibriCoreAppGlobal_client_default()({method:"PATCH",url:this.settingsUrl,data:{extra_settings:extra_settings}}).then((function(){_this2.$emit("update",allow_download_on_metered_connection),window.sessionStorage.setItem("METERED_NETWORK_MODAL_DISMISSED",!0),_this2.dismissed=!0})).catch((function(e){MeteredConnectionNotificationModalvue_type_script_lang_js_logging.error(e)})).finally((function(){return _this2.loading=!1}))}},$trs:{modalTitle:{message:"Use mobile data?",context:"Title of a modal that permits a user to continue with or without using a mobile data connection"},modalDescription:{message:"You may have a limited amount of data on your mobile plan. Allowing Kolibri to download resources via mobile data may use up your entire plan and/or incur extra charges.",context:"Information in a modal informing a user about their connection status."},doNotUseMetered:{message:"Do not allow Kolibri to use mobile data",context:"An option that a user can select in a form"},useMetered:{message:"Allow Kolibri to use mobile data",context:"An option that a user can select in a form"}}},MeteredConnectionNotificationModalvue_type_template_id_3050d05d_render,[],!1,null,null,null).exports,SidePanelModalvue_type_template_id_60ada975_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"sidePanel",class:{"is-rtl":_vm.isRtl,"is-mobile":_vm.isMobile},attrs:{tabindex:0},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:_vm.closePanel.apply(null,arguments)}}},[_c("transition",{attrs:{name:"side-panel"}},[_c("FocusTrap",{on:{shouldFocusFirstEl:function($event){return _vm.$emit("shouldFocusFirstEl")},shouldFocusLastEl:_vm.focusLastEl}},[_c("section",{staticClass:"side-panel",style:_vm.sidePanelStyles,attrs:{role:"region","aria-label":_vm.ariaLabel}},[_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.$slots.header,expression:"$slots.header"}],ref:"fixedHeader",staticClass:"fixed-header",style:_vm.fixedHeaderStyles},[_c("div",{staticClass:"header-content"},[_vm._t("header")],2)]),_vm.closeButtonIconType?_c("KIconButton",{staticClass:"close-button",style:_vm.closeButtonStyle,attrs:{icon:_vm.closeButtonIconType,ariaLabel:_vm.coreString("closeAction"),tooltip:_vm.coreString("closeAction")},on:{click:_vm.closePanel}}):_vm._e(),_c("div",{staticClass:"side-panel-content",style:_vm.contentStyles},[_vm._t("default")],2)],1)])],1),_c("Backdrop",{staticClass:"backdrop",attrs:{transitions:!0},on:{click:_vm.closePanel}})],1)};SidePanelModalvue_type_template_id_60ada975_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_Backdrop_namespaceObject=kolibriCoreAppGlobal.coreVue.components.Backdrop,external_kolibriCoreAppGlobal_coreVue_components_Backdrop_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_Backdrop_namespaceObject),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.responsiveWindowMixin,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_FocusTrap_namespaceObject=kolibriCoreAppGlobal.coreVue.components.FocusTrap,external_kolibriCoreAppGlobal_coreVue_components_FocusTrap_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_FocusTrap_namespaceObject),external_kolibriCoreAppGlobal_utils_i18n_namespaceObject=kolibriCoreAppGlobal.utils.i18n,learnStrings=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("CommonLearnStrings",{learnLabel:{message:"Learn",context:"Each time a learner signs in to Kolibri, the first thing they see is the  'Learn' page with the list of all the classes they are enrolled to."},resumeLabel:{message:"Resume",context:"Label for links that go to content that has been started and can be resumed"},classesAndAssignmentsLabel:{message:"Classes and assignments",context:"Label for links that go to class or lesson content"},channelAndFoldersLabel:{message:"Channel and folders",context:"Label for links that go to the main channel or its subfolders"},filterAndSearchLabel:{message:"Filter and search",context:"Label for a section of the page that contains options for searching and filtering content"},mostPopularLabel:{message:"Most popular",context:"Label for links that go to the most popular content"},popularLabel:{message:"Popular",context:"Label for links that go to the most popular content."},nextStepsLabel:{message:"Next steps",context:"Label for links that go to post-requisites for content that has been completed."},exploreResources:{message:"Explore resources",context:"Heading in the 'Learn' section where users can view learning resources.\n"},logo:{message:"From the channel {channelTitle}",context:"Added to create a complete alt-text description of a logo on a content card to indicate to the user what channel the resource belongs to. For example: From the channel Khan Academy - English"},resourceCompletedLabel:{message:"Resource completed",context:"Message when the user successfully finishes a resource or marks a resource as complete"},dontShowThisAgainLabel:{message:"Don't show this again",context:"Option that allows the user to prevent this resource from displaying in the future while using category search"},markResourceAsCompleteLabel:{message:"Mark resource as complete",context:"Title of the modal window where a user will confirm or cancel marking a resource as complete manually."},multipleLearningActivities:{message:"Multiple learning activities",context:"Label indicating the resource contains several different learning activities."},suggestedTime:{message:"Suggested time",context:"Time suggested by coach for how long an independent practice quiz should take"},exploreLibraries:{message:"Explore libraries",context:"Title for Explore Libraries page"},kolibriLibrary:{message:"Kolibri Library",context:"Title for Kolibri Libraries"},author:{message:"Author",context:'Indicates who is the author of that specific learning resource. For example, "Author: Learning Equality".'},license:{message:"License",context:'Indicates the type of license of that specific learning resource. For example, "License: CC BY-NC-ND".\n'},toggleLicenseDescription:{message:"Toggle license description",context:"Describes the arrow which a learner can select to view more information about the type of license that a resource has."},copyrightHolder:{message:"Copyright holder",context:'Indicates who holds the copyright of that specific learning resource. For example, "Copyright holder: Ubongo Media".'},estimatedTime:{message:"Estimated time",context:"Refers to the expected time it will take the learner to complete a resource."},documentTitle:{message:"{ contentTitle } - { channelTitle }",context:"DO NOT TRANSLATE\nCopy the source string."},shareFile:{message:"Share",context:"Option to share a specific file from a learning resource."},locationsInChannel:{message:"Location in {channelname}",context:"When there are multiple instances of the same resource, learner can see their 'locations' (positions in the respective folders of the channel) at the bottom of the sidebar with all the metadata, when they select the resource in the Kolibri Library."},viewResource:{message:"View resource",context:"Refers to a button where the user can view all the details for a resource."},showLess:{message:"Show less",context:""},whatYouWillNeed:{message:"What you will need",context:""},moreLibraries:{message:"More",context:"Title section containing unpinned devices"},loadingLibraries:{message:"Loading Kolibri libraries around you",context:""},cannotConnectToLibrary:{message:"Kolibri cannot connect to the library on {deviceName}. Your network connection may be unstable, or {deviceName} is no longer available.",context:""},backToAllLibraries:{message:"Go back to all libraries",context:""}});var commonLearnStrings={methods:{learnString:function(key,args){return learnStrings.$tr(key,args)}}};function SidePanelModalvue_type_script_lang_js_typeof(o){return SidePanelModalvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SidePanelModalvue_type_script_lang_js_typeof(o)}function SidePanelModalvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SidePanelModalvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SidePanelModalvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){SidePanelModalvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SidePanelModalvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function SidePanelModalvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=SidePanelModalvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SidePanelModalvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==SidePanelModalvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SidePanelModal=normalizeComponent({name:"SidePanelModal",components:{Backdrop:external_kolibriCoreAppGlobal_coreVue_components_Backdrop_default(),FocusTrap:external_kolibriCoreAppGlobal_coreVue_components_FocusTrap_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],props:{closeButtonIconType:{type:String,required:!1,default:"close",validator:function(value){return["close","back"].includes(value)}},sidePanelWidth:{type:String,required:!1,default:"436px"},alignment:{type:String,required:!0,validator:function(value){return["right","left"].includes(value)}},ariaLabel:{type:String,required:!1,default:null}},data:function(){return{fixedHeaderHeight:"0px",lastFocus:null}},computed:{isMobile:function(){return 0==this.windowBreakpoint},rtlAlignment:function(){return this.isRtl&&"left"===this.alignment?"right":this.isRtl&&"right"===this.alignment?"left":this.alignment},langDirStyles:function(){return SidePanelModalvue_type_script_lang_js_defineProperty({},this.rtlAlignment,0)},responsiveWidth:function(){return this.isMobile?"100vw":this.sidePanelWidth},fixedHeaderStyles:function(){return SidePanelModalvue_type_script_lang_js_objectSpread(SidePanelModalvue_type_script_lang_js_objectSpread({},this.langDirStyles),{},{width:this.responsiveWidth,minHeight:"60px",position:"fixed",top:0,backgroundColor:this.$themeTokens.surface,"border-bottom":"1px solid ".concat(this.$themePalette.grey.v_500),padding:"24px 32px","z-index":16})},sidePanelStyles:function(){return SidePanelModalvue_type_script_lang_js_objectSpread(SidePanelModalvue_type_script_lang_js_objectSpread({},this.langDirStyles),{},{width:this.responsiveWidth,top:0,position:"fixed",color:this.$themeTokens.text,backgroundColor:this.$themeTokens.surface,"z-index":12})},closeButtonStyle:function(){return this.isRtl?"close"===this.closeButtonIconType?{position:"absolute",top:"16px",left:"16px","z-index":"24"}:{position:"absolute",top:"16px",right:"24px","z-index":"24"}:"back"===this.closeButtonIconType?{position:"absolute",top:"16px",left:"16px","z-index":"24"}:{position:"absolute",top:"16px",right:"24px","z-index":"24"}},contentStyles:function(){return{"margin-top":"0px"===this.fixedHeaderHeight?"24px":this.fixedHeaderHeight,padding:"24px 32px 16px","overflow-y":"scroll","overflow-x":"hidden",height:"calc(100vh - ".concat(this.fixedHeaderHeight,")")}}},beforeMount:function(){this.lastFocus=document.activeElement},mounted:function(){var _this=this;window.document.getElementsByTagName("html")[0].style["overflow-y"]="hidden",this.fixedHeaderHeight="".concat(this.$refs.fixedHeader.clientHeight,"px"),this.$nextTick((function(){_this.$emit("shouldFocusFirstEl")}))},beforeDestroy:function(){window.document.getElementsByTagName("html")[0].style["overflow-y"]="auto"},destroyed:function(){var _this2=this;window.setTimeout((function(){return _this2.lastFocus.focus()}))},methods:{closePanel:function(){this.$emit("closePanel")},focusLastEl:function(){this.$el.querySelector(".close-button").focus()},focusFirstEl:function(){this.$el.querySelector(".close-button").focus()}},$trs:{topicHeader:{message:"Also in this folder",context:"Title of the panel with all topic contents. "}}},SidePanelModalvue_type_template_id_60ada975_scoped_true_render,[],!1,null,"60ada975",null).exports,SearchFiltersPanelvue_type_template_id_9f266606_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c(_vm.windowIsLarge?"section":"SidePanelModal",{tag:"component",class:_vm.windowIsLarge?"side-panel":"",style:_vm.windowIsLarge?{color:_vm.$themeTokens.text,backgroundColor:_vm.$themeTokens.surface,width:_vm.width}:{},attrs:{alignment:"left",role:"region",closeButtonIconType:_vm.closeButtonIcon,"aria-label":_vm.learnString("filterAndSearchLabel"),ariaLabel:_vm.learnString("filterAndSearchLabel")},on:{closePanel:function($event){_vm.currentCategory?_vm.currentCategory=null:_vm.$emit("close")},shouldFocusFirstEl:function($event){return _vm.focusFirstEl()}}},[_vm.windowIsLarge||!_vm.currentCategory?_c("div",{class:_vm.windowIsLarge?"":"drawer-panel"},[_c("h2",{staticClass:"title"},[_vm._v("\n      "+_vm._s(_vm.$tr("keywords"))+"\n    ")]),_c("SearchBox",{key:"channel-search",ref:"searchBox",attrs:{placeholder:"findSomethingToLearn",value:_vm.value.keywords||""},on:{change:function(val){return _vm.$emit("input",Object.assign({},_vm.value,{keywords:val}))}}}),Object.keys(_vm.availableLibraryCategories).length?_c("div",[_c("h2",{staticClass:"section title"},[_vm._v("\n        "+_vm._s(_vm.$tr("categories"))+"\n      ")]),_vm._l(_vm.availableLibraryCategories,(function(category,key){return _c("div",{key:key,staticClass:"category-list-item",attrs:{span:"4"}},[_c("KButton",{attrs:{text:_vm.coreString(category.value),appearance:"flat-button",appearanceOverrides:_vm.isCategoryActive(category.value)?Object.assign({},_vm.categoryListItemStyles,_vm.categoryListItemActiveStyles):_vm.categoryListItemStyles,disabled:_vm.availableRootCategories&&!_vm.availableRootCategories[category.value]&&!_vm.isCategoryActive(category.value),iconAfter:_vm.hasNestedCategories(key)?"chevronRight":null},on:{click:function($event){return _vm.handleCategory(key)}}})],1)})),_c("div",{staticClass:"category-list-item",attrs:{span:"4"}},[_c("KButton",{attrs:{text:_vm.coreString("uncategorized"),appearance:"flat-button",appearanceOverrides:_vm.isCategoryActive("no_categories")?Object.assign({},_vm.categoryListItemStyles,_vm.categoryListItemActiveStyles):_vm.categoryListItemStyles},on:{click:_vm.noCategories}})],1)],2):_vm._e(),_c("ActivityButtonsGroup",{staticClass:"section",on:{input:_vm.handleActivity}}),_c("SelectGroup",{staticClass:"section",attrs:{showChannels:_vm.showChannels},model:{value:_vm.inputValue,callback:function($$v){_vm.inputValue=$$v},expression:"inputValue"}}),Object.keys(_vm.availableResourcesNeeded).length?_c("div",{staticClass:"section"},[_c("h2",{staticClass:"title"},[_vm._v("\n        "+_vm._s(_vm.coreString("showResources"))+"\n      ")]),_vm._l(_vm.availableResourcesNeeded,(function(val,activity){return _c("div",{key:activity,attrs:{span:"4",alignment:"center"}},[_c("KCheckbox",{attrs:{checked:_vm.value.learner_needs[val],label:_vm.coreString(activity),disabled:_vm.availableNeeds&&!_vm.availableNeeds[val]},on:{change:function($event){return _vm.handleNeed(val)}}})],1)}))],2):_vm._e()],1):_vm._e(),_vm.currentCategory?_c("CategorySearchModal",{ref:"searchModal",class:_vm.windowIsLarge?"":"drawer-panel",attrs:{selectedCategory:_vm.currentCategory},on:{cancel:function($event){_vm.currentCategory=null},input:_vm.selectCategory}}):_vm._e()],1)};SearchFiltersPanelvue_type_template_id_9f266606_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject=kolibriCoreAppGlobal.coreVue.vuex.constants,SearchBoxvue_type_template_id_707e909e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("form",{staticClass:"search-box",on:{submit:function($event){return $event.preventDefault(),_vm.updateSearchQuery.apply(null,arguments)},keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:($event.preventDefault(),_vm.handleEscKey.apply(null,arguments))}}},[_c("div",{staticClass:"search-box-row",style:{backgroundColor:_vm.$themeTokens.surface,borderColor:_vm.$themePalette.grey.v_300,fontSize:"16px"}},[_c("label",{staticClass:"visuallyhidden",attrs:{for:"searchfield"}},[_vm._v(_vm._s(_vm.coreString("searchLabel")))]),_c("input",{directives:[{name:"model",rawName:"v-model.trim",value:_vm.newSearchTerm,expression:"newSearchTerm",modifiers:{trim:!0}}],ref:"searchInput",staticClass:"search-input",class:_vm.$computedClass(_vm.searchInputStyle),attrs:{id:_vm.id,type:"search",dir:"auto",placeholder:_vm.coreString(_vm.placeholder)},domProps:{value:_vm.newSearchTerm},on:{input:function($event){$event.target.composing||(_vm.newSearchTerm=$event.target.value.trim())},blur:function($event){return _vm.$forceUpdate()}}}),_c("div",{staticClass:"search-buttons-wrapper"},[_c("KIconButton",{staticClass:"search-clear-button",class:""===_vm.searchInputValue?"":"search-clear-button-visible",attrs:{icon:"clear",color:_vm.$themeTokens.text,size:"small",ariaLabel:_vm.coreString("clearAction")},on:{click:_vm.handleClickClear}}),_c("KButton",{attrs:{disabled:_vm.searchBarDisabled,primary:!0,appearanceOverrides:{minWidth:"36px",padding:0},"aria-label":_vm.coreString("startSearchButtonLabel"),type:"submit"},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("KIcon",{style:{width:"24px",height:"24px",top:"7px"},attrs:{icon:_vm.icon,color:_vm.$themeTokens.textInverted}})]},proxy:!0}])})],1)])])};SearchBoxvue_type_template_id_707e909e_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_mixins_responsiveElementMixin_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.responsiveElementMixin,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveElementMixin_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_responsiveElementMixin_namespaceObject),SearchBox=normalizeComponent({name:"SearchBox",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveElementMixin_default()],props:{icon:{type:String,default:"search",validator:function(val){return["search","forward"].includes(val)}},id:{type:String,default:"searchfield"},placeholder:{type:String,default:"searchLabel"},value:{type:String,default:null}},data:function(){return{searchInputValue:""}},computed:{newSearchTerm:{get:function(){return null===this.searchInputValue?this.currentSearchTerm:this.searchInputValue},set:function(value){this.searchInputValue=value||""}},currentSearchTerm:function(){return null!==this.value?this.value:this.$route.query.keywords},searchBarDisabled:function(){return""===this.searchInputValue},searchInputStyle:function(){return{"::placeholder":{color:this.$themeTokens.annotation},color:this.$themeTokens.text,textAlign:this.isRtl?"right":""}}},watch:{value:function(current){this.searchInputValue=current||""}},created:function(){this.searchInputValue=this.value},methods:{focusSearchBox:function(){this.$refs.searchInput.focus()},clearInput:function(){this.searchInputValue="",this.updateSearchQuery()},handleEscKey:function(){""===this.searchInputValue?this.$emit("closeDropdownSearchBox"):this.clearInput()},handleClickClear:function(){this.clearInput(),this.$refs.searchInput.focus()},updateSearchQuery:function(){this.$emit("change",this.searchInputValue)}}},SearchBoxvue_type_template_id_707e909e_scoped_true_render,[],!1,null,"707e909e",null).exports,isEmpty=__webpack_require__(8654),isEmpty_default=__webpack_require__.n(isEmpty),pick=__webpack_require__(278),pick_default=__webpack_require__.n(pick);function _decodeBackLinkQuery(query){return query&&query.prevQuery?JSON.parse(decodeURI(query.prevQuery)):{}}function useContentLink(store){store=store||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store;var route=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return store.state.route}));function _makeNodeLink(id,isResource,query,deviceId){var params=shared_get(route).params;return{name:isResource?constants_PageNames.TOPICS_CONTENT:constants_PageNames.TOPICS_TOPIC,params:pick_default()({id:id,deviceId:deviceId||params.deviceId},["id","deviceId"]),query:query}}function _getBackLinkQuery(){var oldQuery=shared_get(route).query||{},query={prevName:shared_get(route).name};isEmpty_default()(oldQuery)||(query.prevQuery=encodeURI(JSON.stringify(oldQuery)));var params=shared_get(route).params;return isEmpty_default()(params)||(query.prevParams=encodeURI(JSON.stringify(params))),query}var back=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){var routeValue=shared_get(route);if(!routeValue)return null;var query=_decodeBackLinkQuery(routeValue.query);return{name:(routeValue.query||{}).prevName||constants_PageNames.HOME,params:routeValue.query&&routeValue.query.prevParams?JSON.parse(decodeURI(routeValue.query.prevParams)):{},query:query}}));return{genContentLinkBackLinkCurrentPage:function(id){var deviceId=arguments.length>2?arguments[2]:void 0;return route?_makeNodeLink(id,arguments.length>1&&void 0!==arguments[1]&&arguments[1],_getBackLinkQuery(),deviceId):null},genContentLinkKeepCurrentBackLink:function(id){var isResource=arguments.length>1&&void 0!==arguments[1]&&arguments[1],deviceId=arguments.length>2?arguments[2]:void 0;if(!route)return null;var oldQuery=shared_get(route).query||{};return _makeNodeLink(id,isResource,pick_default()(oldQuery,["prevName","prevQuery","prevParams"]),deviceId)},genContentLinkKeepPreviousBackLink:function(id,deviceId){if(!route)return null;var oldQuery=_decodeBackLinkQuery(shared_get(route).query);return _makeNodeLink(id,!1,pick_default()(oldQuery,["prevName","prevQuery","prevParams"]),deviceId)},genExternalContentURLBackLinkCurrentPage:function(id){var pathname=window.location.pathname,learnIndex=pathname.indexOf("/learn"),base=pathname.slice(0,learnIndex)+"/learn/#";if(!route)return base;var query=_getBackLinkQuery(),path="/topics/c/".concat(id);return"".concat(base).concat(path,"?").concat(new URLSearchParams(query))},genExternalBackURL:function(){var pathname=window.location.pathname,learnIndex=pathname.indexOf("/learn"),base=pathname.slice(0,learnIndex)+"/learn",backValue=shared_get(back);if(!backValue)return base;var query=backValue.query?"#/?".concat(new URLSearchParams(backValue.query)):"",path=ExternalPagePaths[backValue.name];return"".concat(base).concat(path).concat(query)},genLibraryPageBackLink:function(deviceId){if(!route)return null;var query=_getBackLinkQuery();return{name:constants_PageNames.LIBRARY,params:{deviceId:deviceId},query:query}},genExploreLibrariesPageBackLink:function(){if(!route)return null;var query=_getBackLinkQuery();return{name:constants_PageNames.EXPLORE_LIBRARIES,query:query}},back:back}}var invert=__webpack_require__(9087),invert_default=__webpack_require__.n(invert),groupBy=__webpack_require__(7016),groupBy_default=__webpack_require__.n(groupBy),sortBy=__webpack_require__(5207),sortBy_default=__webpack_require__.n(sortBy);function deduplicateResources(contentNodes){var grouped=groupBy_default()(contentNodes,"content_id");return Object.keys(grouped).map((function(key){var groupedNodes=grouped[key];if(1===groupedNodes.length)return groupedNodes[0];var langCode=external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage.split("-")[0],sortedNodes=sortBy_default()(groupedNodes,(function(n){return n.lang&&n.lang.id===external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.currentLanguage?0:n.lang&&n.lang.lang_code===langCode?1:2})),primaryNode=sortedNodes[0];return primaryNode.copies=sortedNodes,primaryNode}))}function core_typeof(o){return core_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},core_typeof(o)}function core_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=core_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e3){didErr=!0,err=_e3},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function core_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return core_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?core_arrayLikeToArray(o,minLen):void 0}}function core_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function core_regeneratorRuntime(){core_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==core_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(core_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function core_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function core_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){core_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){core_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}shared_isClient&&window,shared_isClient&&window.document,shared_isClient&&window.navigator,shared_isClient&&window.location;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var _global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};_global[globalKey];Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;new Map;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var SwipeDirection,SwipeDirection2;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;(SwipeDirection2=SwipeDirection||(SwipeDirection={})).UP="UP",SwipeDirection2.RIGHT="RIGHT",SwipeDirection2.DOWN="DOWN",SwipeDirection2.LEFT="LEFT",SwipeDirection2.NONE="NONE";Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function useTimeoutPoll(fn,interval,timeoutPollOptions){var start=shared_useTimeoutFn(loop,interval).start,isActive=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1);function loop(){return _loop3.apply(this,arguments)}function _loop3(){return(_loop3=core_asyncToGenerator(core_regeneratorRuntime().mark((function _callee35(){return core_regeneratorRuntime().wrap((function(_context35){for(;;)switch(_context35.prev=_context35.next){case 0:if(isActive.value){_context35.next=2;break}return _context35.abrupt("return");case 2:return _context35.next=4,fn();case 4:start();case 5:case"end":return _context35.stop()}}),_callee35)})))).apply(this,arguments)}function resume(){isActive.value||(isActive.value=!0,loop())}function pause(){isActive.value=!1}return(null==timeoutPollOptions?void 0:timeoutPollOptions.immediate)&&resume(),shared_tryOnScopeDispose(pause),{isActive:isActive,pause:pause,resume:resume}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var core_defProp=Object.defineProperty,core_getOwnPropSymbols=Object.getOwnPropertySymbols,core_hasOwnProp=Object.prototype.hasOwnProperty,core_propIsEnum=Object.prototype.propertyIsEnumerable,core_defNormalProp=function(obj,key,value){return key in obj?core_defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value};!function(a,b){for(var prop in b||(b={}))core_hasOwnProp.call(b,prop)&&core_defNormalProp(a,prop,b[prop]);if(core_getOwnPropSymbols){var _step35,_iterator35=core_createForOfIteratorHelper(core_getOwnPropSymbols(b));try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){prop=_step35.value;core_propIsEnum.call(b,prop)&&core_defNormalProp(a,prop,b[prop])}}catch(err){_iterator35.e(err)}finally{_iterator35.f()}}}({linear:function(arg){return arg}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});var external_kolibriCoreAppGlobal_coreVue_composables_useMinimumKolibriVersion_namespaceObject=kolibriCoreAppGlobal.coreVue.composables.useMinimumKolibriVersion,external_kolibriCoreAppGlobal_coreVue_composables_useMinimumKolibriVersion_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_composables_useMinimumKolibriVersion_namespaceObject);function useDevices_typeof(o){return useDevices_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useDevices_typeof(o)}function useDevices_regeneratorRuntime(){useDevices_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==useDevices_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(useDevices_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function useDevices_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=useDevices_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useDevices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function useDevices_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return useDevices_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useDevices_unsupportedIterableToArray(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useDevices_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||useDevices_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useDevices_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useDevices_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useDevices_arrayLikeToArray(o,minLen):void 0}}function useDevices_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useDevices_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function useDevices_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useDevices_ownKeys(Object(t),!0).forEach((function(r){useDevices_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useDevices_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function useDevices_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=useDevices_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useDevices_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==useDevices_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var currentDevice=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),KolibriStudioDeviceData=useDevices_objectSpread(useDevices_objectSpread({},plugin_data_src.studioDevice),{},{id:KolibriStudioId,get device_name(){return learnStrings.$tr("kolibriLibrary")}}),isMinimumKolibriVersion=external_kolibriCoreAppGlobal_coreVue_composables_useMinimumKolibriVersion_default()(0,16,0).isMinimumKolibriVersion,_useUser=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()(),isLearnerOnlyImport=_useUser.isLearnerOnlyImport,canManageContent=_useUser.canManageContent,isUserLoggedIn=_useUser.isUserLoggedIn;function canAccessStudio(){return!shared_get(isLearnerOnlyImport)&&shared_get(canManageContent)}function fetchDevices(){return Promise.all([canAccessStudio()?external_kolibriCoreAppGlobal_resources_namespaceObject.RemoteChannelResource.getKolibriStudioStatus():Promise.resolve(null),external_kolibriCoreAppGlobal_resources_namespaceObject.NetworkLocationResource.list()]).then((function(_ref){var _ref2=useDevices_slicedToArray(_ref,2),studioResponse=_ref2[0],devices=_ref2[1];if(canAccessStudio()){var studio=studioResponse.data;if(devices=devices.filter((function(device){return isMinimumKolibriVersion(device.kolibri_version)})),studio.available&&isMinimumKolibriVersion(studio.kolibri_version||"0.15.0"))return[useDevices_objectSpread(useDevices_objectSpread({},studio),KolibriStudioDeviceData)].concat(useDevices_toConsumableArray(devices))}return devices}))}var StudioNotAllowedError="Cannot access Kolibri Studio";function setCurrentDevice(id){return id===KolibriStudioId?canAccessStudio()?(set(currentDevice,KolibriStudioDeviceData),Promise.resolve(KolibriStudioDeviceData)):Promise.reject(StudioNotAllowedError):external_kolibriCoreAppGlobal_resources_namespaceObject.NetworkLocationResource.fetchModel({id:id}).then((function(device){return set(currentDevice,device),device}))}function computedDevice(routingDeviceId,callback){return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){var device=shared_get(currentDevice);if(device&&device.instance_id===shared_get(routingDeviceId))return callback(device)}))}function currentDeviceData(store){store=store||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store;var route=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return store&&store.state.route})),routingDeviceId=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){var params=shared_get(route)&&shared_get(route).params;return params&&params.deviceId}));return{instanceId:computedDevice(routingDeviceId,(function(device){return device.instance_id})),baseurl:computedDevice(routingDeviceId,(function(device){return device.base_url})),deviceName:computedDevice(routingDeviceId,(function(device){return device.device_name}))}}function useDevices(store){var fetchChannels=useChannels().fetchChannels,networkDevices=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)({}),isLoading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),_currentDeviceData=currentDeviceData(store),instanceId=_currentDeviceData.instanceId,baseurl=_currentDeviceData.baseurl,deviceName=_currentDeviceData.deviceName,deviceChannelsMap=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)({}),isLoadingChannels=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!0);function _updateDeviceChannels(device,channels){set(deviceChannelsMap,useDevices_objectSpread(useDevices_objectSpread({},shared_get(deviceChannelsMap)),{},useDevices_defineProperty({},device.instance_id,channels)))}function loadDeviceChannels(){for(var promises=[],newDeviceChannelsMap={},_loop=function(){var currentDevice=_Object$values[_i];if(shared_get(deviceChannelsMap)[currentDevice.instance_id])newDeviceChannelsMap[currentDevice.instance_id]=shared_get(deviceChannelsMap)[currentDevice.instance_id];else{var _baseurl=currentDevice.base_url,promise=fetchChannels({baseurl:_baseurl}).then((function(channels){_updateDeviceChannels(currentDevice,channels),isLoadingChannels.value=!1})).catch((function(){_updateDeviceChannels(currentDevice,[])}));promises.push(promise)}},_i=0,_Object$values=Object.values(networkDevices.value);_i<_Object$values.length;_i++)_loop();set(deviceChannelsMap,newDeviceChannelsMap),Promise.all(promises).then((function(){isLoadingChannels.value=!1}))}function _setNetworkDevices(){var fn;return fn=useDevices_regeneratorRuntime().mark((function _callee(){var newNetworkDevices,devices,_iterator,_step,device;return useDevices_regeneratorRuntime().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return isLoading.value=!0,newNetworkDevices={},_context.next=4,fetchDevices();case 4:devices=_context.sent,_iterator=useDevices_createForOfIteratorHelper(devices);try{for(_iterator.s();!(_step=_iterator.n()).done;)(device=_step.value).available&&(newNetworkDevices[device.instance_id]=device)}catch(err){_iterator.e(err)}finally{_iterator.f()}networkDevices.value=newNetworkDevices,isLoading.value=!1;case 9:case"end":return _context.stop()}}),_callee)})),_setNetworkDevices=function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useDevices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useDevices_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))},_setNetworkDevices.apply(this,arguments)}if(shared_get(isUserLoggedIn)){var fetch=useTimeoutPoll((function(){return _setNetworkDevices.apply(this,arguments)}),5e3,{immediate:!0});(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onBeforeUnmount)((function(){fetch.pause()}))}var networkDevicesWithChannels=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return Object.values(shared_get(networkDevices)).filter((function(device){var _get$device$instance_;return(null===(_get$device$instance_=shared_get(deviceChannelsMap)[device.instance_id])||void 0===_get$device$instance_?void 0:_get$device$instance_.length)>0})).sort((function(a,b){return a.instance_id===KolibriStudioId?-1:b.instance_id===KolibriStudioId?1:(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.localeCompare)(a.device_name,b.device_name)}))}));return{fetchDevices:fetchDevices,deviceChannelsMap:deviceChannelsMap,keepDeviceChannelsUpdated:function(){shared_get(isUserLoggedIn)&&(loadDeviceChannels(),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)(networkDevices,loadDeviceChannels))},isLoadingChannels:isLoadingChannels,isLoading:isLoading,setCurrentDevice:setCurrentDevice,instanceId:instanceId,baseurl:baseurl,deviceName:deviceName,networkDevices:networkDevices,networkDevicesWithChannels:networkDevicesWithChannels}}function useContentNodeProgress_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return useContentNodeProgress_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useContentNodeProgress_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useContentNodeProgress_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var contentNodeProgressMap=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.reactive)({});function setContentNodeProgress(progress){(!contentNodeProgressMap[progress.content_id]||progress.progress>contentNodeProgressMap[progress.content_id])&&set(contentNodeProgressMap,progress.content_id,progress.progress)}function useContentNodeProgress(){return{fetchContentNodeProgress:function(getParams){return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeProgressResource.fetchCollection({getParams:getParams,force:!0}).then((function(progressData){var _step,_iterator=useContentNodeProgress_createForOfIteratorHelper(progressData||[]);try{for(_iterator.s();!(_step=_iterator.n()).done;){setContentNodeProgress(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}))},fetchContentNodeTreeProgress:function(_ref){var id=_ref.id,params=_ref.params;return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeProgressResource.fetchTree({params:params,id:id}).then((function(progressData){var _step2,_iterator2=useContentNodeProgress_createForOfIteratorHelper(progressData||[]);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){setContentNodeProgress(_step2.value)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}))},contentNodeProgressMap:contentNodeProgressMap}}function useLanguages_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return useLanguages_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useLanguages_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useLanguages_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var langArray=plugin_data_src.languages?plugin_data_src.languages:[],langMap={};function setLanguages(langs){var _step,_iterator=useLanguages_createForOfIteratorHelper(langs);try{for(_iterator.s();!(_step=_iterator.n()).done;){var lang=_step.value;langMap[lang.id]=lang}}catch(err){_iterator.e(err)}finally{_iterator.f()}}setLanguages(langArray);var languagesMap=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(langMap);function useLanguages(){return{languages:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return sortBy_default()(Object.values(shared_get(languagesMap)),"id")})),languagesMap:languagesMap}}function useSearch_typeof(o){return useSearch_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useSearch_typeof(o)}function useSearch_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return useSearch_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useSearch_unsupportedIterableToArray(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSearch_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function useSearch_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useSearch_ownKeys(Object(t),!0).forEach((function(r){useSearch_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useSearch_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function useSearch_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=useSearch_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useSearch_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==useSearch_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function useSearch_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=useSearch_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useSearch_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useSearch_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useSearch_arrayLikeToArray(o,minLen):void 0}}function useSearch_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useSearch_logging=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/plugins/learn/assets/src/composables/useSearch.js"),activitiesLookup=invert_default()(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities);function _generateLearningActivitiesShown(learningActivities){var learningActivitiesShown={};return(learningActivities||[]).map((function(id){var key=activitiesLookup[id];learningActivitiesShown[key]=id})),learningActivitiesShown}var resourcesNeededShown=["FOR_BEGINNERS","PEERS","TEACHER","SPECIAL_SOFTWARE","PAPER_PENCIL","INTERNET","OTHER_SUPPLIES"];function _generateResourcesNeeded(learnerNeeds){var resourcesNeeded={};return resourcesNeededShown.map((function(key){var value=external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ResourcesNeededTypes[key];learnerNeeds&&learnerNeeds.includes(value)&&(resourcesNeeded[key]=value)})),resourcesNeeded}function _generateLibraryCategoriesLookup(categories){var libraryCategories={},availablePaths={};(categories||[]).map((function(key){var _step,path="",_iterator=useSearch_createForOfIteratorHelper(key.split("."));try{for(_iterator.s();!(_step=_iterator.n()).done;){var path_segment=_step.value;availablePaths[path=""===path?path_segment:path+"."+path_segment]=!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}}));var _step2,_iterator2=useSearch_createForOfIteratorHelper(Object.values(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.Categories).sort((function(a,b){return a.length-b.length})));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step3,ids=_step2.value.split("."),path="",nested=libraryCategories,_iterator3=useSearch_createForOfIteratorHelper(ids);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var fragment=_step3.value;if(!availablePaths[path+=fragment])break;var nestedKey=external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.CategoriesLookup[path];nested[nestedKey]||(nested[nestedKey]={value:path,nested:{}}),nested=nested[nestedKey].nested,path+="."}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return libraryCategories}var searchKeys=["learning_activities","categories","learner_needs","channels","accessibility_labels","languages","grade_levels"],fetchContentNodeProgress=useContentNodeProgress().fetchContentNodeProgress;function useSearch(descendant,store,router){store=store||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store,router=router||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$router;var route=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return store.state.route})),searchResultsLoading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),moreLoading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),_results=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)([]),more=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),labels=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),baseurl=currentDeviceData(store).baseurl,searchTerms=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)({get:function(){var _step4,searchTerms={},query=shared_get(route).query,_iterator4=useSearch_createForOfIteratorHelper(searchKeys);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var key=_step4.value,obj={};if(query[key]){var _step5,_iterator5=useSearch_createForOfIteratorHelper(query[key].split(","));try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){obj[_step5.value]=!0}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}searchTerms[key]=obj}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}return searchTerms.keywords=query.keywords||"",searchTerms},set:function(value){var _step6,query=useSearch_objectSpread({},shared_get(route).query),_iterator6=useSearch_createForOfIteratorHelper(searchKeys);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var key=_step6.value;Object.keys(value[key]||{}).filter(Boolean).join(",").length?query[key]=Object.keys(value[key]).join(","):delete query[key]}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}value.keywords&&value.keywords.length?query.keywords=value.keywords:delete query.keywords,router.push(useSearch_objectSpread(useSearch_objectSpread({},shared_get(route)),{},{query:query})).catch((function(){}))}}),displayingSearchResults=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return Object.values(shared_get(searchTerms)).some((function(v){return Object.keys(v).length}))}));function _setAvailableLabels(searchableLabels){searchableLabels&&set(labels,useSearch_objectSpread(useSearch_objectSpread({},searchableLabels),{},{channels:searchableLabels.channels?searchableLabels.channels.map((function(c){return c.id})):[],languages:searchableLabels.languages?searchableLabels.languages.map((function(l){return l.id})):[]}))}function search(){var currentBaseUrl=shared_get(baseurl),getParams={include_coach_content:store.getters.isAdmin||store.getters.isCoach||store.getters.isSuperuser,baseurl:currentBaseUrl},descValue=descendant?shared_get(descendant):null;if(descValue&&(getParams.tree_id=descValue.tree_id,getParams.lft__gt=descValue.lft,getParams.rght__lt=descValue.rght),shared_get(displayingSearchResults)){getParams.max_results=25;var terms=shared_get(searchTerms);set(searchResultsLoading,!0);var _step7,_iterator7=useSearch_createForOfIteratorHelper(searchKeys);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var key=_step7.value;if("categories"===key){if(terms[key][external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.AllCategories]){getParams.categories__isnull=!1;continue}if(terms[key][external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.NoCategories]){getParams.categories__isnull=!0;continue}}if("channels"!==key||!descValue){var keys=Object.keys(terms[key]);keys.length&&(getParams[key]=keys)}}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}terms.keywords&&(getParams.keywords=terms.keywords),store.getters.isUserLoggedIn&&fetchContentNodeProgress(getParams),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:getParams}).then((function(data){set(_results,data.results||[]),set(more,data.more),_setAvailableLabels(data.labels),set(searchResultsLoading,!1)}))}else descValue?(getParams.max_results=1,external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:getParams}).then((function(data){_setAvailableLabels(data.labels),set(more,null)}))):(set(more,null),set(labels,null))}(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)(searchTerms,search),descendant&&(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)(descendant,(function(newValue){newValue&&search()}));var results=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return deduplicateResources(shared_get(_results))})),globalLabels=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),globalLabelsLoading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),searchLoading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(searchResultsLoading)||shared_get(globalLabelsLoading)}));function ensureGlobalLabels(){set(globalLabelsLoading,!0);var currentBaseUrl=shared_get(baseurl);external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:{max_results:1,baseurl:currentBaseUrl}}).then((function(data){var accessibilityLabels,gradeLevels,labels=data.labels;set(globalLabels,{learningActivitiesShown:_generateLearningActivitiesShown(labels.learning_activities),libraryCategories:_generateLibraryCategoriesLookup(labels.categories),resourcesNeeded:_generateResourcesNeeded(labels.learner_needs),gradeLevelsList:(gradeLevels=labels.grade_levels||[],Object.keys(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels).filter((function(key){var value=external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels[key];return gradeLevels&&gradeLevels.includes(value)}))),accessibilityOptionsList:(accessibilityLabels=labels.accessibility_labels,Object.keys(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.AccessibilityCategories).filter((function(key){var value=external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.AccessibilityCategories[key];return accessibilityLabels&&accessibilityLabels.includes(value)}))),languagesList:labels.languages||[],channelsList:labels.channels||[]}),setLanguages(labels.languages||[])})).catch((function(err){return useSearch_logging.error("Failed to fetch search labels from remote",err)})).then((function(){set(globalLabelsLoading,!1)}))}function _getGlobalLabels(name,defaultValue){var lookup=shared_get(globalLabels);return lookup?lookup[name]:defaultValue}ensureGlobalLabels(),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)(baseurl,ensureGlobalLabels);var learningActivitiesShown=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return _getGlobalLabels("learningActivitiesShown",{})})),libraryCategories=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return _getGlobalLabels("libraryCategories",{})})),resourcesNeeded=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return _getGlobalLabels("resourcesNeeded",{})})),gradeLevelsList=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return _getGlobalLabels("gradeLevelsList",[])})),accessibilityOptionsList=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return _getGlobalLabels("accessibilityOptionsList",[])})),languagesList=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return _getGlobalLabels("languagesList",[])})),channelsList=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return _getGlobalLabels("channelsList",[])}));return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("availableLearningActivities",learningActivitiesShown),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("availableLibraryCategories",libraryCategories),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("availableResourcesNeeded",resourcesNeeded),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("availableGradeLevels",gradeLevelsList),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("availableAccessibilityOptions",accessibilityOptionsList),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("availableLanguages",languagesList),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("availableChannels",channelsList),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("searchableLabels",labels),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.provide)("activeSearchTerms",searchTerms),{currentRoute:function(){return shared_get(route)},searchTerms:searchTerms,displayingSearchResults:displayingSearchResults,searchLoading:searchLoading,moreLoading:moreLoading,results:results,more:more,labels:labels,search:search,searchMore:function(){if(shared_get(displayingSearchResults)&&shared_get(more)&&!shared_get(moreLoading))return set(moreLoading,!0),store.getters.isUserLoggedIn&&fetchContentNodeProgress(shared_get(more)),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:shared_get(more)}).then((function(data){set(_results,[].concat(useSearch_toConsumableArray(shared_get(_results)),useSearch_toConsumableArray(data.results||[]))),set(more,data.more),_setAvailableLabels(data.labels),set(moreLoading,!1)}))},removeFilterTag:function(_ref){var value=_ref.value,key=_ref.key;if("keywords"===key)set(searchTerms,useSearch_objectSpread(useSearch_objectSpread({},shared_get(searchTerms)),{},useSearch_defineProperty({},key,"")));else{var keyObject=shared_get(searchTerms)[key];delete keyObject[value],set(searchTerms,useSearch_objectSpread(useSearch_objectSpread({},shared_get(searchTerms)),{},useSearch_defineProperty({},key,keyObject)))}},clearSearch:function(){set(searchTerms,{})}}}function injectSearch(){return{availableLearningActivities:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("availableLearningActivities"),availableLibraryCategories:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("availableLibraryCategories"),availableResourcesNeeded:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("availableResourcesNeeded"),availableGradeLevels:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("availableGradeLevels"),availableAccessibilityOptions:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("availableAccessibilityOptions"),availableLanguages:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("availableLanguages"),availableChannels:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("availableChannels"),searchableLabels:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("searchableLabels"),activeSearchTerms:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.inject)("activeSearchTerms")}}var ActivityButtonsGroupvue_type_template_id_34d51d00_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h2",{staticClass:"title"},[_vm._v("\n    "+_vm._s(_vm.$tr("activities"))+"\n  ")]),_vm._l(_vm.availableLearningActivities,(function(key,activity){return _c("span",{key:key,attrs:{alignment:"center"}},[_c("KButton",{attrs:{appearance:"flat-button",appearanceOverrides:_vm.isKeyActive(key)?Object.assign({},_vm.activityStyles,_vm.activityActiveStyles):_vm.activityStyles,disabled:_vm.availableActivities&&!_vm.availableActivities[key]&&!_vm.isKeyActive(key)},on:{click:function($event){return _vm.$emit("input",key)}}},[_c("KIcon",{staticClass:"activity-icon",attrs:{icon:_vm.activityIcon(activity)}}),_c("p",{staticClass:"activity-button-text"},[_vm._v("\n        "+_vm._s(_vm.coreString(_vm.camelCase(activity)))+"\n      ")])],1)],1)}))],2)};ActivityButtonsGroupvue_type_template_id_34d51d00_scoped_true_render._withStripped=!0;var lodash_camelCase=__webpack_require__(4662),camelCase_default=__webpack_require__.n(lodash_camelCase);function ActivityButtonsGroupvue_type_script_lang_js_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return ActivityButtonsGroupvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ActivityButtonsGroupvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function ActivityButtonsGroupvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ActivityButtonsGroup=normalizeComponent({name:"ActivityButtonsGroup",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _injectSearch=injectSearch();return{availableLearningActivities:_injectSearch.availableLearningActivities,searchableLabels:_injectSearch.searchableLabels,activeSearchTerms:_injectSearch.activeSearchTerms}},computed:{activityStyles:function(){return{color:this.$themeTokens.text,width:"50%",height:"100px",border:"2px solid transparent",textTransform:"capitalize",fontWeight:"normal",transition:"none",":hover":this.activityActiveStyles}},activityActiveStyles:function(){return{backgroundColor:this.$themeBrand.primary.v_50,border:"2px",borderColor:this.$themeTokens.primary,borderStyle:"solid",borderRadius:"4px"}},availableActivities:function(){if(this.searchableLabels){var _step,activities={},_iterator=ActivityButtonsGroupvue_type_script_lang_js_createForOfIteratorHelper(this.searchableLabels.learning_activities);try{for(_iterator.s();!(_step=_iterator.n()).done;){activities[_step.value]=!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}return activities}return null},activeKeys:function(){return Object.keys(this.activeSearchTerms&&this.activeSearchTerms.learning_activities||{})}},methods:{camelCase:function(id){return camelCase_default()(id)},activityIcon:function(activity){return"EXPLORE"==activity?"interactShaded":"".concat(camelCase_default()(activity)+"Shaded")},isKeyActive:function(key){return null!==key&&!!this.activeKeys.filter((function(k){return k.includes(key)})).length}},$trs:{activities:{message:"Activities",context:"Section header label in the Library page sidebar."}}},ActivityButtonsGroupvue_type_template_id_34d51d00_scoped_true_render,[],!1,null,"34d51d00",null).exports,CategorySearchModalvue_type_template_id_21d656e2_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.windowIsLarge?_c("Teleport",{attrs:{to:"body"}},[_c("KModal",{attrs:{title:_vm.$tr("title"),cancelText:_vm.coreString("closeAction"),size:"large"},on:{cancel:function($event){return _vm.$emit("cancel")}}},[_c("CategorySearchOptions",_vm._g({ref:"searchOptions",attrs:{selectedCategory:_vm.selectedCategory}},_vm.$listeners))],1)],1):_c("div",[_c("h2",[_vm._v(_vm._s(_vm.$tr("title")))]),_c("CategorySearchOptions",_vm._g({ref:"searchOptions",attrs:{selectedCategory:_vm.selectedCategory}},_vm.$listeners))],1)],1)};CategorySearchModalvue_type_template_id_21d656e2_render._withStripped=!0;var script={name:"teleport",props:{to:{type:String,required:!0},where:{type:String,default:"after"},disabled:Boolean},data:function(){return{nodes:[],waiting:!1,observer:null,parent:null}},watch:{to:"maybeMove",where:"maybeMove",disabled:function(value){value?(this.disable(),this.teardownObserver()):(this.bootObserver(),this.move())}},mounted:function(){this.nodes=Array.from(this.$el.childNodes),this.disabled||this.bootObserver(),this.maybeMove()},beforeDestroy:function(){this.disable(),this.teardownObserver()},computed:{classes:function(){return this.disabled?["teleporter"]:["teleporter","hidden"]}},methods:{maybeMove:function(){this.disabled||this.move()},move:function(){if(this.waiting=!1,this.parent=document.querySelector(this.to),!this.parent)return this.disable(),void(this.waiting=!0);"before"===this.where?this.parent.prepend(this.getFragment()):this.parent.appendChild(this.getFragment())},disable:function(){this.$el.appendChild(this.getFragment()),this.parent=null},getFragment:function(){var fragment=document.createDocumentFragment();return this.nodes.forEach((function(node){return fragment.appendChild(node)})),fragment},onMutations:function(mutations){for(var this$1=this,shouldMove=!1,i=0;i<mutations.length;i++){var mutation=mutations[i],filteredAddedNodes=Array.from(mutation.addedNodes).filter((function(node){return!this$1.nodes.includes(node)}));Array.from(mutation.removedNodes).includes(this.parent)?(this.disable(),this.waiting=!this.disabled):this.waiting&&filteredAddedNodes.length>0&&(shouldMove=!0)}shouldMove&&this.move()},bootObserver:function(){var this$1=this;this.observer||(this.observer=new MutationObserver((function(mutations){return this$1.onMutations(mutations)})),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))},teardownObserver:function(){this.observer&&(this.observer.disconnect(),this.observer=null)}}};function teleport_esm_normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){"boolean"!=typeof shadowMode&&(createInjectorSSR=createInjector,createInjector=shadowMode,shadowMode=!1);var hook,options="function"==typeof script?script.options:script;if(template&&template.render&&(options.render=template.render,options.staticRenderFns=template.staticRenderFns,options._compiled=!0,isFunctionalTemplate&&(options.functional=!0)),scopeId&&(options._scopeId=scopeId),moduleIdentifier?(hook=function(context){(context=context||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),style&&style.call(this,createInjectorSSR(context)),context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},options._ssrRegister=hook):style&&(hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot))}:function(context){style.call(this,createInjector(context))}),hook)if(options.functional){var originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{var existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return script}var HEAD,isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(context){return function(id,style){return function(id,css){var group=isOldIE?css.media||"default":id,style=styles[group]||(styles[group]={ids:new Set,styles:[]});if(!style.ids.has(id)){style.ids.add(id);var code=css.source;if(css.map&&(code+="\n/*# sourceURL="+css.map.sources[0]+" */",code+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(css.map))))+" */"),style.element||(style.element=document.createElement("style"),style.element.type="text/css",css.media&&style.element.setAttribute("media",css.media),void 0===HEAD&&(HEAD=document.head||document.getElementsByTagName("head")[0]),HEAD.appendChild(style.element)),"styleSheet"in style.element)style.styles.push(code),style.element.styleSheet.cssText=style.styles.filter(Boolean).join("\n");else{var index=style.ids.size-1,textNode=document.createTextNode(code),nodes=style.element.childNodes;nodes[index]&&style.element.removeChild(nodes[index]),nodes.length?style.element.insertBefore(textNode,nodes[index]):style.element.appendChild(textNode)}}}(id,style)}}var styles={};var __vue_script__=script,__vue_render__=function(){var _h=this.$createElement;return(this._self._c||_h)("div",{class:this.classes},[this._t("default")],2)};__vue_render__._withStripped=!0;var __vue_component__=teleport_esm_normalizeComponent({render:__vue_render__,staticRenderFns:[]},(function(inject){inject&&inject("data-v-d4e6e290_0",{source:".hidden[data-v-d4e6e290] {\n  visibility: hidden;\n  display: none;\n}\n\n/*# sourceMappingURL=Teleport.vue.map */",map:{version:3,sources:["/Users/shodan/Projects/vue2-teleport/src/Teleport.vue","Teleport.vue"],names:[],mappings:"AAuJA;EACA,kBAAA;EACA,aAAA;ACtJA;;AAEA,uCAAuC",file:"Teleport.vue",sourcesContent:["<template>\n  <div :class=\"classes\">\n    <slot/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'teleport',\n  props: {\n    to: {\n      type: String,\n      required: true,\n    },\n    where: {\n      type: String,\n      default: 'after',\n    },\n    disabled: Boolean,\n  },\n  data() {\n    return {\n      nodes: [],\n      waiting: false,\n      observer: null,\n      parent: null,\n    };\n  },\n  watch: {\n    to: 'maybeMove',\n    where: 'maybeMove',\n    disabled(value) {\n      if (value) {\n        this.disable();\n        this.teardownObserver();\n      } else {\n        this.bootObserver();\n        this.move();\n      }\n    },\n  },\n  mounted() {\n    // Store a reference to the nodes\n    this.nodes = Array.from(this.$el.childNodes);\n\n    if (!this.disabled) {\n      this.bootObserver();\n    }\n\n    // Move slot content to target\n    this.maybeMove();\n  },\n  beforeDestroy() {\n    // Move back\n    this.disable();\n\n    // Stop observing\n    this.teardownObserver();\n  },\n  computed: {\n    classes() {\n      if (this.disabled) {\n        return ['teleporter'];\n      }\n\n      return ['teleporter', 'hidden'];\n    },\n  },\n  methods: {\n    maybeMove() {\n      if (!this.disabled) {\n        this.move();\n      }\n    },\n    move() {\n      this.waiting = false;\n\n      this.parent = document.querySelector(this.to);\n\n      if (!this.parent) {\n        this.disable();\n\n        this.waiting = true;\n\n        return;\n      }\n\n      if (this.where === 'before') {\n        this.parent.prepend(this.getFragment());\n      } else {\n        this.parent.appendChild(this.getFragment());\n      }\n    },\n    disable() {\n      this.$el.appendChild(this.getFragment());\n      this.parent = null;\n    },\n    // Using a fragment is faster because it'll trigger only a single reflow\n    // See https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment\n    getFragment() {\n      const fragment = document.createDocumentFragment();\n\n      this.nodes.forEach(node => fragment.appendChild(node));\n\n      return fragment;\n    },\n    onMutations(mutations) {\n      // Makes sure the move operation is only done once\n      let shouldMove = false;\n\n      for (let i = 0; i < mutations.length; i++) {\n        const mutation = mutations[i];\n        const filteredAddedNodes = Array.from(mutation.addedNodes).filter(node => !this.nodes.includes(node));\n\n        if (Array.from(mutation.removedNodes).includes(this.parent)) {\n          this.disable();\n          this.waiting = !this.disabled;\n        } else if (this.waiting && filteredAddedNodes.length > 0) {\n          shouldMove = true;\n        }\n      }\n\n      if (shouldMove) {\n        this.move();\n      }\n    },\n    bootObserver() {\n      if (this.observer) {\n        return;\n      }\n\n      this.observer = new MutationObserver(mutations => this.onMutations(mutations));\n\n      this.observer.observe(document.body, {\n        childList: true,\n        subtree: true,\n        attributes: false,\n        characterData: false,\n      });\n    },\n    teardownObserver() {\n      if (this.observer) {\n        this.observer.disconnect();\n        this.observer = null;\n      }\n    },\n  },\n};\n<\/script>\n\n<style scoped lang=\"scss\">\n.hidden {\n  visibility: hidden;\n  display: none;\n}\n</style>\n",".hidden {\n  visibility: hidden;\n  display: none;\n}\n\n/*# sourceMappingURL=Teleport.vue.map */"]},media:void 0})}),__vue_script__,"data-v-d4e6e290",false,undefined,!1,createInjector,void 0,void 0);var teleport_esm_plugin={install:function teleport_esm_install(Vue){teleport_esm_install.installed||(teleport_esm_install.installed=!0,Vue.component("Teleport",__vue_component__))}},GlobalVue=null;"undefined"!=typeof window?GlobalVue=window.Vue:void 0!==__webpack_require__.g&&(GlobalVue=__webpack_require__.g.Vue),GlobalVue&&GlobalVue.use(teleport_esm_plugin);var teleport_esm=__vue_component__,CategorySearchOptionsvue_type_template_id_3bee9ba8_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h2",{staticClass:"top-category"},[_c("KButton",{attrs:{text:_vm.coreString(_vm.camelCase(_vm.selectedCategory)),appearanceOverrides:_vm.appearanceOverrides(_vm.topLevelCategory.value,!0),appearance:"basic-link",disabled:_vm.availablePaths&&!_vm.availablePaths[_vm.topLevelCategory.value]},on:{click:function($event){return _vm.$emit("input",_vm.topLevelCategory.value)}}})],1),_c("KGrid",_vm._l(_vm.displaySelectedCategories,(function(nestedObject,key){return _c("KGridItem",{key:key,staticClass:"category-item",attrs:{layout4:{span:4},layout8:{span:8},layout12:{span:4}}},[_c("div",{staticClass:"filter-list-title"},[_c("KIcon",{style:{marginLeft:"8px"},attrs:{icon:_vm.icon(key),size:"large"}}),_c("h3",[_c("KButton",{staticClass:"larger-text",attrs:{text:_vm.coreString(_vm.camelCase(key)),appearance:"basic-link",appearanceOverrides:_vm.appearanceOverrides(nestedObject.value,!0),disabled:_vm.availablePaths&&!_vm.availablePaths[nestedObject.value]},on:{click:function($event){return _vm.$emit("input",nestedObject.value)}}})],1)],1),_vm._l(nestedObject.nested,(function(item,nestedKey){return _c("div",{key:item.value},[_c("KButton",{attrs:{text:_vm.coreString(_vm.camelCase(nestedKey)),appearanceOverrides:_vm.appearanceOverrides(item.value),appearance:"basic-link",disabled:_vm.availablePaths&&!_vm.availablePaths[item.value]},on:{click:function($event){return _vm.$emit("input",item.value)}}})],1)}))],2)})),1)],1)};function CategorySearchOptionsvue_type_script_lang_js_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return CategorySearchOptionsvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CategorySearchOptionsvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function CategorySearchOptionsvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}CategorySearchOptionsvue_type_template_id_3bee9ba8_scoped_true_render._withStripped=!0;var CategorySearchOptions_component=normalizeComponent({name:"CategorySearchOptions",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){var _injectSearch=injectSearch();return{activeSearchTerms:_injectSearch.activeSearchTerms,availableLibraryCategories:_injectSearch.availableLibraryCategories,searchableLabels:_injectSearch.searchableLabels}},props:{selectedCategory:{type:String,required:!0,default:null}},computed:{availablePaths:function(){if(this.searchableLabels){var _step,paths={},_iterator=CategorySearchOptionsvue_type_script_lang_js_createForOfIteratorHelper(this.searchableLabels.categories);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,keyPaths=_step.value.split("."),path="",_iterator2=CategorySearchOptionsvue_type_script_lang_js_createForOfIteratorHelper(keyPaths);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var keyPath=_step2.value;paths[path=""===path?keyPath:path+"."+keyPath]=!0}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return paths}return null},topLevelCategory:function(){return this.availableLibraryCategories[this.selectedCategory]},displaySelectedCategories:function(){return this.availableLibraryCategories[this.selectedCategory].nested}},methods:{appearanceOverrides:function(category,bolded){var activeOverrides={backgroundColor:this.$themeBrand.primary.v_50,border:"2px",borderColor:this.$themeTokens.primary,borderStyle:"solid",borderRadius:"4px"},appearanceOverrides={color:this.$themeTokens.text,marginTop:"8px",paddingTop:"8px",paddingBottom:"8px",paddingLeft:"8px",paddingRight:"8px",width:"100%",border:"2px solid transparent",textAlign:this.isRtl?"right":"left",fontWeight:"normal",textTransform:"none",position:"relative",transition:"none",":hover":activeOverrides};return bolded&&(appearanceOverrides.fontWeight="bold"),this.activeSearchTerms.categories[category]&&Object.assign(appearanceOverrides,activeOverrides),appearanceOverrides},camelCase:function(val){return camelCase_default()(val)},icon:function(key){return"languageLearning"===camelCase_default()(key)?"language":"technicalAndVocationalTraining"===camelCase_default()(key)||"professionalSkills"===camelCase_default()(key)?"skillsResource":"foundationsLogicAndCriticalThinking"===camelCase_default()(key)?"logicCriticalThinkingResource":"".concat(camelCase_default()(key),"Resource")}}},CategorySearchOptionsvue_type_template_id_3bee9ba8_scoped_true_render,[],!1,null,"3bee9ba8",null),CategorySearchModal=normalizeComponent({name:"CategorySearchModal",components:{CategorySearchOptions:CategorySearchOptions_component.exports,Teleport:teleport_esm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],props:{selectedCategory:{type:String,required:!0,default:null}},methods:{focusFirstEl:function(){this.$refs.searchOptions.$el.querySelector(".filter-list-title > h2 > a").focus()}},$trs:{title:{message:"Choose a category",context:"Title of the category selection window"}}},CategorySearchModalvue_type_template_id_21d656e2_render,[],!1,null,null,null).exports,SelectGroupvue_type_template_id_7302907c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.languageOptionsList.length?_c("KSelect",{style:_vm.selectorStyle,attrs:{options:_vm.languageOptionsList,disabled:!_vm.langId&&_vm.enabledLanguageOptions.length<2,clearable:!(!_vm.langId&&_vm.enabledLanguageOptions.length<2),clearText:_vm.coreString("clearAction"),value:_vm.selectedLanguage,label:_vm.coreString("languageLabel")},on:{change:function(val){return _vm.handleChange("languages",val)}}}):_vm._e(),_vm.contentLevelsList.length?_c("KSelect",{staticClass:"selector",style:_vm.selectorStyle,attrs:{options:_vm.contentLevelsList,disabled:!_vm.levelId&&_vm.enabledContentLevels.length<2,clearable:!(!_vm.levelId&&_vm.enabledContentLevels.length<2),clearText:_vm.coreString("clearAction"),value:_vm.selectedLevel,label:_vm.coreString("levelLabel")},on:{change:function(val){return _vm.handleChange("grade_levels",val)}}}):_vm._e(),_vm.showChannels&&_vm.channelOptionsList.length?_c("KSelect",{staticClass:"selector",style:_vm.selectorStyle,attrs:{options:_vm.channelOptionsList,disabled:!_vm.channelId&&_vm.enabledChannelOptions.length<2,clearable:!(!_vm.channelId&&_vm.enabledChannelOptions.length<2),clearText:_vm.coreString("clearAction"),value:_vm.selectedChannel,label:_vm.coreString("channelLabel")},on:{change:function(val){return _vm.handleChange("channels",val)}}}):_vm._e(),_vm.accessibilityOptionsList.length?_c("KSelect",{staticClass:"selector",style:_vm.selectorStyle,attrs:{options:_vm.accessibilityOptionsList,disabled:!_vm.accessId&&_vm.enabledAccessibilityOptions.length<2,clearable:!(!_vm.accessId&&_vm.enabledAccessibilityOptions.length<2),clearText:_vm.coreString("clearAction"),value:_vm.selectedAccessibilityFilter,label:_vm.coreString("accessibility")},on:{change:function(val){return _vm.handleChange("accessibility_labels",val)}}}):_vm._e()],1)};function SelectGroupvue_type_script_lang_js_typeof(o){return SelectGroupvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SelectGroupvue_type_script_lang_js_typeof(o)}function SelectGroupvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SelectGroupvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SelectGroupvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){SelectGroupvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SelectGroupvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function SelectGroupvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=SelectGroupvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SelectGroupvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==SelectGroupvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}SelectGroupvue_type_template_id_7302907c_scoped_true_render._withStripped=!0;var SelectGroup_component=normalizeComponent({name:"SelectGroup",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _injectSearch=injectSearch();return{availableGradeLevels:_injectSearch.availableGradeLevels,availableAccessibilityOptions:_injectSearch.availableAccessibilityOptions,availableLanguages:_injectSearch.availableLanguages,availableChannels:_injectSearch.availableChannels,searchableLabels:_injectSearch.searchableLabels}},props:{value:{type:Object,required:!0,validator:function(value){return["channels","accessibility_labels","languages","grade_levels"].every((function(k){return Object.prototype.hasOwnProperty.call(value,k)}))}},showChannels:{type:Boolean,default:!0}},computed:{selectorStyle:function(){return{color:this.$themeTokens.text,backgroundColor:this.$themePalette.grey.v_200,height:"52px",paddingTop:"10px",borderRadius:"2px"}},languageOptionsList:function(){var _this=this;return this.availableLanguages.map((function(language){return{value:language.id,disabled:_this.searchableLabels&&!_this.searchableLabels.languages.includes(language.id),label:language.lang_name}}))},enabledLanguageOptions:function(){return this.languageOptionsList.filter((function(l){return!l.disabled}))},accessibilityOptionsList:function(){var _this2=this;return this.availableAccessibilityOptions.map((function(key){var value=external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.AccessibilityCategories[key];return{value:value,disabled:_this2.searchableLabels&&!_this2.searchableLabels.accessibility_labels.includes(value),label:_this2.coreString(camelCase_default()(key))}}))},enabledAccessibilityOptions:function(){return this.accessibilityOptionsList.filter((function(a){return!a.disabled}))},contentLevelsList:function(){var _this3=this;return this.availableGradeLevels.map((function(key){var translationKey,value=external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels[key];return translationKey="PROFESSIONAL"===key?"specializedProfessionalTraining":"WORK_SKILLS"===key?"allLevelsWorkSkills":"BASIC_SKILLS"===key?"allLevelsBasicSkills":camelCase_default()(key),{value:value,disabled:_this3.searchableLabels&&!_this3.searchableLabels.grade_levels.includes(value),label:_this3.coreString(translationKey)}}))},enabledContentLevels:function(){return this.contentLevelsList.filter((function(c){return!c.disabled}))},channelOptionsList:function(){var _this4=this;return this.availableChannels.map((function(channel){return{value:channel.id,disabled:_this4.searchableLabels&&!_this4.searchableLabels.channels.includes(channel.id),label:channel.name}}))},enabledChannelOptions:function(){return this.channelOptionsList.filter((function(c){return!c.disabled}))},langId:function(){return Object.keys(this.value.languages)[0]},selectedLanguage:function(){var _this5=this;return this.langId||1!==this.enabledLanguageOptions.length?this.languageOptionsList.find((function(o){return o.value===_this5.langId}))||{}:this.enabledLanguageOptions[0]},accessId:function(){return Object.keys(this.value.accessibility_labels)[0]},selectedAccessibilityFilter:function(){var _this6=this;return this.accessId||1!==this.enabledAccessibilityOptions.length?this.accessibilityOptionsList.find((function(o){return o.value===_this6.accessId}))||{}:this.enabledAccessibilityOptions[0]},levelId:function(){return Object.keys(this.value.grade_levels)[0]},selectedLevel:function(){var _this7=this;return this.levelId||1!==this.enabledContentLevels.length?this.contentLevelsList.find((function(o){return o.value===_this7.levelId}))||{}:this.enabledContentLevels[0]},channelId:function(){return Object.keys(this.value.channels)[0]},selectedChannel:function(){var _this8=this;return this.channelId||1!==this.enabledChannelOptions.length?this.channelOptionsList.find((function(o){return o.value===_this8.channelId}))||{}:this.enabledChannelOptions[0]}},methods:{handleChange:function(field,value){value&&value.value?this.$emit("input",SelectGroupvue_type_script_lang_js_objectSpread(SelectGroupvue_type_script_lang_js_objectSpread({},this.value),{},SelectGroupvue_type_script_lang_js_defineProperty({},field,SelectGroupvue_type_script_lang_js_defineProperty({},value.value,!0)))):this.$emit("input",SelectGroupvue_type_script_lang_js_objectSpread(SelectGroupvue_type_script_lang_js_objectSpread({},this.value),{},SelectGroupvue_type_script_lang_js_defineProperty({},field,{})))}}},SelectGroupvue_type_template_id_7302907c_scoped_true_render,[],!1,null,"7302907c",null);function SearchFiltersPanelvue_type_script_lang_js_typeof(o){return SearchFiltersPanelvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SearchFiltersPanelvue_type_script_lang_js_typeof(o)}function SearchFiltersPanelvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SearchFiltersPanelvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SearchFiltersPanelvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){SearchFiltersPanelvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SearchFiltersPanelvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function SearchFiltersPanelvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=SearchFiltersPanelvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SearchFiltersPanelvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==SearchFiltersPanelvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SearchFiltersPanelvue_type_script_lang_js_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return SearchFiltersPanelvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SearchFiltersPanelvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function SearchFiltersPanelvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SearchFiltersPanel=normalizeComponent({name:"SearchFiltersPanel",components:{SearchBox:SearchBox,ActivityButtonsGroup:ActivityButtonsGroup,SelectGroup:SelectGroup_component.exports,CategorySearchModal:CategorySearchModal,SidePanelModal:SidePanelModal},mixins:[commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var windowIsLarge=external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()().windowIsLarge,genContentLinkBackLinkCurrentPage=useContentLink().genContentLinkBackLinkCurrentPage,_injectSearch=injectSearch(),availableLibraryCategories=_injectSearch.availableLibraryCategories,availableResourcesNeeded=_injectSearch.availableResourcesNeeded,searchableLabels=_injectSearch.searchableLabels,activeSearchTerms=_injectSearch.activeSearchTerms;return{availableLibraryCategories:availableLibraryCategories,availableResourcesNeeded:availableResourcesNeeded,currentCategory:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),genContentLinkBackLinkCurrentPage:genContentLinkBackLinkCurrentPage,searchableLabels:searchableLabels,activeSearchTerms:activeSearchTerms,windowIsLarge:windowIsLarge}},props:{value:{type:Object,required:!0,validator:function(value){return["learning_activities","learner_needs","channels","accessibility_labels","languages","grade_levels"].every((function(k){return Object.prototype.hasOwnProperty.call(value,k)}))}},width:{type:[Number,String],required:!1,default:null},showChannels:{type:Boolean,default:!0}},computed:{closeButtonIcon:function(){return this.currentCategory?"back":"close"},inputValue:{get:function(){return this.value},set:function(value){this.$emit("input",value)}},categoryListItemStyles:function(){return{color:this.$themeTokens.text,width:"100%",border:"2px solid transparent",textAlign:this.isRtl?"right":"left",fontWeight:"normal",textTransform:"none",position:"relative",transition:"none",":hover":this.categoryListItemActiveStyles}},categoryListItemActiveStyles:function(){return{backgroundColor:this.$themeBrand.primary.v_50,border:"2px",borderColor:this.$themeTokens.primary,borderStyle:"solid",borderRadius:"4px"}},availableRootCategories:function(){if(this.searchableLabels){var _step,roots={},_iterator=SearchFiltersPanelvue_type_script_lang_js_createForOfIteratorHelper(this.searchableLabels.categories);try{for(_iterator.s();!(_step=_iterator.n()).done;){roots[_step.value.split(".")[0]]=!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}return roots}return null},availableNeeds:function(){if(this.searchableLabels){var _step2,needs={},_iterator2=SearchFiltersPanelvue_type_script_lang_js_createForOfIteratorHelper(this.searchableLabels.learner_needs);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value;needs[key.split(".")[0]]=!0,needs[key]=!0}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return needs}return null},activeCategories:function(){return Object.keys(this.activeSearchTerms&&this.activeSearchTerms.categories||{})}},methods:{isCategoryActive:function(categoryValue){return this.activeCategories.some((function(k){return k.includes(categoryValue)}))},noCategories:function(){this.$emit("input",SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value),{},{categories:SearchFiltersPanelvue_type_script_lang_js_defineProperty({},external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.NoCategories,!0)}))},hasNestedCategories:function(category){return Object.keys(this.availableLibraryCategories[category].nested).length>0},handleActivity:function(activity){if(activity&&!this.value.learning_activities[activity]){var learning_activities=SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_defineProperty({},activity,!0),this.value.learning_activities);this.$emit("input",SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value),{},{learning_activities:learning_activities}))}else if(activity&&this.value.learning_activities[activity]){var _learning_activities=SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value.learning_activities);delete _learning_activities[activity],this.$emit("input",SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value),{},{learning_activities:_learning_activities}))}},handleNeed:function(need){if(this.value.learner_needs[need]){var learner_needs={};for(var n in this.value.learner_needs)n!==need&&(learner_needs[n]=!0);this.$emit("input",SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value),{},{learner_needs:learner_needs}))}else this.$emit("input",SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value),{},{learner_needs:SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value.learner_needs),{},SearchFiltersPanelvue_type_script_lang_js_defineProperty({},need,!0))}))},setCategory:function(category){if(this.value.categories[category]){var categories=SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value.categories);delete categories[category],this.$emit("input",SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value),{},{categories:categories}))}else{var _categories2=SearchFiltersPanelvue_type_script_lang_js_defineProperty({},category,!0);for(var c in this.value.categories)c.startsWith(category)||(_categories2[c]=!0);this.$emit("input",SearchFiltersPanelvue_type_script_lang_js_objectSpread(SearchFiltersPanelvue_type_script_lang_js_objectSpread({},this.value),{},{categories:_categories2}))}},handleCategory:function(category){this.availableLibraryCategories[category]&&this.availableLibraryCategories[category].nested&&Object.keys(this.availableLibraryCategories[category].nested).length>0?this.currentCategory=category:this.availableLibraryCategories[category]&&this.setCategory(this.availableLibraryCategories[category].value)},selectCategory:function(category){this.setCategory(category),this.currentCategory=null},focusFirstEl:function(){this.$refs.searchBox&&this.$refs.searchBox.focusSearchBox()}},$trs:{keywords:{message:"Keywords",context:"Section header label in the Library page sidebar."},categories:{message:"Categories",context:"Section header label in the Library page sidebar."}}},SearchFiltersPanelvue_type_template_id_9f266606_scoped_true_render,[],!1,null,"9f266606",null).exports;function useCardViewStyle_typeof(o){return useCardViewStyle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useCardViewStyle_typeof(o)}function useCardViewStyle_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function useCardViewStyle_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useCardViewStyle_ownKeys(Object(t),!0).forEach((function(r){useCardViewStyle_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useCardViewStyle_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function useCardViewStyle_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=useCardViewStyle_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useCardViewStyle_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==useCardViewStyle_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var inClasses=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),canDownloadExternally=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!0),canAddDownloads=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1);function prepareLearnApp(){return set(canAddDownloads,plugin_data_src.allowLearnerDownloads),external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.learn:state"]()}).then((function(response){set(inClasses,response.data.in_classes),set(canDownloadExternally,response.data.can_download_externally)}))}function useCoreLearn(){return{inClasses:inClasses,canAddDownloads:canAddDownloads,canDownloadExternally:canDownloadExternally}}var allowDownloadOnMeteredConnection=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(plugin_data_src.allowDownloadOnMeteredConnection);function useDeviceSettings(){return{allowGuestAccess:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.allowGuestAccess})),canAccessUnassignedContent:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.canAccessUnassignedContent})),allowDownloadOnMeteredConnection:allowDownloadOnMeteredConnection}}var flatMap=__webpack_require__(8152),flatMap_default=__webpack_require__.n(flatMap),flatMapDepth=__webpack_require__(6317),flatMapDepth_default=__webpack_require__.n(flatMapDepth),external_kolibriCoreAppGlobal_lib_apiResource_namespaceObject=kolibriCoreAppGlobal.lib.apiResource,LearnerClassroomResource=new external_kolibriCoreAppGlobal_lib_apiResource_namespaceObject.Resource({name:"learnerclassroom",namespace:"kolibri.plugins.learn"}),LearnerLessonResource=new external_kolibriCoreAppGlobal_lib_apiResource_namespaceObject.Resource({name:"learnerlesson",namespace:"kolibri.plugins.learn"});function useLearnerResources_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=useLearnerResources_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useLearnerResources_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return useLearnerResources_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useLearnerResources_unsupportedIterableToArray(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useLearnerResources_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useLearnerResources_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useLearnerResources_arrayLikeToArray(o,minLen):void 0}}function useLearnerResources_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _resumableContentNodes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)([]),moreResumableContentNodes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),classes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)([]),useLearnerResources_fetchContentNodeProgress=useContentNodeProgress().fetchContentNodeProgress;function setResumableContentNodes(nodes){var more=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;set(_resumableContentNodes,nodes),set(moreResumableContentNodes,more),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.cacheData(nodes)}function _cacheLessonResources(lesson){var _step,_iterator=useLearnerResources_createForOfIteratorHelper(lesson.resources);try{for(_iterator.s();!(_step=_iterator.n()).done;){var resource=_step.value;resource.contentnode&&resource.contentnode.content_id&&(external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.cacheData(resource.contentnode),setContentNodeProgress({content_id:resource.contentnode.content_id,progress:resource.progress}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}function setClassData(classroom){var _step2,_iterator2=useLearnerResources_createForOfIteratorHelper(classroom.assignments.lessons);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_cacheLessonResources(_step2.value)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}function setClasses(classData){set(classes,classData);var _step3,_iterator3=useLearnerResources_createForOfIteratorHelper(classData);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){setClassData(_step3.value)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}function useLearnerResources(){var _classesQuizzes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return flatMap_default()(shared_get(classes),(function(c){return c.assignments.exams}))})),activeClassesLessons=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return flatMap_default()(shared_get(classes),(function(c){return c.assignments.lessons}))})),_classesResources=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return flatMapDepth_default()(shared_get(classes),(function(c){return c.assignments.lessons.map((function(l){return l.resources.map((function(r){return{contentNodeId:r.contentnode_id,progress:r.progress,lessonId:l.id,classId:c.id,contentNode:r.contentnode}}))}))}),2)})),activeClassesQuizzes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(_classesQuizzes).filter((function(quiz){return quiz.active}))})),resumableClassesQuizzes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(activeClassesQuizzes).filter((function(quiz){return quiz.progress.started&&!quiz.progress.closed}))})),resumableClassesResources=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(_classesResources).filter((function(resource){return resource.progress&&resource.progress<1&&resource.contentNode}))})),learnerFinishedAllClasses=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){var hasUnfinishedLesson=shared_get(activeClassesLessons).some((function(lesson){return lesson.progress.resource_progress<lesson.progress.total_resources})),hasUnfinishedQuiz=shared_get(activeClassesQuizzes).some((function(quiz){return!quiz.progress.closed}));return!(hasUnfinishedLesson||hasUnfinishedQuiz)}));function getClass(classId){return shared_get(classes).find((function(c){return c.id===classId}))}var resumableContentNodes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return deduplicateResources(shared_get(_resumableContentNodes))}));return{classes:classes,activeClassesLessons:activeClassesLessons,activeClassesQuizzes:activeClassesQuizzes,resumableClassesQuizzes:resumableClassesQuizzes,resumableClassesResources:resumableClassesResources,learnerFinishedAllClasses:learnerFinishedAllClasses,getClass:getClass,getClassActiveLessons:function(classId){var classroom=getClass(classId);return classroom&&classroom.assignments&&classroom.assignments.lessons?classroom.assignments.lessons.filter((function(lesson){return lesson.is_active})):[]},getClassActiveQuizzes:function(classId){var classroom=getClass(classId);return classroom&&classroom.assignments&&classroom.assignments.exams?classroom.assignments.exams.filter((function(exam){return exam.active})):[]},getClassLessonLink:function(lesson){if(lesson)return{name:constants_ClassesPageNames.LESSON_PLAYLIST,params:{classId:lesson.collection,lessonId:lesson.id}}},getClassQuizLink:function(quiz){if(quiz&&quiz.progress)return quiz.progress.closed?{name:constants_ClassesPageNames.EXAM_REPORT_VIEWER,params:{classId:quiz.collection,examId:quiz.id,questionNumber:0,questionInteraction:0,tryIndex:0}}:{name:constants_ClassesPageNames.EXAM_VIEWER,params:{classId:quiz.collection,examId:quiz.id,questionNumber:0}}},fetchClass:function(_ref){var classId=_ref.classId,_ref$force=_ref.force,force=void 0!==_ref$force&&_ref$force;return LearnerClassroomResource.fetchModel({id:classId,force:force}).then((function(classroom){var updatedClasses=[].concat(useLearnerResources_toConsumableArray(shared_get(classes).filter((function(c){return c.id!==classId}))),[classroom]);return set(classes,updatedClasses),setClassData(classroom),classroom}))},fetchClasses:function(){var _ref2$force=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force,force=void 0!==_ref2$force&&_ref2$force;return LearnerClassroomResource.fetchCollection({force:force}).then((function(collection){set(classes,collection)}))},fetchLesson:function(){var lessonId=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).lessonId;return LearnerLessonResource.fetchModel({id:lessonId}).then((function(lesson){return _cacheLessonResources(lesson),lesson}))},fetchResumableContentNodes:function(){var params={resume:!0,max_results:12,ordering:"-last_interacted"};return useLearnerResources_fetchContentNodeProgress(params),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchResume(params).then((function(_ref4){var results=_ref4.results,more=_ref4.more;return results&&results.length?(setResumableContentNodes(results,more),results):[]}))},fetchMoreResumableContentNodes:function(){var params=shared_get(moreResumableContentNodes);return params?(useLearnerResources_fetchContentNodeProgress(params),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchResume(params).then((function(_ref5){var results=_ref5.results,more=_ref5.more;return results&&results.length?(function(nodes){var more=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;set(_resumableContentNodes,[].concat(useLearnerResources_toConsumableArray(shared_get(_resumableContentNodes)),useLearnerResources_toConsumableArray(nodes))),set(moreResumableContentNodes,more),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.cacheData(nodes)}(results,more),results):[]}))):Promise.resolve()},resumableContentNodes:resumableContentNodes,moreResumableContentNodes:moreResumableContentNodes}}var BrowseResourceMetadatavue_type_template_id_083ec9ff_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",{staticClass:"metadata"},[_c("div",{staticClass:"flex section"},[_c("div",[_vm.forBeginners?_c("span",{staticClass:"beginners-chip",style:{backgroundColor:_vm.$themeBrand.secondary.v_600,color:_vm.$themeTokens.textInverted},attrs:{"data-test":"beginners-chip"}},[_vm._v("\n        "+_vm._s(_vm.coreString("forBeginners"))+"\n      ")]):_vm._e()]),_c("div",[_c("KRouterLink",{ref:"resourceButton",attrs:{text:_vm.learnString("viewResource"),appearance:"raised-button",primary:!1,to:_vm.genContentLinkKeepCurrentBackLink(_vm.content.id,_vm.content.is_leaf),"data-test":"view-resource-link"}})],1)]),_c("div",{staticClass:"section"},[_c("ContentNodeThumbnail",{attrs:{contentNode:_vm.content}})],1),_vm.content.title?_c("div",{staticClass:"section title",attrs:{"data-test":"content-title"}},[_vm._v("\n    "+_vm._s(_vm.content.title)+"\n  ")]):_vm._e(),_vm.content.description?_c("div",{ref:"description",staticClass:"content",class:_vm.truncate,attrs:{"data-test":"content-description"}},[_vm._v("\n    "+_vm._s(_vm.content.description)+"\n  ")]):_vm._e(),_vm.descriptionOverflow?_c("KButton",{staticClass:"show-more-button",attrs:{text:_vm.showMoreOrLess,appearance:"basic-link","data-test":"show-more-or-less",primary:!0},on:{click:_vm.toggleShowMoreOrLess}}):_c("div",{staticClass:"section"}),_vm.content.duration?_c("div",{staticClass:"section",attrs:{"data-test":"estimated-time"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("estimatedTime"))+":\n    ")]),_c("span",[_c("TimeDuration",{attrs:{seconds:_vm.content.duration}})],1)]):_vm._e(),_vm.content.grade_levels&&_vm.content.grade_levels.length?_c("div",{staticClass:"section",attrs:{"data-test":"grade-levels"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.coreString("levelLabel"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.levels(_vm.content.grade_levels))+"\n    ")])]):_vm._e(),_vm.content.lang?_c("div",{staticClass:"section",attrs:{"data-test":"lang"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.coreString("languageLabel"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.content.lang.lang_name)+"\n    ")])]):_vm._e(),_vm.accessibilityLabels?_c("div",{staticClass:"section",attrs:{"data-test":"accessibility-labels"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.coreString("accessibility"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.accessibilityLabels)+"\n    ")])]):_vm._e(),_vm.content.learner_needs?_c("div",{staticClass:"section",attrs:{"data-test":"learner-needs"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("whatYouWillNeed"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.learnerNeedsLabels)+"\n    ")])]):_vm._e(),_vm.content.author?_c("div",{staticClass:"section",attrs:{"data-test":"author"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("author"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.content.author)+"\n    ")])]):_vm._e(),_vm.content.license_owner?_c("div",{staticClass:"section",attrs:{"data-test":"license-owner"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("copyrightHolder"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.content.license_owner)+"\n    ")])]):_vm._e(),_vm.licenseDescription?_c("div",{staticClass:"section",attrs:{"data-test":"license-desc"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("license"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.licenseShortName||"")+"\n      "),_c("KIconButton",{staticClass:"absolute-icon license-toggle",attrs:{icon:_vm.licenseDescriptionIsVisible?"chevronUp":"chevronDown",ariaLabel:_vm.learnString("toggleLicenseDescription"),size:"small",type:"secondary"},on:{click:function($event){_vm.licenseDescriptionIsVisible=!_vm.licenseDescriptionIsVisible}}}),_vm.licenseDescriptionIsVisible?_c("div",{staticClass:"license-details"},[_c("p",{staticClass:"license-details-name"},[_vm._v("\n          "+_vm._s(_vm.licenseLongName)+"\n        ")]),_c("p",{staticStyle:{"margin-bottom":"0"}},[_vm._v(_vm._s(_vm.licenseDescription))])]):_vm._e()],1)]):_vm._e(),_vm.recommendations?_c("div",{staticClass:"related section",attrs:{"data-test":"recommendations"}},[_c("div",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.coreString("related"))+":\n    ")]),_c("div",{staticClass:"list"},_vm._l(_vm.recommendations,(function(related){return _c("div",{key:related.title,staticClass:"list-item"},[_c("KRouterLink",{attrs:{to:_vm.genContentLinkKeepCurrentBackLink(related.id,related.is_leaf)}},[_c("KLabeledIcon",{scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("LearningActivityIcon",{attrs:{kind:related.learning_activities}})]},proxy:!0}],null,!0)},[_vm._v("\n            "+_vm._s(related.title)+"\n          ")])],1)],1)})),0)]):_vm._e(),_vm.showLocationsInChannel&&_vm.locationsInChannel?_c("div",{staticClass:"section",attrs:{"data-test":"locations"}},[_c("div",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("locationsInChannel",{channelname:(_vm.content.ancestors[0]||{}).title}))+":\n    ")]),_vm._l(_vm.locationsInChannel,(function(location){return _c("div",{key:location.id},[_c("div",[_c("KRouterLink",{attrs:{to:_vm.genContentLinkKeepCurrentBackLink(_vm.lastAncestor(location).id,!1)}},[_vm._v("\n          "+_vm._s(_vm.lastAncestor(location).title)+"\n        ")])],1)])}))],2):_vm._e(),_vm.canDownloadExternally?_c("div",{staticClass:"section",attrs:{"data-test":"download"}},[_c("DownloadButton",{attrs:{files:_vm.content.files,nodeTitle:_vm.content.title}})],1):_vm._e()],1)};BrowseResourceMetadatavue_type_template_id_083ec9ff_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_namespaceObject=kolibriCoreAppGlobal.coreVue.components.TimeDuration,external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_DownloadButton_namespaceObject=kolibriCoreAppGlobal.coreVue.components.DownloadButton,external_kolibriCoreAppGlobal_coreVue_components_DownloadButton_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_DownloadButton_namespaceObject),get=__webpack_require__(8334),get_default=__webpack_require__.n(get),external_kolibriCoreAppGlobal_utils_licenseTranslations_namespaceObject=kolibriCoreAppGlobal.utils.licenseTranslations,Needs_FOR_BEGINNERS="sccgQZDd.sAQsauuo",LearningActivityIconvue_type_template_id_7c351806_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return this.icon?_c("KIcon",{attrs:{icon:this.icon}}):this._e()};function LearningActivityIconvue_type_script_lang_js_typeof(o){return LearningActivityIconvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LearningActivityIconvue_type_script_lang_js_typeof(o)}function LearningActivityIconvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=LearningActivityIconvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LearningActivityIconvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==LearningActivityIconvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}LearningActivityIconvue_type_template_id_7c351806_render._withStripped=!0;var LearningActivityToIconMap=LearningActivityIconvue_type_script_lang_js_defineProperty(LearningActivityIconvue_type_script_lang_js_defineProperty(LearningActivityIconvue_type_script_lang_js_defineProperty(LearningActivityIconvue_type_script_lang_js_defineProperty(LearningActivityIconvue_type_script_lang_js_defineProperty(LearningActivityIconvue_type_script_lang_js_defineProperty(LearningActivityIconvue_type_script_lang_js_defineProperty({},external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.CREATE,"create"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.LISTEN,"listen"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.REFLECT,"reflect"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.PRACTICE,"practice"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.READ,"read"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.WATCH,"watch"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.EXPLORE,"interact"),LearningActivityIcon=normalizeComponent({name:"LearningActivityIcon",props:{kind:{type:[String,Array],required:!0,validator:function(value){if(!value.length)return!0;var isValidLearningActivity=function(v){return Object.values(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities).includes(v)};return Array.isArray(value)&&value.length>0?value.every(isValidLearningActivity):"string"==typeof value&&isValidLearningActivity(value)}},shaded:{type:Boolean,required:!1,default:!1}},computed:{icon:function(){var icon;if(void 0===this.kind||null===this.kind)return null;if(Array.isArray(this.kind)){if(0===this.kind.length)return null;if(1===this.kind.length&&(icon=LearningActivityToIconMap[this.kind[0]]),this.kind.length>1)return"allActivities"}else icon=LearningActivityToIconMap[this.kind];return icon+(this.shaded?"Shaded":"Solid")}}},LearningActivityIconvue_type_template_id_7c351806_render,[],!1,null,null,null).exports,ContentNodeThumbnailvue_type_template_id_0ff52bd6_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("Thumbnail",{attrs:{thumbnailUrl:_vm.thumbnailUrl,rounded:_vm.rounded},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_vm.contentNode.is_leaf?_c("LearningActivityIcon",{attrs:{kind:_vm.contentNode.learning_activities}}):_c("KIcon",{attrs:{icon:"topic",color:_vm.$themePalette.grey.v_500}})]},proxy:!0},{key:"labels",fn:function(){return[_vm._t("labels")]},proxy:!0}],null,!0)})};ContentNodeThumbnailvue_type_template_id_0ff52bd6_render._withStripped=!0;var external_kolibriCoreAppGlobal_utils_contentNode_namespaceObject=kolibriCoreAppGlobal.utils.contentNode,Thumbnailvue_type_template_id_6161037d_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("span",{staticClass:"thumbnail",style:this.thumbnailStyles},[_c("span",{staticClass:"icon"},[this._t("icon")],2),this.thumbnailUrl?_c("img",{staticClass:"image",attrs:{src:this.thumbnailUrl,alt:""}}):this._e(),this._t("labels")],2)};Thumbnailvue_type_template_id_6161037d_scoped_true_render._withStripped=!0;var Thumbnailvue_type_script_lang_js={name:"Thumbnail",props:{thumbnailUrl:{type:String,required:!1,default:""},rounded:{type:Boolean,required:!1,default:!1}},computed:{thumbnailStyles:function(){var styles={backgroundColor:this.$themePalette.grey.v_200};return this.rounded&&(styles.borderRadius="4px",styles.overflow="hidden"),styles}}},Thumbnail=normalizeComponent(Thumbnailvue_type_script_lang_js,Thumbnailvue_type_template_id_6161037d_scoped_true_render,[],!1,null,"6161037d",null).exports,ContentNodeThumbnail=normalizeComponent({name:"ContentNodeThumbnail",components:{LearningActivityIcon:LearningActivityIcon,Thumbnail:Thumbnail},setup:function(){return{getChannelThumbnail:useChannels().getChannelThumbnail}},props:{contentNode:{type:Object,required:!0},rounded:{type:Boolean,required:!1,default:!1}},computed:{thumbnailUrl:function(){var thumbnail=(0,external_kolibriCoreAppGlobal_utils_contentNode_namespaceObject.getContentNodeThumbnail)(this.contentNode);if(!thumbnail&&!this.contentNode.parent)return this.getChannelThumbnail(this.contentNode&&this.contentNode.channel_id);return thumbnail}}},ContentNodeThumbnailvue_type_template_id_0ff52bd6_render,[],!1,null,null,null).exports,BrowseResourceMetadatavue_type_script_lang_js={name:"BrowseResourceMetadata",components:{DownloadButton:external_kolibriCoreAppGlobal_coreVue_components_DownloadButton_default(),LearningActivityIcon:LearningActivityIcon,TimeDuration:external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default(),ContentNodeThumbnail:ContentNodeThumbnail},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],setup:function(){return{genContentLinkKeepCurrentBackLink:useContentLink().genContentLinkKeepCurrentBackLink}},props:{content:{type:Object,required:!0},showLocationsInChannel:{type:Boolean,default:!1},canDownloadExternally:{type:Boolean,default:!1}},data:function(){return{licenseDescriptionIsVisible:!1,showMoreOrLess:"Show More",truncate:"truncate-description",descriptionOverflow:!1,recommendations:null,locationsInChannel:null}},computed:{forBeginners:function(){return get_default()(this.content,"learner_needs",[]).includes(Needs_FOR_BEGINNERS)},learnerNeeds:function(){return get_default()(this.content,"learner_needs",[]).filter((function(need){return need!==Needs_FOR_BEGINNERS}))},accessibilityLabels:function(){var _this=this;return this.content.accessibility_labels.map((function(label){return _this.coreString(label)})).join(", ")},learnerNeedsLabels:function(){var _this2=this;return this.learnerNeeds.map((function(label){return _this2.coreString(label)})).join(", ")},licenseShortName:function(){return(0,external_kolibriCoreAppGlobal_utils_licenseTranslations_namespaceObject.licenseShortName)(get_default()(this,"content.license_name",null))},licenseLongName:function(){return(0,external_kolibriCoreAppGlobal_utils_licenseTranslations_namespaceObject.licenseLongName)(get_default()(this,"content.license_name",null))},licenseDescription:function(){return(0,external_kolibriCoreAppGlobal_utils_licenseTranslations_namespaceObject.licenseDescriptionForConsumer)(get_default()(this,"content.license_name",null),get_default()(this,"content.license_description",null))}},mounted:function(){var _this3=this;external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchRecommendationsFor(this.content.id).then((function(recommendations){var threeRecs=recommendations.splice(0,3);_this3.recommendations=threeRecs.length?threeRecs:null})),this.showLocationsInChannel&&external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:{content_id:this.content.content_id,channel_id:this.content.channel_id}}).then((function(){var locations=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(locations=locations.filter((function(loc){return loc.id!==_this3.content.id})))&&locations.length&&(_this3.locationsInChannel=locations)})),this.calculateDescriptionOverflow()},methods:{lastAncestor:function(location){var lastAncestor=location.ancestors[location.ancestors.length-1];return lastAncestor},toggleShowMoreOrLess:function(){return"Show More"===this.showMoreOrLess?(this.showMoreOrLess="Show Less",this.truncate="show-description",this.learnString("showLess")):(this.showMoreOrLess="Show More",this.truncate="truncate-description",this.learnString("showMore"))},calculateDescriptionOverflow:function(){this.$refs.description&&this.$refs.description.scrollHeight>175&&(this.descriptionOverflow=!0)},levels:function(_levels){var _this4=this,matches=Object.keys(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels).sort().filter((function(k){return _levels.includes(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels[k])}));if(matches&&matches.length>0){var adjustedMatches=[];return matches.map((function(key){var translationKey;translationKey="PROFESSIONAL"===key?"specializedProfessionalTraining":"WORK_SKILLS"===key?"allLevelsWorkSkills":"BASIC_SKILLS"===key?"allLevelsBasicSkills":camelCase_default()(key),adjustedMatches.push(translationKey)})),adjustedMatches=adjustedMatches.map((function(m){return _this4.coreString(m)})).join(", ")}return"-"},focusFirstEl:function(){this.$refs.resourceButton.$el.focus()}}},BrowseResourceMetadata=normalizeComponent(BrowseResourceMetadatavue_type_script_lang_js,BrowseResourceMetadatavue_type_template_id_083ec9ff_scoped_true_render,[],!1,null,"083ec9ff",null).exports,ChannelCardGroupGridvue_type_template_id_be9244ae_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KGrid",{attrs:{gutter:"16"}},[_vm._l(_vm.contents,(function(content){return _c("KGridItem",{key:content.id,attrs:{layout:{span:_vm.layoutSpan}}},[_c("ChannelCard",{attrs:{isMobile:_vm.windowIsSmall,title:content.title||content.name,thumbnail:content.thumbnail,tagline:content.tagline||content.description,numCoachContents:content.num_coach_contents,link:_vm.genContentLinkBackLinkCurrentPage(content.id,!1,_vm.deviceId),isRemote:_vm.isRemote}})],1)})),_vm._t("default")],2)};function useCardLayoutSpan(){var _useKResponsiveWindow=external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()(),windowBreakpoint=_useKResponsiveWindow.windowBreakpoint,windowIsSmall=_useKResponsiveWindow.windowIsSmall,cardsPerRow=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(windowIsSmall)?1:shared_get(windowBreakpoint)<3?2:shared_get(windowBreakpoint)<7?3:4}));return{layoutSpan:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(windowBreakpoint)<2?4/shared_get(cardsPerRow):2===shared_get(windowBreakpoint)?8/shared_get(cardsPerRow):12/shared_get(cardsPerRow)})),makeComputedCardCount:function(rows,minCards){return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){var numCards=Math.max(shared_get(cardsPerRow)*rows,minCards);return Math.ceil(numCards/shared_get(cardsPerRow))*shared_get(cardsPerRow)}))}}}ChannelCardGroupGridvue_type_template_id_be9244ae_scoped_true_render._withStripped=!0;var ChannelCardvue_type_template_id_3087e204_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("router-link",{staticClass:"card-main-wrapper",class:_vm.$computedClass({":focus":_vm.$coreOutline}),style:_vm.cardStyle,attrs:{to:_vm.link}},[_vm.explore?_c("div",{staticClass:"explore"},[_c("h1",[_vm._v("\n      "+_vm._s(_vm.title)+"\n    ")])]):_c("div",[_c("h3",{staticClass:"title",style:{borderBottom:"1px solid "+_vm.$themeTokens.fineLine},attrs:{dir:"auto"}},[_c("TextTruncatorCss",{attrs:{text:_vm.title,maxLines:2,showTooltip:!0}})],1),_c("KFixedGrid",{staticStyle:{margin:"0 16px"},attrs:{numCols:"4",gutter:"16"}},[_c("KFixedGridItem",{attrs:{span:"1"}},[_c("ChannelThumbnail",_vm._b({staticClass:"thumbnail"},"ChannelThumbnail",{thumbnail:_vm.thumbnail,isMobile:_vm.isMobile},!1))],1),_c("KFixedGridItem",{attrs:{span:"3",alignment:"auto"}},[_c("TextTruncatorCss",{attrs:{text:_vm.tagline,maxLines:4,showTooltip:!1}})],1)],1),_vm.isUserLoggedIn&&!_vm.isLearner?_c("CoachContentLabel",{staticClass:"coach-content-label",attrs:{value:_vm.numCoachContents,isTopic:!0}}):_vm._e(),_vm.version?_c("div",{staticClass:"version-wrapper",style:_vm.versionStyle},[_c("p",[_vm._v(_vm._s(_vm.$tr("version",{version:_vm.version})))])]):_vm._e(),_vm.isRemote?_c("div",{staticClass:"wifi-icon"},[_c("KIcon",{attrs:{icon:"wifi"}})],1):_vm._e()],1)])};ChannelCardvue_type_template_id_3087e204_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_utils_validators_namespaceObject=kolibriCoreAppGlobal.utils.validators,external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoachContentLabel,external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_namespaceObject=kolibriCoreAppGlobal.coreVue.components.TextTruncatorCss,external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_namespaceObject),ChannelThumbnailvue_type_template_id_584bdafd_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"card-thumbnail-wrapper",class:{"mobile-thumbnail":this.isMobile},style:this.thumbnailBackground},[this.thumbnail?this._e():_c("ContentIcon",{staticClass:"type-icon",attrs:{kind:"channel",color:this.$themeTokens.annotation}})],1)};ChannelThumbnailvue_type_template_id_584bdafd_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_namespaceObject=kolibriCoreAppGlobal.coreVue.components.ContentIcon,external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_namespaceObject),ChannelThumbnail=normalizeComponent({name:"ChannelThumbnail",components:{ContentIcon:external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_default()},props:{thumbnail:{type:String,default:null},isMobile:{type:Boolean,default:!1}},computed:{thumbnailBackground:function(){return{backgroundColor:this.$themeTokens.surface,backgroundImage:this.thumbnail?"url('".concat(this.thumbnail,"')"):""}}}},ChannelThumbnailvue_type_template_id_584bdafd_scoped_true_render,[],!1,null,"584bdafd",null).exports;function ChannelCardvue_type_script_lang_js_typeof(o){return ChannelCardvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ChannelCardvue_type_script_lang_js_typeof(o)}function ChannelCardvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ChannelCardvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ChannelCardvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ChannelCardvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ChannelCardvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ChannelCardvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ChannelCardvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ChannelCardvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ChannelCardvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ChannelCard_component=normalizeComponent({name:"ChannelCard",components:{ChannelThumbnail:ChannelThumbnail,CoachContentLabel:external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_default(),TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],props:{title:{type:String,required:!0},tagline:{type:String,default:null},thumbnail:{type:String,default:null},numCoachContents:{type:Number,default:0},link:{type:Object,required:!0,validator:external_kolibriCoreAppGlobal_utils_validators_namespaceObject.validateLinkObject},isMobile:{type:Boolean,default:!1},version:{type:Number,required:!1,default:null},isRemote:{type:Boolean,required:!1,default:!1},explore:{type:Boolean,required:!1,default:!1}},computed:ChannelCardvue_type_script_lang_js_objectSpread(ChannelCardvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isLearner","isUserLoggedIn"])),{},{overallHeight:function(){return 270},cardStyle:function(){return{backgroundColor:this.$themeTokens.surface,color:this.$themeTokens.text,marginBottom:"".concat(this.windowGutter,"px"),minHeight:"".concat(this.overallHeight,"px")}},versionStyle:function(){return{color:this.$themeTokens.annotation}}}),$trs:{version:{message:"Version {version, number, integer}",context:"Indicates the channel version. This can be updated when new resources are made available in a channel."}}},ChannelCardvue_type_template_id_3087e204_scoped_true_render,[],!1,null,"3087e204",null),ChannelCardGroupGrid=normalizeComponent({name:"ChannelCardGroupGrid",components:{ChannelCard:ChannelCard_component.exports},setup:function(){return{genContentLinkBackLinkCurrentPage:useContentLink().genContentLinkBackLinkCurrentPage,windowIsSmall:external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()().windowIsSmall,layoutSpan:useCardLayoutSpan().layoutSpan}},props:{contents:{type:Array,required:!0},deviceId:{type:String,required:!1,default:null},isRemote:{type:Boolean,default:!1}}},ChannelCardGroupGridvue_type_template_id_be9244ae_scoped_true_render,[],!1,null,"be9244ae",null).exports,LearningActivityChipvue_type_template_id_54af2aed_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"activity-chip",style:{backgroundColor:_vm.$themePalette.grey.v_100}},[_c("KLabeledIcon",{staticClass:"activity-chip-label",attrs:{label:_vm.coreString(_vm.kind)},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("LearningActivityIcon",{attrs:{kind:_vm.kind}})]},proxy:!0}])})],1)};LearningActivityChipvue_type_template_id_54af2aed_scoped_true_render._withStripped=!0;var LearningActivityChip=normalizeComponent({name:"LearningActivityChip",components:{LearningActivityIcon:LearningActivityIcon},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{kind:{type:String,required:!0,validator:function(value){return Object.values(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities).includes(value)}}}},LearningActivityChipvue_type_template_id_54af2aed_scoped_true_render,[],!1,null,"54af2aed",null).exports,SearchResultsGridvue_type_template_id_7ac229f1_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.searchLoading?_vm._e():_c("div",[_c("h2",{staticClass:"results-title",attrs:{"data-test":"search-results-title"}},[_vm._v("\n    "+_vm._s(_vm.more?_vm.coreString("uncountedAdditionalResults",{num:_vm.results.length}):_vm.$tr("results",{results:_vm.results.length}))+"\n  ")]),_c("SearchChips",{attrs:{searchTerms:_vm.searchTerms},on:{removeItem:_vm.removeFilterTag,clearSearch:_vm.clearSearch}}),_vm.windowIsSmall||!_vm.results.length||_vm.hideCardViewToggle?_vm._e():_c("div",{staticClass:"toggle-view-buttons",attrs:{"data-test":"toggle-view-buttons"}},[_c("KIconButton",{attrs:{icon:"menu",ariaLabel:_vm.$tr("viewAsList"),color:_vm.$themeTokens.text,tooltip:_vm.$tr("viewAsList"),disabled:"list"===_vm.currentCardViewStyle},on:{click:function($event){return _vm.toggleCardView("list")}}}),_c("KIconButton",{attrs:{icon:"channel",ariaLabel:_vm.$tr("viewAsGrid"),color:_vm.$themeTokens.text,tooltip:_vm.$tr("viewAsGrid"),disabled:"card"===_vm.currentCardViewStyle},on:{click:function($event){return _vm.toggleCardView("card")}}})],1),_c("LibraryAndChannelBrowserMainContent",{attrs:{contents:_vm.results,allowDownloads:_vm.allowDownloads,"data-test":"search-results-card-grid",currentCardViewStyle:_vm.currentCardViewStyle,gridType:_vm.gridType},on:{openCopiesModal:function(copies){return _vm.displayedCopies=copies},toggleInfoPanel:function($event){return _vm.$emit("setSidePanelMetadataContent",$event)}}}),_vm.more?_c("KButton",{staticClass:"filter-action-button",attrs:{text:_vm.coreString("viewMoreAction"),appearance:"basic-link",disabled:_vm.moreLoading,"data-test":"more-results-button"},on:{click:_vm.searchMore}}):_vm._e(),_vm.displayedCopies.length?_c("CopiesModal",{attrs:{copies:_vm.displayedCopies},on:{submit:function($event){_vm.displayedCopies=[]}}}):_vm._e()],1)};SearchResultsGridvue_type_template_id_7ac229f1_scoped_true_render._withStripped=!0;var CopiesModalvue_type_template_id_4c0e7810_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.displayedCopies.length?_c("KModal",{attrs:{title:_vm.$tr("copies"),submitText:_vm.coreString("closeAction")},on:{submit:function($event){return _vm.$emit("closeModal")}}},[_c("transition",{attrs:{mode:"out-in"}},[_c("ul",_vm._l(_vm.copies,(function(copy,index){return _c("li",{key:index,staticClass:"copy"},[_c("div",{staticClass:"title"},[_c("KRouterLink",{attrs:{text:copy.title,to:_vm.contentLink(copy)}})],1),_c("ol",_vm._l(copy.ancestors,(function(ancestor,index2){return _c("li",{key:index2,staticClass:"ancestor",class:{arrow:index2<copy.ancestors.length-1}},[_vm._v("\n            "+_vm._s(ancestor.title)+"\n          ")])})),0)])})),0)])],1):_vm._e()};CopiesModalvue_type_template_id_4c0e7810_scoped_true_render._withStripped=!0;var CopiesModal=normalizeComponent({name:"CopiesModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){return{genContentLinkBackLinkCurrentPage:useContentLink().genContentLinkBackLinkCurrentPage}},props:{displayedCopies:{type:Object,required:!0}},methods:{contentLink:function(copy){return this.genContentLinkBackLinkCurrentPage(copy.id,!0)}},$trs:{copies:{message:"Locations",context:'Some Kolibri resources may be duplicated in different topics or channels.\n\nSearch results will indicate when a resource is duplicated, and learners can click on the "...locations" link to discover the details for each location of the resource.'}}},CopiesModalvue_type_template_id_4c0e7810_scoped_true_render,[],!1,null,"4c0e7810",null).exports,SearchChipsvue_type_template_id_6482b54a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"results-header-group"},[_vm._l(_vm.items,(function(item){return _c("div",{key:item.key+item.value,staticClass:"filter-chip",style:{backgroundColor:_vm.$themePalette.grey.v_300}},[_c("span",[_c("p",{staticClass:"filter-chip-text"},[_vm._v(_vm._s(item.text))]),_c("KIconButton",{staticClass:"filter-chip-button",attrs:{icon:"delete",size:"mini"},on:{click:function($event){return _vm.$emit("removeItem",item)}}})],1)])})),_c("KButton",{staticClass:"filter-action-button",attrs:{text:_vm.coreString("clearAllAction"),appearance:"basic-link"},on:{click:function($event){return _vm.$emit("clearSearch")}}})],2)};SearchChipsvue_type_template_id_6482b54a_scoped_true_render._withStripped=!0;var SearchChipsvue_type_script_lang_js={name:"SearchChips",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var languagesMap=useLanguages().languagesMap;return{channelsMap:useChannels().channelsMap,languagesMap:languagesMap}},props:{searchTerms:{type:Object,default:function(){return{}}}},computed:{items:function(){var _this=this;return flatMap_default()(this.searchTerms,(function(value,key){return"keywords"===key&&value&&value.length?[{text:value,key:key,value:value}]:Object.keys(value).map((function(val){return{value:val,key:key,text:_this.translate(key,val)}}))}))}},methods:{translate:function(key,value){return"languages"===key?this.languagesMap[value].lang_name:"channels"===key?this.channelsMap[value].name:"categories"===key&&value===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.NoCategories?this.coreString("uncategorized"):this.coreString(value)}}},SearchChips=normalizeComponent(SearchChipsvue_type_script_lang_js,SearchChipsvue_type_template_id_6482b54a_scoped_true_render,[],!1,null,"6482b54a",null).exports,LibraryAndChannelBrowserMainContentvue_type_template_id_ea029266_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c(_vm.windowIsSmall||"list"!==_vm.currentCardViewStyle?"CardGrid":"div",{tag:"component",style:{maxWidth:"1700px"},attrs:{"data-test":(_vm.windowIsSmall?"":"non-")+"mobile-card-grid",gridType:_vm.gridType}},_vm._l(_vm.contents,(function(contentNode,idx){return _c(_vm.componentType,{key:"resource-"+idx,tag:"component",attrs:{"data-test":_vm.componentType+"-"+idx,contentNode:contentNode,to:_vm.contentLink(contentNode.id,contentNode.is_leaf)},on:{openCopiesModal:function($event){return _vm.$emit("openCopiesModal",contentNode.copies)}},scopedSlots:_vm._u([{key:"footer",fn:function(){return[_c("HybridLearningFooter",{attrs:{contentNode:contentNode,allowDownloads:_vm.allowDownloads},on:{toggleInfoPanel:function($event){return _vm.$emit("toggleInfoPanel",contentNode)}}})]},proxy:!0}],null,!0)})})),1)],1)};LibraryAndChannelBrowserMainContentvue_type_template_id_ea029266_render._withStripped=!0;var CardGridvue_type_template_id_67de95d7_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("div",{staticClass:"cards-grid",class:[this.gridClass,this.levelClass]},[this._t("default")],2)};CardGridvue_type_template_id_67de95d7_scoped_true_render._withStripped=!0;var GRID_TYPE_1=1,GRID_TYPE_2=2,CardGrid=normalizeComponent({name:"CardGrid",setup:function(){return{windowBreakpoint:external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()().windowBreakpoint}},props:{gridType:{type:Number,required:!1,default:GRID_TYPE_1,validator:function(value){return[GRID_TYPE_1,GRID_TYPE_2].includes(value)}}},computed:{gridClass:function(){switch(this.gridType){case GRID_TYPE_1:return"grid-type-1";case GRID_TYPE_2:return"grid-type-2";default:return"grid-type-1"}},levelClass:function(){return"level-".concat(this.windowBreakpoint)}}},CardGridvue_type_template_id_67de95d7_scoped_true_render,[],!1,null,"67de95d7",null).exports,ResourceCardvue_type_template_id_7f79233e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.contentNode?_c("div",{staticClass:"resource-card-outer"},[_vm.contentNode.is_leaf?_vm._e():_c("div",{staticClass:"topic-bar",style:{backgroundColor:_vm.$themeTokens.text}}),_c("BaseCard",_vm._b({staticClass:"resource-card",scopedSlots:_vm._u([{key:"topLeft",fn:function(){return[_c("ContentNodeThumbnail",{attrs:{contentNode:_vm.contentNode,rounded:""}})]},proxy:!0},{key:"topRight",fn:function(){return[_vm.contentNode.is_leaf?_c("LearningActivityLabel",{attrs:{contentNode:_vm.contentNode}}):_c("KLabeledIcon",{attrs:{iconAfter:"topic",label:_vm.coreString("folder")}}),_vm.contentNode.copies?_c("KButton",{staticClass:"copies",attrs:{appearance:"basic-link",text:_vm.coreString("copies",{num:_vm.contentNode.copies.length})},on:{click:function($event){return $event.preventDefault(),_vm.$emit("openCopiesModal",_vm.contentNode.copies)}}}):_vm._e()]},proxy:!0},{key:"progress",fn:function(){return[_vm.$slots.footer?_vm._e():_c("ProgressBar",{attrs:{contentNode:_vm.contentNode}})]},proxy:!0}],null,!1,2713901191)},"BaseCard",{to:_vm.to,title:_vm.title,collectionTitle:_vm.collectionTitle},!1)),_vm._t("footer")],2):_vm._e()};ResourceCardvue_type_template_id_7f79233e_scoped_true_render._withStripped=!0;var ProgressBarvue_type_template_id_f9aad6e4_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.progress?_c("div",{staticClass:"progress-bar-wrapper",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":100*_vm.progress}},[_vm.completed?_c("p",{staticClass:"completion-label",style:{color:_vm.$themePalette.grey.v_700}},[_c("ProgressIcon",{staticClass:"completion-icon",attrs:{progress:_vm.progress}}),_vm._v("\n    "+_vm._s(_vm.coreString("completedLabel"))+"\n  ")],1):_vm._e(),_vm.progress&&!_vm.completed?_c("KLinearLoader",{staticClass:"k-linear-loader",style:{backgroundColor:_vm.$themeTokens.fineLine},attrs:{delay:!1,progress:100*_vm.progress,type:"determinate"}}):_vm._e()],1):_vm._e()};ProgressBarvue_type_template_id_f9aad6e4_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_ProgressIcon_namespaceObject=kolibriCoreAppGlobal.coreVue.components.ProgressIcon,external_kolibriCoreAppGlobal_coreVue_components_ProgressIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_ProgressIcon_namespaceObject),ProgressBar=normalizeComponent({name:"ProgressBar",components:{ProgressIcon:external_kolibriCoreAppGlobal_coreVue_components_ProgressIcon_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){return{contentNodeProgressMap:useContentNodeProgress().contentNodeProgressMap}},props:{contentNode:{type:Object,required:!0}},computed:{progress:function(){return this.contentNodeProgressMap[this.contentNode&&this.contentNode.content_id]||0},completed:function(){return this.progress>=1}}},ProgressBarvue_type_template_id_f9aad6e4_scoped_true_render,[],!1,null,"f9aad6e4",null).exports,LearningActivityLabelvue_type_template_id_dcafa942_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.contentNode?_c("div",[_c("span",{staticClass:"learning-activity",class:[_vm.condensed||_vm.labelAfter?"reversed":""]},[_c("span",{staticClass:"label",attrs:{"data-test":"label"}},[_vm._v("\n      "+_vm._s(_vm.label)+"\n    ")]),_vm.contentNode.learning_activities?_c("span",_vm._l(_vm.contentNode.learning_activities,(function(learningActivity,idx){return _c("LearningActivityIcon",{key:idx,staticClass:"icon",attrs:{kind:learningActivity}})})),1):_vm._e()]),_vm.hideDuration?_vm._e():_c("LearningActivityDuration",{staticClass:"duration",class:[_vm.condensed?"condensed":""],attrs:{contentNode:_vm.contentNode}})],1):_vm._e()};LearningActivityLabelvue_type_template_id_dcafa942_scoped_true_render._withStripped=!0;var CompletionCriteria_APPROX_TIME="approx_time",CompletionCriteria_REFERENCE="reference",CompletionCriteria_TIME="time",external_kolibriCoreAppGlobal_utils_coreStrings_namespaceObject=kolibriCoreAppGlobal.utils.coreStrings,external_kolibriCoreAppGlobal_utils_coreStrings_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_coreStrings_namespaceObject);function useLearningActivities_typeof(o){return useLearningActivities_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useLearningActivities_typeof(o)}function useLearningActivities_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=useLearningActivities_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useLearningActivities_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==useLearningActivities_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function useLearningActivities(contentNode){var ReferenceLabel=external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("readReference"),_LearningActivityToLabelMap=useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty({},external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.CREATE,external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("create")),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.LISTEN,external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("listen")),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.REFLECT,external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("reflect")),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.PRACTICE,external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("practice")),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.READ,external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("read")),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.WATCH,external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("watch")),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.EXPLORE,external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("explore")),_LearningActivityToIconMap=useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty(useLearningActivities_defineProperty({},external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.CREATE,"createSolid"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.LISTEN,"listenSolid"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.REFLECT,"reflectSolid"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.PRACTICE,"practiceSolid"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.READ,"readSolid"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.WATCH,"watchSolid"),external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.LearningActivities.EXPLORE,"interactSolid"),hasSingleActivity=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return contentNode&&contentNode.learning_activities&&1===contentNode.learning_activities.length})),firstActivity=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return contentNode&&contentNode.learning_activities&&0!==contentNode.learning_activities.length?contentNode.learning_activities[0]:null})),isReference=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return get_default()(contentNode,["options","completion_criteria","model"])===CompletionCriteria_REFERENCE})),hasDuration=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return contentNode&&contentNode.duration})),displayPreciseDuration=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return contentNode&&contentNode.duration&&(contentNode.kind==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.AUDIO||contentNode.kind==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.VIDEO)})),displayEstimatedDuration=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return contentNode&&contentNode.duration&&contentNode.kind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.AUDIO&&contentNode.kind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.VIDEO&&(get_default()(contentNode,["options","completion_criteria","model"])===CompletionCriteria_APPROX_TIME||get_default()(contentNode,["options","completion_criteria","model"])===CompletionCriteria_TIME)})),durationInSeconds=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return contentNode&&contentNode.duration?contentNode.duration:0})),durationEstimation=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(hasDuration)?contentNode.duration<=1800?external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("shortActivity"):external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("longActivity"):""})),exerciseDescription=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){var isPracticeQuiz="QUIZ"===get_default()(contentNode,["options","modality"],!1),assessmentmetadata_mastery_model=get_default()(contentNode,["assessmentmetadata","mastery_model"],!1);if(assessmentmetadata_mastery_model){if("do_all"==assessmentmetadata_mastery_model.type&&isPracticeQuiz)return external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("practiceQuizLabel");if(assessmentmetadata_mastery_model.type.match(/num_correct_in_a_row_\d+/)){var count=assessmentmetadata_mastery_model.type.match(/\d+/)[0];return external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("shortExerciseGoalDescription",{count:count})}var m=assessmentmetadata_mastery_model.m;return external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("shortExerciseGoalDescription",{count:m})}}));return{ReferenceLabel:ReferenceLabel,hasSingleActivity:hasSingleActivity,firstActivity:firstActivity,isReference:isReference,hasDuration:hasDuration,displayPreciseDuration:displayPreciseDuration,displayEstimatedDuration:displayEstimatedDuration,durationInSeconds:durationInSeconds,durationEstimation:durationEstimation,exerciseDescription:exerciseDescription,getLearningActivityLabel:function(learningActivity){return _LearningActivityToLabelMap[learningActivity]},getLearningActivityIcon:function(learningActivity){return _LearningActivityToIconMap[learningActivity]}}}var LearningActivityDurationvue_type_template_id_7769c1dd_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isReference||_vm.displayPreciseDuration||_vm.displayEstimatedDuration||_vm.exerciseDescription?_c("span",{class:["chip"===_vm.appearance?"chip":""],style:["chip"===_vm.appearance?{color:_vm.$themeTokens.textInverted}:{}]},[_vm.isReference?[_vm._v("\n    "+_vm._s(_vm.ReferenceLabel)+"\n  ")]:_vm.displayPreciseDuration?_c("TimeDuration",{attrs:{seconds:_vm.durationInSeconds}}):_vm.displayEstimatedDuration?[_vm._v("\n    "+_vm._s(_vm.durationEstimation)+"\n  ")]:_vm.exerciseDescription?[_vm._v("\n    "+_vm._s(_vm.exerciseDescription)+"\n  ")]:_vm._e()],2):_vm._e()};LearningActivityDurationvue_type_template_id_7769c1dd_scoped_true_render._withStripped=!0;var LearningActivityDuration=normalizeComponent({name:"LearningActivityDuration",components:{TimeDuration:external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default()},setup:function(props){var _useLearningActivitie=useLearningActivities(props.contentNode);return{ReferenceLabel:_useLearningActivitie.ReferenceLabel,isReference:_useLearningActivitie.isReference,displayPreciseDuration:_useLearningActivitie.displayPreciseDuration,displayEstimatedDuration:_useLearningActivitie.displayEstimatedDuration,durationInSeconds:_useLearningActivitie.durationInSeconds,durationEstimation:_useLearningActivitie.durationEstimation,exerciseDescription:_useLearningActivitie.exerciseDescription}},props:{contentNode:{type:Object,required:!0},appearance:{type:String,required:!1,default:"text",validator:function(value){return["text","chip"].includes(value)}}}},LearningActivityDurationvue_type_template_id_7769c1dd_scoped_true_render,[],!1,null,"7769c1dd",null).exports,LearningActivityLabel=normalizeComponent({name:"LearningActivityLabel",components:{LearningActivityIcon:LearningActivityIcon,LearningActivityDuration:LearningActivityDuration},setup:function(props){var _useLearningActivitie=useLearningActivities(props.contentNode),hasSingleActivity=_useLearningActivitie.hasSingleActivity,firstActivity=_useLearningActivitie.firstActivity,getLearningActivityLabel=_useLearningActivitie.getLearningActivityLabel;return{label:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(hasSingleActivity)?getLearningActivityLabel(shared_get(firstActivity)):""}))}},props:{contentNode:{type:Object,required:!0},hideDuration:{type:Boolean,required:!1,default:!1},labelAfter:{type:Boolean,required:!1,default:!1},condensed:{type:Boolean,required:!1,default:!1}}},LearningActivityLabelvue_type_template_id_dcafa942_scoped_true_render,[],!1,null,"dcafa942",null).exports,BaseCardvue_type_template_id_60a8bb4a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("CardLink",{staticClass:"base-card",attrs:{to:_vm.to}},[_c("div",[_vm.$slots.topLeft||_vm.$slots.topRight?_c("KFixedGrid",{style:{marginBottom:"12px"},attrs:{numCols:"2"}},[_c("KFixedGridItem",{attrs:{span:"1"}},[_vm._t("topLeft")],2),_c("KFixedGridItem",{attrs:{span:"1",alignment:"right"}},[_vm._t("topRight")],2)],1):_vm._e(),_vm.collectionTitle?_c("div",{style:{color:_vm.$themeTokens.annotation},attrs:{dir:"auto","data-test":"collectionTitle"}},[_vm._v("\n      "+_vm._s(_vm.collectionTitle)+"\n    ")]):_vm._e(),_c("h3",{staticClass:"title"},[_c("TextTruncatorCss",{attrs:{dir:"auto",text:_vm.title,maxLines:1}})],1)],1),_c("div",{staticClass:"progress",style:{color:_vm.$themeTokens.annotation}},[_vm._t("progress",(function(){return[_vm.inProgressLabel?_c("KLabeledIcon",{attrs:{color:_vm.$themeTokens.progress,label:_vm.inProgressLabel,icon:"inProgress"}}):_vm.completedLabel?_c("KLabeledIcon",{attrs:{color:_vm.$themeTokens.mastered,label:_vm.completedLabel,icon:"mastered"}}):_vm._e()]}))],2)])};BaseCardvue_type_template_id_60a8bb4a_scoped_true_render._withStripped=!0;var CardLinkvue_type_template_id_190265f2_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("router-link",{staticClass:"card-link",class:this.themeClasses.link,attrs:{to:this.to}},[this._t("default")],2)};CardLinkvue_type_template_id_190265f2_scoped_true_render._withStripped=!0;var CardLink=normalizeComponent({name:"CardLink",props:{to:{type:Object,required:!0}},computed:{themeClasses:function(){var _this$$themeTokens=this.$themeTokens,surface=_this$$themeTokens.surface,text=_this$$themeTokens.text;return{link:this.$computedClass({":focus":this.$coreOutline,color:text,backgroundColor:surface})}}}},CardLinkvue_type_template_id_190265f2_scoped_true_render,[],!1,null,"190265f2",null).exports,BaseCard=normalizeComponent({name:"BaseCard",components:{TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default(),CardLink:CardLink},props:{to:{type:Object,required:!0},title:{type:String,required:!0},collectionTitle:{type:String,required:!1,default:""},completedLabel:{type:String,required:!1,default:""},inProgressLabel:{type:String,required:!1,default:""}}},BaseCardvue_type_template_id_60a8bb4a_scoped_true_render,[],!1,null,"60a8bb4a",null).exports,ResourceCard=normalizeComponent({name:"ResourceCard",components:{BaseCard:BaseCard,ContentNodeThumbnail:ContentNodeThumbnail,LearningActivityLabel:LearningActivityLabel,ProgressBar:ProgressBar},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{contentNode:{type:Object,required:!0},to:{type:Object,required:!0},collectionTitle:{type:String,required:!1,default:""}},data:function(){return{title:this.contentNode?this.contentNode.title:""}}},ResourceCardvue_type_template_id_7f79233e_scoped_true_render,[],!1,null,"7f79233e",null).exports,HybridLearningContentCardvue_type_template_id_edbe57e0_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"card drop-shadow"},[_c("router-link",{staticClass:"card card-link",class:[_vm.$computedClass({":focus":_vm.$coreOutline})],style:{backgroundColor:_vm.$themeTokens.surface},attrs:{to:_vm.to}},[_c("div",{staticClass:"header-bar",style:_vm.headerStyles},[_vm.contentNode.is_leaf?_vm._e():_c("div",[_c("KIcon",{staticClass:"folder-header-bar",attrs:{icon:"topic",color:_vm.$themeTokens.textInverted}}),_c("p",{staticClass:"folder-header-text"},[_vm._v("\n          "+_vm._s(_vm.coreString("folder"))+"\n        ")])],1),_vm.contentNode.is_leaf?_c("LearningActivityLabel",{staticClass:"learning-activity-label",style:{color:_vm.$themeTokens.text},attrs:{labelAfter:!0,contentNode:_vm.contentNode,hideDuration:!0}}):_vm._e(),_vm.contentNode.is_leaf&&_vm.channelThumbnail.length>0?_c("img",{staticClass:"channel-logo",attrs:{src:_vm.channelThumbnail,alt:_vm.learnString("logo",{channelTitle:_vm.channelTitle})}}):_vm._e()],1),_c("CardThumbnail",{staticClass:"thumbnail",attrs:{contentNode:_vm.contentNode}}),_c("div",{staticClass:"text",style:{color:_vm.$themeTokens.text}},[_c("h3",{staticClass:"title",attrs:{dir:"auto"}},[_c("TextTruncatorCss",{attrs:{text:_vm.contentNode.title,maxLines:1}})],1),_vm.contentNode.copies&&_vm.contentNode.copies.length?_c("KButton",{staticClass:"copies",attrs:{appearance:"basic-link",text:_vm.coreString("copies",{num:_vm.contentNode.copies.length})},on:{click:function($event){return $event.preventDefault(),_vm.$emit("openCopiesModal",_vm.contentNode.copies)}}}):_vm._e()],1)],1),_vm._t("footer")],2)};HybridLearningContentCardvue_type_template_id_edbe57e0_scoped_true_render._withStripped=!0;var CardThumbnailvue_type_template_id_0d79034d_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ContentNodeThumbnail",{attrs:{contentNode:_vm.contentNode},scopedSlots:_vm._u([{key:"labels",fn:function(){return[_vm.displayDurationChip?_c("LearningActivityDuration",{staticClass:"duration",attrs:{contentNode:_vm.contentNode,appearance:"chip"}}):_vm._e()]},proxy:!0}])})};CardThumbnailvue_type_template_id_0d79034d_scoped_true_render._withStripped=!0;var CardThumbnail=normalizeComponent({name:"CardThumbnail",components:{LearningActivityDuration:LearningActivityDuration,ContentNodeThumbnail:ContentNodeThumbnail},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{isMobile:{type:Boolean,default:!1},contentNode:{type:Object,required:!0},hideDuration:{type:Boolean,default:!1}},computed:{displayDurationChip:function(){return!this.hideDuration&&!this.isMobile&&"exercise"===this.contentNode.kind}}},CardThumbnailvue_type_template_id_0d79034d_scoped_true_render,[],!1,null,"0d79034d",null).exports,HybridLearningContentCardvue_type_script_lang_js={name:"HybridLearningContentCard",components:{CardThumbnail:CardThumbnail,TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default(),LearningActivityLabel:LearningActivityLabel},mixins:[commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useChannels=useChannels();return{getChannelThumbnail:_useChannels.getChannelThumbnail,getChannelTitle:_useChannels.getChannelTitle}},props:{to:{type:Object,required:!0,validator:external_kolibriCoreAppGlobal_utils_validators_namespaceObject.validateLinkObject},contentNode:{type:Object,required:!0}},computed:{headerStyles:function(){var styles={};return this.contentNode.is_leaf||(styles={backgroundColor:this.$themeTokens.text,borderRadius:"8px 8px 0 0",color:this.$themeTokens.textInverted}),styles},channelThumbnail:function(){return this.getChannelThumbnail(this.contentNode&&this.contentNode.channel_id)},channelTitle:function(){return this.getChannelTitle(this.contentNode&&this.contentNode.channel_id)}}},HybridLearningContentCard=normalizeComponent(HybridLearningContentCardvue_type_script_lang_js,HybridLearningContentCardvue_type_template_id_edbe57e0_scoped_true_render,[],!1,null,"edbe57e0",null).exports,HybridLearningFootervue_type_template_id_f733d90a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"footer"},[_c("ProgressBar",{staticClass:"progress-bar",style:{maxWidth:"calc(100% - "+(24+32*_vm.footerLength)+"px)"},attrs:{contentNode:_vm.contentNode}}),_c("div",{staticClass:"footer-icons"},[_vm.downloadableByLearner?_c("KIconButton",{attrs:{icon:"download",size:"mini",color:_vm.$themePalette.grey.v_600,ariaLabel:_vm.coreString("downloadAction"),tooltip:_vm.coreString("downloadAction")},on:{click:_vm.handleDownloadRequest}}):_vm._e(),_vm.bookmarked?_c("KIconButton",{attrs:{icon:"close",size:"mini",color:_vm.$themePalette.grey.v_600,ariaLabel:_vm.coreString("removeFromBookmarks"),tooltip:_vm.coreString("removeFromBookmarks")},on:{click:function($event){return _vm.$emit("removeFromBookmarks")}}}):_vm._e(),_vm.isUserLoggedIn&&!_vm.isLearner&&_vm.contentNode.num_coach_contents?_c("CoachContentLabel",{staticClass:"coach-content-label",style:_vm.coachContentLabelStyles,attrs:{value:_vm.contentNode.num_coach_contents,isTopic:_vm.isTopic}}):_vm._e(),_vm.contentNode.is_leaf?_c("KIconButton",{attrs:{icon:"infoOutline",size:"mini",color:_vm.$themePalette.grey.v_600,ariaLabel:_vm.coreString("viewInformation"),tooltip:_vm.coreString("viewInformation")},on:{click:function($event){return _vm.$emit("toggleInfoPanel")}}}):_vm._e(),_vm.downloadedByLearner?_c("KIconButton",{ref:"moreOptionsButton",attrs:{"data-test":"moreOptionsButton",icon:"optionsHorizontal",tooltip:_vm.coreString("moreOptions"),ariaLabel:_vm.coreString("moreOptions")},on:{click:function($event){_vm.isMenuOpen=!_vm.isMenuOpen}}}):_vm._e(),_c("CoreMenu",{directives:[{name:"show",rawName:"v-show",value:_vm.isMenuOpen,expression:"isMenuOpen"}],ref:"menu",staticClass:"menu",style:{left:_vm.isRtl?"16px":"auto",right:_vm.isRtl?"auto":"16px",position:"absolute",zIndex:7},attrs:{raised:!0,isOpen:_vm.isMenuOpen,containFocus:!0},on:{close:function($event){_vm.isMenuOpen=!1},shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([{key:"options",fn:function(){return[_c("CoreMenuOption",{style:{cursor:"pointer"},on:{select:_vm.handleRemoveRequest}},[_vm._v("\n          "+_vm._s(_vm.$tr("removeFromMyLibraryAction"))+"\n        ")])]},proxy:!0}])})],1),_vm.removeConfirmationModalOpen?_c("KModal",{attrs:{title:_vm.$tr("removeFromMyLibraryAction"),cancelText:_vm.coreString("cancelAction"),submitText:_vm.coreString("removeAction"),size:"medium"},on:{cancel:function($event){_vm.removeConfirmationModalOpen=!1},submit:_vm.confirmRemoveRequest}},[_c("p",[_vm._v(_vm._s(_vm.$tr("removeFromMyLibraryInfo")))])]):_vm._e()],1)};HybridLearningFootervue_type_template_id_f733d90a_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreMenu,external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreMenuOption,external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_namespaceObject),external_kolibriCoreAppGlobal_utils_redirectBrowser_namespaceObject=kolibriCoreAppGlobal.utils.redirectBrowser,external_kolibriCoreAppGlobal_utils_redirectBrowser_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_redirectBrowser_namespaceObject);function useDownloadRequests_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return useDownloadRequests_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useDownloadRequests_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useDownloadRequests_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var downloadRequestsTranslator=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("DownloadRequests",{downloadStartedLabel:{message:"Download requested",context:"A message shown to indicate that a download request has been created"},goToDownloadsPage:{message:"Go to downloads",context:"A label for navigation to the download management page"},resourceRemoved:{message:"Resource removed from my library",context:"A message shown when a user has removed a resource from their library"}}),downloadRequestMap=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.reactive)({}),loading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!0),availableSpace=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(0);function useDownloadRequests(store){var instanceId=currentDeviceData(store=store||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store).instanceId;function fetchUserDownloadRequests(params){return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentRequestResource.list(params).then((function(downloadRequests){downloadRequests.results&&(downloadRequests=downloadRequests.results);var _step,_iterator=useDownloadRequests_createForOfIteratorHelper(downloadRequests);try{for(_iterator.s();!(_step=_iterator.n()).done;){var obj=_step.value;set(downloadRequestMap,obj.contentnode_id,obj)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return store.dispatch("notLoading"),set(loading,!1),downloadRequests}))}var poller,pollingParams=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)({}),pollRequests=function pollRequests(){poller=setTimeout((function(){fetchUserDownloadRequests(shared_get(pollingParams)).then((function(){pollRequests()}))}),Object.values(downloadRequestMap).reduce((function(interval,download){var pollingInterval=3e4;return"PENDING"===download.status||"FAILED"===download.status?pollingInterval=5e3:"IN_PROGRESS"===download.status&&(pollingInterval=1e3),Math.min(interval,pollingInterval)}),3e4))},clearPolling=function(){clearTimeout(poller)};function navigateToDownloads(){external_kolibriCoreAppGlobal_utils_redirectBrowser_default()(external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.learn:my_downloads"]())}return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onBeforeUnmount)((function(){clearPolling()})),{fetchUserDownloadRequests:fetchUserDownloadRequests,pollUserDownloadRequests:function(params){set(pollingParams,params),fetchUserDownloadRequests(shared_get(pollingParams)).then((function(){pollRequests()}))},fetchAvailableFreespace:function(){var loading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!0);return external_kolibriCoreAppGlobal_client_default()({url:"".concat(external_kolibriCoreAppGlobal_urls_default()["kolibri:core:freespace"]()),params:{path:"Content"}}).then((function(resp){set(availableSpace,resp.data.freespace),set(loading,!1)})).catch((function(){return-1})),0},availableSpace:availableSpace,downloadRequestMap:downloadRequestMap,addDownloadRequest:function(contentNode){var metadata={title:contentNode.title,file_size:contentNode.files.reduce((function(size,f){return size+f.file_size}),0),learning_activities:contentNode.learning_activities},data={contentnode_id:contentNode.id,metadata:metadata,source_id:store.getters.currentUserId,source_instance_id:shared_get(instanceId),reason:"USER_INITIATED",facility:store.getters.currentFacilityId,status:"PENDING",date_added:new Date};return set(downloadRequestMap,contentNode.id,data),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentRequestResource.create(data).then((function(downloadRequest){set(downloadRequestMap,downloadRequest.contentnode_id,downloadRequest),poller&&(clearPolling(),pollRequests())})),store.commit("CORE_CREATE_SNACKBAR",{text:downloadRequestsTranslator.$tr("downloadStartedLabel"),actionText:downloadRequestsTranslator.$tr("goToDownloadsPage"),actionCallback:navigateToDownloads,backdrop:!1,forceReuse:!0,autoDismiss:!0}),Promise.resolve()},loading:loading,removeDownloadRequest:function(contentNodeId){var contentRequest=downloadRequestMap[contentNodeId];return contentRequest?(external_kolibriCoreAppGlobal_resources_namespaceObject.ContentRequestResource.deleteModel({id:contentRequest.id}),external_kolibriCoreAppGlobal_lib_vue_default().delete(downloadRequestMap,contentRequest.contentnode_id),store.commit("CORE_CREATE_SNACKBAR",{text:downloadRequestsTranslator.$tr("resourceRemoved"),backdrop:!1,forceReuse:!0,autoDismiss:!0}),Promise.resolve()):Promise.resolve()},downloadRequestsTranslator:downloadRequestsTranslator}}function HybridLearningFootervue_type_script_lang_js_typeof(o){return HybridLearningFootervue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},HybridLearningFootervue_type_script_lang_js_typeof(o)}function HybridLearningFootervue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function HybridLearningFootervue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?HybridLearningFootervue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){HybridLearningFootervue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):HybridLearningFootervue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function HybridLearningFootervue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=HybridLearningFootervue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=HybridLearningFootervue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==HybridLearningFootervue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var HybridLearningFooter=normalizeComponent({name:"HybridLearningFooter",components:{CoachContentLabel:external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_default(),ProgressBar:ProgressBar,CoreMenu:external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_default(),CoreMenuOption:external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_default()},mixins:[commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useDownloadRequests=useDownloadRequests();return{addDownloadRequest:_useDownloadRequests.addDownloadRequest,downloadRequestMap:_useDownloadRequests.downloadRequestMap,removeDownloadRequest:_useDownloadRequests.removeDownloadRequest}},props:{contentNode:{type:Object,required:!0},allowDownloads:{type:Boolean,default:!1},bookmarked:{type:Boolean,default:!1}},data:function(){return{isMenuOpen:!1,disableRequestButtons:!1,removeConfirmationModalOpen:!1}},computed:HybridLearningFootervue_type_script_lang_js_objectSpread(HybridLearningFootervue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isLearner","isUserLoggedIn"])),{},{isTopic:function(){return!this.contentNode.is_leaf},downloadEnabled:function(){return!this.isTopic&&this.allowDownloads},downloadedByLearner:function(){return this.downloadEnabled&&Boolean(this.downloadRequestMap[this.contentNode.id])},downloadableByLearner:function(){return this.downloadEnabled&&!this.downloadedByLearner&&!this.contentNode.admin_imported},footerLength:function(){return 1+Number(this.bookmarked)+Number(this.downloadableByLearner)+Number(this.isTopic)+Number(this.isUserLoggedIn&&!this.isLearner&&this.contentNode.num_coach_contents)+Number(this.downloadedByLearner)},coachContentLabelStyles:function(){return this.contentNode.num_coach_contents<2&&!this.isTopic?{maxWidth:"24px",marginTop:"4px"}:this.contentNode.num_coach_contents<2&&this.isTopic?{maxWidth:"24px",marginTop:"4px",marginRight:"16px"}:{}}}),methods:{findFirstEl:function(){var _this=this;this.$nextTick((function(){_this.$refs.menu.focusFirstEl()}))},handleDownloadRequest:function(){var _this2=this;this.disableRequestButtons=!0,this.addDownloadRequest(this.contentNode).then((function(){_this2.disableRequestButtons=!1}))},handleRemoveRequest:function(){this.disableRequestButtons=!0,this.isMenuOpen=!1,this.removeConfirmationModalOpen=!0,this.disableRequestButtons=!1},confirmRemoveRequest:function(){var _this3=this;this.removeDownloadRequest(this.contentNode.id).then((function(){_this3.removeConfirmationModalOpen=!1}))}},$trs:{removeFromMyLibraryAction:{message:"Remove from my library",context:"Label for a button to remove a file from a learner's library"},removeFromMyLibraryInfo:{message:"You will no longer be able to use this resource, but you can download it again later when it's available around you.",context:"Information given to a user when confirming that they are removing a resource from their library."}}},HybridLearningFootervue_type_template_id_f733d90a_scoped_true_render,[],!1,null,"f733d90a",null).exports,CardListvue_type_template_id_daa688d2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"card container drop-shadow",style:{backgroundColor:_vm.$themeTokens.surface}},[_c("router-link",{staticClass:"card card-link",class:[_vm.isMobile?"mobile-card":"",_vm.$computedClass({":focus":_vm.$coreOutline})],style:{backgroundColor:_vm.$themeTokens.surface},attrs:{to:_vm.to}},[_c("div",{staticClass:"card",style:{backgroundColor:_vm.$themeTokens.surface}},[_c("KFixedGrid",{attrs:{numCols:"4"}},[_c("KFixedGridItem",{staticClass:"thumb-area",attrs:{span:_vm.isMobile?4:1}},[_c("CardThumbnail",{attrs:{contentNode:_vm.contentNode,hideDuration:!_vm.windowIsLarge}})],1),_c("KFixedGridItem",{staticClass:"text-area",attrs:{span:_vm.isMobile?4:3}},[_c("span",{style:{color:_vm.$themeTokens.text}},[_c("div",{staticClass:"metadata-info",style:{color:_vm.$themePalette.grey.v_700}},[_c("LearningActivityLabel",{attrs:{contentNode:_vm.contentNode,hideDuration:!0,labelAfter:"",condensed:""}})],1),_c("h3",{style:{marginTop:"4px",marginBottom:"4px"}},[_c("TextTruncatorCss",{attrs:{text:_vm.contentNode.title,maxLines:1}})],1),_vm.contentNode.description?_c("p",{staticStyle:{"font-size":"14px","margin-top":"4px","margin-bottom":"4px"}},[_c("TextTruncatorCss",{attrs:{text:_vm.contentNode.description,maxLines:2}})],1):_vm._e(),_vm.isMobile?_vm._e():_c("div",{staticClass:"bottom-items"},[_vm.windowIsLarge?_vm._e():_c("LearningActivityDuration",{class:_vm.categoryAndLevelString?"duration prepends":"duration",style:{color:_vm.$themePalette.grey.v_700,marginTop:0},attrs:{contentNode:_vm.contentNode,condensed:""}}),_vm.categoryAndLevelString?_c("p",{staticClass:"metadata-info",style:{color:_vm.$themePalette.grey.v_700,marginTop:0}},[_vm._v(_vm._s(_vm.categoryAndLevelString))]):_vm._e(),_c("div",[_vm.channelThumbnail?_c("img",{staticClass:"channel-logo",style:{color:_vm.$themePalette.grey.v_700},attrs:{src:_vm.channelThumbnail,alt:_vm.learnString("logo",{channelTitle:_vm.channelTitle})}}):_c("p",{staticClass:"metadata-info",style:{color:_vm.$themePalette.grey.v_700,marginTop:0}},[_vm._v(_vm._s(_vm.learnString("logo",{channelTitle:_vm.channelTitle})))]),_vm.contentNode.copies?_c("KButton",{staticClass:"copies",style:{color:_vm.$themeTokens.text},attrs:{appearance:"basic-link",text:_vm.coreString("copies",{num:_vm.contentNode.copies.length})},on:{click:function($event){return $event.preventDefault(),_vm.$emit("openCopiesModal",_vm.contentNode.copies)}}}):_vm._e()],1)],1)]),_vm.createdDate?_c("p",{staticClass:"created-info",style:{color:_vm.$themePalette.grey.v_700}},[_vm._v("\n            "+_vm._s(_vm.bookmarkCreated)+"\n          ")]):_vm._e()])],1)],1)]),_vm._t("footer")],2)};CardListvue_type_template_id_daa688d2_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject=kolibriCoreAppGlobal.utils.serverClock,CardListvue_type_script_lang_js={name:"CardList",components:{CardThumbnail:CardThumbnail,TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default(),LearningActivityLabel:LearningActivityLabel,LearningActivityDuration:LearningActivityDuration},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useChannels=useChannels();return{getChannelThumbnail:_useChannels.getChannelThumbnail,getChannelTitle:_useChannels.getChannelTitle}},props:{createdDate:{type:String,default:null},contentNode:{type:Object,required:!0},to:{type:Object,required:!0,validator:external_kolibriCoreAppGlobal_utils_validators_namespaceObject.validateLinkObject},isMobile:{type:Boolean,default:!1}},data:function(){return{now:(0,external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject.now)()}},computed:{ceilingDate:function(){return this.createdDate>this.now?this.now:this.createdDate},bookmarkCreated:function(){var time=this.$formatRelative(this.ceilingDate,{now:this.now});return this.coreString("bookmarkedTimeAgoLabel",{time:time})},categoryAndLevelString:function(){return this.levels(this.contentNode.grade_levels)&&this.category(this.contentNode.categories)?this.category(this.contentNode.categories)+" | "+this.levels(this.contentNode.grade_levels):this.category(this.contentNode.categories)?this.category(this.contentNode.categories):this.levels(this.contentNode.grade_levels)?this.levels(this.contentNode.grade_levels):null},channelThumbnail:function(){return this.getChannelThumbnail(this.contentNode&&this.contentNode.channel_id)},channelTitle:function(){return this.getChannelTitle(this.contentNode&&this.contentNode.channel_id)}},methods:{levels:function(_levels){var _this=this,matches=Object.keys(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels).sort().filter((function(k){return _levels.includes(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels[k])}));if(matches&&matches.length>0){var adjustedMatches=[];return matches.map((function(key){var translationKey;translationKey="PROFESSIONAL"===key?"specializedProfessionalTraining":"WORK_SKILLS"===key?"allLevelsWorkSkills":"BASIC_SKILLS"===key?"allLevelsBasicSkills":camelCase_default()(key),adjustedMatches.push(translationKey)})),adjustedMatches=adjustedMatches.map((function(m){return _this.coreString(m)})).join(", ")}},category:function(options){var _this2=this,matches=Object.keys(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.Categories).sort().filter((function(k){return options.includes(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.Categories[k])}));if(matches&&matches.length>0)return matches.map((function(m){return _this2.coreString(camelCase_default()(m))})).join(", ")}}},CardList=normalizeComponent(CardListvue_type_script_lang_js,CardListvue_type_template_id_daa688d2_scoped_true_render,[],!1,null,"daa688d2",null).exports,LibraryAndChannelBrowserMainContent=normalizeComponent({name:"LibraryAndChannelBrowserMainContent",components:{CardGrid:CardGrid,HybridLearningContentCard:HybridLearningContentCard,HybridLearningFooter:HybridLearningFooter,CardList:CardList,ResourceCard:ResourceCard},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){var _useContentLink=useContentLink();return{genContentLinkBackLinkCurrentPage:_useContentLink.genContentLinkBackLinkCurrentPage,genContentLinkKeepCurrentBackLink:_useContentLink.genContentLinkKeepCurrentBackLink}},props:{contents:{type:Array,required:!0},currentCardViewStyle:{type:String,required:!0,default:"card",validator:function(value){return["card","list"].includes(value)}},keepCurrentBackLink:{type:Boolean,default:!1},allowDownloads:{type:Boolean,default:!1},gridType:{type:Number,default:1}},computed:{componentType:function(){return this.windowIsSmall?"ResourceCard":"card"===this.currentCardViewStyle?"HybridLearningContentCard":"CardList"}},methods:{contentLink:function(id,isResource){return this.keepCurrentBackLink&&!isResource?this.genContentLinkKeepCurrentBackLink(id,isResource):this.genContentLinkBackLinkCurrentPage(id,isResource)}}},LibraryAndChannelBrowserMainContentvue_type_template_id_ea029266_render,[],!1,null,null,null).exports,SearchResultsGrid=normalizeComponent({name:"SearchResultsGrid",components:{CopiesModal:CopiesModal,LibraryAndChannelBrowserMainContent:LibraryAndChannelBrowserMainContent,SearchChips:SearchChips},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){var sidePanelContent=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null);return{sidePanelContent:sidePanelContent,toggleInfoPanel:function(content){return sidePanelContent.value=content}}},props:{allowDownloads:{type:Boolean,default:!1},currentCardViewStyle:{type:String,default:"card"},hideCardViewToggle:{type:Boolean,default:!1},clearSearch:{type:Function,default:function(){}},more:{type:Object,default:null},moreLoading:{type:Boolean,default:!1},results:{type:Array,default:function(){return[]}},removeFilterTag:{type:Function,default:function(){}},searchLoading:{type:Boolean,default:!1},searchMore:{type:Function,default:function(){}},searchTerms:{type:Object,default:function(){}}},data:function(){return{displayedCopies:[]}},computed:{gridType:function(){return this.windowBreakpoint>6?2:1}},methods:{toggleCardView:function(value){this.$emit("setCardStyle",value)}},$trs:{results:{message:"{results, number, integer} {results, plural, one {result} other {results}}",context:"Number of results for a given term after a Library search."},viewAsList:{message:"View as list",context:"Label for a button used to view resources as a list."},viewAsGrid:{message:"View as grid",context:"Label for a button used to view resources as a grid."}}},SearchResultsGridvue_type_template_id_7ac229f1_scoped_true_render,[],!1,null,"7ac229f1",null).exports,LearnAppBarPagevue_type_template_id_c4c56d72_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c(_vm.page,{tag:"component",attrs:{appBarTitle:_vm.appBarTitle,appearanceOverrides:_vm.appearanceOverrides,loading:_vm.loading,primary:!1,route:_vm.route,title:_vm.appBarTitle},scopedSlots:_vm._u([{key:"actions",fn:function(){return[_vm.deviceId?_c("DeviceConnectionStatus",{attrs:{deviceId:_vm.deviceId,color:"white"}}):_vm._e()]},proxy:!0},_vm.deviceId?null:{key:"subNav",fn:function(){return[_c("LearnTopNav",{ref:"topNav"})]},proxy:!0}],null,!0)},[_vm._t("default")],2)};LearnAppBarPagevue_type_template_id_c4c56d72_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_namespaceObject=kolibriCoreAppGlobal.coreVue.components.AppBarPage,external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_namespaceObject=kolibriCoreAppGlobal.coreVue.components.ImmersivePage,external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_namespaceObject),LearnTopNavvue_type_template_id_d24951d8_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("HorizontalNavBarWithOverflowMenu",{ref:"navigation",attrs:{ariaLabel:this.$tr("learnPageMenuLabel"),navigationLinks:this.links}})};LearnTopNavvue_type_template_id_d24951d8_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_HorizontalNavBarWithOverflowMenu_namespaceObject=kolibriCoreAppGlobal.coreVue.components.HorizontalNavBarWithOverflowMenu;function LearnTopNavvue_type_script_lang_js_typeof(o){return LearnTopNavvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LearnTopNavvue_type_script_lang_js_typeof(o)}function LearnTopNavvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LearnTopNavvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LearnTopNavvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){LearnTopNavvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LearnTopNavvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function LearnTopNavvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=LearnTopNavvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LearnTopNavvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==LearnTopNavvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var LearnTopNav=normalizeComponent({name:"LearnTopNav",components:{HorizontalNavBarWithOverflowMenu:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_HorizontalNavBarWithOverflowMenu_namespaceObject)()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],setup:function(){return{inClasses:useCoreLearn().inClasses}},computed:LearnTopNavvue_type_script_lang_js_objectSpread(LearnTopNavvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isUserLoggedIn","canAccessUnassignedContent"])),{},{links:function(){return[{isHidden:!this.isUserLoggedIn,title:this.coreString("homeLabel"),link:this.$router.getRoute(constants_PageNames.HOME),icon:"dashboard",color:this.$themeTokens.textInverted},{isHidden:!this.canAccessUnassignedContent,title:this.coreString("libraryLabel"),link:this.$router.getRoute(constants_PageNames.LIBRARY),icon:"library",color:this.$themeTokens.textInverted},{isHidden:!this.isUserLoggedIn||!this.canAccessUnassignedContent,title:this.coreString("bookmarksLabel"),link:this.$router.getRoute(constants_PageNames.BOOKMARKS),icon:"bookmark",color:this.$themeTokens.textInverted}]}}),$trs:{learnPageMenuLabel:{message:"Learn page menu",context:"Indicates the purpose of a navigation bar at the top of the page"}}},LearnTopNavvue_type_template_id_d24951d8_scoped_true_render,[],!1,null,"d24951d8",null).exports,DeviceConnectionStatusvue_type_template_id_46d918b1_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isFetched&&!_vm.isDeviceAvailable?_c("span",[_c("span",{staticClass:"inner",staticStyle:{"font-size":"14px"}},[_vm._v("\n    "+_vm._s(_vm.coreString("disconnected"))+"\n  ")]),_c("KIconButton",{attrs:{icon:"disconnected","data-test":"disconnected-icon",color:_vm.color,tooltip:_vm.coreString("disconnected"),ariaLabel:_vm.coreString("disconnected")}})],1):_vm._e()};DeviceConnectionStatusvue_type_template_id_46d918b1_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject=kolibriCoreAppGlobal.coreVue.componentSets.sync;function DeviceConnectionStatusvue_type_script_lang_js_typeof(o){return DeviceConnectionStatusvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DeviceConnectionStatusvue_type_script_lang_js_typeof(o)}function DeviceConnectionStatusvue_type_script_lang_js_regeneratorRuntime(){DeviceConnectionStatusvue_type_script_lang_js_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==DeviceConnectionStatusvue_type_script_lang_js_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(DeviceConnectionStatusvue_type_script_lang_js_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function DeviceConnectionStatusvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function DeviceConnectionStatusvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DeviceConnectionStatusvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){DeviceConnectionStatusvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DeviceConnectionStatusvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function DeviceConnectionStatusvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=DeviceConnectionStatusvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DeviceConnectionStatusvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==DeviceConnectionStatusvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DeviceConnectionStatusvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var DeviceConnectionStatusvue_type_script_lang_js={name:"DeviceConnectionStatus",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],setup:function(props){if(props.deviceId===KolibriStudioId){var isFetched=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),allDevices=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)([]),getStudio=function(){var fn,_ref=(fn=DeviceConnectionStatusvue_type_script_lang_js_regeneratorRuntime().mark((function _callee(){var response;return DeviceConnectionStatusvue_type_script_lang_js_regeneratorRuntime().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,external_kolibriCoreAppGlobal_resources_namespaceObject.RemoteChannelResource.getKolibriStudioStatus();case 2:response=_context.sent,set(allDevices,[DeviceConnectionStatusvue_type_script_lang_js_objectSpread(DeviceConnectionStatusvue_type_script_lang_js_objectSpread({},response.data),{},{id:KolibriStudioId,instance_id:KolibriStudioId})]),set(isFetched,null!==props.deviceId);case 5:case"end":return _context.stop()}}),_callee)})),function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){DeviceConnectionStatusvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){DeviceConnectionStatusvue_type_script_lang_js_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))});return function(){return _ref.apply(this,arguments)}}(),fetch=useTimeoutPoll(getStudio,5e3,{immediate:!0});return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onBeforeUnmount)((function(){fetch.pause()})),{allDevices:allDevices,isFetched:isFetched}}var _useDevices=(0,external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.useDevices)({id:props.deviceId}),hasFetched=_useDevices.hasFetched;return{allDevices:_useDevices.devices,isFetched:hasFetched}},props:{deviceId:{type:String,default:null},color:{type:String,default:"primary"}},computed:{isDeviceAvailable:function(){var _this=this;return this.allDevices.some((function(device){return device.id===_this.deviceId&&device.available}))}}},DeviceConnectionStatus=normalizeComponent(DeviceConnectionStatusvue_type_script_lang_js,DeviceConnectionStatusvue_type_template_id_46d918b1_render,[],!1,null,null,null).exports,LearnAppBarPage=normalizeComponent({name:"LearnAppBarPage",components:{AppBarPage:external_kolibriCoreAppGlobal_coreVue_components_AppBarPage_default(),ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),LearnTopNav:LearnTopNav,DeviceConnectionStatus:DeviceConnectionStatus},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{appBarTitle:{type:String,default:null},appearanceOverrides:{type:Object,required:!1,default:null},deviceId:{type:String,default:null},route:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1}},computed:{page:function(){return this.deviceId?"ImmersivePage":"AppBarPage"}}},LearnAppBarPagevue_type_template_id_c4c56d72_scoped_true_render,[],!1,null,"c4c56d72",null).exports,PostSetupModalGroupvue_type_template_id_ab577ce2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.step===_vm.Steps.WELCOME&&_vm.isUserLoggedIn?_c("WelcomeModal",{attrs:{importedFacility:_vm.importedFacility,isOnMyOwnUser:_vm.isOnMyOwnUser},on:{submit:_vm.handleSubmit}}):_vm._e(),_vm.step===_vm.Steps.PERMISSIONS_CHANGE?_c("PermissionsChangeModal",{attrs:{newRole:"superadmin"}}):_vm.step===_vm.Steps.SELECT_SOURCE_FACILITY_PEER?_c("SelectDeviceForm",{attrs:{title:_vm.getCommonSyncString("selectSourceTitle")},on:{submit:_vm.handleSubmit,cancel:function($event){return _vm.$emit("cancel")}},scopedSlots:_vm._u([{key:"underbuttons",fn:function(){return[_c("KButton",{attrs:{text:_vm.$tr("chooseAnotherSourceLabel"),appearance:"basic-link"},on:{click:_vm.startNormalImportWorkflow}})]},proxy:!0}])}):_vm._e()],1)};PostSetupModalGroupvue_type_template_id_ab577ce2_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_namespaceObject=kolibriCoreAppGlobal.coreVue.mixins.commonSyncElements,external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_namespaceObject);function src_constants_typeof(o){return src_constants_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},src_constants_typeof(o)}function src_constants_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=src_constants_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=src_constants_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==src_constants_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var src_constants_PageNames_MANAGE_PERMISSIONS_PAGE="MANAGE_PERMISSIONS_PAGE",src_constants_PageNames_USER_PERMISSIONS_PAGE="USER_PERMISSIONS_PAGE",src_constants_PageNames_DEVICE_INFO_PAGE="DEVICE_INFO_PAGE",constants_ContentWizardPages_AVAILABLE_CHANNELS="AVAILABLE_CHANNELS";src_constants_defineProperty(src_constants_defineProperty(src_constants_defineProperty(src_constants_defineProperty({},"MANAGE_CONTENT_PAGE","manageContent"),src_constants_PageNames_MANAGE_PERMISSIONS_PAGE,"managePermissions"),src_constants_PageNames_USER_PERMISSIONS_PAGE,"userPermissions"),src_constants_PageNames_DEVICE_INFO_PAGE,"deviceInfo");var WelcomeModalvue_type_template_id_2d8fe5ae_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("welcomeModalHeader"),submitText:_vm.coreString("continueAction")},on:{submit:function($event){return _vm.$emit("submit")}}},_vm._l(_vm.paragraphs,(function(paragraph,idx){return _c("p",{key:idx,staticClass:"paragraph"},[_vm._v("\n    "+_vm._s(paragraph)+"\n  ")])})),0)};WelcomeModalvue_type_template_id_2d8fe5ae_scoped_true_render._withStripped=!0;var WelcomeModal=normalizeComponent({name:"WelcomeModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){return{isLearnerOnlyImport:external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()().isLearnerOnlyImport}},props:{importedFacility:{type:Object,default:null},isOnMyOwnUser:{type:Boolean,required:!1,default:!1}},computed:{paragraphs:function(){if(this.isLearnerOnlyImport){var facility=this.importedFacility;this.$store.getters.facilities.length>0&&null===facility&&(facility=this.$store.getters.facilities[0]);var sndParagraph=null===facility?this.$tr("learnOnlyDeviceWelcomeMessage2"):this.$tr("postSyncWelcomeMessage2",{facilityName:facility.name});return[this.$tr("learnOnlyDeviceWelcomeMessage1"),sndParagraph]}return this.isOnMyOwnUser?[this.coreString("nothingInLibraryLearner")]:this.importedFacility?[this.$tr("postSyncWelcomeMessage1"),this.$tr("postSyncWelcomeMessage2",{facilityName:this.importedFacility.name})]:[this.$tr("welcomeModalContentDescription"),this.$tr("welcomeModalPermissionsDescription")]}},render:function(createElement){return window.setTimeout(createElement,750)},$trs:{welcomeModalHeader:{message:"Welcome to Kolibri!",context:"Title of welcome window which displays on first sign in as a super admin."},welcomeModalContentDescription:{message:"The first thing you should do is import some resources from the Channels tab.",context:"Text that appears on welcome window when a super admin sets up a facility for the first time."},welcomeModalPermissionsDescription:{message:"The super admin account you created during setup has special permissions to do this. Learn more in the Permissions tab later.",context:"Text that appears on welcome window when a super admin sets up a facility for the first time.\n"},postSyncWelcomeMessage1:{message:"The first thing you should do is import some channels to this device.",context:"Welcome message for user which appears if there are no channels on the device. This is similar to the 'The first thing you should do is import some resources from the Channels tab' string."},postSyncWelcomeMessage2:{message:"The learner reports, lessons, and quizzes in '{facilityName}' will not display properly until you import the resources associated with them.",context:"Welcome message for user indicating that they need to import resources."},learnOnlyDeviceWelcomeMessage1:{message:"The first thing you should do is import some channels to this device",context:"Welcome message for user which appears after provisioning a Learner Only Device.\n\nThis is similar to the 'The first thing you should do is import some resources from the Channels tab' string."},learnOnlyDeviceWelcomeMessage2:{message:"The user reports, lessons, and quizzes will not display properly until you import the resources associated with them.",context:"Welcome message for user indicating that they need to import resources."}}},WelcomeModalvue_type_template_id_2d8fe5ae_scoped_true_render,[],!1,null,"2d8fe5ae",null).exports,PermissionsChangeModalvue_type_template_id_284b3817_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.$tr("header"),submitText:_vm.coreString("continueAction")},on:{submit:function($event){return _vm.$emit("submit")}}},_vm._l(_vm.paragraphs,(function(paragraph,idx){return _c("p",{key:idx,staticClass:"paragraph"},[_vm._v("\n    "+_vm._s(paragraph)+"\n  ")])})),0)};PermissionsChangeModalvue_type_template_id_284b3817_scoped_true_render._withStripped=!0;var PermissionsChangeModal=normalizeComponent({name:"PermissionsChangeModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{newRole:{type:String,required:!0}},computed:{paragraphs:function(){return"superadmin"===this.newRole?[this.$tr("superAdminMessage1"),this.$tr("superAdminMessage2")]:[this.$tr("manageContentMessage1")]}},render:function(createElement){return window.setTimeout(createElement,750)},$trs:{header:{message:"Your permissions have changed",context:"Modal window title"},superAdminMessage1:{message:"Your role has been changed to Super Admin.",context:"Description of permission. This window displays if a user's permissions are changed."},superAdminMessage2:{message:"You can now manage channels and the permissions of other users. Learn more in the Permissions tab.",context:"Description of permission. This window displays if a user's permissions are changed."},manageContentMessage1:{message:"You have been given permissions to manage channels and resources on this device.",context:"Description of permission. This window displays if a user's permissions are changed."}}},PermissionsChangeModalvue_type_template_id_284b3817_scoped_true_render,[],!1,null,"284b3817",null).exports;function PostSetupModalGroupvue_type_script_lang_js_typeof(o){return PostSetupModalGroupvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},PostSetupModalGroupvue_type_script_lang_js_typeof(o)}function PostSetupModalGroupvue_type_script_lang_js_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return PostSetupModalGroupvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PostSetupModalGroupvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PostSetupModalGroupvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function PostSetupModalGroupvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function PostSetupModalGroupvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?PostSetupModalGroupvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){PostSetupModalGroupvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):PostSetupModalGroupvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function PostSetupModalGroupvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=PostSetupModalGroupvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=PostSetupModalGroupvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==PostSetupModalGroupvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Steps=Object.freeze({WELCOME:"WELCOME",PERMISSIONS_CHANGE:"PERMISSIONS_CHANGE",SELECT_SOURCE_FACILITY_PEER:"SELECT_SOURCE_FACILITY_PEER",SELECT_SOURCE_NORMAL:"SELECT_SOURCE_NORMAL"}),PostSetupModalGroupvue_type_script_lang_js={name:"PostSetupModalGroup",components:{PermissionsChangeModal:PermissionsChangeModal,WelcomeModal:WelcomeModal,SelectDeviceForm:external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.SelectDeviceForm},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonSyncElements_default()],props:{isOnMyOwnUser:{type:Boolean,required:!1}},data:function(){return{step:Steps.WELCOME,Steps:Steps}},computed:PostSetupModalGroupvue_type_script_lang_js_objectSpread(PostSetupModalGroupvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isUserLoggedIn"])),{},{importedFacility:function(){var facility=PostSetupModalGroupvue_type_script_lang_js_slicedToArray(this.$store.state.core.facilities,1)[0];return facility&&null!==facility.last_successful_sync?facility:null}}),methods:{startNormalImportWorkflow:function(){this.$emit("cancel"),this.$store.dispatch("manageContent/startImportWorkflow")},handleSubmit:function(data){if(this.step===Steps.WELCOME)this.importedFacility?this.step=Steps.SELECT_SOURCE_FACILITY_PEER:this.$emit("cancel");else if(this.step===Steps.SELECT_SOURCE_FACILITY_PEER){this.$emit("cancel");var newRoute=function(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},driveId=params.driveId,addressId=params.addressId;return{name:constants_ContentWizardPages_AVAILABLE_CHANNELS,query:{drive_id:driveId,address_id:addressId}}}({addressId:data.id});newRoute.query.setup=!0,this.$router.push(newRoute)}}},$trs:{chooseAnotherSourceLabel:{message:"Choose another source",context:"Button that opens the modal to choose source for content import workflow from Kolibri Studio or an attached local drive"}}},PostSetupModalGroup=normalizeComponent(PostSetupModalGroupvue_type_script_lang_js,PostSetupModalGroupvue_type_template_id_ab577ce2_scoped_true_render,[],!1,null,"ab577ce2",null).exports,ResumableContentGridvue_type_template_id_87986a82_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return(_vm.resumableContentNodes||[]).length?_c("div",[_vm.windowIsSmall?_vm._e():_c("div",{staticClass:"toggle-view-buttons",attrs:{"data-test":"toggle-view-buttons"}},[_c("KIconButton",{attrs:{icon:"menu",ariaLabel:_vm.$tr("viewAsList"),color:_vm.$themeTokens.text,tooltip:_vm.$tr("viewAsList"),disabled:"list"===_vm.currentCardViewStyle},on:{click:function($event){return _vm.toggleCardView("list")}}}),_c("KIconButton",{attrs:{icon:"channel",ariaLabel:_vm.$tr("viewAsGrid"),color:_vm.$themeTokens.text,tooltip:_vm.$tr("viewAsGrid"),disabled:"card"===_vm.currentCardViewStyle},on:{click:function($event){return _vm.toggleCardView("card")}}})],1),_c("div",{attrs:{"data-test":"recent-content-nodes-title"}},[_c("h2",[_vm._v("\n      "+_vm._s(_vm.$tr("recent"))+"\n    ")]),_c("LibraryAndChannelBrowserMainContent",{staticClass:"resumable-content-card-grid",attrs:{contents:_vm.contentCardsToDisplay,"data-test":"resumable-content-card-grid",currentCardViewStyle:_vm.currentCardViewStyle,gridType:_vm.gridType},on:{openCopiesModal:function(copies){return _vm.displayedCopies=copies},toggleInfoPanel:function($event){return _vm.$emit("setSidePanelMetadataContent",$event)}}})],1),_vm.moreContentCards&&!_vm.showMoreContentCards?_c("KButton",{attrs:{"data-test":"show-more-resumable-nodes-button",appearance:"basic-link"},on:{click:_vm.handleShowMoreContentCards}},[_vm._v("\n    "+_vm._s(_vm.coreString("showMoreAction"))+"\n  ")]):_vm._e(),_vm.moreResumableContentNodes&&_vm.showMoreContentCards?_c("KButton",{attrs:{"data-test":"view-more-resumable-nodes-button",appearance:"basic-link"},on:{click:_vm.fetchMoreResumableContentNodes}},[_vm._v("\n    "+_vm._s(_vm.coreString("viewMoreAction"))+"\n  ")]):_vm._e(),_vm.displayedCopies.length?_c("CopiesModal",{attrs:{copies:_vm.displayedCopies},on:{submit:function($event){_vm.displayedCopies=[]}}}):_vm._e()],1):_vm._e()};ResumableContentGridvue_type_template_id_87986a82_scoped_true_render._withStripped=!0;var ResumableContentGridvue_type_script_lang_js={name:"ResumableContentGrid",components:{CopiesModal:CopiesModal,LibraryAndChannelBrowserMainContent:LibraryAndChannelBrowserMainContent},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){var _useLearnerResources=useLearnerResources(),resumableContentNodes=_useLearnerResources.resumableContentNodes,moreResumableContentNodes=_useLearnerResources.moreResumableContentNodes,fetchMoreResumableContentNodes=_useLearnerResources.fetchMoreResumableContentNodes,sidePanelContent=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),activityRefs={};return{activityRefs:activityRefs,findFirstEl:function(){var activityKeys=Object.keys(activityRefs),firstActivity=activityKeys.find((function(key){return key.endsWith("0")}));firstActivity&&activityKeys[firstActivity].value.focusFirstEl()},sidePanelContent:sidePanelContent,toggleInfoPanel:function(content){return sidePanelContent.value=content},resumableContentNodes:resumableContentNodes,moreResumableContentNodes:moreResumableContentNodes,fetchMoreResumableContentNodes:fetchMoreResumableContentNodes}},props:{currentCardViewStyle:{type:String,default:"card"}},data:function(){return{showMoreContentCards:!1,displayedCopies:[]}},computed:{numContentCardsToDisplay:function(){return 2===this.windowBreakpoint||this.windowBreakpoint>6?4:3},contentCardsToDisplay:function(){return this.showMoreContentCards?this.resumableContentNodes:this.resumableContentNodes.slice(0,this.numContentCardsToDisplay)},moreContentCards:function(){return this.resumableContentNodes.length>this.numContentCardsToDisplay},gridType:function(){return this.windowBreakpoint>6?2:1}},methods:{toggleCardView:function(value){this.$emit("setCardStyle",value)},handleShowMoreContentCards:function(){this.showMoreContentCards=!0}},$trs:{recent:{message:"Recent",context:"Header for the section in the Library tab with resources that the learner recently engaged with."},viewAsList:{message:"View as list",context:"Label for a button used to view resources as a list."},viewAsGrid:{message:"View as grid",context:"Label for a button used to view resources as a grid."}}},ResumableContentGrid=normalizeComponent(ResumableContentGridvue_type_script_lang_js,ResumableContentGridvue_type_template_id_87986a82_scoped_true_render,[],!1,null,"87986a82",null).exports,OtherLibrariesvue_type_template_id_fdab6e6c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("KGrid",{staticClass:"grid",attrs:{gutter:"0"}},[_c("KGridItem",{attrs:{layout12:{span:6},layout8:{span:4},layout4:{span:4}}},[_c("h1",{style:{marginLeft:"-8px"}},[_vm._v("\n        "+_vm._s(_vm.injectedtr("otherLibraries"))+"\n      ")])]),_c("KGridItem",{attrs:{layout12:{span:6},layout8:{span:4},layout4:{span:4}}},[_c("div",{staticClass:"sync-status"},[_c("span",{directives:[{name:"show",rawName:"v-show",value:_vm.searchingOtherLibraries,expression:"searchingOtherLibraries"}],attrs:{"data-test":"searching"}},[_c("span",{attrs:{"data-test":"searching-label"}},[_vm._v(_vm._s(_vm.injectedtr("searchingOtherLibrary")))]),_vm._v("\n                \n          "),_c("span",[_c("KCircularLoader",{attrs:{type:"indeterminate",stroke:6}})],1)]),_c("span",{directives:[{name:"show",rawName:"v-show",value:!_vm.searchingOtherLibraries&&_vm.devicesWithChannelsExist,expression:"!searchingOtherLibraries && devicesWithChannelsExist"}],attrs:{"data-test":"showing-all"}},[_c("span",[_vm.windowIsSmall?_c("KIcon",{staticClass:"wifi-svg",attrs:{icon:"wifi"}}):_vm._e()],1),_vm._v("\n                \n          "),_c("span",{attrs:{"data-test":"showing-all-label"}},[_vm._v(_vm._s(_vm.injectedtr("showingAllLibraries")))]),_vm._v("\n                \n          "),_c("span",[_vm.windowIsSmall?_vm._e():_c("KIcon",{staticClass:"wifi-svg",attrs:{icon:"wifi"}})],1)]),_c("span",{directives:[{name:"show",rawName:"v-show",value:!_vm.searchingOtherLibraries&&!_vm.devicesWithChannelsExist,expression:"!searchingOtherLibraries && !devicesWithChannelsExist"}],attrs:{"data-test":"no-other"}},[_c("span",[_c("KIcon",{attrs:{icon:"disconnected"}})],1),_vm._v("\n                \n          "),_c("span",{attrs:{"data-test":"no-other-label"}},[_vm._v(_vm._s(_vm.injectedtr("noOtherLibraries")))])])])])],1),!_vm.threeLibrariesOrFewer&&_vm.pinnedDevicesExist&&_vm.unpinnedDevicesExist?_c("h2",{style:{marginLeft:"-8px"},attrs:{"data-test":"pinned-label"}},[_vm._v("\n    "+_vm._s(_vm.injectedtr("pinned"))+"\n  ")]):_vm._e(),_c("FadeInTransitionGroup",{staticClass:"other-libraries-grid"},_vm._l(_vm.fullLibrariesToDisplay,(function(device){return _c("LibraryItem",{key:device.instance_id,attrs:{"data-test":"pinned-resources",device:device,channels:_vm.deviceChannelsMap[device.instance_id],channelsToDisplay:_vm.cardsToDisplay,pinned:Boolean(_vm.userPinsMap[device.instance_id])},on:{togglePin:_vm.handlePinToggle}})})),1),!_vm.threeLibrariesOrFewer&&_vm.unpinnedDevicesExist?_c("KGrid",{staticClass:"other-libraries-grid"},[_c("KGridItem",{attrs:{layout12:{span:10},layout8:{span:6},layout4:{span:2}}},[_vm.pinnedDevicesExist?_c("h2",{style:{marginTop:"0px",marginLeft:"-8px"},attrs:{"data-test":"more-label"}},[_vm._v("\n        "+_vm._s(_vm.injectedtr("moreLibraries"))+"\n      ")]):_vm._e()]),_c("KGridItem",{attrs:{layout12:{span:2,alignment:"right"},layout8:{span:2,alignment:"right"},layout4:{span:2,alignment:"right"}}},[_c("KRouterLink",{attrs:{appearance:"raised-button",text:_vm.explore$,to:_vm.genExploreLibrariesPageBackLink()}})],1),_vm._l(_vm.unpinnedDevices.slice(0,_vm.cardsToDisplay),(function(device){return _c("KGridItem",{key:device.id,attrs:{layout:{span:_vm.layoutSpan}}},[_c("UnPinnedDevices",{attrs:{"data-test":"more-devices",device:device,channelCount:_vm.deviceChannelsMap[device.instance_id].length,routeTo:_vm.genLibraryPageBackLink(device.id)}})],1)}))],2):_vm._e()],1)};OtherLibrariesvue_type_template_id_fdab6e6c_scoped_true_render._withStripped=!0;var LibraryItemvue_type_template_id_ea3904de_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KGrid",{staticClass:"library-item",attrs:{debug:!1}},[_c("div",{class:{"library-header":!0,"library-header-sm":_vm.windowIsSmall}},[_c("KGridItem",{attrs:{layout12:{span:10},layout8:{span:6},layout4:{span:4}}},[_c("div",[_c("h2",{staticClass:"device-name"},[_vm.deviceIcon?_c("KIcon",{staticClass:"device-icon",attrs:{icon:_vm.deviceIcon}}):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.deviceName))]),_c("KIconButton",{ref:"pinIcon",attrs:{icon:_vm.pinIcon,disabled:_vm.isStudio,appearance:"flat-button"},on:{click:function($event){return _vm.$emit("togglePin",_vm.deviceId)}}}),_c("KTooltip",{attrs:{reference:"pinIcon",refs:_vm.$refs}},[_vm._v("\n            "+_vm._s("pinned"===_vm.pinIcon?_vm.$tr("removePin"):_vm.$tr("pinTo"))+"\n          ")])],1),_vm.isStudio?_c("p",{staticClass:"device-description"},[_vm._v("\n          "+_vm._s(_vm.$tr("channels",{channels:_vm.totalChannels}))+"\n        ")]):_vm._e()])]),_c("KGridItem",{attrs:{layout12:{span:2,alignment:"right"},layout8:{span:2,alignment:"right"},layout4:{span:4,alignment:"right"}}},[_c("KRouterLink",{attrs:{appearance:"raised-button",text:_vm.coreString("explore"),to:_vm.genLibraryPageBackLink(_vm.deviceId)}})],1)],1),_c("ChannelCardGroupGrid",{attrs:{"data-test":"channel-cards",deviceId:_vm.device.id,contents:(_vm.channels||[]).slice(0,_vm.channelsToDisplay),isRemote:!0}})],1)};LibraryItemvue_type_template_id_ea3904de_scoped_true_render._withStripped=!0;var LibraryItem=normalizeComponent({name:"LibraryItem",components:{ChannelCardGroupGrid:ChannelCardGroupGrid},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useContentLink=useContentLink(),genContentLinkBackLinkCurrentPage=_useContentLink.genContentLinkBackLinkCurrentPage,genLibraryPageBackLink=_useContentLink.genLibraryPageBackLink,_useKResponsiveWindow=external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()(),windowIsSmall=_useKResponsiveWindow.windowIsSmall;return{genContentLinkBackLinkCurrentPage:genContentLinkBackLinkCurrentPage,genLibraryPageBackLink:genLibraryPageBackLink,windowBreakpoint:_useKResponsiveWindow.windowBreakpoint,windowIsSmall:windowIsSmall}},props:{device:{type:Object,required:!0,default:function(){return{}}},channels:{type:Array,required:!0,default:function(){return[]}},channelsToDisplay:{type:Number,required:!0},pinned:{type:Boolean,required:!0,default:!1}},computed:{totalChannels:function(){return this.channels.length},isStudio:function(){return this.deviceId===KolibriStudioId},deviceIcon:function(){return"Android"===this.device.operating_system?"device":this.device.subset_of_users_device?"laptop":"cloud"},deviceName:function(){return this.device?this.device.device_name:""},deviceId:function(){return this.device?this.device.instance_id:""},pinIcon:function(){return this.pinned?"pinned":"notPinned"}},$trs:{channels:{message:"{channels, number, integer} channels | Internet connection needed to browse and download resources",context:"Indicates the number of channels on the Kolibri library"},pinRemoved:{message:"Pin removed from my library page",context:"A notification message displayed after successfully unpinning a library"},pinTo:{message:"Pin to my library page",context:"A tooltip label shown when hovering over an unpinned library"},pinnedTo:{message:"Pinned to my library page",context:"A notification message displayed after successfully pinning a library"},removePin:{message:"Remove pin from my library page",context:"A tooltip label shown when hovering over a pinned library"}}},LibraryItemvue_type_template_id_ea3904de_scoped_true_render,[],!1,null,"ea3904de",null).exports;function usePinnedDevices_typeof(o){return usePinnedDevices_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},usePinnedDevices_typeof(o)}function usePinnedDevices_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function usePinnedDevices_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?usePinnedDevices_ownKeys(Object(t),!0).forEach((function(r){usePinnedDevices_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):usePinnedDevices_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function usePinnedDevices_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=usePinnedDevices_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=usePinnedDevices_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==usePinnedDevices_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function usePinnedDevices_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return usePinnedDevices_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return usePinnedDevices_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function usePinnedDevices_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PinStrings=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.crossComponentTranslator)(LibraryItem);function usePinnedDevices(networkDevicesWithChannels,store){store=store||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store;var userPinsMap=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)({}),devicesWithChannels=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return networkDevicesWithChannels&&shared_get(networkDevicesWithChannels)||[]}));function _isPinnedDevice(device){return shared_get(userPinsMap)[device.instance_id]||device.instance_id===KolibriStudioId}var pinnedDevices=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(devicesWithChannels).filter(_isPinnedDevice)})),pinnedDevicesExist=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(pinnedDevices).length>0})),unpinnedDevices=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(devicesWithChannels).filter((function(d){return!_isPinnedDevice(d)}))})),unpinnedDevicesExist=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(unpinnedDevices).length>0}));return{handlePinToggle:function(instance_id){return shared_get(userPinsMap)[instance_id]?function(instance_id){var map=shared_get(userPinsMap),id=map[instance_id].id,newMap=usePinnedDevices_objectSpread({},map);return delete newMap[instance_id],set(userPinsMap,newMap),store.dispatch("createSnackbar",PinStrings.$tr("pinRemoved")),external_kolibriCoreAppGlobal_resources_namespaceObject.PinnedDeviceResource.deleteModel({id:id})}(instance_id):function(instance_id){return set(userPinsMap,usePinnedDevices_objectSpread(usePinnedDevices_objectSpread({},shared_get(userPinsMap)),{},usePinnedDevices_defineProperty({},instance_id,{instance_id:instance_id}))),store.dispatch("createSnackbar",PinStrings.$tr("pinnedTo")),external_kolibriCoreAppGlobal_resources_namespaceObject.PinnedDeviceResource.create({instance_id:instance_id}).then((function(pin){set(userPinsMap,usePinnedDevices_objectSpread(usePinnedDevices_objectSpread({},shared_get(userPinsMap)),{},usePinnedDevices_defineProperty({},pin.instance_id,pin)))}))}(instance_id)},fetchPinsForUser:function(){return external_kolibriCoreAppGlobal_resources_namespaceObject.PinnedDeviceResource.fetchCollection({force:!0}).then((function(pins){var _step,updatedPins={},_iterator=usePinnedDevices_createForOfIteratorHelper(pins);try{for(_iterator.s();!(_step=_iterator.n()).done;){var pin=_step.value;updatedPins[pin.instance_id]=pin}}catch(err){_iterator.e(err)}finally{_iterator.f()}set(userPinsMap,updatedPins)}))},userPinsMap:userPinsMap,pinnedDevices:pinnedDevices,pinnedDevicesExist:pinnedDevicesExist,unpinnedDevices:unpinnedDevices,unpinnedDevicesExist:unpinnedDevicesExist}}var FadeInTransitionGroupvue_type_template_id_38645760_scoped_true_render=function(){var _h=this.$createElement;return(this._self._c||_h)("transition-group",{attrs:{name:"channel-list",tag:"div"}},[this._t("default")],2)};FadeInTransitionGroupvue_type_template_id_38645760_scoped_true_render._withStripped=!0;var FadeInTransitionGroup=normalizeComponent({name:"FadeInTransitionGroup"},FadeInTransitionGroupvue_type_template_id_38645760_scoped_true_render,[],!1,null,"38645760",null).exports,UnPinnedDevicesvue_type_template_id_5f8b35d2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"card-main-wrapper",style:_vm.cardStyle},[null!==_vm.device?_c("KRouterLink",{staticStyle:{"text-decoration":"none",width:"100%"},attrs:{text:_vm.deviceName,to:_vm.routeTo}},[_c("div",{staticClass:"card-main-body"},[_vm.viewAll?_vm._e():_c("KIcon",{staticClass:"icon",attrs:{icon:_vm.getDeviceIcon}}),_vm.viewAll?_vm._e():_c("div",{staticClass:"device-details"},[_c("TextTruncatorCss",{staticClass:"name",attrs:{text:_vm.deviceName,maxLines:2}}),_c("p",{staticClass:"channels"},[_vm._v("\n            "+_vm._s(_vm.$tr("channels",{count:_vm.channelCount}))+"\n          ")])],1),_vm.viewAll?_c("div",{staticClass:"name view-all"},[_c("TextTruncatorCss",{attrs:{text:_vm.coreString("viewAll"),maxLines:1}})],1):_vm._e()],1)]):_vm._e()],1)])};UnPinnedDevicesvue_type_template_id_5f8b35d2_scoped_true_render._withStripped=!0;var UnPinnedDevices_component=normalizeComponent({name:"UnPinnedDevices",components:{TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){return{windowGutter:external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()().windowGutter}},props:{device:{type:Object,required:!0},channelCount:{type:Number,default:0},routeTo:{type:Object,required:!0},viewAll:{type:Boolean,required:!1,default:!1}},computed:{cardStyle:function(){return{backgroundColor:this.$themeTokens.surface,color:this.$themeTokens.text,textAlign:"center"}},deviceName:function(){return this.device.nickname||this.device.device_name},getDeviceIcon:function(){return"Android"===this.device.operating_system?"device":this.device.subset_of_users_device?"laptop":"cloud"}},$trs:{channels:{message:"{count, number, integer} {count, plural, one {channel} other {channels}}",context:"Indicates the number of channels"}}},UnPinnedDevicesvue_type_template_id_5f8b35d2_scoped_true_render,[],!1,null,"5f8b35d2",null);function OtherLibrariesvue_type_script_lang_js_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return OtherLibrariesvue_type_script_lang_js_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return OtherLibrariesvue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OtherLibrariesvue_type_script_lang_js_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OtherLibrariesvue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var OtherLibraries=normalizeComponent({name:"OtherLibraries",components:{FadeInTransitionGroup:FadeInTransitionGroup,LibraryItem:LibraryItem,UnPinnedDevices:UnPinnedDevices_component.exports},setup:function(){var _useDevices=useDevices(),isLoadingChannels=_useDevices.isLoadingChannels,networkDevicesWithChannels=_useDevices.networkDevicesWithChannels,keepDeviceChannelsUpdated=_useDevices.keepDeviceChannelsUpdated,deviceChannelsMap=_useDevices.deviceChannelsMap,_usePinnedDevices=usePinnedDevices(networkDevicesWithChannels),handlePinToggle=_usePinnedDevices.handlePinToggle,fetchPinsForUser=_usePinnedDevices.fetchPinsForUser,pinnedDevices=_usePinnedDevices.pinnedDevices,unpinnedDevices=_usePinnedDevices.unpinnedDevices,pinnedDevicesExist=_usePinnedDevices.pinnedDevicesExist,unpinnedDevicesExist=_usePinnedDevices.unpinnedDevicesExist,userPinsMap=_usePinnedDevices.userPinsMap,windowIsSmall=external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()().windowIsSmall,_useContentLink=useContentLink(),genExploreLibrariesPageBackLink=_useContentLink.genExploreLibrariesPageBackLink,genLibraryPageBackLink=_useContentLink.genLibraryPageBackLink,_useCardLayoutSpan=useCardLayoutSpan(),layoutSpan=_useCardLayoutSpan.layoutSpan,makeComputedCardCount=_useCardLayoutSpan.makeComputedCardCount;keepDeviceChannelsUpdated(),fetchPinsForUser();var devicesWithChannelsExist=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(networkDevicesWithChannels).length>0})),cardsToDisplay=makeComputedCardCount(2,3),threeLibrariesOrFewer=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(networkDevicesWithChannels).length<=3})),fullLibrariesToDisplay=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(threeLibrariesOrFewer)?[].concat(OtherLibrariesvue_type_script_lang_js_toConsumableArray(shared_get(pinnedDevices)),OtherLibrariesvue_type_script_lang_js_toConsumableArray(shared_get(unpinnedDevices))):shared_get(pinnedDevices)})),explore$=external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr?external_kolibriCoreAppGlobal_utils_coreStrings_default().$tr("explore"):"";return{networkDevicesWithChannels:networkDevicesWithChannels,devicesWithChannelsExist:devicesWithChannelsExist,deviceChannelsMap:deviceChannelsMap,searchingOtherLibraries:isLoadingChannels,windowIsSmall:windowIsSmall,fullLibrariesToDisplay:fullLibrariesToDisplay,pinnedDevices:pinnedDevices,unpinnedDevices:unpinnedDevices,userPinsMap:userPinsMap,threeLibrariesOrFewer:threeLibrariesOrFewer,pinnedDevicesExist:pinnedDevicesExist,unpinnedDevicesExist:unpinnedDevicesExist,handlePinToggle:handlePinToggle,cardsToDisplay:cardsToDisplay,explore$:explore$,genExploreLibrariesPageBackLink:genExploreLibrariesPageBackLink,genLibraryPageBackLink:genLibraryPageBackLink,layoutSpan:layoutSpan}},props:{injectedtr:{type:Function,required:!0}}},OtherLibrariesvue_type_template_id_fdab6e6c_scoped_true_render,[],!1,null,"fdab6e6c",null).exports;function LibraryPagevue_type_script_lang_js_typeof(o){return LibraryPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LibraryPagevue_type_script_lang_js_typeof(o)}function LibraryPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LibraryPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LibraryPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){LibraryPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LibraryPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function LibraryPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=LibraryPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LibraryPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==LibraryPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var LibraryPagevue_type_script_lang_js={name:"LibraryPage",metaInfo:function(){return{title:this.learnString("learnLabel")}},components:{BrowseResourceMetadata:BrowseResourceMetadata,ChannelCardGroupGrid:ChannelCardGroupGrid,SidePanelModal:SidePanelModal,LearningActivityChip:LearningActivityChip,MeteredConnectionNotificationModal:MeteredConnectionNotificationModal,ResumableContentGrid:ResumableContentGrid,SearchResultsGrid:SearchResultsGrid,SearchFiltersPanel:SearchFiltersPanel,LearnAppBarPage:LearnAppBarPage,OtherLibraries:OtherLibraries,PostSetupModalGroup:PostSetupModalGroup},mixins:[commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(props){var currentInstance=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy,store=currentInstance.$store,router=currentInstance.$router,_useUser=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()(),isUserLoggedIn=_useUser.isUserLoggedIn,isCoach=_useUser.isCoach,isAdmin=_useUser.isAdmin,isSuperuser=_useUser.isSuperuser,allowDownloadOnMeteredConnection=useDeviceSettings().allowDownloadOnMeteredConnection,_useSearch=useSearch(),searchTerms=_useSearch.searchTerms,displayingSearchResults=_useSearch.displayingSearchResults,searchLoading=_useSearch.searchLoading,moreLoading=_useSearch.moreLoading,results=_useSearch.results,more=_useSearch.more,search=_useSearch.search,searchMore=_useSearch.searchMore,removeFilterTag=_useSearch.removeFilterTag,clearSearch=_useSearch.clearSearch,setCategory=_useSearch.setCategory,currentRoute=_useSearch.currentRoute,_useLearnerResources=useLearnerResources(),resumableContentNodes=_useLearnerResources.resumableContentNodes,moreResumableContentNodes=_useLearnerResources.moreResumableContentNodes,fetchResumableContentNodes=_useLearnerResources.fetchResumableContentNodes,fetchMoreResumableContentNodes=_useLearnerResources.fetchMoreResumableContentNodes,_useKResponsiveWindow=external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()(),windowBreakpoint=_useKResponsiveWindow.windowBreakpoint,windowIsLarge=_useKResponsiveWindow.windowIsLarge,windowIsMedium=_useKResponsiveWindow.windowIsMedium,windowIsSmall=_useKResponsiveWindow.windowIsSmall,_useCoreLearn=useCoreLearn(),canAddDownloads=_useCoreLearn.canAddDownloads,canDownloadExternally=_useCoreLearn.canDownloadExternally,_useCardViewStyle=function(store,router){store=store||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store,router=router||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$router;var route=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return store.state.route||{}}));return{currentCardViewStyle:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)({get:function(){return(shared_get(route).query||{}).cardViewStyle||"card"},set:function(value){var query=useCardViewStyle_objectSpread({},shared_get(route).query||{});query.cardViewStyle=value,router.push(useCardViewStyle_objectSpread(useCardViewStyle_objectSpread({},shared_get(route)),{},{query:query})).catch((function(){}))}})}}(),currentCardViewStyle=_useCardViewStyle.currentCardViewStyle,back=useContentLink().back,_currentDeviceData=currentDeviceData(),baseurl=_currentDeviceData.baseurl,deviceName=_currentDeviceData.deviceName,fetchChannels=useChannels().fetchChannels;(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onMounted)((function(){var keywords=currentRoute().query.keywords;keywords&&keywords.length&&search(keywords)}));var rootNodes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)([]),rootNodesLoading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1);function _showLibrary(baseurl){return fetchChannels({baseurl:baseurl}).then((function(channels){if(channels.length||store.getters.isUserLoggedIn){if(channels.length||!baseurl){var query=currentRoute().query;return searchKeys.some((function(key){return query[key]}))?(store.commit("CORE_SET_PAGE_LOADING",!1),store.commit("CORE_SET_ERROR",null),store.commit("SET_PAGE_NAME",constants_PageNames.LIBRARY),set(rootNodesLoading,!1),Promise.resolve()):function(channels,baseurl){shared_get(isUserLoggedIn)&&!baseurl&&fetchResumableContentNodes();var shouldResolve=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:{parent__isnull:!0,include_coach_content:shared_get(isAdmin)||shared_get(isCoach)||shared_get(isSuperuser),baseurl:baseurl}}).then((function(channelCollection){shouldResolve()&&(set(rootNodes,channels.map((function(channel){var node=channelCollection.find((function(n){return n.channel_id===channel.id}));if(node)return node.title=channel.name||node.title,node.thumbnail=channel.thumbnail,node.description=channel.tagline||channel.description,node})).filter(Boolean)),store.commit("CORE_SET_PAGE_LOADING",!1),store.commit("CORE_SET_ERROR",null),store.commit("SET_PAGE_NAME",constants_PageNames.LIBRARY),set(rootNodesLoading,!1))}),(function(error){shouldResolve()&&store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0}),set(rootNodesLoading,!1)}))}(channels,baseurl)}router.replace({name:constants_PageNames.LIBRARY})}else router.replace({name:constants_PageNames.CONTENT_UNAVAILABLE})}))}function showLibrary(){return set(rootNodesLoading,!0),store.commit("CORE_SET_PAGE_LOADING",!0),props.deviceId?setCurrentDevice(props.deviceId).then((function(device){return _showLibrary(device.base_url)})).catch((function(error){if(error!==StudioNotAllowedError)return Promise.reject(error);router.replace({name:constants_PageNames.LIBRARY})})):_showLibrary()}return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)((function(){return props.deviceId}),showLibrary),showLibrary(),{allowDownloadOnMeteredConnection:allowDownloadOnMeteredConnection,canAddDownloads:canAddDownloads,canDownloadExternally:canDownloadExternally,displayingSearchResults:displayingSearchResults,searchTerms:searchTerms,searchLoading:searchLoading,moreLoading:moreLoading,results:results,more:more,search:search,searchMore:searchMore,removeFilterTag:removeFilterTag,clearSearch:clearSearch,setCategory:setCategory,resumableContentNodes:resumableContentNodes,moreResumableContentNodes:moreResumableContentNodes,fetchMoreResumableContentNodes:fetchMoreResumableContentNodes,windowBreakpoint:windowBreakpoint,windowIsLarge:windowIsLarge,windowIsMedium:windowIsMedium,windowIsSmall:windowIsSmall,currentCardViewStyle:currentCardViewStyle,baseurl:baseurl,deviceName:deviceName,fetchChannels:fetchChannels,back:back,rootNodesLoading:rootNodesLoading,rootNodes:rootNodes,isUserLoggedIn:isUserLoggedIn}},props:{deviceId:{type:String,default:null}},data:function(){return{isLocalLibraryEmpty:!1,metadataSidePanelContent:null,mobileSidePanelIsOpen:!1,usingMeteredConnection:!0}},computed:LibraryPagevue_type_script_lang_js_objectSpread(LibraryPagevue_type_script_lang_js_objectSpread(LibraryPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isLearnerOnlyImport","canManageContent"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({welcomeModalVisibleState:"welcomeModalVisible"})),{},{allowDownloads:function(){return this.canAddDownloads&&Boolean(this.deviceId)},appBarTitle:function(){return this.learnString(this.deviceId?"exploreLibraries":"learnLabel")},welcomeModalVisible:function(){return this.welcomeModalVisibleState&&"true"!==window.localStorage.getItem("DEVICE_WELCOME_MODAL_DISMISSED")&&!(this.rootNodes.length>0)&&this.canManageContent&&!this.isLearnerOnlyImport},showOtherLibraries:function(){return!(this.deviceId||!this.isUserLoggedIn)&&(!(0,external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject.checkCapability)("check_is_metered")||(!!this.allowDownloadOnMeteredConnection||!this.usingMeteredConnection))},channelsLabel:function(){return this.deviceId?this.deviceId===this.studioId?this.learnString("kolibriLibrary"):this.$tr("libraryOf",{device:this.deviceName}):this.coreString("yourLibrary")},gridOffset:function(){var marginTop=this.windowIsLarge||!this.isLocalLibraryEmpty&&!this.deviceId?"110px":"140px";return this.isRtl?{marginRight:"".concat(this.sidePanelWidth+24,"px"),marginTop:marginTop}:{marginLeft:"".concat(this.sidePanelWidth+24,"px"),marginTop:marginTop}},sidePanelWidth:function(){return this.windowIsSmall||this.windowIsMedium||this.isLocalLibraryEmpty&&!this.deviceId?0:this.windowBreakpoint<5?234:346},studioId:function(){return KolibriStudioId}}),watch:{rootNodes:function(newNodes){this.isLocalLibraryEmpty=!newNodes.length},searchTerms:function(){this.mobileSidePanelIsOpen=!1},mobileSidePanelIsOpen:function(){this.mobileSidePanelIsOpen?document.documentElement.style.position="fixed":document.documentElement.style.position=""}},created:function(){var _this=this;this.search(),"true"!==window.sessionStorage.getItem("DEVICE_WELCOME_MODAL_DISMISSED")&&this.$store.commit("SET_WELCOME_MODAL_VISIBLE",!0),!this.deviceId&&this.isUserLoggedIn&&!this.allowDownloadOnMeteredConnection&&(0,external_kolibriCoreAppGlobal_utils_appCapabilities_namespaceObject.checkCapability)("check_is_metered")&&external_kolibriCoreAppGlobal_utils_appCapabilities_default().checkIsMetered().then((function(isMetered){_this.usingMeteredConnection=isMetered}))},methods:{hideWelcomeModal:function(){window.localStorage.setItem("DEVICE_WELCOME_MODAL_DISMISSED",!0),this.$store.commit("SET_WELCOME_MODAL_VISIBLE",!1)},findFirstEl:function(){this.$refs.resourcePanel.focusFirstEl()},toggleSidePanelVisibility:function(){this.mobileSidePanelIsOpen=!this.mobileSidePanelIsOpen},injecttr:function(){return this.$tr.apply(this,arguments)}},$trs:{libraryOf:{message:"Library of {device}",context:"A header for a device Library"},otherLibraries:{message:"Other libraries",context:"Header for viewing other remote content Library"},searchingOtherLibrary:{message:"Searching for libraries around you.",context:"Connection state for showing other library"},noOtherLibraries:{message:"No other libraries around you right now",context:"Connection state when there is no other libraries around"},showingAllLibraries:{message:"Showing all available libraries around you.",context:"Connection state when the device is connected and shows other libraries"},moreLibraries:{message:"More",context:"Title section containing unpinned devices"},pinned:{message:"Pinned",context:"Sub heading for the pinned devices"}}},LibraryPage=normalizeComponent(LibraryPagevue_type_script_lang_js,LibraryPagevue_type_template_id_6bad738b_scoped_true_render,[],!1,null,"6bad738b",null).exports,HomePagevue_type_template_id_68a95f37_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("LearnAppBarPage",{attrs:{appBarTitle:_vm.learnString("learnLabel")}},[_vm.loading?_vm._e():_c("div",{attrs:{id:"main",role:"main"}},[_vm.missingResources?_c("ResourceSyncingUiAlert",{on:{syncComplete:_vm.hydrateHomePage}}):_vm._e(),_vm.displayClasses?_c("YourClasses",{staticClass:"section",attrs:{classes:_vm.classes,"data-test":"classes",short:""}}):_vm._e(),_vm.continueLearning?_c("ContinueLearning",{staticClass:"section",attrs:{fromClasses:_vm.continueLearningFromClasses,"data-test":_vm.continueLearningFromClasses?"continueLearningFromClasses":"continueLearningOnYourOwn"}}):_vm._e(),_vm.hasActiveClassesLessons?_c("AssignedLessonsCards",{staticClass:"section",attrs:{lessons:_vm.activeClassesLessons,displayClassName:"",recent:"","data-test":"recentLessons"}}):_vm._e(),_vm.hasActiveClassesQuizzes?_c("AssignedQuizzesCards",{staticClass:"section",attrs:{quizzes:_vm.activeClassesQuizzes,displayClassName:"",recent:"","data-test":"recentQuizzes"}}):_vm._e(),_vm.displayExploreChannels?_c("ExploreChannels",{staticClass:"section",attrs:{channels:_vm.channels,"data-test":"exploreChannels",short:Boolean(_vm.displayClasses||_vm.continueLearning||_vm.hasActiveClassesLessons||_vm.hasActiveClassesQuizzes)}}):_vm._e()],1)])};HomePagevue_type_template_id_68a95f37_scoped_true_render._withStripped=!0;var ResourceSyncingUiAlertvue_type_template_id_fea072be_render=function(){var _vm=this,_h=_vm.$createElement;return(_vm._self._c||_h)("MissingResourceAlert",{attrs:{multiple:_vm.multiple},scopedSlots:_vm._u([_vm.isLearnerOnlyImport&&_vm.isSyncing?{key:"syncAlert",fn:function(){return[_vm._v("\n    "+_vm._s(_vm.syncMessage)+"\n  ")]},proxy:!0}:null],null,!0)})};ResourceSyncingUiAlertvue_type_template_id_fea072be_render._withStripped=!0;var MissingResourceAlertvue_type_template_id_39fddfab_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{style:{marginBottom:"8px"}},[_c("UiAlert",{style:{marginBottom:0,marginTop:"8px"},attrs:{dismissible:!1,removeIcon:!0,type:"warning"}},[_vm.$slots.syncAlert?_c("span",[_vm._t("syncAlert")],2):_c("span",[_c("span",[_vm._v("\n        "+_vm._s(_vm.coreString(_vm.multiple?"someResourcesMissingOrNotSupported":"resourceNotFoundOnDevice"))+"\n       \n        "),_c("KButton",{attrs:{appearance:"basic-link"},on:{click:function($event){_vm.open=!0}}},[_vm._v("\n          "+_vm._s(_vm.$tr("learnMore"))+"\n        ")])],1)])]),_vm.open?_c("KModal",{attrs:{title:_vm.$tr("resourcesUnavailableTitle"),cancelText:_vm.coreString("closeAction")},on:{cancel:function($event){_vm.open=!1}}},[_c("p",[_vm._v(_vm._s(_vm.$tr("resourcesUnavailableP1")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("resourcesUnavailableP2")))])]):_vm._e()],1)};MissingResourceAlertvue_type_template_id_39fddfab_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_UiAlert_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UiAlert,external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UiAlert_namespaceObject),MissingResourceAlert=normalizeComponent({name:"MissingResourceAlert",components:{UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{multiple:{type:Boolean,default:!0}},data:function(){return{open:!1}},$trs:{resourcesUnavailableTitle:{message:"Resources unavailable",context:"Title of the modal window"},resourcesUnavailableP1:{message:"Some resources are missing, either because they were not found on the device, or because they are not compatible with your version of Kolibri.",context:'First paragraph of the "Resources Unavailable - Learn More" modal'},resourcesUnavailableP2:{message:"Consult your administrator for guidance, or use an account with device permissions to manage channels and resources.",context:'Second paragraph of the "Resources Unavailable - Learn More" modal.'},learnMore:{message:"Learn more",context:"A clickable link to open a modal with more information about how to remedy missing or incompatible resource issues."}}},MissingResourceAlertvue_type_template_id_39fddfab_render,[],!1,null,null,null).exports,external_kolibriCoreAppGlobal_coreVue_composables_useUserSyncStatus_namespaceObject=kolibriCoreAppGlobal.coreVue.composables.useUserSyncStatus,external_kolibriCoreAppGlobal_coreVue_composables_useUserSyncStatus_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_composables_useUserSyncStatus_namespaceObject),syncStatusDescriptionStrings=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("SyncStatusDescription",{syncingDescription:{message:"The device is currently syncing.",context:"Description of the device syncing status."},queuedDescription:{message:"The device is waiting to sync.",context:"Description of the device syncing status"}}),ResourceSyncingUiAlertvue_type_script_lang_js={name:"ResourceSyncingUiAlert",components:{MissingResourceAlert:MissingResourceAlert},setup:function(props,_ref){var emit=_ref.emit,_useUserSyncStatus=external_kolibriCoreAppGlobal_coreVue_composables_useUserSyncStatus_default()(),status=_useUserSyncStatus.status,syncDownloadsInProgress=_useUserSyncStatus.syncDownloadsInProgress,isLearnerOnlyImport=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()().isLearnerOnlyImport,isSyncing=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(status)===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.SyncStatus.QUEUED||shared_get(status)===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.SyncStatus.SYNCING||shared_get(syncDownloadsInProgress)}));return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)(isSyncing,(function(newVal,oldVal){!1===newVal&&!0===oldVal&&emit("syncComplete")})),{status:status,syncDownloadsInProgress:syncDownloadsInProgress,isLearnerOnlyImport:isLearnerOnlyImport,isSyncing:isSyncing}},props:{multiple:{type:Boolean,default:!0}},computed:{syncMessage:function(){return this.status==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.SyncStatus.QUEUED?syncStatusDescriptionStrings.$tr("queuedDescription"):syncStatusDescriptionStrings.$tr("syncingDescription")}}},ResourceSyncingUiAlert=normalizeComponent(ResourceSyncingUiAlertvue_type_script_lang_js,ResourceSyncingUiAlertvue_type_template_id_fea072be_render,[],!1,null,null,null).exports,AssignedLessonsCardsvue_type_template_id_7986619a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h2",[_c("KLabeledIcon",{attrs:{icon:"lesson",label:_vm.header}})],1),_vm.lessons&&_vm.lessons.length>0?_c("CardGrid",{attrs:{gridType:1}},_vm._l(_vm.lessons,(function(lesson){return _c("LessonCard",{key:lesson.id,attrs:{lesson:lesson,to:_vm.getClassLessonLink(lesson),collectionTitle:_vm.displayClassName?_vm.getLessonClassName(lesson):""}})})),1):_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("noLessonsMessage"))+"\n  ")])],1)};AssignedLessonsCardsvue_type_template_id_7986619a_scoped_true_render._withStripped=!0;var LessonCardvue_type_template_id_29e59ec8_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.lesson?_c("BaseCard",_vm._b({},"BaseCard",{to:_vm.to,title:_vm.title,collectionTitle:_vm.collectionTitle,completedLabel:_vm.completedLabel,inProgressLabel:_vm.inProgressLabel},!1)):_vm._e()};LessonCardvue_type_template_id_29e59ec8_scoped_true_render._withStripped=!0;var AssignedLessonsCardsvue_type_script_lang_js={name:"AssignedLessonsCards",components:{CardGrid:CardGrid,LessonCard:normalizeComponent({name:"LessonCard",components:{BaseCard:BaseCard},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{lesson:{type:Object,required:!0},to:{type:Object,required:!0},collectionTitle:{type:String,required:!1,default:""}},data:function(){return{progress:this.lesson?this.lesson.progress:void 0,title:this.lesson?this.lesson.title:""}},computed:{lessonProgress:function(){if(!this.progress)return NaN;var _this$progress=this.progress,resource_progress=_this$progress.resource_progress,total_resources=_this$progress.total_resources;return resource_progress*total_resources==0?NaN:resource_progress-total_resources},inProgressLabel:function(){return this.lessonProgress<0?this.coreString("inProgressLabel"):""},completedLabel:function(){return this.lessonProgress>=0?this.coreString("completedLabel"):""}}},LessonCardvue_type_template_id_29e59ec8_scoped_true_render,[],!1,null,"29e59ec8",null).exports},setup:function(){var _useLearnerResources=useLearnerResources(),getClass=_useLearnerResources.getClass;return{getLessonClassName:function(lesson){var lessonClass=getClass(lesson.collection);return lessonClass?lessonClass.name:""},getClassLessonLink:_useLearnerResources.getClassLessonLink}},props:{lessons:{type:Array,required:!0},recent:{type:Boolean,default:!1},displayClassName:{type:Boolean,default:!1}},computed:{header:function(){return this.recent?this.$tr("recentLessonsHeader"):this.$tr("yourLessonsHeader")}},$trs:{recentLessonsHeader:{message:"Recent lessons",context:"Section header on the learner's Home page, displaying the most recent lessons that the coaches assigned to them."},yourLessonsHeader:{message:"Your lessons",context:"Heading on the 'Learn' page for a section where a learner can see which lessons have been assigned to them."},noLessonsMessage:{message:"You have no lessons assigned",context:"Message that a learner sees if a coach has not assigned any lessons to them."}}},AssignedLessonsCards=normalizeComponent(AssignedLessonsCardsvue_type_script_lang_js,AssignedLessonsCardsvue_type_template_id_7986619a_scoped_true_render,[],!1,null,"7986619a",null).exports,AssignedQuizzesCardsvue_type_template_id_282d8413_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h2",[_c("KLabeledIcon",{attrs:{icon:"quiz",label:_vm.header}})],1),_vm.visibleQuizzes.length>0?_c("CardGrid",{attrs:{gridType:1}},_vm._l(_vm.visibleQuizzes,(function(quiz){return _c("QuizCard",{key:quiz.id,attrs:{quiz:quiz,to:_vm.getClassQuizLink(quiz),collectionTitle:_vm.displayClassName?_vm.getQuizClassName(quiz):""}})})),1):_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("noQuizzesMessage"))+"\n  ")])],1)};AssignedQuizzesCardsvue_type_template_id_282d8413_scoped_true_render._withStripped=!0;var QuizCardvue_type_template_id_dfcb0e30_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.quiz?_c("BaseCard",_vm._b({scopedSlots:_vm._u([_vm.showThumbnail?{key:"topLeft",fn:function(){return[_c("QuizThumbnail",{attrs:{rounded:""}})]},proxy:!0}:null],null,!0)},"BaseCard",{to:_vm.to,title:_vm.title,collectionTitle:_vm.collectionTitle,completedLabel:_vm.completedLabel,inProgressLabel:_vm.inProgressLabel},!1)):_vm._e()};QuizCardvue_type_template_id_dfcb0e30_scoped_true_render._withStripped=!0;var QuizThumbnailvue_type_template_id_e387a200_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("Thumbnail",{attrs:{rounded:_vm.rounded},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("KIcon",{attrs:{icon:"exercise",color:_vm.$themePalette.grey.v_500}})]},proxy:!0}])})};QuizThumbnailvue_type_template_id_e387a200_render._withStripped=!0;var QuizThumbnail_component=normalizeComponent({name:"QuizThumbnail",components:{Thumbnail:Thumbnail},props:{rounded:{type:Boolean,required:!1,default:!1}}},QuizThumbnailvue_type_template_id_e387a200_render,[],!1,null,null,null),QuizCard=normalizeComponent({name:"QuizCard",components:{BaseCard:BaseCard,QuizThumbnail:QuizThumbnail_component.exports},props:{quiz:{type:Object,required:!0},to:{type:Object,required:!0},collectionTitle:{type:String,required:!1,default:""},showThumbnail:{type:Boolean,required:!1,default:!1}},computed:{progress:function(){return this.quiz?this.quiz.progress:void 0},title:function(){return this.quiz?this.quiz.title:""},inProgressLabel:function(){if(!this.progress)return"";var _this$progress=this.progress,started=_this$progress.started,closed=_this$progress.closed,answer_count=_this$progress.answer_count,question_count=this.quiz.question_count;return started&&!closed?this.$tr("questionsLeft",{questionsLeft:Math.max(0,question_count-answer_count)}):""},completedLabel:function(){if(!this.progress)return"";var _this$progress2=this.progress,score=_this$progress2.score,closed=_this$progress2.closed,question_count=this.quiz.question_count;if(closed){var percentage=0,nCorrect=Number(score);return nCorrect>0&&(percentage=Math.round(nCorrect/question_count*100)),this.$tr("completedPercentLabel",{score:percentage})}return""}},$trs:{questionsLeft:{message:"{questionsLeft, number, integer} {questionsLeft, plural, one {question} other {questions}} left",context:"Indicates how many questions the learner has left to complete."},completedPercentLabel:{message:"Score: {score, number, integer}%",context:"A label shown to learners on a quiz card when the quiz is completed"}}},QuizCardvue_type_template_id_dfcb0e30_scoped_true_render,[],!1,null,"dfcb0e30",null).exports,AssignedQuizzesCardsvue_type_script_lang_js={name:"AssignedQuizzesCards",components:{CardGrid:CardGrid,QuizCard:QuizCard},setup:function(props){var _useLearnerResources=useLearnerResources(),getClass=_useLearnerResources.getClass,getClassQuizLink=_useLearnerResources.getClassQuizLink;return{visibleQuizzes:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return props.quizzes?props.quizzes.filter((function(quiz){return!!quiz.active&&(!quiz.archive||(quiz.progress.started||quiz.progress.closed))})):[]})),getQuizClassName:function(quiz){var quizClass=getClass(quiz.collection);return quizClass?quizClass.name:""},getClassQuizLink:getClassQuizLink}},props:{quizzes:{type:Array,required:!0},recent:{type:Boolean,default:!1},displayClassName:{type:Boolean,default:!1}},computed:{header:function(){return this.recent?this.$tr("recentQuizzesHeader"):this.$tr("yourQuizzesHeader")}},$trs:{yourQuizzesHeader:{message:"Your quizzes",context:"AssignedQuizzesCards.yourQuizzesHeader\n\nHeading on the 'Learn' page for a section where a learner can see which quizzes have been assigned to them."},noQuizzesMessage:{message:"You have no quizzes assigned",context:"Message that a learner sees if a coach has not assigned any quizzes to them."},recentQuizzesHeader:{message:"Recent quizzes",context:"Section header on the learner's Home page, displaying the most recent quizzes that the coaches assigned to them."}}},AssignedQuizzesCards=normalizeComponent(AssignedQuizzesCardsvue_type_script_lang_js,AssignedQuizzesCardsvue_type_template_id_282d8413_scoped_true_render,[],!1,null,"282d8413",null).exports,YourClassesvue_type_template_id_732e21df_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",[_c("KFixedGrid",{attrs:{numCols:3}},[_c("KFixedGridItem",{attrs:{span:2}},[_c("h2",{style:{marginTop:0}},[_c("KLabeledIcon",{attrs:{icon:"classes",label:_vm.$tr("yourClassesHeader")}})],1)]),_c("KFixedGridItem",{attrs:{span:1,alignment:"right"}},[_vm.displayAllClassesLink?_c("KRouterLink",{attrs:{text:_vm.coreString("viewAll"),to:_vm.allClassesLink,"data-test":"viewAllLink"}}):_vm._e()],1)],1),_vm.classes&&_vm.classes.length>0?_c("CardGrid",{attrs:{gridType:2}},_vm._l(_vm.visibleClasses,(function(c){return _c("CardLink",{key:c.id,attrs:{"data-test":"classLink",to:_vm.classAssignmentsLink(c.id)}},[_c("h3",{style:{margin:0,fontWeight:"normal"},attrs:{dir:"auto"}},[_vm._v("\n        "+_vm._s(c.name)+"\n      ")])])})),1):_vm.loading?_c("KCircularLoader"):_vm.loading?_vm._e():_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("noClasses"))+"\n  ")])],1)};function classAssignmentsLink(classId){return{name:constants_ClassesPageNames.CLASS_ASSIGNMENTS,params:{classId:classId}}}YourClassesvue_type_template_id_732e21df_render._withStripped=!0;var YourClasses=normalizeComponent({name:"YourClasses",components:{CardGrid:CardGrid,CardLink:CardLink},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{classes:{type:Array,required:!0},short:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,default:null}},data:function(){return{classAssignmentsLink:classAssignmentsLink}},computed:{visibleClasses:function(){return this.classes?this.short?this.classes.slice(0,4):this.classes:[]},allClassesLink:function(){return{name:constants_ClassesPageNames.ALL_CLASSES}},displayAllClassesLink:function(){return this.classes&&this.classes.length>this.visibleClasses.length}},$trs:{yourClassesHeader:{message:"Your classes",context:"Refers to the classes the learner is enrolled in."},noClasses:{message:"You are not enrolled in any classes",context:"Message that a learner sees in the Learn > CLASSES section and in the Learn > HOME section if they are not enrolled in any classes."}}},YourClassesvue_type_template_id_732e21df_render,[],!1,null,null,null).exports,ContinueLearningvue_type_template_id_87e6a9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",[_c("h2",[_c("KLabeledIcon",{attrs:{icon:"forward",label:_vm.header}})],1),_c("CardGrid",{attrs:{gridType:1}},[_vm.fromClasses?[_vm._l(_vm.uniqueResumableClassesResources,(function(resource,idx){return _c("ResourceCard",{key:"resource-"+idx,attrs:{contentNode:resource.contentNode,to:_vm.genContentLinkBackLinkCurrentPage(resource.contentNode.id,!0),collectionTitle:_vm.getResourceClassName(resource)}})})),_vm._l(_vm.resumableClassesQuizzes,(function(quiz,idx){return _c("QuizCard",{key:"quiz-"+idx,attrs:{quiz:quiz,to:_vm.getClassQuizLink(quiz),collectionTitle:_vm.getQuizClassName(quiz),showThumbnail:""}})}))]:_vm._l(_vm.resumableContentNodes,(function(contentNode,idx){return _c("ResourceCard",{key:idx,attrs:{contentNode:contentNode,to:_vm.genContentLinkBackLinkCurrentPage(contentNode.id,!0),collectionTitle:_vm.getContentNodeTopicName(contentNode)},on:{openCopiesModal:_vm.openCopiesModal}})}))],2),_vm.moreResumableContentNodes?_c("KButton",{staticStyle:{"margin-top":"16px"},attrs:{appearance:"basic-link"},on:{click:_vm.fetchMoreResumableContentNodes}},[_vm._v("\n    "+_vm._s(_vm.coreString("viewMoreAction"))+"\n  ")]):_vm._e(),_vm.displayedCopies.length?_c("CopiesModal",{attrs:{copies:_vm.displayedCopies},on:{submit:function($event){_vm.displayedCopies=[]}}}):_vm._e()],1)};ContinueLearningvue_type_template_id_87e6a9ec_render._withStripped=!0;var last=__webpack_require__(1414),last_default=__webpack_require__.n(last),uniqBy=__webpack_require__(584),uniqBy_default=__webpack_require__.n(uniqBy),ContinueLearningvue_type_script_lang_js={name:"ContinueLearning",components:{CardGrid:CardGrid,ResourceCard:ResourceCard,QuizCard:QuizCard,CopiesModal:CopiesModal},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useLearnerResources=useLearnerResources(),resumableClassesQuizzes=_useLearnerResources.resumableClassesQuizzes,resumableClassesResources=_useLearnerResources.resumableClassesResources,resumableContentNodes=_useLearnerResources.resumableContentNodes,moreResumableContentNodes=_useLearnerResources.moreResumableContentNodes,fetchMoreResumableContentNodes=_useLearnerResources.fetchMoreResumableContentNodes,getClass=_useLearnerResources.getClass,getClassQuizLink=_useLearnerResources.getClassQuizLink;return{resumableClassesQuizzes:resumableClassesQuizzes,resumableContentNodes:resumableContentNodes,moreResumableContentNodes:moreResumableContentNodes,fetchMoreResumableContentNodes:fetchMoreResumableContentNodes,uniqueResumableClassesResources:(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return uniqBy_default()(shared_get(resumableClassesResources),"contentNodeId")})),getClassQuizLink:getClassQuizLink,getQuizClassName:function(quiz){var quizClass=getClass(quiz.collection);return quizClass?quizClass.name:""},getResourceClassName:function(resource){var resourceClass=getClass(resource.classId);return resourceClass?resourceClass.name:""},getContentNodeTopicName:function(contentNode){return!contentNode||!contentNode.ancestors||!contentNode.ancestors.length>0?"":last_default()(contentNode.ancestors).title},genContentLinkBackLinkCurrentPage:useContentLink().genContentLinkBackLinkCurrentPage}},props:{fromClasses:{type:Boolean,default:!1}},data:function(){return{displayedCopies:[]}},computed:{header:function(){return this.fromClasses?this.$tr("continueLearningFromClassesHeader"):this.$tr("continueLearningOnYourOwnHeader")}},methods:{openCopiesModal:function(copies){this.displayedCopies=copies}},$trs:{continueLearningOnYourOwnHeader:{message:"Continue learning on your own",context:"Option to continue interacting with the resources (lessons, quizzes) in a self-directed way or through free exploration, rather than via material that coaches have prepared and made available in classes."},continueLearningFromClassesHeader:{message:"Continue learning from your classes",context:"Option to continue interacting with the resources (lessons, quizzes) coaches have prepared and made available in the classes learner is enrolled into."}}},ContinueLearning=normalizeComponent(ContinueLearningvue_type_script_lang_js,ContinueLearningvue_type_template_id_87e6a9ec_render,[],!1,null,null,null).exports,ExploreChannelsvue_type_template_id_5f20e2f5_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",[_c("KFixedGrid",{attrs:{numCols:3}},[_c("KFixedGridItem",{attrs:{span:2}},[_c("h2",{style:{marginTop:0}},[_c("KLabeledIcon",{attrs:{icon:"channel",label:_vm.$tr("header")}})],1)]),_c("KFixedGridItem",{attrs:{span:1,alignment:"right"}},[_vm.displayAllChannelsLink?_c("KRouterLink",{attrs:{text:_vm.coreString("viewAll"),to:_vm.allChannelsLink,"data-test":"viewAllLink"}}):_vm._e()],1)],1),_c("CardGrid",{attrs:{gridType:1}},_vm._l(_vm.visibleChannels,(function(channel,idx){return _c("BaseChannelCard",{key:idx,attrs:{"data-test":"channelLink",channel:channel,to:_vm.getChannelLink(channel)}})})),1)],1)};ExploreChannelsvue_type_template_id_5f20e2f5_render._withStripped=!0;var BaseChannelCardvue_type_template_id_4531ecd6_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.channel?_c("CardLink",{staticClass:"base-channel-card",attrs:{to:_vm.to}},[_c("h3",{staticClass:"title"},[_c("TextTruncatorCss",{attrs:{dir:"auto",text:_vm.channel.name,maxLines:1}})],1),_c("KFixedGrid",{staticClass:"content",style:{borderTop:"1px solid "+_vm.$themeTokens.fineLine},attrs:{numCols:"4",gutter:"16"}},[_c("KFixedGridItem",{attrs:{span:"1"}},[_vm.channel.thumbnail?_c("ChannelThumbnail",{staticClass:"channel-thumbnail-wrapper",attrs:{thumbnailUrl:_vm.channel.thumbnail}}):_vm._e()],1),_c("KFixedGridItem",{style:{textAlign:"unset"},attrs:{span:"3"}},[_vm.description?_c("TextTruncatorCss",{attrs:{dir:"auto",text:_vm.description,maxLines:6}}):_vm._e()],1)],1)],1):_vm._e()};BaseChannelCardvue_type_template_id_4531ecd6_scoped_true_render._withStripped=!0;var ChannelThumbnailvue_type_template_id_6bb2e8cd_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("span",{staticClass:"channel-thumbnail"},[this.thumbnailUrl?_c("img",{staticClass:"image",attrs:{src:this.thumbnailUrl,alt:""}}):this._e()])};ChannelThumbnailvue_type_template_id_6bb2e8cd_scoped_true_render._withStripped=!0;var thumbnails_ChannelThumbnail=normalizeComponent({name:"ChannelThumbnail",props:{thumbnailUrl:{type:String,required:!1,default:""}}},ChannelThumbnailvue_type_template_id_6bb2e8cd_scoped_true_render,[],!1,null,"6bb2e8cd",null).exports,BaseChannelCard_component=normalizeComponent({name:"BaseChannelCard",components:{TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default(),ChannelThumbnail:thumbnails_ChannelThumbnail,CardLink:CardLink},props:{channel:{type:Object,required:!0},to:{type:Object,required:!0}},computed:{description:function(){return this.channel?this.channel.tagline||this.channel.description:""}}},BaseChannelCardvue_type_template_id_4531ecd6_scoped_true_render,[],!1,null,"4531ecd6",null);function HomePagevue_type_script_lang_js_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return HomePagevue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HomePagevue_type_script_lang_js_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function HomePagevue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var HomePagevue_type_script_lang_js={name:"HomePage",components:{AssignedLessonsCards:AssignedLessonsCards,AssignedQuizzesCards:AssignedQuizzesCards,YourClasses:YourClasses,ContinueLearning:ContinueLearning,ExploreChannels:normalizeComponent({name:"ExploreChannels",components:{CardGrid:CardGrid,BaseChannelCard:BaseChannelCard_component.exports},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{channels:{type:Array,required:!0},short:{type:Boolean,required:!1,default:!1}},computed:{visibleChannels:function(){return this.channels?this.short?this.channels.slice(0,3):this.channels:[]},displayAllChannelsLink:function(){return this.channels&&this.channels.length>this.visibleChannels.length},allChannelsLink:function(){return{name:constants_PageNames.LIBRARY}}},methods:{getChannelLink:function(channel){return{name:constants_PageNames.TOPICS_TOPIC,params:{id:channel.root},query:{last:constants_PageNames.HOME}}}},$trs:{header:{message:"Explore channels",context:"Heading in the 'Learn' section where users can view channels."}}},ExploreChannelsvue_type_template_id_5f20e2f5_render,[],!1,null,null,null).exports,LearnAppBarPage:LearnAppBarPage,ResourceSyncingUiAlert:ResourceSyncingUiAlert},mixins:[commonLearnStrings],setup:function(){var currentInstance=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy,store=currentInstance.$store,router=currentInstance.$router,isUserLoggedIn=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()().isUserLoggedIn,canAccessUnassignedContent=useDeviceSettings().canAccessUnassignedContent,_useChannels=useChannels(),localChannelsCache=_useChannels.localChannelsCache,fetchChannels=_useChannels.fetchChannels,_useLearnerResources=useLearnerResources(),classes=_useLearnerResources.classes,activeClassesLessons=_useLearnerResources.activeClassesLessons,activeClassesQuizzes=_useLearnerResources.activeClassesQuizzes,resumableClassesQuizzes=_useLearnerResources.resumableClassesQuizzes,resumableClassesResources=_useLearnerResources.resumableClassesResources,resumableContentNodes=_useLearnerResources.resumableContentNodes,learnerFinishedAllClasses=_useLearnerResources.learnerFinishedAllClasses,continueLearningFromClasses=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(isUserLoggedIn)&&shared_get(resumableClassesQuizzes).length>0||shared_get(resumableClassesResources).length>0})),continueLearningOnYourOwn=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(isUserLoggedIn)&&shared_get(learnerFinishedAllClasses)&&shared_get(canAccessUnassignedContent)&&shared_get(resumableContentNodes).length>0})),continueLearning=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(continueLearningFromClasses)||shared_get(continueLearningOnYourOwn)})),hasActiveClassesLessons=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(isUserLoggedIn)&&shared_get(activeClassesLessons)&&shared_get(activeClassesLessons).length>0})),hasActiveClassesQuizzes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(isUserLoggedIn)&&shared_get(activeClassesQuizzes)&&shared_get(activeClassesQuizzes).length>0})),hasChannels=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(localChannelsCache).length>0})),displayExploreChannels=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(hasChannels)&&(!shared_get(isUserLoggedIn)||shared_get(learnerFinishedAllClasses)&&shared_get(canAccessUnassignedContent))})),displayClasses=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(isUserLoggedIn)&&(shared_get(classes).length||!shared_get(canAccessUnassignedContent))})),missingResources=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(activeClassesLessons).some((function(l){return l.missing_resource}))||shared_get(activeClassesQuizzes).some((function(q){return q.missing_resource}))}));function hydrateHomePage(){return external_kolibriCoreAppGlobal_client_default()({url:external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.learn:homehydrate"]()}).then((function(response){setClasses(response.data.classrooms),setResumableContentNodes(response.data.resumable_resources.results||[],response.data.resumable_resources.more||null);var _step,_iterator=HomePagevue_type_script_lang_js_createForOfIteratorHelper(response.data.resumable_resources_progress);try{for(_iterator.s();!(_step=_iterator.n()).done;){setContentNodeProgress(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}))}return fetchChannels().then((function(channels){if(channels.length)return hydrateHomePage().then((function(){store.commit("SET_PAGE_NAME",constants_PageNames.HOME),store.dispatch("notLoading")})).catch((function(error){return store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}));router.replace({name:constants_PageNames.LIBRARY})})),{isUserLoggedIn:isUserLoggedIn,channels:localChannelsCache,classes:classes,activeClassesLessons:activeClassesLessons,activeClassesQuizzes:activeClassesQuizzes,hasActiveClassesLessons:hasActiveClassesLessons,hasActiveClassesQuizzes:hasActiveClassesQuizzes,continueLearningFromClasses:continueLearningFromClasses,continueLearning:continueLearning,displayExploreChannels:displayExploreChannels,displayClasses:displayClasses,missingResources:missingResources,hydrateHomePage:hydrateHomePage}},props:{loading:{type:Boolean,default:null}}},HomePage=normalizeComponent(HomePagevue_type_script_lang_js,HomePagevue_type_template_id_68a95f37_scoped_true_render,[],!1,null,"68a95f37",null).exports,TopicsPagevue_type_template_id_56c0d04c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.currentChannelIsCustom?_c("div",[_c("CustomContentRenderer",{attrs:{topic:_vm.topic}})],1):_c("ImmersivePage",{staticClass:"page",attrs:{route:_vm.back,appBarTitle:_vm.barTitle,appearanceOverrides:{},primary:!_vm.allowDownloads},scopedSlots:_vm._u([{key:"actions",fn:function(){return[_vm.deviceId?_c("DeviceConnectionStatus",{attrs:{deviceId:_vm.deviceId,color:"white"}}):_vm._e()]},proxy:!0}])},[_vm.loading?_c("KCircularLoader",{staticClass:"page-loader"}):_c("div",[_vm.windowIsSmall?_c("TopicsMobileHeader",{attrs:{topic:_vm.topic}}):_c("TopicsHeader",{ref:"header",attrs:{role:"complementary","data-test":"header-breadcrumbs",title:_vm.topic&&_vm.topic.title||"",description:_vm.topic&&_vm.topic.description,thumbnail:_vm.topic&&_vm.topic.thumbnail,breadcrumbs:_vm.breadcrumbs},scopedSlots:_vm._u([{key:"sticky-sidebar",fn:function(){return[_vm.windowIsLarge&&_vm.topic?_c("ToggleHeaderTabs",{attrs:{topic:_vm.topic,topics:_vm.topics,width:_vm.sidePanelWidth}}):_vm._e(),_vm.windowIsLarge&&_vm.searchActive?_c("SearchFiltersPanel",{ref:"sidePanel",staticClass:"side-panel",style:_vm.sidePanelStyleOverrides,attrs:{width:_vm.sidePanelWidth+"px",showChannels:!1},model:{value:_vm.searchTerms,callback:function($$v){_vm.searchTerms=$$v},expression:"searchTerms"}}):_vm.windowIsLarge?_c("TopicsPanelModal",{ref:"sidePanel",staticClass:"side-panel",style:_vm.sidePanelStyleOverrides,attrs:{topics:_vm.topics,topicMore:Boolean(_vm.topicMore),topicsLoading:_vm.topicMoreLoading,width:_vm.sidePanelWidth+"px"},on:{loadMoreTopics:_vm.handleLoadMoreInTopic}}):_vm._e()]},proxy:!0}],null,!1,505773851)}),_c("main",{staticClass:"main-content-grid",style:_vm.gridStyle},[_vm.breadcrumbs.length&&_vm.windowIsSmall?_c("KBreadcrumbs",{attrs:{"data-test":"mobile-breadcrumbs",items:_vm.breadcrumbs,ariaLabel:_vm.learnString("channelAndFoldersLabel")}}):_vm._e(),_c("div",{staticClass:"card-grid"},[_vm.windowIsLarge?_vm._e():_c("div",{attrs:{"data-test":"tab-buttons"}},[_vm.topics.length?_c("KButton",{staticClass:"overlay-toggle-button",attrs:{icon:"topic","data-test":"folders-button",text:_vm.coreString("folders"),primary:!1},on:{click:_vm.handleFoldersButton}}):_vm._e(),_c("KButton",{staticClass:"overlay-toggle-button",attrs:{icon:"filter","data-test":"filter-button",text:_vm.coreString("filter"),primary:!1},on:{click:_vm.handleSearchButton}})],1),_vm.displayingSearchResults?_c("SearchResultsGrid",{attrs:{"data-test":"search-results",allowDownloads:_vm.allowDownloads,currentCardViewStyle:_vm.currentSearchCardViewStyle,hideCardViewToggle:!0,results:_vm.results,removeFilterTag:_vm.removeFilterTag,clearSearch:_vm.clearSearch,moreLoading:_vm.moreLoading,searchMore:_vm.searchMore,searchTerms:_vm.searchTerms,searchLoading:_vm.searchLoading,more:_vm.more},on:{setCardStyle:function(style){return _vm.currentSearchCardViewStyle=style},setSidePanelMetadataContent:function(content){return _vm.metadataSidePanelContent=content}}}):_c("div",{attrs:{"data-test":"topics"}},[_vm._l(_vm.topicsForDisplay,(function(t){return[_c("TopicSubsection",{key:t.id,attrs:{topic:t,subTopicLoading:t.id===_vm.subTopicLoading,gridType:_vm.gridType,allowDownloads:_vm.allowDownloads},on:{showMore:_vm.handleShowMore,loadMoreInSubtopic:_vm.handleLoadMoreInSubtopic,toggleInfoPanel:_vm.toggleInfoPanel}})]})),_vm.resources.length?_c("LibraryAndChannelBrowserMainContent",{attrs:{allowDownloads:_vm.allowDownloads,"data-test":"search-results",contents:_vm.resourcesDisplayed,gridType:_vm.gridType,currentCardViewStyle:"card"},on:{toggleInfoPanel:_vm.toggleInfoPanel}}):_vm._e(),_vm.moreResources?_c("KButton",{staticClass:"more-after-grid",attrs:{appearance:"basic-link"},on:{click:_vm.handleShowMoreResources}},[_vm._v("\n              "+_vm._s(_vm.coreString("showMoreAction"))+"\n            ")]):_vm.topicMore?_c("div",{staticClass:"end-button-block"},[_vm.topicMoreLoading?_c("KCircularLoader"):_c("KButton",{attrs:{text:_vm.coreString("viewMoreAction"),appearance:"raised-button",disabled:_vm.topicMoreLoading},on:{click:_vm.handleLoadMoreInTopic}})],1):_vm._e()],2)],1)],1),!_vm.windowIsLarge&&_vm.sidePanelIsOpen?[_vm.searchActive?_c("SearchFiltersPanel",{ref:"embeddedPanel",staticClass:"full-screen-side-panel",style:_vm.sidePanelStyleOverrides,attrs:{showChannels:!1},on:{close:function($event){_vm.sidePanelIsOpen=!1}},model:{value:_vm.searchTerms,callback:function($$v){_vm.searchTerms=$$v},expression:"searchTerms"}}):_c("TopicsPanelModal",{ref:"embeddedPanel",staticClass:"full-screen-side-panel",style:_vm.sidePanelStyleOverrides,attrs:{topics:_vm.topics,topicMore:Boolean(_vm.topicMore),topicsLoading:_vm.topicMoreLoading},on:{loadMoreTopics:_vm.handleLoadMoreInTopic,close:function($event){_vm.sidePanelIsOpen=!1}}})]:_vm._e()],2),_vm.metadataSidePanelContent?_c("SidePanelModal",{attrs:{alignment:"right"},on:{closePanel:function($event){_vm.metadataSidePanelContent=null},shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([{key:"header",fn:function(){return _vm._l(_vm.metadataSidePanelContent.learning_activities,(function(activity){return _c("div",{key:activity,staticClass:"side-panel-chips",class:_vm.$computedClass({"::after":{content:"",flex:"auto"}})},[_c("LearningActivityChip",{staticClass:"chip",staticStyle:{"margin-left":"8px","margin-bottom":"8px"},attrs:{kind:activity}})],1)}))},proxy:!0}],null,!1,3724738688)},[_c("BrowseResourceMetadata",{ref:"resourcePanel",attrs:{content:_vm.metadataSidePanelContent,showLocationsInChannel:!0,canDownloadExternally:_vm.canDownloadExternally&&!_vm.deviceId}})],1):_vm._e()],1)],1)};TopicsPagevue_type_template_id_56c0d04c_scoped_true_render._withStripped=!0;var isEqual=__webpack_require__(5946),isEqual_default=__webpack_require__.n(isEqual),lodash_set=__webpack_require__(2228),set_default=__webpack_require__.n(lodash_set),KBreadcrumbsvue_type_template_id_ac260c58_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.showSingleItem||_vm.crumbs.length>1,expression:"showSingleItem || crumbs.length > 1"}],class:{"breadcrumbs-collapsed":_vm.collapsedCrumbs.length}},[_c("nav",_vm._b({staticClass:"breadcrumbs",attrs:{"aria-label":_vm.$attrs.ariaLabel}},"nav",_vm.$attrs,!1),[_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.collapsedCrumbs.length,expression:"collapsedCrumbs.length"}],staticClass:"breadcrumbs-dropdown-wrapper"},[_c("KIconButton",{attrs:{size:"small",icon:_vm.showDropdown?"chevronUp":"chevronDown",appearance:"raised-button"},on:{click:function($event){_vm.showDropdown=!_vm.showDropdown}}}),_vm.showDropdown?_c("div",{staticClass:"breadcrumbs-dropdown",style:{background:_vm.$themeTokens.surface}},[_c("ol",{staticClass:"breadcrumbs-dropdown-items"},_vm._l(_vm.collapsedCrumbs,(function(crumb,index){return _c("li",{key:index,staticClass:"breadcrumbs-dropdown-item"},[crumb.link?_c("KRouterLink",{staticClass:"krouter-item",attrs:{text:crumb.text,to:crumb.link},scopedSlots:_vm._u([{key:"text",fn:function(ref){var text=ref.text;return[_c("span",{staticClass:"breadcrumbs-crumb-text",attrs:{dir:"auto"}},[_vm._v(_vm._s(text))])]}}],null,!0)}):_c("span",{attrs:{dir:"auto"}},[_vm._v(_vm._s(crumb.text))])],1)})),0)]):_vm._e()],1),_c("ol",{staticClass:"breadcrumbs-visible-items"},[_vm._l(_vm.crumbs,(function(crumb,index){return[index!==_vm.crumbs.length-1?_c("li",{directives:[{name:"show",rawName:"v-show",value:!crumb.collapsed,expression:"!crumb.collapsed"}],key:index,staticClass:"breadcrumbs-visible-item breadcrumbs-visible-item-notlast"},[crumb.link?_c("KRouterLink",{attrs:{text:crumb.text,to:crumb.link,dir:"auto"},scopedSlots:_vm._u([{key:"text",fn:function(ref){var text=ref.text;return[_c("span",{staticClass:"breadcrumbs-crumb-text"},[_vm._v(_vm._s(text))])]}}],null,!0)}):_c("span",[_vm._v(_vm._s(crumb.text))])],1):_c("li",{key:index,staticClass:"breadcrumb-visible-item-last breadcrumbs-visible-item"},[_c("span",{staticClass:"breadcrumbs-crumb-text",style:{maxWidth:_vm.lastBreadcrumbMaxWidth},attrs:{dir:"auto"}},[_vm._v("\n            "+_vm._s(crumb.text)+"\n          ")])])]}))],2)]),_c("div",{staticClass:"breadcrumbs breadcrumbs-offscreen",attrs:{"aria-hidden":"true"}},[_c("ol",{staticClass:"breadcrumbs-visible-items"},[_vm._l(_vm.crumbs,(function(crumb,index){return[index!==_vm.crumbs.length-1?_c("li",{key:index,ref:"crumb"+index,refInFor:!0,staticClass:"breadcrumbs-visible-item breadcrumbs-visible-item-notlast"},[crumb.link?_c("KRouterLink",{attrs:{text:crumb.text,to:crumb.link,tabindex:"-1"},scopedSlots:_vm._u([{key:"text",fn:function(ref){var text=ref.text;return[_c("span",{staticClass:"breadcrumbs-crumb-text"},[_vm._v(_vm._s(text))])]}}],null,!0)}):_c("span",[_vm._v(_vm._s(crumb.text))])],1):_c("li",{key:index,ref:"crumb"+index,refInFor:!0,staticClass:"breadcrumb-visible-item-last breadcrumbs-visible-item"},[_c("span",{staticClass:"breadcrumbs-crumb-text",style:{maxWidth:_vm.lastBreadcrumbMaxWidth}},[_vm._v("\n            "+_vm._s(crumb.text)+"\n          ")])])]}))],2)])])};KBreadcrumbsvue_type_template_id_ac260c58_scoped_true_render._withStripped=!0;var filter=__webpack_require__(1132),filter_default=__webpack_require__.n(filter),startsWith=__webpack_require__(5657),startsWith_default=__webpack_require__.n(startsWith),throttle=__webpack_require__(7846),throttle_default=__webpack_require__.n(throttle),every=__webpack_require__(5737),every_default=__webpack_require__.n(every),lodash_keys=__webpack_require__(7097),keys_default=__webpack_require__.n(lodash_keys),ResizeSensor=__webpack_require__(4026),ResizeSensor_default=__webpack_require__.n(ResizeSensor);var KBreadcrumbsvue_type_script_lang_js={name:"KBreadcrumbs",mixins:[{data:function(){return{elementWidth:0,elementHeight:0}},methods:{_updateEl:function(){this.elementWidth=this.$el.clientWidth,this.elementHeight=this.$el.clientHeight}},mounted:function(){this._updateEl(),this.$options._resizeSensor=new(ResizeSensor_default())(this.$el,this._updateEl)},updated:function(){this._updateEl()},beforeDestroy:function(){this.$options._resizeSensor.detach(this.$el,this._updateEl)}}],inheritAttrs:!1,props:{items:{type:Array,required:!0,validator:function(crumbItems){return!!crumbItems.every((function(crumb){return Boolean(crumb.text)}))&&crumbItems.every((function(crumb){return!crumb.link||function(object){var validKeys=["name","path","params","query"];return every_default()(keys_default()(object),(function(key){return validKeys.includes(key)}))}(crumb.link)}))}},showSingleItem:{type:Boolean,default:!1}},data:function(){return{crumbs:[],showDropdown:!1,lastBreadcrumbMaxWidth:"".concat(300,"px")}},computed:{collapsedCrumbs:function(){return this.crumbs.filter((function(crumb){return!0===crumb.collapsed})).reverse()},parentWidth:function(){return this.elementWidth}},watch:{items:function(val){this.crumbs=Array.from(val),this.attachRefs()}},created:function(){this.crumbs=Array.from(this.items)},mounted:function(){this.attachRefs();var throttledUpdateCrumbs=throttle_default()(this.updateCrumbs,100);this.$watch("parentWidth",throttledUpdateCrumbs)},methods:{attachRefs:function(){var _this=this;this.$nextTick((function(){var crumbRefs=filter_default()(_this.$refs,(function(value,key){return startsWith_default()(key,"crumb")}));_this.crumbs=_this.crumbs.map((function(crumb,index){var updatedCrumb=crumb;return updatedCrumb.ref=crumbRefs[index],updatedCrumb})),_this.updateCrumbs()}))},updateCrumbs:function(){var _this2=this;this.crumbs.length&&(this.lastBreadcrumbMaxWidth="".concat(300,"px"),this.$nextTick((function(){for(var tempCrumbs=Array.from(_this2.crumbs),lastCrumbWidth=Math.ceil(tempCrumbs.pop().ref[0].getBoundingClientRect().width),remainingWidth=_this2.parentWidth-55-lastCrumbWidth,trackingIndex=_this2.crumbs.length-2;tempCrumbs.length;){if(remainingWidth<=0){tempCrumbs.forEach((function(crumb,index){var updatedCrumb=crumb;updatedCrumb.collapsed=!0,_this2.crumbs.splice(index,1,updatedCrumb)}));break}if((lastCrumbWidth=Math.ceil(tempCrumbs[tempCrumbs.length-1].ref[0].getBoundingClientRect().width))>remainingWidth){tempCrumbs.forEach((function(crumb,index){var updatedCrumb=crumb;updatedCrumb.collapsed=!0,_this2.crumbs.splice(index,1,updatedCrumb)}));break}remainingWidth-=lastCrumbWidth;var lastCrumb=tempCrumbs.pop();lastCrumb.collapsed=!1,_this2.crumbs.splice(trackingIndex,1,lastCrumb),trackingIndex-=1}remainingWidth>0&&(_this2.lastBreadcrumbMaxWidth="".concat(300+remainingWidth,"px"))})))}}},KBreadcrumbs=normalizeComponent(KBreadcrumbsvue_type_script_lang_js,KBreadcrumbsvue_type_template_id_ac260c58_scoped_true_render,[],!1,null,"ac260c58",null).exports,frame_throttle=__webpack_require__(1823),CustomContentRenderervue_type_template_id_bb98a946_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"iframe-container"},[_c("iframe",{ref:"iframe",staticClass:"iframe",style:{backgroundColor:_vm.$themePalette.grey.v_100},attrs:{sandbox:"allow-scripts allow-same-origin",frameBorder:"0",src:_vm.rooturl}}),_vm.overlayIsOpen?_c("ContentModal",{key:_vm.currentContent.id,attrs:{contentNode:_vm.currentContent,channelTheme:_vm.channelTheme},on:{close:function($event){_vm.overlayIsOpen=!1}}}):_vm._e()],1)};CustomContentRenderervue_type_template_id_bb98a946_scoped_true_render._withStripped=!0;var v4=__webpack_require__(4174),hashiBase_events={READYCHECK:"readycheck",MAINREADY:"mainready",IFRAMEREADY:"iframeready",STATEUPDATE:"stateupdate",USERDATAUPDATE:"userdataupdate",DATAREQUESTED:"datarequested",COLLECTIONREQUESTED:"collectionrequested",COLLECTIONPAGEREQUESTED:"collectionpagerequested",MODELREQUESTED:"modelrequested",SEARCHRESULTREQUESTED:"searchresultrequested",DATARETURNED:"datareturned",KOLIBRIDATARETURNED:"kolibridatareturned",NAVIGATETO:"navigateTo",CONTEXT:"context",THEMECHANGED:"themechanged",KOLIBRIVERSIONREQUESTED:"kolibriversionrequested",CHANNELMETADATAREQUESTED:"channelmetadatarequested",CHANNELFILTEROPTIONSREQUESTED:"channelfilteroptionsrequested",RANDOMCOLLECTIONREQUESTED:"randomcollectionrequested",NOW:"now",RESIZE:"resize",LOADING:"loading",ERROR:"error"},DataTypes_MODEL="Model",DataTypes_SEARCHRESULT="SearchResult",DataTypes_COLLECTION="Collection",DataTypes_COLLECTIONPAGE="CollectionPage",DataTypes_KOLIBRIVERSION="KolibriVersion",DataTypes_CHANNELMETADATA="ChannelMetadata",DataTypes_CHANNELFILTEROPTIONS="ChannelFilterOptions",DataTypes_RANDOMCOLLECTION="RandomCollection",MessageStatuses_FAILURE="failure",MessageStatuses_SUCCESS="success";function mediator_typeof(o){return mediator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},mediator_typeof(o)}function mediator_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,mediator_toPropertyKey(descriptor.key),descriptor)}}function mediator_toPropertyKey(t){var i=function(t,r){if("object"!=mediator_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=mediator_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==mediator_typeof(i)?i:String(i)}function isUndefined(x){return void 0===x}var Mediator=function(){function Mediator(remote){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Mediator),this.local=window,this.remote=remote,this.local.addEventListener("message",this.handleMessage.bind(this)),this.__messageHandlers={}}var Constructor,protoProps,staticProps;return Constructor=Mediator,protoProps=[{key:"handleMessage",value:function(message){var _message$data=message.data,nameSpace=_message$data.nameSpace,event=_message$data.event,data=_message$data.data;isUndefined(nameSpace)||isUndefined(event)||this.__messageHandlers[nameSpace]&&this.__messageHandlers[nameSpace][event]&&this.__messageHandlers[nameSpace][event].forEach((function(callback){try{callback(data)}catch(e){console.debug("Error while executing callback for ".concat(nameSpace," for event ").concat(event)),console.debug(e)}}))}},{key:"sendLocalMessage",value:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},event=_ref.event,data=_ref.data,nameSpace=_ref.nameSpace;this.local.postMessage({event:event,data:data,nameSpace:nameSpace},"*")}},{key:"sendMessage",value:function(_ref2){var event=_ref2.event,data=_ref2.data,nameSpace=_ref2.nameSpace;this.remote.postMessage({event:event,data:data,nameSpace:nameSpace},"*")}},{key:"sendMessageAwaitReply",value:function(_ref3){var _this=this,event=_ref3.event,data=_ref3.data,nameSpace=_ref3.nameSpace;return new Promise((function(resolve,reject){var msgId=(0,v4.Z)(),self=_this;_this.registerMessageHandler({nameSpace:nameSpace,event:hashiBase_events.DATARETURNED,callback:function handler(message){if(message.message_id===msgId&&"response"===message.type){message.status==MessageStatuses_SUCCESS?resolve(message.data):message.status===MessageStatuses_FAILURE&&message.err?reject(message.err):reject();try{self.removeMessageHandler({nameSpace:nameSpace,event:hashiBase_events.DATARETURNED,callback:handler})}catch(e){console.log(e)}}}}),data.message_id=msgId,_this.sendMessage({event:event,data:data,nameSpace:nameSpace})}))}},{key:"registerMessageHandler",value:function(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},event=_ref4.event,nameSpace=_ref4.nameSpace,callback=_ref4.callback;"function"!=typeof callback||isUndefined(event)||isUndefined(nameSpace)||(this.__messageHandlers[nameSpace]||(this.__messageHandlers[nameSpace]={}),this.__messageHandlers[nameSpace][event]||(this.__messageHandlers[nameSpace][event]=[]),this.__messageHandlers[nameSpace][event].push(callback))}},{key:"removeMessageHandler",value:function(){var _ref5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},event=_ref5.event,nameSpace=_ref5.nameSpace,callback=_ref5.callback;if(this.__messageHandlers[nameSpace]&&this.__messageHandlers[nameSpace][event]){if(callback){var index=this.__messageHandlers[nameSpace][event].indexOf(callback);if(index>-1)return this.__messageHandlers[nameSpace][event].splice(index,1)}this.__messageHandlers[nameSpace][event]=[]}}}],protoProps&&mediator_defineProperties(Constructor.prototype,protoProps),staticProps&&mediator_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Mediator}(),src_mediator=Mediator;function baseShim_typeof(o){return baseShim_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},baseShim_typeof(o)}function baseShim_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,baseShim_toPropertyKey(descriptor.key),descriptor)}}function baseShim_toPropertyKey(t){var i=function(t,r){if("object"!=baseShim_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=baseShim_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==baseShim_typeof(i)?i:String(i)}var BaseShim=function(){function BaseShim(mediator){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseShim),this.__mediator=mediator,this.events=Object.assign({},hashiBase_events),this.__nowDiff=0,this.__setNowDiff=this.__setNowDiff.bind(this),this.on(this.events.NOW,this.__setNowDiff)}var Constructor,protoProps,staticProps;return Constructor=BaseShim,protoProps=[{key:"setData",value:function(data){this.__setData(data),this.stateUpdated()}},{key:"setUserData",value:function(data){this.__setUserData&&(this.__setUserData(data),this.userDataUpdated())}},{key:"__now",value:function(){return new Date(Date.now()+this.__nowDiff)}},{key:"__setNowDiff",value:function(nowDiff){this.__nowDiff=nowDiff}},{key:"setNow",value:function(now){this.__setNowDiff(new Date(now).getTime()-Date.now()),this.sendMessage(this.events.NOW,this.__nowDiff)}},{key:"sendMessage",value:function(event,data){this.__mediator.sendMessage({nameSpace:this.nameSpace,event:event,data:data})}},{key:"on",value:function(event,callback){if(!Object.values(this.events).includes(event))throw ReferenceError("".concat(event," is not a valid event name for ").concat(this.nameSpace));this.__mediator.registerMessageHandler({nameSpace:this.nameSpace,event:event,callback:callback})}},{key:"off",value:function(event,callback){if(!Object.values(this.events).includes(event))throw ReferenceError("".concat(event," is not a valid event name for ").concat(this.nameSpace));this.__mediator.removeMessageHandler({nameSpace:this.nameSpace,event:event,callback:callback})}},{key:"stateUpdated",value:function(){this.sendMessage(this.events.STATEUPDATE,this.data)}},{key:"userDataUpdated",value:function(){this.sendMessage(this.events.USERDATAUPDATE,this.userData)}}],protoProps&&baseShim_defineProperties(Constructor.prototype,protoProps),staticProps&&baseShim_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),BaseShim}();function baseStorage_typeof(o){return baseStorage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},baseStorage_typeof(o)}function baseStorage_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return baseStorage_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return baseStorage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return baseStorage_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function baseStorage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function baseStorage_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function baseStorage_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,baseStorage_toPropertyKey(descriptor.key),descriptor)}}function baseStorage_createClass(Constructor,protoProps,staticProps){return protoProps&&baseStorage_defineProperties(Constructor.prototype,protoProps),staticProps&&baseStorage_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function baseStorage_toPropertyKey(t){var i=function(t,r){if("object"!=baseStorage_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=baseStorage_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==baseStorage_typeof(i)?i:String(i)}function baseStorage_callSuper(_this,derived,args){return derived=baseStorage_getPrototypeOf(derived),function(self,call){if(call&&("object"===baseStorage_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],baseStorage_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function baseStorage_getPrototypeOf(o){return baseStorage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},baseStorage_getPrototypeOf(o)}function baseStorage_setPrototypeOf(o,p){return baseStorage_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},baseStorage_setPrototypeOf(o,p)}var internalKeys=["length","key","getItem","setItem","removeItem","clear"],BaseStorage=function(_BaseShim){function BaseStorage(mediator){var _this;return baseStorage_classCallCheck(this,BaseStorage),(_this=baseStorage_callSuper(this,BaseStorage,[mediator])).data={},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&baseStorage_setPrototypeOf(subClass,superClass)}(BaseStorage,_BaseShim),baseStorage_createClass(BaseStorage,[{key:"__setData",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=data,this.setDataToShim()}},{key:"setDataFromShim",value:function(){var _this2=this,updatedData=Object.assign({},this.data),updated=!1,shimKeys=Object.keys(this.shim);shimKeys.forEach((function(key){if(!internalKeys.includes(key)){var value=String(_this2.shim[key]);_this2.data[key]!==value&&(updatedData[key]=value,updated=!0)}})),Object.keys(this.data).forEach((function(key){shimKeys.includes(key)||internalKeys.includes(key)||(delete updatedData[key],updated=!0)})),updated&&(this.__setData(updatedData),this.stateUpdated())}},{key:"setDataToShim",value:function(){var _this3=this;this.shim&&(Object.assign.apply(Object,[this.shim].concat(baseStorage_toConsumableArray(Object.entries(this.data).filter((function(entry){return!internalKeys.includes(entry[0])})).map((function(entry){return obj={},key=entry[0],value=entry[1],(key=baseStorage_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj;var obj,key,value}))))),Object.keys(this.shim).forEach((function(prop){_this3.data[prop]||delete _this3.shim[prop]})))}},{key:"iframeInitialize",value:function(contentWindow){this.__setShimInterface(),Object.defineProperty(contentWindow,this.nameSpace,{value:this.shim,configurable:!0})}},{key:"__setShimInterface",value:function(){var self=this,Shim=function(){function Shim(){baseStorage_classCallCheck(this,Shim)}return baseStorage_createClass(Shim,[{key:"length",get:function(){return self.setDataFromShim(),Object.keys(self.data).length}},{key:"key",value:function(index){return self.setDataFromShim(),Object.keys(self.data)[index]||null}},{key:"getItem",value:function(keyName){return self.setDataFromShim(),self.data[keyName]||null}},{key:"setItem",value:function(keyName,value){value=String(value),self.data[keyName]=value,internalKeys.includes(keyName)||(this[keyName]=value),self.stateUpdated()}},{key:"removeItem",value:function(keyName){delete self.data[keyName],internalKeys.includes(keyName)||delete this[keyName],self.stateUpdated()}},{key:"clear",value:function(){self.data={},self.stateUpdated()}}]),Shim}();return this.shim=new Shim,this.setDataToShim(),this.shim}}]),BaseStorage}(BaseShim);function localStorage_typeof(o){return localStorage_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},localStorage_typeof(o)}function localStorage_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,localStorage_toPropertyKey(descriptor.key),descriptor)}}function localStorage_toPropertyKey(t){var i=function(t,r){if("object"!=localStorage_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=localStorage_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==localStorage_typeof(i)?i:String(i)}function localStorage_callSuper(_this,derived,args){return derived=localStorage_getPrototypeOf(derived),function(self,call){if(call&&("object"===localStorage_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return localStorage_assertThisInitialized(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],localStorage_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function localStorage_getPrototypeOf(o){return localStorage_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},localStorage_getPrototypeOf(o)}function localStorage_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function localStorage_setPrototypeOf(o,p){return localStorage_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},localStorage_setPrototypeOf(o,p)}var LocalStorage=function(_BaseStorage){function LocalStorage(mediator){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LocalStorage),(_this=localStorage_callSuper(this,LocalStorage,[mediator])).nameSpace="localStorage",_this.__setData=_this.__setData.bind(localStorage_assertThisInitialized(_this)),_this.on(_this.events.STATEUPDATE,_this.__setData),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&localStorage_setPrototypeOf(subClass,superClass)}(LocalStorage,_BaseStorage),Constructor=LocalStorage,protoProps&&localStorage_defineProperties(Constructor.prototype,protoProps),staticProps&&localStorage_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}(BaseStorage);function cookie_typeof(o){return cookie_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},cookie_typeof(o)}function cookie_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return cookie_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cookie_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cookie_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function cookie_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,cookie_toPropertyKey(descriptor.key),descriptor)}}function cookie_toPropertyKey(t){var i=function(t,r){if("object"!=cookie_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=cookie_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==cookie_typeof(i)?i:String(i)}function cookie_callSuper(_this,derived,args){return derived=cookie_getPrototypeOf(derived),function(self,call){if(call&&("object"===cookie_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return cookie_assertThisInitialized(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],cookie_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function cookie_getPrototypeOf(o){return cookie_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},cookie_getPrototypeOf(o)}function cookie_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function cookie_setPrototypeOf(o,p){return cookie_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},cookie_setPrototypeOf(o,p)}var Cookie=function(_BaseShim){function Cookie(mediator){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Cookie),(_this=cookie_callSuper(this,Cookie,[mediator])).nameSpace="cookie",_this.__clearData(),_this.__setData=_this.__setData.bind(cookie_assertThisInitialized(_this)),_this.__getCookies=_this.__getCookies.bind(cookie_assertThisInitialized(_this)),_this.__setItem=_this.__setItem.bind(cookie_assertThisInitialized(_this)),_this.on(_this.events.STATEUPDATE,_this.__setData),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&cookie_setPrototypeOf(subClass,superClass)}(Cookie,_BaseShim),Constructor=Cookie,protoProps=[{key:"__clearData",value:function(){this.__data=Object.assign({},{rootCookies:{},byPath:{}})}},{key:"__removeExpiredCookies",value:function(data){var _this2=this,output={rootCookies:{},byPath:{}},filterCookies=function(sourceObj){var out={};return Object.keys(sourceObj).forEach((function(key){new Date(sourceObj[key].expires)>_this2.__now()&&(out[key]=sourceObj[key])})),out};return output.rootCookies=filterCookies(data.rootCookies),Object.keys(data.byPath).forEach((function(path){var filtered=filterCookies(data.byPath[path]);Object.keys(filtered).length&&(output.byPath[path]=filtered)})),output}},{key:"__setData",value:function(data){data&&data.rootCookies&&data.byPath?this.__data=this.__removeExpiredCookies(data):this.__clearData()}},{key:"iframeInitialize",value:function(contentWindow){Object.defineProperty(contentWindow.document,this.nameSpace,{get:this.__getCookies,set:this.__setItem,configurable:!0})}},{key:"data",get:function(){var _this3=this,data={rootCookies:{},byPath:{}};function filterCookies(sourceObj){var output={};return Object.keys(sourceObj).forEach((function(key){"session"!==sourceObj[key].expires&&(output[key]=sourceObj[key])})),output}return data.rootCookies=filterCookies(this.__data.rootCookies),Object.keys(this.__data.byPath).forEach((function(path){var filtered=filterCookies(_this3.__data.byPath[path]);Object.keys(filtered).length&&(data.byPath[path]=filtered)})),this.__removeExpiredCookies(data)}},{key:"__getCookies",value:function(){var data=Object.assign({},this.__data.rootCookies),pathname=window.location.pathname;return this.__data.byPath[pathname]&&Object.assign(data,this.__data.byPath[pathname]),Object.keys(data).map((function(key){return"".concat(key,"=").concat(data[key].value)})).join("; ")}},{key:"__setItem",value:function(){var _this4=this,parts=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";");if(parts[0]){var path,_parts$0$split2=cookie_slicedToArray(parts[0].split("="),2),key=_parts$0$split2[0],store={value:_parts$0$split2[1],expires:"session"},deleteCookie=!1,pathRegex=/path=(.+)/,maxAgeRegex=/max-age=(.+)/,expiresRegex=/expires=(.+)/;parts.slice(1).forEach((function(part){try{var pathResult=pathRegex.exec(part),maxAgeResult=maxAgeRegex.exec(part),expiresResult=expiresRegex.exec(part);if(pathResult)path=pathResult[1];else if(maxAgeResult){var maxAge=Number(maxAgeResult[1]);if(isNaN(maxAge))return;maxAge>0?store.expires=new Date(_this4.__now().getTime()+maxAge):deleteCookie=!0}else if(expiresResult){var expirationDate=new Date(expiresResult[1]);if(isNaN(expirationDate))return;expirationDate<=Date.now()?deleteCookie=!0:store.expires=new Date(_this4.__now().getTime()+(expirationDate.getTime()-Date.now()))}}catch(e){}})),deleteCookie?this.__removeItem(key,path):path?(this.__data.byPath[path]||(this.__data.byPath[path]={}),this.__data.byPath[path][key]=store):this.__data.rootCookies[key]=store,this.stateUpdated()}}},{key:"__removeItem",value:function(key,path){path?this.__data.byPath[path]&&(delete this.__data.byPath[path][key],Object.keys(this.__data.byPath[path]).length||delete this.__data.byPath[path]):delete this.__data.rootCookies[key],this.stateUpdated()}}],protoProps&&cookie_defineProperties(Constructor.prototype,protoProps),staticProps&&cookie_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Cookie}(BaseShim);function H5PInterface_typeof(o){return H5PInterface_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},H5PInterface_typeof(o)}function H5PInterface_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,H5PInterface_toPropertyKey(descriptor.key),descriptor)}}function H5PInterface_toPropertyKey(t){var i=function(t,r){if("object"!=H5PInterface_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=H5PInterface_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==H5PInterface_typeof(i)?i:String(i)}function H5PInterface_callSuper(_this,derived,args){return derived=H5PInterface_getPrototypeOf(derived),function(self,call){if(call&&("object"===H5PInterface_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return H5PInterface_assertThisInitialized(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],H5PInterface_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function H5PInterface_getPrototypeOf(o){return H5PInterface_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},H5PInterface_getPrototypeOf(o)}function H5PInterface_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function H5PInterface_setPrototypeOf(o,p){return H5PInterface_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},H5PInterface_setPrototypeOf(o,p)}var H5P=function(_BaseShim){function H5P(mediator){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,H5P),(_this=H5PInterface_callSuper(this,H5P,[mediator])).data={},_this.userData={},_this.nameSpace="H5P",_this.__setData=_this.__setData.bind(H5PInterface_assertThisInitialized(_this)),_this.__setUserData=_this.__setUserData.bind(H5PInterface_assertThisInitialized(_this)),_this.loaded=_this.loaded.bind(H5PInterface_assertThisInitialized(_this)),_this.errored=_this.errored.bind(H5PInterface_assertThisInitialized(_this)),_this.on(_this.events.STATEUPDATE,_this.__setData),_this.on(_this.events.USERDATAUPDATE,_this.__setUserData),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&H5PInterface_setPrototypeOf(subClass,superClass)}(H5P,_BaseShim),Constructor=H5P,protoProps=[{key:"init",value:function(iframe,filepath){var _this2=this;Promise.all([__webpack_require__.e(990),__webpack_require__.e(346)]).then(__webpack_require__.bind(__webpack_require__,8874)).then((function(_ref){var H5PRunner=_ref.default;_this2.H5PRunner=new H5PRunner(_this2),_this2.H5PRunner.init(iframe,filepath,_this2.loaded,_this2.errored)}))}},{key:"__setData",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=data}},{key:"__setUserData",value:function(){var userData=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.userData=userData}},{key:"iframeInitialize",value:function(contentWindow){this.H5PRunner&&this.H5PRunner.shimH5PIntegration(contentWindow)}},{key:"loaded",value:function(){this.__mediator.sendMessage({nameSpace:"hashi",event:hashiBase_events.LOADING,data:!1})}},{key:"errored",value:function(err){this.__mediator.sendMessage({nameSpace:"hashi",event:hashiBase_events.ERROR,data:err})}}],protoProps&&H5PInterface_defineProperties(Constructor.prototype,protoProps),staticProps&&H5PInterface_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),H5P}(BaseShim);function SCORM_typeof(o){return SCORM_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SCORM_typeof(o)}function SCORM_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SCORM_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,SCORM_toPropertyKey(descriptor.key),descriptor)}}function SCORM_createClass(Constructor,protoProps,staticProps){return protoProps&&SCORM_defineProperties(Constructor.prototype,protoProps),staticProps&&SCORM_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function SCORM_toPropertyKey(t){var i=function(t,r){if("object"!=SCORM_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SCORM_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==SCORM_typeof(i)?i:String(i)}function SCORM_callSuper(_this,derived,args){return derived=SCORM_getPrototypeOf(derived),function(self,call){if(call&&("object"===SCORM_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return SCORM_assertThisInitialized(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],SCORM_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function SCORM_getPrototypeOf(o){return SCORM_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},SCORM_getPrototypeOf(o)}function SCORM_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function SCORM_setPrototypeOf(o,p){return SCORM_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},SCORM_setPrototypeOf(o,p)}var logger=console,ERRORS_NO_ERROR=0,ERRORS_INVALID_ARGUMENT_ERROR=201,ERRORS_ELEMENT_CANNOT_HAVE_CHILDREN=202,ERRORS_ELEMENT_NOT_AN_ARRAY=203,ERRORS_NOT_IMPLEMENTED_ERROR=401,ERRORS_ELEMENT_IS_KEYWORD=402,ERRORS_ELEMENT_IS_READ_ONLY=403,ERRORS_ELEMENT_IS_WRITE_ONLY=404,ERRORS_INCORRECT_DATA_TYPE=405,READ_WRITE_RO="RO",READ_WRITE_RW="RW",READ_WRITE_WO="WO",CMIDecimal={validate:function(value){return!isNaN(value)}},timeSpanRegex=/(?:([0-9]{4}|[0-9]{2}):)?(?:([0-5][0-9]):)?([0-5][0-9](?:\.[0-9]{1,2})?)/,CMITimeSpan={validate:function(value){return timeSpanRegex.test(value)},convertFromSeconds:function(seconds){var format=function(value){return value<10?"0"+value:value},s=Math.round(seconds%60*100)/100,m=Math.floor(seconds%3600/60),h=Math.floor(seconds/3600);return h>=1e4?"":"".concat(format(h),":").concat(format(m),":").concat(format(s))}},timeRegex=/((?:[0-1][0-9]|2[0-3])):([0-5][0-9]):([0-5][0-9](?:\.[0-9]{1,2})?)/;function isStringLike(value){return String(value)==value}var CMIString255={validate:function(value){return isStringLike(value)&&String(value).length<=255}},CMIString4096={validate:function(value){return isStringLike(value)&&String(value).length<=4096}},CMIIdentifier={validate:function(value){return CMIString255.validate(value)&&!/\s/.test(value)}},lowerCaseLetterNumber=/[0-9a-z]/;function singleLowerCaseLetterNumber(s){return 1===s.length&&lowerCaseLetterNumber.test(s)}var trueFalse=/[01tf]/,CMIFeedback={validate:function(value,obj){if(""===value)return!0;if(!isStringLike(value))return!1;if(value=String(value),"true-false"===obj.type)return trueFalse.test(value)&&1===value.length;if("choice"===obj.type){if("{"===value[0]){if("}"!==value[value.length-1])return!1;value=value.substring(1,value.length-1)}return value.split(",").every(singleLowerCaseLetterNumber)}if("fill-in"===obj.type||"performance"===obj.type)return value.length<=255;if("numeric"===obj.type)return CMIDecimal.validate(value);if("likert"===obj.type)return singleLowerCaseLetterNumber(value);if("matching"===obj.type){if("{"===value[0]){if("}"!==value[value.length-1])return!1;value=value.substring(1,value.length-1)}return value.split(",").every((function(s){return 3===s.length&&s.split(".").every(singleLowerCaseLetterNumber)}))}return"sequencing"!==obj.type||value.split(",").every(singleLowerCaseLetterNumber)}},SCORE_SCHEMA={hasChildren:!0,raw:{type:CMIDecimal,readWrite:READ_WRITE_RW},min:{type:CMIDecimal,readWrite:READ_WRITE_RW},max:{type:CMIDecimal,readWrite:READ_WRITE_RW}},STATUS_SCHEMA={readWrite:READ_WRITE_RW,values:{passed:"passed",completed:"completed",failed:"failed",incomplete:"incomplete",browsed:"browsed","not attempted":"not attempted","":""}},SCORM_SCHEMA={cmi:{hasChildren:!0,core:{hasChildren:!0,student_id:{type:CMIIdentifier,fromUserData:function(userData){return userData.userId||""},readWrite:READ_WRITE_RO},student_name:{type:CMIString255,fromUserData:function(userData){return userData.userFullName||""},readWrite:READ_WRITE_RO},lesson_location:{type:CMIString255,readWrite:READ_WRITE_RW},credit:{fromUserData:function(userData){return userData.userId?"credit":"no-credit"},readWrite:READ_WRITE_RO},lesson_status:STATUS_SCHEMA,entry:{fromUserData:function(userData){return userData.progress?userData.progress<1?"resume":"":"ab-initio"},readWrite:READ_WRITE_RO},score:SCORE_SCHEMA,total_time:{type:CMITimeSpan,fromUserData:function(userData){return CMITimeSpan.convertFromSeconds(userData.timeSpent?userData.timeSpent:0)},readWrite:READ_WRITE_RO},lesson_mode:{fromUserData:function(userData){return userData.userId?userData.complete?"review":"normal":"browse"},readWrite:READ_WRITE_RO},exit:{readWrite:READ_WRITE_WO,values:{"time-out":"time-out",suspend:"suspend",logout:"logout","":""}},session_time:{type:CMITimeSpan,readWrite:READ_WRITE_WO}},launch_data:{type:CMIString4096,readWrite:READ_WRITE_RO},comments:{type:CMIString4096,readWrite:READ_WRITE_RW},comments_from_lms:{type:CMIString4096,readWrite:READ_WRITE_RO},objectives:{hasChildren:!0,arraySchema:{id:{type:CMIIdentifier,readWrite:READ_WRITE_RW},score:SCORE_SCHEMA,status:STATUS_SCHEMA}},student_data:{hasChildren:!0,mastery_score:{notImplemented:!0,readWrite:READ_WRITE_RO},max_time_allowed:{notImplemented:!0,readWrite:READ_WRITE_RO},time_limit_action:{notImplemented:!0,readWrite:READ_WRITE_RO}},student_preference:{hasChildren:!0,language:{type:CMIString255,fromUserData:function(userData){return userData.language?userData.language:""},readWrite:READ_WRITE_RW},audio:{notImplemented:!0,readWrite:READ_WRITE_RW},speed:{notImplemented:!0,readWrite:READ_WRITE_RW},text:{notImplemented:!0,readWrite:READ_WRITE_RW}},interactions:{hasChildren:!0,arraySchema:{id:{type:CMIIdentifier,readWrite:READ_WRITE_RW},objectives:{arraySchema:{id:{type:CMIIdentifier,readWrite:READ_WRITE_WO}}},time:{type:{validate:function(value){return timeRegex.test(value)}},readWrite:READ_WRITE_WO},type:{readWrite:READ_WRITE_WO,values:{"true-false":"true-false",choice:"choice","fill-in":"fill-in",matching:"matching",performance:"performance",sequencing:"sequencing",likert:"likert",numeric:"numeric","":""}},correct_responses:{arraySchema:{pattern:{readWrite:READ_WRITE_WO}}},weighting:{type:CMIDecimal,readWrite:READ_WRITE_WO},student_response:{type:CMIFeedback,readWrite:READ_WRITE_WO},result:{readWrite:READ_WRITE_WO,validate:function(value){return CMIDecimal.validate(value)||{correct:"correct",wrong:"wrong",unanticipated:"unanticipated",neutral:"neutral","":""}[value]}},latency:{readWrite:READ_WRITE_WO,type:CMITimeSpan}}},suspend_data:{type:CMIString4096,readWrite:READ_WRITE_RW}}},SCORM_ERROR_NAME="SCORMError";function throwError(errorCode){var error=TypeError(errorCode);throw error.name=SCORM_ERROR_NAME,error}function getByKeyPath(obj,keyPath,localSchema,userData){if(keyPath&&localSchema&&"string"==typeof keyPath||throwError(ERRORS_INVALID_ARGUMENT_ERROR),localSchema[keyPath]&&localSchema[keyPath].readWrite===READ_WRITE_WO&&throwError(ERRORS_ELEMENT_IS_WRITE_ONLY),localSchema[keyPath]&&localSchema[keyPath].fromUserData)return localSchema[keyPath].fromUserData(userData);if(obj&&Object.prototype.hasOwnProperty.call(obj,keyPath))return obj[keyPath];var period=keyPath.indexOf(".");if(-1!==period){var leadingKeyPath=keyPath.substr(0,period),innerObj=obj?obj[leadingKeyPath]:obj,innerKeyPath=keyPath.substr(period+1),innerSchema=localSchema[leadingKeyPath];if(innerSchema&&innerSchema.arraySchema?innerSchema=innerSchema.arraySchema:isNaN(leadingKeyPath)||(innerSchema=localSchema),"_count"===innerKeyPath){if(localSchema[leadingKeyPath]&&localSchema[leadingKeyPath].arraySchema)return Array.isArray(innerObj)?innerObj.length:0;throwError(ERRORS_ELEMENT_NOT_AN_ARRAY)}if("_children"===innerKeyPath){if(localSchema[leadingKeyPath]&&localSchema[leadingKeyPath].hasChildren)return Object.keys(innerSchema).filter((function(key){return"hasChildren"!==key&&!innerSchema[key].notImplemented})).join(",");throwError(ERRORS_ELEMENT_CANNOT_HAVE_CHILDREN)}return getByKeyPath(innerObj,innerKeyPath,innerSchema,userData)}if(localSchema[keyPath]&&!localSchema[keyPath].notImplemented)return"";localSchema[keyPath]&&localSchema[keyPath].notImplemented&&throwError(ERRORS_NOT_IMPLEMENTED_ERROR),throwError(ERRORS_INVALID_ARGUMENT_ERROR)}function setByKeyPath(obj,keyPath,value,localSchema){keyPath&&localSchema&&"string"==typeof keyPath||throwError(ERRORS_INVALID_ARGUMENT_ERROR);var period=keyPath.indexOf(".");if(-1!==period){var leadingKeyPath=keyPath.substr(0,period),innerKeyPath=keyPath.substr(period+1),innerSchema=localSchema[leadingKeyPath];innerSchema&&innerSchema.arraySchema?(innerSchema=innerSchema.arraySchema,obj[leadingKeyPath]=obj[leadingKeyPath]||[]):isNaN(leadingKeyPath)||(innerSchema=localSchema),"_count"!==innerKeyPath&&"_children"!==innerKeyPath||throwError(ERRORS_ELEMENT_IS_KEYWORD),obj[leadingKeyPath]=obj[leadingKeyPath]||{},setByKeyPath(obj[leadingKeyPath],innerKeyPath,value,innerSchema)}else{var _innerSchema=localSchema[keyPath];_innerSchema&&_innerSchema.readWrite===READ_WRITE_RO&&throwError(ERRORS_ELEMENT_IS_READ_ONLY),_innerSchema&&_innerSchema.notImplemented&&throwError(ERRORS_NOT_IMPLEMENTED_ERROR),_innerSchema||throwError(ERRORS_INVALID_ARGUMENT_ERROR),(_innerSchema.type&&!_innerSchema.type.validate(value,obj)||_innerSchema.validate&&!_innerSchema.validate(value,obj)||_innerSchema.values&&!_innerSchema.values[value]||!_innerSchema.type&&!isStringLike(value))&&throwError(ERRORS_INCORRECT_DATA_TYPE),obj[keyPath]=value}}var statusProgressMap={passed:1,failed:.5,browsed:.5,"not attempted":0,incomplete:.5},SCORM=function(_BaseShim){function SCORM(mediator){var _this;return SCORM_classCallCheck(this,SCORM),(_this=SCORM_callSuper(this,SCORM,[mediator])).data={},_this.userData={},_this.nameSpace="SCORM",_this.__setData=_this.__setData.bind(SCORM_assertThisInitialized(_this)),_this.__setUserData=_this.__setUserData.bind(SCORM_assertThisInitialized(_this)),_this.on(_this.events.STATEUPDATE,_this.__setData),_this.on(_this.events.USERDATAUPDATE,_this.__setUserData),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&SCORM_setPrototypeOf(subClass,superClass)}(SCORM,_BaseShim),SCORM_createClass(SCORM,[{key:"__setData",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=data}},{key:"__setUserData",value:function(){var userData=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.userData=userData}},{key:"__calculateProgress",value:function(){var score=getByKeyPath(this.data,"cmi.core.score",SCORM_SCHEMA,self.userData);if(score){var min=Number(isNaN(score.min)?0:score.min),max=Number(isNaN(score.max)?100:score.max),raw=Number(isNaN(score.raw)?min:score.raw);return Math.max(Math.min((raw-min)/(max-min),1),0)}var lessonStatus=getByKeyPath(this.data,"cmi.core.lesson_status",SCORM_SCHEMA,self.userData);return Object.prototype.hasOwnProperty.call(statusProgressMap,lessonStatus)?statusProgressMap[lessonStatus]:null}},{key:"iframeInitialize",value:function(contentWindow){this.__setShimInterface(),contentWindow.API=this.shim}},{key:"__setShimInterface",value:function(){var self=this,error=ERRORS_NO_ERROR,Shim=function(){function Shim(){SCORM_classCallCheck(this,Shim)}return SCORM_createClass(Shim,[{key:"LMSInitialize",value:function(){return logger.debug("LMS Initialize called"),self.stateUpdated(),"true"}},{key:"LMSFinish",value:function(){return logger.debug("LMS Finish called"),"true"}},{key:"LMSSetValue",value:function(CMIElement,value){error=ERRORS_NO_ERROR,logger.debug("LMSSetValue called with path: ".concat(CMIElement," and value ").concat(value));try{setByKeyPath(self.data,CMIElement,value,SCORM_SCHEMA)}catch(e){if(e instanceof TypeError&&e.name===SCORM_ERROR_NAME)return error=e.message,"false";throw e}return self.stateUpdated(),"true"}},{key:"LMSGetValue",value:function(CMIElement){error=ERRORS_NO_ERROR,logger.debug("LMSGetValue called with path: ".concat(CMIElement));try{return getByKeyPath(self.data,CMIElement,SCORM_SCHEMA,self.userData)}catch(e){if(e instanceof TypeError&&e.name===SCORM_ERROR_NAME)return error=e.message,"";throw e}}},{key:"LMSCommit",value:function(){return error=ERRORS_NO_ERROR,logger.debug("LMS Commit called"),"true"}},{key:"LMSGetLastError",value:function(){return error}},{key:"LMSGetErrorString",value:function(errorCode){return logger.debug("LMS Get Error String called with code ".concat(errorCode)),""}},{key:"LMSGetDiagnostic",value:function(errorCode){return logger.debug("LMS Get Diagnostic called with code ".concat(errorCode)),""}}]),Shim}();return this.shim=new Shim,this.shim}}]),SCORM}(BaseShim),find=__webpack_require__(8633),find_default=__webpack_require__.n(find),unset=__webpack_require__(528),unset_default=__webpack_require__.n(unset),isMatch=__webpack_require__(1553),isMatch_default=__webpack_require__.n(isMatch),lodash_isNumber=__webpack_require__(4382),isNumber_default=__webpack_require__.n(lodash_isNumber),overSome=__webpack_require__(8581),overSome_default=__webpack_require__.n(overSome),xAPIVocabulary=__webpack_require__(3705),xAPIConstants=__webpack_require__(8063);function xAPIInterface_typeof(o){return xAPIInterface_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},xAPIInterface_typeof(o)}function xAPIInterface_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return xAPIInterface_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return xAPIInterface_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xAPIInterface_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xAPIInterface_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function xAPIInterface_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function xAPIInterface_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,xAPIInterface_toPropertyKey(descriptor.key),descriptor)}}function xAPIInterface_createClass(Constructor,protoProps,staticProps){return protoProps&&xAPIInterface_defineProperties(Constructor.prototype,protoProps),staticProps&&xAPIInterface_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function xAPIInterface_toPropertyKey(t){var i=function(t,r){if("object"!=xAPIInterface_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=xAPIInterface_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==xAPIInterface_typeof(i)?i:String(i)}function xAPIInterface_callSuper(_this,derived,args){return derived=xAPIInterface_getPrototypeOf(derived),function(self,call){if(call&&("object"===xAPIInterface_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return xAPIInterface_assertThisInitialized(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],xAPIInterface_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function xAPIInterface_getPrototypeOf(o){return xAPIInterface_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},xAPIInterface_getPrototypeOf(o)}function xAPIInterface_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function xAPIInterface_setPrototypeOf(o,p){return xAPIInterface_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},xAPIInterface_setPrototypeOf(o,p)}var xAPIInterface_logging=console;function actorsEqual(actor1,actor2){return actor1.mbox&&actor2.mbox?actor1.mbox===actor2.mbox:actor1.mbox_sha1sum&&actor2.mbox_sha1sum?actor1.mbox_sha1sum===actor2.mbox_sha1sum:actor1.openid&&actor2.openid?actor2.openid==actor2.openid:!(!actor1.account||!actor2.account)&&(actor1.homePage===actor2.homePage&&actor1.name&&actor2.name)}var xAPI=function(_BaseShim){function xAPI(mediator){var _this;return xAPIInterface_classCallCheck(this,xAPI),(_this=xAPIInterface_callSuper(this,xAPI,[mediator])).data={},_this.userData={},_this.nameSpace="xAPI",_this.__setData=_this.__setData.bind(xAPIInterface_assertThisInitialized(_this)),_this.__setUserData=_this.__setUserData.bind(xAPIInterface_assertThisInitialized(_this)),_this.on(_this.events.STATEUPDATE,_this.__setData),_this.on(_this.events.USERDATAUPDATE,_this.__setUserData),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&xAPIInterface_setPrototypeOf(subClass,superClass)}(xAPI,_BaseShim),xAPIInterface_createClass(xAPI,[{key:"__setData",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=data}},{key:"__setUserData",value:function(){var userData=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.userData=userData}},{key:"__calculateProgress",value:function(){return find_default()(this.data.statement,(function(s){return!s.error&&(s.verb.id===xAPIVocabulary.K.mastered||s.verb.id===xAPIVocabulary.K.passed||s.verb.id===xAPIVocabulary.K.completed)}))?1:Object.keys(this.data.statement||{}).length?.01:null}},{key:"createAgent",value:function(){return{mbox:"mailto:".concat(this.userData.userId,"@kolibri.to")}}},{key:"iframeInitialize",value:function(contentWindow){this.__setXAPIInterface(),Object.defineProperty(contentWindow,this.nameSpace,{value:this.xAPIInterface,configurable:!0})}},{key:"getStatement",value:function(statementId){return(this.data.statement||[]).find((function(s){return s.id===statementId}))}},{key:"getStatements",value:function(_ref){var statementId=_ref.statementId,voidedStatementId=_ref.voidedStatementId,agent=_ref.agent,verb=_ref.verb,activity=_ref.activity,registration=_ref.registration,related_activities=_ref.related_activities,related_agents=_ref.related_agents,since=_ref.since,until=_ref.until,limit=_ref.limit,ascending=_ref.ascending,orFns=[],statements=this.data.statement||[];if(agent&&(related_agents?orFns.push((function(s){return actorsEqual(s.object,agent)}),(function(s){return s.object.objectType===xAPIConstants.g.SUBSTATEMENT&&actorsEqual(s.object.actor,agent)}),(function(s){return s.context&&s.context.instructor&&actorsEqual(s.context.instructor,agent)}),(function(s){return s.context&&s.context.team&&actorsEqual(s.context.team,agent)}),(function(s){return s.authority&&s.authority&&actorsEqual(s.authority,agent)})):actorsEqual(agent,this.createAgent())||(statements=[])),statementId&&voidedStatementId)return null;if(statementId)return statements.find((function(s){return s.id===statementId}));if(voidedStatementId)return statements.find((function(s){return s.id===voidedStatementId}));var match={};if(verb&&(match.verb={id:verb}),activity){var activityMatch={object:{id:activity,objectType:xAPIConstants.g.ACTIVITY}};related_activities?orFns.push((function(s){return isMatch_default()(s,activityMatch)}),(function(s){return s.object.objectType===xAPIConstants.g.SUBSTATEMENT&&isMatch_default()(activityMatch)}),(function(s){return s.context&&Object.values(s.context.contextActivities||{}).some((function(a){return a.some((function(act){return act.id===activity}))}))})):Object.assign(match,activityMatch)}registration&&(match.context={registration:registration}),statements=filter_default()(statements,match);var orFilter=overSome_default()(orFns);return statements=statements.filter(statements,orFilter),since&&(statements=statements.filter((function(s){return s.stored>since}))),until&&(statements=statements.filter((function(s){return s.stored<=until}))),ascending&&statements.reverse(),statements=statements.filter((function(s){return!s.error})),limit&&isNumber_default()(limit)&&(statements=statements.slice(0,limit)),statements}},{key:"storeStatements",value:function(){for(var _this$data$STATEMENT,_len=arguments.length,statements=new Array(_len),_key=0;_key<_len;_key++)statements[_key]=arguments[_key];for(var i=0;i<statements.length;i++)statements[i].stored=this.__now().toISOString(),statements[i].timestamp||(statements[i].timestamp=this.__now().toISOString()),delete statements[i].attachments;return this.data.statement=this.data.statement||[],(_this$data$STATEMENT=this.data.statement).unshift.apply(_this$data$STATEMENT,xAPIInterface_toConsumableArray(statements.reverse())),this.stateUpdated(),statements.reverse()}},{key:"getValue",value:function(nameSpace,id){return id?get_default()(this.data,[nameSpace,id,"value"]):get_default()(this.data,nameSpace,{})}},{key:"getIds",value:function(nameSpace){var _this2=this,since=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(this.data[nameSpace]||{}).filter((function(id){return _this2.data[nameSpace][id].stored>since}))}},{key:"setValue",value:function(nameSpace,id,stateObject){set_default()(this.data,[nameSpace,id],{stored:this.__now().toISOString(),value:stateObject}),this.stateUpdated()}},{key:"sendValue",value:function(nameSpace,id,value){var _this3=this;return new Promise((function(resolve,reject){try{JSON.stringify(value)}catch(e){reject("Can only store JSON serializable values")}id||reject("Must specify an id"),_this3.setValue(nameSpace,id,value),resolve()}))}},{key:"deleteValue",value:function(nameSpace,id){id?unset_default()(this.data,[nameSpace,id]):unset_default()(this.data,nameSpace),this.stateUpdated()}},{key:"__setXAPIInterface",value:function(){var self=this,Shim=function(){function Shim(){xAPIInterface_classCallCheck(this,Shim)}return xAPIInterface_createClass(Shim,[{key:"prepareStatement",value:function(statement){statement.actor||(statement.actor=self.createAgent()),statement.timestamp||(statement.timestamp=self.__now().toISOString())}},{key:"sendStatement",value:function(statement){var _this4=this,compress=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(resolve){return Promise.all([__webpack_require__.e(230),__webpack_require__.e(944)]).then(__webpack_require__.bind(__webpack_require__,9938)).then((function(_ref2){var Statement=_ref2.Statement;_this4.prepareStatement(statement);try{statement=Statement.clean(statement)}catch(e){xAPIInterface_logging.debug("Statement: ",statement,"gave the following error: ",e),statement.error=e.message}compress&&(delete statement.actor,delete statement.authority,statement.object.objectType&&statement.object.objectType!==xAPIConstants.g.ACTIVITY||delete statement.object),self.storeStatements(statement),self.stateUpdated(),resolve()}))}))}},{key:"getStatements",value:function(params){return Promise.resolve(self.getStatements(params))}},{key:"getActivities",value:function(id){return Promise.resolve({id:id})}},{key:"sendState",value:function(stateId,stateValue){return self.sendValue("state",stateId,stateValue)}},{key:"getState",value:function(stateId){return Promise.resolve(self.getValue("state",stateId)||null)}},{key:"getStateIds",value:function(since){return Promise.resolve(self.getIds("state",since))}},{key:"deleteState",value:function(stateId){return self.deleteValue("state",stateId),Promise.resolve()}},{key:"sendActivityProfile",value:function(id,value){return self.sendValue("activityProfile",id,value)}},{key:"getActivityProfile",value:function(id){return Promise.resolve(self.getValue("activityProfile",id)||null)}},{key:"getActivityProfileIds",value:function(since){return Promise.resolve(self.getIds("activityProfile",since))}},{key:"deleteActivityProfile",value:function(id){return self.deleteValue("activityProfile",id),Promise.resolve()}},{key:"getAgent",value:function(){return Promise.resolve(self.createAgent())}},{key:"sendAgentProfile",value:function(id,value){return self.sendValue("agentProfile",id,value)}},{key:"getAgentProfile",value:function(id){return Promise.resolve(self.getValue("agentProfile",id)||null)}},{key:"getAgentProfileIds",value:function(since){return Promise.resolve(self.getIds("agentProfile",since))}},{key:"deleteAgentProfile",value:function(id){return self.deleteValue("agentProfile",id),Promise.resolve()}}]),Shim}();return this.xAPIInterface=new Shim,this.xAPIInterface}}]),xAPI}(BaseShim);function kolibri_typeof(o){return kolibri_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kolibri_typeof(o)}function kolibri_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function kolibri_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,kolibri_toPropertyKey(descriptor.key),descriptor)}}function kolibri_createClass(Constructor,protoProps,staticProps){return protoProps&&kolibri_defineProperties(Constructor.prototype,protoProps),staticProps&&kolibri_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function kolibri_toPropertyKey(t){var i=function(t,r){if("object"!=kolibri_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=kolibri_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==kolibri_typeof(i)?i:String(i)}function kolibri_callSuper(_this,derived,args){return derived=kolibri_getPrototypeOf(derived),function(self,call){if(call&&("object"===kolibri_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],kolibri_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function kolibri_getPrototypeOf(o){return kolibri_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},kolibri_getPrototypeOf(o)}function kolibri_setPrototypeOf(o,p){return kolibri_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},kolibri_setPrototypeOf(o,p)}var Kolibri=function(_BaseShim){function Kolibri(mediator){var _this;return kolibri_classCallCheck(this,Kolibri),(_this=kolibri_callSuper(this,Kolibri,[mediator])).data={},_this.nameSpace="kolibri",_this.mediator=new src_mediator(window.parent),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&kolibri_setPrototypeOf(subClass,superClass)}(Kolibri,_BaseShim),kolibri_createClass(Kolibri,[{key:"iframeInitialize",value:function(contentWindow){this.__setShimInterface(),Object.defineProperty(contentWindow,this.nameSpace,{value:this.shim,configurable:!0})}},{key:"__setShimInterface",value:function(){var self=this,Shim=function(){function Shim(){kolibri_classCallCheck(this,Shim)}return kolibri_createClass(Shim,[{key:"getContentByFilter",value:function(options){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{options:options,dataType:DataTypes_COLLECTION},nameSpace:"hashi"})}},{key:"getContentPage",value:function(options){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{options:options,dataType:DataTypes_COLLECTIONPAGE},nameSpace:"hashi"})}},{key:"getContentById",value:function(id){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{id:id,dataType:DataTypes_MODEL},nameSpace:"hashi"})}},{key:"searchContent",value:function(options){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{options:options,dataType:DataTypes_SEARCHRESULT},nameSpace:"hashi"})}},{key:"themeRenderer",value:function(options){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.THEMECHANGED,data:options,nameSpace:"hashi"})}},{key:"navigateTo",value:function(nodeId,context){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.NAVIGATETO,data:{nodeId:nodeId,context:context},nameSpace:"hashi"})}},{key:"updateContext",value:function(context){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.CONTEXT,data:{context:context},nameSpace:"hashi"})}},{key:"getContext",value:function(){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.CONTEXT,data:{},nameSpace:"hashi"})}},{key:"getVersion",value:function(){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{dataType:DataTypes_KOLIBRIVERSION},nameSpace:"hashi"})}},{key:"getChannelMetadata",value:function(){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{dataType:DataTypes_CHANNELMETADATA},nameSpace:"hashi"})}},{key:"getChannelFilterOptions",value:function(){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{dataType:DataTypes_CHANNELFILTEROPTIONS},nameSpace:"hashi"})}},{key:"getRandomNodes",value:function(options){return self.mediator.sendMessageAwaitReply({event:hashiBase_events.DATAREQUESTED,data:{options:options,dataType:DataTypes_RANDOMCOLLECTION},nameSpace:"hashi"})}}]),Shim}();return this.shim=new Shim,this.shim}}]),Kolibri}(BaseShim);function mainClient_typeof(o){return mainClient_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},mainClient_typeof(o)}function mainClient_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,mainClient_toPropertyKey(descriptor.key),descriptor)}}function mainClient_toPropertyKey(t){var i=function(t,r){if("object"!=mainClient_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=mainClient_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==mainClient_typeof(i)?i:String(i)}var MainClient=function(){function MainClient(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},iframe=_ref.iframe,now=_ref.now;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MainClient),this.events=hashiBase_events,this.iframe=iframe,this.mediator=new src_mediator(this.iframe.contentWindow),this.storage={localStorage:new LocalStorage(this.mediator),cookie:new Cookie(this.mediator),H5P:new H5P(this.mediator),SCORM:new SCORM(this.mediator),xAPI:new xAPI(this.mediator)},this.kolibri=new Kolibri(this.mediator),this.now=now,this.ready=!1,this.contentNamespace=null,this.startUrl=null,this.__setData=this.__setData.bind(this)}var Constructor,protoProps,staticProps;return Constructor=MainClient,(protoProps=[{key:"initialize",value:function(contentState,userData,startUrl,contentNamespace){var _this=this;this.__setData(contentState,userData),this.__setListeners(),this.contentNamespace=contentNamespace,this.startUrl=startUrl,this.iframe.style.width="100%",this.iframe.getBoundingClientRect(),this.on(this.events.IFRAMEREADY,(function(){_this.__setData(_this.data,_this.userData),_this.ready=!0,_this.mediator.sendMessage({nameSpace:"hashi",event:hashiBase_events.MAINREADY,data:{contentNamespace:contentNamespace,startUrl:startUrl}})})),this.mediator.sendMessage({nameSpace:"hashi",event:hashiBase_events.READYCHECK,data:!0}),this.on(this.events.DATAREQUESTED,(function(message){var event;message.dataType===DataTypes_COLLECTION?event=hashiBase_events.COLLECTIONREQUESTED:message.dataType===DataTypes_COLLECTIONPAGE?event=hashiBase_events.COLLECTIONPAGEREQUESTED:message.dataType===DataTypes_MODEL?event=hashiBase_events.MODELREQUESTED:message.dataType===DataTypes_SEARCHRESULT?event=hashiBase_events.SEARCHRESULTREQUESTED:message.dataType===DataTypes_KOLIBRIVERSION?event=hashiBase_events.KOLIBRIVERSIONREQUESTED:message.dataType===DataTypes_CHANNELMETADATA?event=hashiBase_events.CHANNELMETADATAREQUESTED:message.dataType===DataTypes_CHANNELFILTEROPTIONS?event=hashiBase_events.CHANNELFILTEROPTIONSREQUESTED:message.dataType===DataTypes_RANDOMCOLLECTION&&(event=hashiBase_events.RANDOMCOLLECTIONREQUESTED),event&&_this.mediator.sendLocalMessage({nameSpace:"hashi",event:event,data:message})})),this.on(this.events.DATARETURNED,(function(message){_this.mediator.sendMessage({nameSpace:"hashi",event:hashiBase_events.DATARETURNED,data:message})})),this.on(this.events.NAVIGATETO,(function(message){_this.mediator.sendMessage({nameSpace:"hashi",event:hashiBase_events.NAVIGATETO,data:message})})),this.on(this.events.CONTEXT,(function(message){_this.mediator.sendMessage({nameSpace:"hashi",event:hashiBase_events.CONTEXT,data:message})}))}},{key:"updateData",value:function(_ref2){var _this2=this,contentState=_ref2.contentState,userData=_ref2.userData;userData&&(userData=JSON.parse(JSON.stringify(userData)),this.userData=userData),contentState&&(contentState=JSON.parse(JSON.stringify(contentState))),Object.keys(this.storage).forEach((function(key){var storage=_this2.storage[key];contentState&&contentState[storage.nameSpace]&&storage.setData(contentState[storage.nameSpace]),userData&&storage.setUserData(userData)}))}},{key:"getProgress",value:function(){var xAPIprogress=this.storage.xAPI.__calculateProgress();return null!==xAPIprogress?xAPIprogress:this.storage.SCORM.__calculateProgress()}},{key:"__setData",value:function(contentState,userData){var _this3=this;this.updateData({contentState:contentState,userData:userData}),this.now&&Object.keys(this.storage).forEach((function(key){_this3.storage[key].setNow(_this3.now())}))}},{key:"__setListeners",value:function(){var _this4=this;Object.keys(this.storage).forEach((function(key){_this4.storage[key].on(hashiBase_events.STATEUPDATE,(function(){_this4.mediator.sendLocalMessage({nameSpace:"hashi",event:hashiBase_events.STATEUPDATE,data:_this4.data})}))}))}},{key:"data",get:function(){var _this5=this,data={};return Object.keys(this.storage).forEach((function(key){var storage=_this5.storage[key];data[storage.nameSpace]=JSON.parse(JSON.stringify(storage.data))})),data}},{key:"on",value:function(event,callback){if(!Object.values(hashiBase_events).includes(event))throw ReferenceError("".concat(event," is not a valid event name for ").concat("hashi"));this.mediator.registerMessageHandler({nameSpace:"hashi",event:event,callback:callback})}},{key:"onStateUpdate",value:function(callback){this.on(hashiBase_events.STATEUPDATE,callback)}},{key:"onProgressUpdate",value:function(callback){this.on(hashiBase_events.PROGRESSUPDATE,callback)}}])&&mainClient_defineProperties(Constructor.prototype,protoProps),staticProps&&mainClient_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),MainClient}();function tinycolor_typeof(obj){return tinycolor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},tinycolor_typeof(obj)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(color,opts){if(opts=opts||{},(color=color||"")instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=function(color){var rgb={r:0,g:0,b:0},a=1,s=null,v=null,l=null,ok=!1,format=!1;"string"==typeof color&&(color=function(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var match,named=!1;if(names[color])color=names[color],named=!0;else if("transparent"==color)return{r:0,g:0,b:0,a:0,format:"name"};if(match=matchers.rgb.exec(color))return{r:match[1],g:match[2],b:match[3]};if(match=matchers.rgba.exec(color))return{r:match[1],g:match[2],b:match[3],a:match[4]};if(match=matchers.hsl.exec(color))return{h:match[1],s:match[2],l:match[3]};if(match=matchers.hsla.exec(color))return{h:match[1],s:match[2],l:match[3],a:match[4]};if(match=matchers.hsv.exec(color))return{h:match[1],s:match[2],v:match[3]};if(match=matchers.hsva.exec(color))return{h:match[1],s:match[2],v:match[3],a:match[4]};if(match=matchers.hex8.exec(color))return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),a:convertHexToDecimal(match[4]),format:named?"name":"hex8"};if(match=matchers.hex6.exec(color))return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"};if(match=matchers.hex4.exec(color))return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),a:convertHexToDecimal(match[4]+""+match[4]),format:named?"name":"hex8"};if(match=matchers.hex3.exec(color))return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"};return!1}(color));"object"==tinycolor_typeof(color)&&(isValidCSSUnit(color.r)&&isValidCSSUnit(color.g)&&isValidCSSUnit(color.b)?(r=color.r,g=color.g,b=color.b,rgb={r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)},ok=!0,format="%"===String(color.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.v)?(s=convertToPercentage(color.s),v=convertToPercentage(color.v),rgb=function(h,s,v){h=6*bound01(h,360),s=bound01(s,100),v=bound01(v,100);var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:255*r,g:255*g,b:255*b}}(color.h,s,v),ok=!0,format="hsv"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.l)&&(s=convertToPercentage(color.s),l=convertToPercentage(color.l),rgb=function(h,s,l){var r,g,b;function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}if(h=bound01(h,360),s=bound01(s,100),l=bound01(l,100),0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}(color.h,s,l),ok=!0,format="hsl"),color.hasOwnProperty("a")&&(a=color.a));var r,g,b;return a=boundAlpha(a),{ok:ok,format:color.format||format,r:Math.min(255,Math.max(rgb.r,0)),g:Math.min(255,Math.max(rgb.g,0)),b:Math.min(255,Math.max(rgb.b,0)),a:a}}(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=Math.round(100*this._a)/100,this._format=opts.format||rgb.format,this._gradientType=opts.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=rgb.ok}function rgbToHsl(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function rgbToHsv(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=Math.max(r,g,b),min=Math.min(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(Math.round(r).toString(16)),pad2(Math.round(g).toString(16)),pad2(Math.round(b).toString(16))];return allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join("")}function rgbaToArgbHex(r,g,b,a){return[pad2(convertDecimalToHex(a)),pad2(Math.round(r).toString(16)),pad2(Math.round(g).toString(16)),pad2(Math.round(b).toString(16))].join("")}function _desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s-=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function _saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s+=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function _greyscale(color){return tinycolor(color).desaturate(100)}function _lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l+=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function _brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();return rgb.r=Math.max(0,Math.min(255,rgb.r-Math.round(-amount/100*255))),rgb.g=Math.max(0,Math.min(255,rgb.g-Math.round(-amount/100*255))),rgb.b=Math.max(0,Math.min(255,rgb.b-Math.round(-amount/100*255))),tinycolor(rgb)}function _darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l-=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function _spin(color,amount){var hsl=tinycolor(color).toHsl(),hue=(hsl.h+amount)%360;return hsl.h=hue<0?360+hue:hue,tinycolor(hsl)}function _complement(color){var hsl=tinycolor(color).toHsl();return hsl.h=(hsl.h+180)%360,tinycolor(hsl)}function polyad(color,number){if(isNaN(number)||number<=0)throw new Error("Argument to polyad must be a positive number");for(var hsl=tinycolor(color).toHsl(),result=[tinycolor(color)],step=360/number,i=1;i<number;i++)result.push(tinycolor({h:(hsl.h+i*step)%360,s:hsl.s,l:hsl.l}));return result}function _splitcomplement(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function _analogous(color,results,slices){results=results||6,slices=slices||30;var hsl=tinycolor(color).toHsl(),part=360/slices,ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;)hsl.h=(hsl.h+part)%360,ret.push(tinycolor(hsl));return ret}function _monochromatic(color,results){results=results||6;for(var hsv=tinycolor(color).toHsv(),h=hsv.h,s=hsv.s,v=hsv.v,ret=[],modification=1/results;results--;)ret.push(tinycolor({h:h,s:s,v:v})),v=(v+modification)%1;return ret}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var RsRGB,GsRGB,BsRGB,rgb=this.toRgb();return RsRGB=rgb.r/255,GsRGB=rgb.g/255,BsRGB=rgb.b/255,.2126*(RsRGB<=.03928?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4))+.7152*(GsRGB<=.03928?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4))+.0722*(BsRGB<=.03928?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4))},setAlpha:function(value){return this._a=boundAlpha(value),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b),h=Math.round(360*hsv.h),s=Math.round(100*hsv.s),v=Math.round(100*hsv.v);return 1==this._a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b),h=Math.round(360*hsl.h),s=Math.round(100*hsl.s),l=Math.round(100*hsl.l);return 1==this._a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function(allow4Char){return function(r,g,b,a,allow4Char){var hex=[pad2(Math.round(r).toString(16)),pad2(Math.round(g).toString(16)),pad2(Math.round(b).toString(16)),pad2(convertDecimalToHex(a))];if(allow4Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)&&hex[3].charAt(0)==hex[3].charAt(1))return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0)+hex[3].charAt(0);return hex.join("")}(this._r,this._g,this._b,this._a,allow4Char)},toHex8String:function(allow4Char){return"#"+this.toHex8(allow4Char)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(secondColor){var hex8String="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),secondHex8String=hex8String,gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String="#"+rgbaToArgbHex(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=!1,hasAlpha=this._a<1&&this._a>=0;return formatSet||!hasAlpha||"hex"!==format&&"hex6"!==format&&"hex3"!==format&&"hex4"!==format&&"hex8"!==format&&"name"!==format?("rgb"===format&&(formattedString=this.toRgbString()),"prgb"===format&&(formattedString=this.toPercentageRgbString()),"hex"!==format&&"hex6"!==format||(formattedString=this.toHexString()),"hex3"===format&&(formattedString=this.toHexString(!0)),"hex4"===format&&(formattedString=this.toHex8String(!0)),"hex8"===format&&(formattedString=this.toHex8String()),"name"===format&&(formattedString=this.toName()),"hsl"===format&&(formattedString=this.toHslString()),"hsv"===format&&(formattedString=this.toHsvString()),formattedString||this.toHexString()):"name"===format&&0===this._a?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));return this._r=color._r,this._g=color._g,this._b=color._b,this.setAlpha(color._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(color,opts){if("object"==tinycolor_typeof(color)){var newColor={};for(var i in color)color.hasOwnProperty(i)&&(newColor[i]="a"===i?color[i]:convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)},tinycolor.equals=function(color1,color2){return!(!color1||!color2)&&tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var rgb1=tinycolor(color1).toRgb(),rgb2=tinycolor(color2).toRgb(),p=amount/100;return tinycolor({r:(rgb2.r-rgb1.r)*p+rgb1.r,g:(rgb2.g-rgb1.g)*p+rgb1.g,b:(rgb2.b-rgb1.b)*p+rgb1.b,a:(rgb2.a-rgb1.a)*p+rgb1.a})},tinycolor.readability=function(color1,color2){var c1=tinycolor(color1),c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)},tinycolor.isReadable=function(color1,color2,wcag2){var wcag2Parms,out,readability=tinycolor.readability(color1,color2);switch(out=!1,(wcag2Parms=function(parms){var level,size;level=((parms=parms||{level:"AA",size:"small"}).level||"AA").toUpperCase(),size=(parms.size||"small").toLowerCase(),"AA"!==level&&"AAA"!==level&&(level="AA");"small"!==size&&"large"!==size&&(size="small");return{level:level,size:size}}(wcag2)).level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7}return out},tinycolor.mostReadable=function(baseColor,colorList,args){var readability,includeFallbackColors,level,size,bestColor=null,bestScore=0;includeFallbackColors=(args=args||{}).includeFallbackColors,level=args.level,size=args.size;for(var i=0;i<colorList.length;i++)(readability=tinycolor.readability(baseColor,colorList[i]))>bestScore&&(bestScore=readability,bestColor=tinycolor(colorList[i]));return tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors?bestColor:(args.includeFallbackColors=!1,tinycolor.mostReadable(baseColor,["#fff","#000"],args))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=function(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}(names);function boundAlpha(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function bound01(n,max){(function(n){return"string"==typeof n&&-1!=n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var processPercent=function(n){return"string"==typeof n&&-1!=n.indexOf("%")}(n);return n=Math.min(max,Math.max(0,parseFloat(n))),processPercent&&(n=parseInt(n*max,10)/100),Math.abs(n-max)<1e-6?1:n%max/parseFloat(max)}function clamp01(val){return Math.min(1,Math.max(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){return n<=1&&(n=100*n+"%"),n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}var CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4,matchers=(PERMISSIVE_MATCH3="[\\s|\\(]+("+(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function isValidCSSUnit(color){return!!matchers.CSS_UNIT.exec(color)}function validateChannelTheme_typeof(o){return validateChannelTheme_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},validateChannelTheme_typeof(o)}function validateChannelTheme_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function validateChannelTheme_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=validateChannelTheme_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=validateChannelTheme_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==validateChannelTheme_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var validateChannelTheme_logger=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("theme validation"),validKeys=["appBarColor","textColor","backdropColor","backgroundColor"],defaultTheme={appBarColor:null,textColor:null,backdropColor:null,backgroundColor:null};function validateChannelTheme(theme){var updatedTheme=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?validateChannelTheme_ownKeys(Object(t),!0).forEach((function(r){validateChannelTheme_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):validateChannelTheme_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},defaultTheme);for(var key in theme){var color=theme[key];color&&(validKeys.includes(key)?tinycolor(color).isValid()?updatedTheme[key]=color:validateChannelTheme_logger.error("invalid color '".concat(color,"' provided for '").concat(key,"'")):validateChannelTheme_logger.error("'".concat(key,"' is not a valid custom theme option")))}if(updatedTheme.backdropColor){var bdcolor=tinycolor(updatedTheme.backdropColor);bdcolor.setAlpha(.7),updatedTheme.backdropColor=bdcolor.toRgbString()}return(theme.textColor&&!theme.appBarColor||!theme.textColor&&theme.appBarColor)&&(validateChannelTheme_logger.error("valid values for 'textColor' and 'appBarColor' must be provided"),updatedTheme.textColor=null,updatedTheme.appBarColor=null),updatedTheme.textColor&&updatedTheme.appBarColor&&(tinycolor.isReadable(updatedTheme.textColor,updatedTheme.appBarColor)||validateChannelTheme_logger.warn("'textColor' and 'appBarColor' do not provide enough contrast and do not pass WCAG Level AA guidelines")),updatedTheme}var ContentModalvue_type_template_id_5ac9383a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("Backdrop",{staticClass:"backdrop",style:_vm.backdropStyle,attrs:{transitions:!0}},[_c("div",{staticClass:"renderer",style:_vm.bodyStyle},[_c("nav",[_c("UiToolbar",{ref:"toolbar",style:_vm.toolbarStyle,attrs:{showIcon:!0},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("KIconButton",{attrs:{icon:"close",color:_vm.getThemeToken("textColor")},on:{click:function($event){return _vm.$emit("close")}}})]},proxy:!0}])},[_c("span",{style:_vm.titleStyle},[_vm._v("\n          "+_vm._s(_vm.title)+"\n        ")])])],1),_c("main",[_c("ContentItem",{attrs:{contentNode:_vm.contentNode}})],1)])])};ContentModalvue_type_template_id_5ac9383a_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_UiToolbar_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UiToolbar,external_kolibriCoreAppGlobal_coreVue_components_UiToolbar_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UiToolbar_namespaceObject),ContentItemvue_type_template_id_b944295c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.sessionReady?[_vm.assessment?_c("AssessmentWrapper",_vm._g(_vm._b({staticClass:"content-renderer"},"AssessmentWrapper",_vm.exerciseProps,!1),_vm.contentHandlers)):_c("KContentRenderer",_vm._g(_vm._b({staticClass:"content-renderer"},"KContentRenderer",_vm.contentProps,!1),_vm.contentHandlers))]:_c("KCircularLoader")],2)};ContentItemvue_type_template_id_b944295c_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_vuex_mappers_namespaceObject=kolibriCoreAppGlobal.coreVue.vuex.mappers,fromPairs=__webpack_require__(2153),fromPairs_default=__webpack_require__.n(fromPairs),isPlainObject=__webpack_require__(2363),isPlainObject_default=__webpack_require__.n(isPlainObject),lodash_isUndefined=__webpack_require__(953),isUndefined_default=__webpack_require__.n(lodash_isUndefined);function utils_typeof(o){return utils_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},utils_typeof(o)}var isDate=function(d){return d instanceof Date},utils_isObject=function(o){return null!=o&&"object"===utils_typeof(o)},utils_hasOwnProperty=function(o){for(var _Object$prototype$has,_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return(_Object$prototype$has=Object.prototype.hasOwnProperty).call.apply(_Object$prototype$has,[o].concat(args))},isEmptyObject=function(o){return utils_isObject(o)&&function(o){return 0===Object.keys(o).length}(o)},mjs_diff=function diff(lhs,rhs){if(lhs===rhs)return{};if(!utils_isObject(lhs)||!utils_isObject(rhs))return rhs;var deletedValues=Object.keys(lhs).reduce((function(acc,key){return utils_hasOwnProperty(rhs,key)||(acc[key]=void 0),acc}),Object.create(null));return isDate(lhs)||isDate(rhs)?lhs.valueOf()==rhs.valueOf()?{}:rhs:Object.keys(rhs).reduce((function(acc,key){if(!utils_hasOwnProperty(lhs,key))return acc[key]=rhs[key],acc;var difference=diff(lhs[key],rhs[key]);return!isEmptyObject(difference)||isDate(difference)||!isEmptyObject(lhs[key])&&isEmptyObject(rhs[key])?(acc[key]=difference,acc):acc}),deletedValues)},Modalities_QUIZ="QUIZ",Modalities_SURVEY="SURVEY";function useProgressTracking_typeof(o){return useProgressTracking_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useProgressTracking_typeof(o)}function useProgressTracking_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function useProgressTracking_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?useProgressTracking_ownKeys(Object(t),!0).forEach((function(r){useProgressTracking_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useProgressTracking_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function useProgressTracking_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=useProgressTracking_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=useProgressTracking_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==useProgressTracking_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function useProgressTracking_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=useProgressTracking_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function useProgressTracking_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return useProgressTracking_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useProgressTracking_unsupportedIterableToArray(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useProgressTracking_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useProgressTracking_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useProgressTracking_arrayLikeToArray(o,minLen):void 0}}function useProgressTracking_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useProgressTracking_logging=external_kolibriCoreAppGlobal_lib_logging_default().getLogger("kolibri/plugins/learn/assets/src/composables/useProgressTracking.js"),noSessionErrorText="Cannot update a content session before one has been initialized";function valOrNull(val){return void 0!==val?val:null}function _zeroToOne(num){return Math.min(1,Math.max(num||0,0))}function threeDecimalPlaceRoundup(num){return num?Math.ceil(1e3*num)/1e3:num}function rejectDelay(reason){var retryDelay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new Promise((function(resolve,reject){setTimeout(reject.bind(null,reason),retryDelay)}))}var replaceBlocklist={correct:!0,answer:!0,simple_answer:!0,replace:!0};function clearObject(obj){for(var key in obj)delete obj[key]}function useProgressTracking(store){store=store||(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy.$store;var lastElapsedTimeCheck,timeCheckIntervalTimer,complete=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),progress_state=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),progress_delta=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(0),time_spent=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),time_spent_delta=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),session_id=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),extra_fields=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.reactive)({}),extra_fields_dirty_bit=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),mastery_criterion=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),totalattempts=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),pastattempts=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.reactive)([]),pastattemptMap=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.reactive)({}),unsaved_interactions=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.reactive)([]),context=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null);function makeRequestWithRetry(requestFunction){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];for(var attempt=Promise.reject({response:{status:503}}),i=0;i<5;i++)attempt=attempt.catch((function(err){return err&&err.response&&503===err.response.status?requestFunction.apply(void 0,args):Promise.reject(err)})).catch((function(err){if(err&&err.response&&503===err.response.status){var retryAfter=(err.response.headers||{})["retry-after"];return rejectDelay(err,retryAfter?1e3*retryAfter:retryAfter)}return Promise.reject(err)}));return attempt}function _makeInitContentSessionRequest(data){return external_kolibriCoreAppGlobal_client_default()({method:"post",url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:trackprogress-list"](),data:data}).then((function(response){var data=response.data;set(context,valOrNull(data.context)),set(complete,valOrNull(data.complete)),set(progress_state,valOrNull(data.progress)),set(progress_delta,0),set(time_spent,valOrNull(data.time_spent)),set(time_spent_delta,0),set(session_id,valOrNull(data.session_id)),clearObject(extra_fields),Object.assign(extra_fields,data.extra_fields||{}),set(mastery_criterion,valOrNull(data.mastery_criterion)),pastattempts.splice(0),pastattempts.push.apply(pastattempts,useProgressTracking_toConsumableArray(data.pastattempts||[])),clearObject(pastattemptMap),Object.assign(pastattemptMap,data.pastattempts?fromPairs_default()(data.pastattempts.map((function(a){return[a.id,a]}))):{}),set(totalattempts,valOrNull(data.totalattempts)),unsaved_interactions.splice(0)}))}function updateAttempt(interaction){var blocklist=interaction.replace?{replace:!0}:replaceBlocklist;if(interaction.id)if(pastattemptMap[interaction.id])for(var key in interaction)blocklist[key]||(pastattemptMap[interaction.id][key]=interaction[key]);else{var nowSavedInteraction=shared_get(pastattempts).find((function(a){return!a.id&&a.item===interaction.item}));Object.assign(nowSavedInteraction,interaction),pastattemptMap[nowSavedInteraction.id]=nowSavedInteraction}}function makeSessionUpdateRequest(data){var wasComplete=shared_get(complete);return external_kolibriCoreAppGlobal_client_default()({method:"put",url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:trackprogress-detail"](shared_get(session_id)),data:data}).then((function(response){if(response.data.attempts){var _step,_iterator=useProgressTracking_createForOfIteratorHelper(response.data.attempts);try{for(_iterator.s();!(_step=_iterator.n()).done;){updateAttempt(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return response.data.complete&&(set(complete,!0),set(progress_state,1),store.getters.isUserLoggedIn&&!wasComplete&&store.commit("INCREMENT_TOTAL_PROGRESS",1)),response.data}))}var updateContentSessionTimeout,savingPromise=Promise.resolve(),updateContentSessionDeferredStack=[],forceSessionUpdate=!1;function immediatelyUpdateContentSession(){updateContentSessionTimeout=null;var progressDelta=shared_get(progress_delta),timeSpentDelta=shared_get(time_spent_delta),extraFieldsChanged=shared_get(extra_fields_dirty_bit),progress=shared_get(progress_state),unsavedInteractions=JSON.parse(JSON.stringify(unsaved_interactions)),extraFields=JSON.parse(JSON.stringify(extra_fields));if(unsavedInteractions.length&&(unsavedInteractions.some((function(r){return!r.id}))||unsavedInteractions.length>2)||progressDelta>=.4||progressDelta&&progress>=1||timeSpentDelta>=120||extraFieldsChanged||forceSessionUpdate){set(progress_delta,0),set(time_spent_delta,0),set(extra_fields_dirty_bit,!1),unsaved_interactions.splice(0),forceSessionUpdate=!1;var data={};progressDelta&&(data.progress_delta=progressDelta),timeSpentDelta&&(data.time_spent_delta=timeSpentDelta),unsavedInteractions.length&&(data.interactions=unsavedInteractions),extraFieldsChanged&&(data.extra_fields=extraFields),0!==Object.keys(data).length&&(savingPromise=savingPromise.then((function(){return makeRequestWithRetry(makeSessionUpdateRequest,data)})))}var deferredStack=updateContentSessionDeferredStack.splice(0);return savingPromise.then((function(result){var _step2,_iterator2=useProgressTracking_createForOfIteratorHelper(deferredStack);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){(0,_step2.value.resolve)(result)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}})).catch((function(err){var _step3,_iterator3=useProgressTracking_createForOfIteratorHelper(deferredStack);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){(0,_step3.value.reject)(err)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}))}function updateContentSession(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},progressDelta=_ref2.progressDelta,progress=_ref2.progress,contentState=_ref2.contentState,interaction=_ref2.interaction,_ref2$immediate=_ref2.immediate,immediate=void 0!==_ref2$immediate&&_ref2$immediate,_ref2$force=_ref2.force,force=void 0!==_ref2$force&&_ref2$force,wasComplete=shared_get(progress_state)>=1;if(null===shared_get(session_id))throw ReferenceError(noSessionErrorText);if(!isUndefined_default()(progressDelta)&&!isUndefined_default()(progress))throw TypeError("Must only specify either progressDelta or progress");if(!isUndefined_default()(progress)){if(!isNumber_default()(progress))throw TypeError("progress must be a number");if(progress=threeDecimalPlaceRoundup(progress=_zeroToOne(progress)),shared_get(progress_state)<progress){var newProgressDelta=_zeroToOne(threeDecimalPlaceRoundup(shared_get(progress_delta)+progress-shared_get(progress_state)));set(progress_delta,newProgressDelta),set(progress_state,progress)}}if(!isUndefined_default()(progressDelta)){if(!isNumber_default()(progressDelta))throw TypeError("progressDelta must be a number");progressDelta=threeDecimalPlaceRoundup(progressDelta=_zeroToOne(progressDelta)),set(progress_delta,_zeroToOne(threeDecimalPlaceRoundup(shared_get(progress_delta)+progressDelta))),set(progress_state,Math.min(threeDecimalPlaceRoundup(shared_get(progress_state)+progressDelta),1))}if(!isUndefined_default()(contentState)){if(!isPlainObject_default()(contentState))throw TypeError("contentState must be an object");var delta=mjs_diff(extra_fields,useProgressTracking_objectSpread(useProgressTracking_objectSpread({},extra_fields),{},{contentState:contentState}));Boolean(Object.keys(delta).length)&&(extra_fields.contentState=contentState,set(extra_fields_dirty_bit,!0))}if(!isUndefined_default()(interaction)){if(!isPlainObject_default()(interaction))throw TypeError("interaction must be an object");if(unsaved_interactions.push(interaction),!interaction.id){var unsavedInteraction=shared_get(pastattempts).find((function(a){return!a.id&&a.item===interaction.item}));if(unsavedInteraction)for(var key in interaction)set(unsavedInteraction,key,interaction[key]);else pastattempts.unshift(interaction),set(totalattempts,shared_get(totalattempts)+1)}updateAttempt(interaction)}var elapsedTime=function(){if(!lastElapsedTimeCheck)return 0;var currentTime=new Date,timeElapsed=currentTime-lastElapsedTimeCheck;return lastElapsedTimeCheck=currentTime,timeElapsed>5e4?0:timeElapsed/1e3}();store.state.core.pageVisible&&elapsedTime&&(set(time_spent,shared_get(time_spent)+threeDecimalPlaceRoundup(elapsedTime)),set(time_spent_delta,threeDecimalPlaceRoundup(shared_get(time_spent_delta)+elapsedTime)));var completed=!wasComplete&&shared_get(progress_state)>=1;return immediate=!isUndefined_default()(interaction)&&!interaction.id||completed||immediate,forceSessionUpdate=forceSessionUpdate||force,new Promise((function(resolve,reject){clearTimeout(updateContentSessionTimeout),updateContentSessionDeferredStack.push({resolve:resolve,reject:reject}),immediate?immediatelyUpdateContentSession():updateContentSessionTimeout=setTimeout(immediatelyUpdateContentSession,2e3)}))}function stopTrackingProgress(){clearInterval(timeCheckIntervalTimer),timeCheckIntervalTimer=null,lastElapsedTimeCheck=null;try{return updateContentSession({immediate:!0,force:!0}).catch((function(err){useProgressTracking_logging.debug(err)}))}catch(e){if(!(e instanceof ReferenceError&&e.message===noSessionErrorText))throw e;useProgressTracking_logging.debug("Tried to stop tracking progress when no content session had been initialized")}return Promise.resolve()}return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onBeforeUnmount)(stopTrackingProgress),{initContentSession:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},node=_ref.node,lessonId=_ref.lessonId,quizId=_ref.quizId,_ref$repeat=_ref.repeat,repeat=void 0!==_ref$repeat&&_ref$repeat,data={};if(!node&&!quizId)throw TypeError("Must define either node or quizId");if((node||lessonId)&&quizId)throw TypeError("quizId must be the only defined parameter if defined");var sessionStarted=!1;if(quizId&&(sessionStarted=shared_get(context)&&shared_get(context).quiz_id===quizId,data.quiz_id=quizId),node){if(!node.id)throw TypeError("node must have id property");if(!node.content_id)throw TypeError("node must have content_id property");if(!node.channel_id)throw TypeError("node must have channel_id property");if(!node.kind)throw TypeError("node must have kind property");if(sessionStarted=shared_get(context)&&shared_get(context).node_id===node.id,data.node_id=node.id,data.content_id=node.content_id,data.channel_id=node.channel_id,data.kind=node.kind,lessonId&&(sessionStarted=sessionStarted&&shared_get(context)&&shared_get(context).lesson_id===lessonId,data.lesson_id=lessonId),"exercise"===node.kind){if(!node.assessmentmetadata)throw new TypeError("node must have assessmentmetadata property");if(!node.assessmentmetadata.mastery_model)throw new TypeError("node must have assessmentmetadata property with mastery_model property");if(!isPlainObject_default()(node.assessmentmetadata.mastery_model))throw new TypeError("node must have assessmentmetadata property with plain object mastery_model property");if(!node.assessmentmetadata.mastery_model.type)throw new TypeError("node must have assessmentmetadata property with mastery_model property with type property");data.mastery_model=node.assessmentmetadata.mastery_model,node.options&&node.options.modality===Modalities_QUIZ&&(data.mastery_model={type:"quiz"})}}if(repeat&&(data.repeat=repeat),!sessionStarted||repeat)return makeRequestWithRetry(_makeInitContentSessionRequest,data)},updateContentSession:updateContentSession,startTrackingProgress:function(){timeCheckIntervalTimer=setInterval(updateContentSession,5e3),lastElapsedTimeCheck=new Date},stopTrackingProgress:stopTrackingProgress,session_id:session_id,context:context,progress:progress_state,progress_delta:progress_delta,time_spent:time_spent,extra_fields:extra_fields,complete:complete,totalattempts:totalattempts,pastattempts:pastattempts,pastattemptMap:pastattemptMap,mastery_criterion:mastery_criterion,unsaved_interactions:unsaved_interactions}}var AssessmentWrappervue_type_template_id_7ccb74e9_scoped_true_v_if_ready_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("LessonMasteryBar",{attrs:{requiredCorrectAnswers:_vm.totalCorrectRequiredM},scopedSlots:_vm._u([{key:"hint",fn:function(){return[_vm.totalHints>0?_c("div",{staticClass:"hint-btn-container",class:{rtl:_vm.isRtl}},[_vm.availableHints>0?_c("KButton",{staticClass:"hint-btn",attrs:{appearance:"basic-link",text:_vm.hint$tr("hint",{hintsLeft:_vm.availableHints}),primary:!1},on:{click:_vm.takeHint}}):_c("KButton",{staticClass:"hint-btn",attrs:{appearance:"basic-link",text:_vm.hint$tr("noMoreHint"),primary:!1,disabled:!0}}),_c("CoreInfoIcon",{staticClass:"info-icon",attrs:{tooltipPlacement:"bottom left",iconAriaLabel:_vm.hint$tr("hintExplanation"),tooltipText:_vm.hint$tr("hintExplanation")}})],1):_vm._e()]},proxy:!0}])}),_c("div",[_vm.itemError?_c("UiAlert",{attrs:{dismissible:!1,type:"error"}},[_vm._v("\n      "+_vm._s(_vm.$tr("itemError"))+"\n      "),_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("tryDifferentQuestion")},on:{click:_vm.nextQuestion}})],1):_vm._e(),_c("div",{staticClass:"content-wrapper",style:{backgroundColor:this.$themePalette.grey.v_100}},[_c("KContentRenderer",{ref:"contentRenderer",attrs:{kind:_vm.kind,lang:_vm.lang,files:_vm.files,available:_vm.available,extraFields:_vm.extraFields,assessment:!0,itemId:_vm.itemId,progress:_vm.progress,userId:_vm.userId,userFullName:_vm.userFullName,timeSpent:_vm.timeSpent},on:{answerGiven:_vm.answerGiven,hintTaken:_vm.hintTaken,itemError:_vm.handleItemError,startTracking:_vm.startTracking,stopTracking:_vm.stopTracking,updateProgress:_vm.updateProgress,updateContentState:_vm.updateContentState,error:function(err){return _vm.$emit("error",err)}}})],1),_c("BottomAppBar",{staticClass:"attempts-container",class:{mobile:_vm.windowIsSmall}},[_c("div",{staticClass:"overall-status",style:{color:_vm.$themeTokens.text}},[_c("KIcon",{attrs:{icon:"mastered",color:_vm.success?_vm.$themeTokens.mastered:_vm.$themePalette.grey.v_200}}),_c("div",{staticClass:"overall-status-text"},[_vm.success?_c("span",{staticClass:"completed",style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n            "+_vm._s(_vm.coreString("completedLabel"))+"\n          ")]):_vm._e(),_c("span",[_vm._v("\n            "+_vm._s(_vm.$tr("goal",{count:_vm.totalCorrectRequiredM}))+"\n          ")])])],1),_c("div",{staticClass:"table"},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"left"},[_c("transition",{attrs:{mode:"out-in"}},[_vm.complete?_c("KButton",{attrs:{appearance:"raised-button",text:_vm.$tr("next"),primary:!0},on:{click:_vm.nextQuestion}}):_c("KButton",{class:{shaking:_vm.shake},attrs:{appearance:"raised-button",text:_vm.$tr("check"),primary:!0,disabled:_vm.checkingAnswer},on:{click:_vm.checkAnswer}})],1)],1),_c("div",{staticClass:"right"},[_c("ExerciseAttempts",{attrs:{waitingForAttempt:_vm.firstAttemptAtQuestion||_vm.itemError,numSpaces:_vm.attemptsWindowN,log:_vm.recentAttempts}}),_c("p",{staticClass:"current-status"},[_vm._v("\n              "+_vm._s(_vm.currentStatus)+"\n            ")])],1)])])])],1)],1)};AssessmentWrappervue_type_template_id_7ccb74e9_scoped_true_v_if_ready_render._withStripped=!0;var external_kolibriCoreAppGlobal_utils_shuffled_namespaceObject=kolibriCoreAppGlobal.utils.shuffled,external_kolibriCoreAppGlobal_utils_shuffled_default=__webpack_require__.n(external_kolibriCoreAppGlobal_utils_shuffled_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_namespaceObject=kolibriCoreAppGlobal.coreVue.components.BottomAppBar,external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_namespaceObject),external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreInfoIcon,external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_namespaceObject),LessonMasteryBarvue_type_template_id_fcf05406_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("BaseToolbar",{staticStyle:{"z-index":"7"}},[_c("div",{staticClass:"container",style:{flexWrap:this.windowBreakpoint>0?"nowrap":"wrap"}},[_c("TextTruncatorCss",{staticClass:"requirements",attrs:{text:this.coreString("shortExerciseGoalDescription",{count:this.requiredCorrectAnswers})}}),_c("span",[this._t("hint")],2)],1)])};LessonMasteryBarvue_type_template_id_fcf05406_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_BaseToolbar_namespaceObject=kolibriCoreAppGlobal.coreVue.components.BaseToolbar,LessonMasteryBar=normalizeComponent({name:"LessonMasteryBar",components:{BaseToolbar:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_BaseToolbar_namespaceObject)(),TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{requiredCorrectAnswers:{type:Number,required:!0}}},LessonMasteryBarvue_type_template_id_fcf05406_scoped_true_render,[],!1,null,"fcf05406",null).exports,ExerciseAttemptsvue_type_template_id_b0edb0dc_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"exercise-attempts"},[_vm._l(_vm.itemsToRender,(function(item,index){return _c("div",{key:"attempt-"+item.originalIndex,staticClass:"attempt",style:_vm.styleForIndex(index,item.originalIndex)},[_c("transition",{attrs:{name:"fade"}},[_c("AnswerIcon",{attrs:{answer:item.answer}})],1)],1)})),_vm._l(_vm.numSpaces,(function(i){return _c("div",{key:"placeholder-"+i,staticClass:"placeholder",style:{borderBottom:"2px solid "+_vm.$themeTokens.annotation}})}))],2)};ExerciseAttemptsvue_type_template_id_b0edb0dc_scoped_true_render._withStripped=!0;var AnswerIconvue_type_template_id_45eb2b76_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{ref:"icon"},["right"===_vm.answer?_c("KIcon",{staticClass:"correct",staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"correct",color:_vm.$themeTokens.correct}}):"wrong"===_vm.answer?_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"incorrect",color:_vm.$themeTokens.annotation}}):"hint"===_vm.answer?_c("KIcon",{staticStyle:{top:"0",width:"24px",height:"24px"},attrs:{icon:"hint",color:_vm.$themeTokens.annotation}}):"rectified"===_vm.answer?_c("KIcon",{staticClass:"rectified",attrs:{icon:"rectified",color:_vm.$themeTokens.annotation}}):_vm._e()],1),_c("KTooltip",{attrs:{reference:"icon",refs:_vm.$refs,placement:"right"}},[_vm._v("\n    "+_vm._s(_vm.tooltipText)+"\n  ")])],1)};AnswerIconvue_type_template_id_45eb2b76_scoped_true_render._withStripped=!0;var ExerciseAttemptsvue_type_script_lang_js={name:"ExerciseAttempts",components:{AnswerIcon:normalizeComponent({name:"AnswerIcon",props:{answer:{type:String,required:!0,validator:function(val){return["right","wrong","hint","rectified"].includes(val)}}},computed:{tooltipText:function(){switch(this.answer){case"right":return this.$tr("correct");case"wrong":return this.$tr("incorrect");case"hint":return this.$tr("hintUsed");case"rectified":return this.$tr("incorrectFirstTry");default:return""}}},$trs:{correct:{message:"Correct",context:"Indicates if the learner answered the question correctly."},incorrect:{message:"Incorrect",context:"Indicates if the learner answered the question incorrectly."},hintUsed:{message:"Hint used",context:"Some exercises can offer hints. These can be suggestions to help learners solve a problem.\n\nIf the learner uses a hint, the text 'Hint used' appears in the exercise."},incorrectFirstTry:{message:"Incorrect first try",context:"Indicates if the learner answered a question incorrectly on the first attempt at answering it.\n"}}},AnswerIconvue_type_template_id_45eb2b76_scoped_true_render,[],!1,null,"45eb2b76",null).exports},props:{waitingForAttempt:{type:Boolean,required:!0},numSpaces:{type:Number,required:!0},log:{type:Array,default:function(){return[]},validator:function(arr){return arr.every((function(val){return["right","wrong","hint","rectified"].includes(val)}))}}},computed:{numItemsToRender:function(){return this.waitingForAttempt?this.numSpaces:this.numSpaces+1},itemsToRender:function(){return this.log.map((function(answer,originalIndex){return{answer:answer,originalIndex:originalIndex}})).slice(-1*this.numItemsToRender).reverse()}},methods:{styleForIndex:function(visualIndex,originalIndex){var xPos=38*(this.log.length-1-originalIndex);this.waitingForAttempt&&(xPos+=38);var style={};return style[this.isRtl?"right":"left"]="".concat(xPos,"px"),visualIndex===this.numItemsToRender-1&&(style.opacity=0),style}}},ExerciseAttempts=normalizeComponent(ExerciseAttemptsvue_type_script_lang_js,ExerciseAttemptsvue_type_template_id_b0edb0dc_scoped_true_render,[],!1,null,"b0edb0dc",null).exports;function AssessmentWrappervue_type_script_lang_js_typeof(o){return AssessmentWrappervue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},AssessmentWrappervue_type_script_lang_js_typeof(o)}function AssessmentWrappervue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AssessmentWrappervue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AssessmentWrappervue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){AssessmentWrappervue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AssessmentWrappervue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function AssessmentWrappervue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=AssessmentWrappervue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=AssessmentWrappervue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==AssessmentWrappervue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var hintTranslator=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.createTranslator)("PerseusRendererIndex",{hint:{message:"Use a hint ({hintsLeft, number} left)",context:"A hint is a suggestion to help learners solve a problem. This phrase tells the learner how many hints they have left to use."},hintExplanation:{message:"If you use a hint, this question will not be added to your progress",context:"A hint is a suggestion to help learners solve a problem."},noMoreHint:{message:"No more hints",context:"A hint is a suggestion to help learners solve a problem."}}),AssessmentWrappervue_type_script_lang_js={name:"AssessmentWrapper",components:{ExerciseAttempts:ExerciseAttempts,UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default(),BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default(),LessonMasteryBar:LessonMasteryBar,CoreInfoIcon:external_kolibriCoreAppGlobal_coreVue_components_CoreInfoIcon_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],props:{lang:{type:Object,default:function(){return external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.defaultLanguage}},kind:{type:String,required:!0},files:{type:Array,default:function(){return[]}},available:{type:Boolean,default:!1},assessmentIds:{type:Array,required:!0},randomize:{type:Boolean,required:!0},masteryModel:{type:Object,required:!0},extraFields:{type:Object,default:function(){return{}}},progress:{type:Number,default:0},userId:{type:String,default:null},userFullName:{type:String,default:null},timeSpent:{type:Number,default:null},pastattempts:{type:Array,default:function(){return[]}},mastered:{type:Boolean,default:!1},totalattempts:{type:Number,default:0}},data:function(){return{mounted:!1,itemId:"",shake:!1,firstAttemptAtQuestion:!0,complete:!1,correct:0,itemError:!1,hintWasTaken:!1,checkingAnswer:!1,checkWasAttempted:!1,startTime:null}},computed:AssessmentWrappervue_type_script_lang_js_objectSpread(AssessmentWrappervue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({userid:function(state){return state.core.session.user_id}})),{},{currentattempt:function(){return this.firstAttemptAtQuestion?null:this.pastattempts[0]},recentAttempts:function(){var _this=this;return this.pastattempts.map((function(attempt,index){return 0!==index||_this.firstAttemptAtQuestion?1===attempt.correct?"right":"rectified":1===attempt.correct?"right":1===_this.correct&&!0===_this.complete?"rectified":0===_this.correct&&_this.hintWasTaken?"hint":"wrong"})).reverse()},mOfNMasteryModel:function(){return external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.MasteryModelGenerators[this.masteryModel.type](this.assessmentIds,this.masteryModel)},totalCorrectRequiredM:function(){return this.mOfNMasteryModel.m},attemptsWindowN:function(){return this.mOfNMasteryModel.n},success:function(){return this.mastered},currentStatus:function(){return this.itemError?this.$tr("tryNextQuestion"):this.firstAttemptAtQuestion&&this.checkWasAttempted?this.$tr("inputAnswer"):1===this.correct&&"right"===this.recentAttempts[this.recentAttempts.length-1]?this.$tr("correct"):1===this.correct&&!0===this.complete?this.$tr("greatKeepGoing"):0===this.correct&&this.hintWasTaken?this.$tr("hintUsed"):this.checkWasAttempted?this.$tr("tryAgain"):null},renderer:function(){return this.mounted&&this.$refs.contentRenderer},availableHints:function(){return this.renderer&&this.renderer.availableHints||0},totalHints:function(){return this.renderer&&this.renderer.totalHints||0}}),watch:{success:function(newValue,oldValue){newValue&&!oldValue&&this.$emit("finished")}},created:function(){this.nextQuestion()},methods:{takeHint:function(){this.renderer&&this.renderer.takeHint()},exerciseProgress:function(submittingAttempt){if(this.mastered)return 1;var calculatedMastery,pastAttempts=submittingAttempt?[submittingAttempt].concat(this.pastattempts):this.pastattempts;return pastAttempts.length?(calculatedMastery=pastAttempts.length>this.attemptsWindowN?Math.min(pastAttempts.slice(0,this.attemptsWindowN).reduce((function(a,b){return a+b.correct}),0)/this.totalCorrectRequiredM,1):Math.min(pastAttempts.reduce((function(a,b){return a+b.correct}),0)/this.totalCorrectRequiredM,1),Math.max(calculatedMastery,.001)):0},checkAnswer:function(){if(this.checkWasAttempted=!0,!this.checkingAnswer){this.checkingAnswer=!0;var answer=this.$refs.contentRenderer.checkAnswer();answer&&this.answerGiven(answer),this.checkingAnswer=!1}},answerGiven:function(_ref){var _this2=this,correct=_ref.correct,answerState=_ref.answerState,simpleAnswer=_ref.simpleAnswer;this.hintWasTaken=!1,correct=Number(correct),this.correct=correct,correct<1&&(this.shake||(setTimeout((function(){_this2.shake=!1}),1e3),this.shake=!0)),this.complete=1===correct,this.updateAttempt({answerState:answerState,simpleAnswer:simpleAnswer})},hintTaken:function(_ref2){var answerState=_ref2.answerState;this.hintWasTaken=!0,this.updateAttempt({answerState:answerState})},updateAttempt:function(){var progress,_ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},answerState=_ref3.answerState,simpleAnswer=_ref3.simpleAnswer,interaction={complete:this.complete,time_spent:(new Date-this.startTime)/1e3,correct:this.correct,hinted:this.hintWasTaken,error:this.itemError,item:this.itemId};answerState&&(interaction.answer=answerState),simpleAnswer&&(interaction.simple_answer=simpleAnswer),this.firstAttemptAtQuestion?(progress=this.exerciseProgress(interaction),this.firstAttemptAtQuestion=!1):interaction.id=this.currentattempt.id,this.updateInteraction({progress:progress,interaction:interaction})},setItemId:function(){var index=this.totalattempts%this.assessmentIds.length;if(this.randomize){var seed=this.userid?this.userid:Date.now();this.itemId=external_kolibriCoreAppGlobal_utils_shuffled_default()(this.assessmentIds,seed)[index]}else this.itemId=this.assessmentIds[index]},nextQuestion:function(){this.complete=!1,this.shake=!1,this.firstAttemptAtQuestion=!0,this.correct=0,this.itemError=!1,this.checkWasAttempted=!1,this.startTime=new Date,this.hintWasTaken=!1,this.setItemId()},handleItemError:function(){this.itemError=!0,this.complete=!0,this.updateAttempt()},updateInteraction:function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];this.$emit.apply(this,["updateInteraction"].concat(args))},updateProgress:function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];this.$emit.apply(this,["updateProgress"].concat(args))},updateContentState:function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];this.$emit.apply(this,["updateContentState"].concat(args))},startTracking:function(){this.mounted=!0;for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];this.$emit.apply(this,["startTracking"].concat(args))},stopTracking:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];this.$emit.apply(this,["stopTracking"].concat(args))},hint$tr:function(msgId,options){return hintTranslator.$tr(msgId,options)}},$trs:{goal:{message:"Get {count, number, integer} {count, plural, other {correct}}",context:"Message that indicates to the learner how many correct answers they need to give in order to master the given topic, and for the exercise to be considered completed."},tryAgain:{message:"Try again",context:"If a learner answers a question incorrectly, the message 'Try again' displays. They can then attempt to answer again."},correct:{message:"Correct!",context:"An answer that the learner got right will be marked as 'Correct!'."},check:{message:"Check",context:"Learners use the 'CHECK' button when doing an exercise to check if they have answered a question correctly or not."},next:{message:"Next",context:"Button that takes user to next question."},itemError:{message:"There was an error showing this question",context:"Error message a user sees if there was a problem accessing a learning resource. This may be because the resource has been removed, for example."},inputAnswer:{message:"Please enter an answer above",context:"Message that a learner sees if they try to check their answer without answering the question."},hintUsed:{message:"Hint used",context:"Some exercises can offer hints. These can be suggestions to help learners solve a problem.\n\nIf the learner uses a hint, the text 'Hint used' appears in the exercise."},greatKeepGoing:{message:"Great! Keep going",context:"Message of encouragement that learner is shown when they answer a question incorrectly but then on a further attempt they get it correct."},tryDifferentQuestion:{message:"Try a different question",context:"Message that displays if learner answers a question incorrectly multiple times. It allows them to try a new question."},tryNextQuestion:{message:"Try next question",context:"Message that displays if learner answers a question incorrectly multiple times. It allows them to move on to the next question.\n"}}},AssessmentWrapper=normalizeComponent(AssessmentWrappervue_type_script_lang_js,AssessmentWrappervue_type_template_id_7ccb74e9_scoped_true_v_if_ready_render,[],!1,null,"7ccb74e9",null).exports;function ContentItemvue_type_script_lang_js_typeof(o){return ContentItemvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ContentItemvue_type_script_lang_js_typeof(o)}function ContentItemvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ContentItemvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ContentItemvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ContentItemvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ContentItemvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ContentItemvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ContentItemvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ContentItemvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ContentItemvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ContentItem=normalizeComponent({name:"ContentItem",components:{AssessmentWrapper:AssessmentWrapper},setup:function(){var _useProgressTracking=useProgressTracking();return{progress:_useProgressTracking.progress,time_spent:_useProgressTracking.time_spent,extra_fields:_useProgressTracking.extra_fields,pastattempts:_useProgressTracking.pastattempts,complete:_useProgressTracking.complete,totalattempts:_useProgressTracking.totalattempts,initContentSession:_useProgressTracking.initContentSession,updateContentSession:_useProgressTracking.updateContentSession,startTracking:_useProgressTracking.startTrackingProgress,stopTracking:_useProgressTracking.stopTrackingProgress}},props:{contentNode:{type:Object,required:!0}},data:function(){return{wasIncomplete:!1,sessionReady:!1}},computed:ContentItemvue_type_script_lang_js_objectSpread(ContentItemvue_type_script_lang_js_objectSpread(ContentItemvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["currentUserId"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({fullName:function(state){return state.core.session.full_name}})),{},{contentIsExercise:function(){return this.contentNode.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.EXERCISE},contentHandlers:function(){return{startTracking:this.startTracking,stopTracking:this.stopTracking,updateProgress:this.updateProgress,addProgress:this.addProgress,updateContentState:this.updateContentState,updateInteraction:this.updateInteraction}},contentProps:function(){return this.contentIsExercise?{}:{kind:this.contentNode.kind,lang:this.contentNode.lang,files:this.contentNode.files,options:this.contentNode.options,available:this.contentNode.available,extraFields:this.extra_fields,progress:this.progress,userId:this.currentUserId,userFullName:this.fullName,timeSpent:this.time_spent}},exerciseProps:function(){if(!this.contentIsExercise)return{};var assessment=(0,external_kolibriCoreAppGlobal_coreVue_vuex_mappers_namespaceObject.assessmentMetaDataState)(this.contentNode);return{kind:this.contentNode.kind,files:this.contentNode.files,lang:this.contentNode.lang,randomize:this.contentNode.randomize,masteryModel:assessment.masteryModel,assessmentIds:assessment.assessmentIds,available:this.contentNode.available,extraFields:this.extra_fields,progress:this.progress,userId:this.currentUserId,userFullName:this.fullName,timeSpent:this.time_spent,pastattempts:this.pastattempts,mastered:this.complete,totalattempts:this.totalattempts}},assessment:function(){return this.contentNode.kind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.EXERCISE?null:(0,external_kolibriCoreAppGlobal_coreVue_vuex_mappers_namespaceObject.assessmentMetaDataState)(this.contentNode)}}),created:function(){var _this=this;return this.initContentSession({node:this.contentNode}).then((function(){_this.sessionReady=!0,_this.setWasIncomplete(),_this.cacheProgress()}))},methods:{setWasIncomplete:function(){this.wasIncomplete=this.progress<1},cacheProgress:function(){setContentNodeProgress({content_id:this.content.content_id,progress:this.progress})},updateInteraction:function(_ref){var progress=_ref.progress,interaction=_ref.interaction;this.updateContentSession({interaction:interaction,progress:progress}).then(this.cacheProgress)},updateProgress:function(progress){this.updateContentSession({progress:progress}).then(this.cacheProgress)},addProgress:function(progressDelta){this.updateContentSession({progressDelta:progressDelta}).then(this.cacheProgress)},updateContentState:function(contentState){this.updateContentSession({contentState:contentState})}}},ContentItemvue_type_template_id_b944295c_scoped_true_render,[],!1,null,"b944295c",null).exports,ContentModal=normalizeComponent({name:"ContentModal",components:{Backdrop:external_kolibriCoreAppGlobal_coreVue_components_Backdrop_default(),ContentItem:ContentItem,UiToolbar:external_kolibriCoreAppGlobal_coreVue_components_UiToolbar_default()},props:{contentNode:{type:Object,required:!0},channelTheme:{type:Object,required:!1,default:null}},data:function(){return{title:this.contentNode.title}},computed:{defaultTheme:function(){return{appBarColor:this.$themeTokens.primary,textColor:this.$themeTokens.textInverted,backdropColor:"rgba(0, 0, 0, 0.7)",backgroundColor:this.$themeTokens.surface}},toolbarStyle:function(){return{backgroundColor:this.getThemeToken("appBarColor")}},titleStyle:function(){return{color:this.getThemeToken("textColor")}},bodyStyle:function(){return{backgroundColor:this.getThemeToken("backgroundColor")}},backdropStyle:function(){return{backgroundColor:this.getThemeToken("backdropColor")}}},methods:{getThemeToken:function(token){return this.channelTheme[token]||this.defaultTheme[token]}}},ContentModalvue_type_template_id_5ac9383a_scoped_true_render,[],!1,null,"5ac9383a",null).exports;function CustomContentRenderervue_type_script_lang_js_typeof(o){return CustomContentRenderervue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},CustomContentRenderervue_type_script_lang_js_typeof(o)}function CustomContentRenderervue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CustomContentRenderervue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=CustomContentRenderervue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=CustomContentRenderervue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==CustomContentRenderervue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var CustomContentRenderervue_type_script_lang_js_channelsMap=useChannels().channelsMap;function createReturnMsg(_ref){var message=_ref.message,data=_ref.data,err=_ref.err,status=data?MessageStatuses_SUCCESS:MessageStatuses_FAILURE;return{nameSpace:"hashi",event:hashiBase_events.DATARETURNED,data:{message_id:message.message_id,type:"response",data:data||null,err:err||null,status:status}}}var CustomContentRenderervue_type_script_lang_js={name:"CustomContentRenderer",components:{ContentModal:ContentModal},setup:function(){return{genContentLinkBackLinkCurrentPage:useContentLink().genContentLinkBackLinkCurrentPage}},props:{topic:{type:Object,required:!0}},data:function(){return{overlayIsOpen:!1,channelTheme:null}},computed:{context:function(){var fetchedEncodedContext=this.$route.query;return JSON.stringify(decodeURI(fetchedEncodedContext))},rooturl:function(){return external_kolibriCoreAppGlobal_urls_default().hashi()},currentChannel:function(){return shared_get(CustomContentRenderervue_type_script_lang_js_channelsMap)[this.topic.channel_id]}},mounted:function(){var _this=this;this.hashi=new MainClient({iframe:this.$refs.iframe,now:external_kolibriCoreAppGlobal_utils_serverClock_namespaceObject.now});var zipFile=this.topic.files.find((function(f){return"zip"===f.extension}));this.hashi.on(hashiBase_events.COLLECTIONREQUESTED,(function(message){_this.fetchContentCollection(message)})),this.hashi.on(hashiBase_events.COLLECTIONPAGEREQUESTED,(function(message){_this.fetchMore(message)})),this.hashi.on(hashiBase_events.MODELREQUESTED,(function(message){_this.fetchContentModel.call(_this,message)})),this.hashi.on(hashiBase_events.NAVIGATETO,(function(message){_this.navigateTo.call(_this,message)})),this.hashi.on(hashiBase_events.CONTEXT,(function(message){_this.getOrUpdateContext.call(_this,message)})),this.hashi.on(hashiBase_events.THEMECHANGED,(function(message){_this.updateTheme.call(_this,message)})),this.hashi.on(hashiBase_events.SEARCHRESULTREQUESTED,(function(message){_this.fetchSearchResult.call(_this,message)})),this.hashi.on(hashiBase_events.KOLIBRIVERSIONREQUESTED,(function(message){_this.sendKolibriVersion.call(_this,message)})),this.hashi.on(hashiBase_events.CHANNELMETADATAREQUESTED,(function(message){_this.sendChannelMetadata.call(_this,message)})),this.hashi.on(hashiBase_events.CHANNELFILTEROPTIONSREQUESTED,(function(message){_this.sendChannelFilterOptions.call(_this,message)})),this.hashi.on(hashiBase_events.RANDOMCOLLECTIONREQUESTED,(function(message){_this.sendRandomCollection.call(_this,message)})),this.hashi.initialize({},{},external_kolibriCoreAppGlobal_urls_default().zipContentUrl(zipFile.checksum,zipFile.extension,"index.html"),zipFile.checksum)},methods:{fetchContentCollection:function(message){var _this2=this,options=message.options,kinds=options.kinds,onlyContent=options.onlyContent,onlyTopics=options.onlyTopics;if(onlyContent&&onlyTopics){var err=new Error("onlyContent and onlyTopics can not be used at the same time");return createReturnMsg({message:message,err:err})}var kind=onlyContent?"content":onlyTopics?external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.TOPIC:void 0,limitToChannel=!("limitToChannel"in options)||options.limitToChannel;return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:{ids:options.ids,authors:options.authors,tags:options.tags,parent:"self"===options.parent?this.topic.id:options.parent,channel_id:limitToChannel?this.topic.channel_id:void 0,max_results:options.maxResults?options.maxResults:50,kind:kind,kind_in:kinds,descendant_of:options.descendantOf}}).then((function(contentNodes){var more=contentNodes.more,results=contentNodes.results;return createReturnMsg({message:message,data:{maxResults:options.maxResults?options.maxResults:50,more:more,results:results}})})).catch((function(err){return createReturnMsg({message:message,err:err})})).then((function(newMsg){_this2.hashi.mediator.sendMessage(newMsg)}))},fetchMore:function(message){var _this3=this,options=message.options;return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:options}).then((function(contentNodes){var more=contentNodes.more,results=contentNodes.results;return createReturnMsg({message:message,data:{maxResults:options.max_results?options.max_results:50,more:more,results:results}})})).catch((function(err){return createReturnMsg({message:message,err:err})})).then((function(newMsg){_this3.hashi.mediator.sendMessage(newMsg)}))},fetchContentModel:function(message){var _this4=this;return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchModel({id:message.id}).then((function(contentNode){return createReturnMsg({message:message,data:contentNode})})).catch((function(err){return createReturnMsg({message:message,err:err})})).then((function(newMsg){_this4.hashi.mediator.sendMessage(newMsg)}))},fetchSearchResult:function(message){var searchPromise,_this5=this,options=message.options,keyword=options.keyword;if(keyword){var limitToChannel=!("limitToChannel"in options)||options.limitToChannel;searchPromise=external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeSearchResource.fetchCollection({getParams:{search:keyword,channel_id:limitToChannel?this.topic.channel_id:void 0,max_results:options.maxResults?options.maxResults:50}}).then((function(searchResults){return{maxResults:options.maxResults?options.maxResults:50,more:searchResults.more,results:searchResults.results}}))}else searchPromise=Promise.resolve({maxResults:0,results:[]});return searchPromise.then((function(pageResult){return createReturnMsg({message:message,data:pageResult})})).catch((function(err){return createReturnMsg({message:message,err:err})})).then((function(newMsg){_this5.hashi.mediator.sendMessage(newMsg)}))},navigateTo:function(message){var _this6=this,id=message.nodeId,context={};return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchModel({id:id}).then((function(contentNode){if(contentNode&&"topic"===contentNode.kind)external_kolibriCoreAppGlobal_coreVue_router_default().push(_this6.genContentLinkBackLinkCurrentPage(contentNode.id,contentNode.is_leaf));else if(contentNode&&0==_this6.overlayIsOpen){_this6.currentContent=contentNode,_this6.overlayIsOpen=!0,context.node_id=contentNode.id,context.customChannel=!0;var encodedContext=encodeURI(JSON.stringify(context));external_kolibriCoreAppGlobal_coreVue_router_default().replace({query:{context:encodedContext}}).catch((function(){}))}else if(contentNode&&1==_this6.overlayIsOpen){_this6.currentContent=contentNode,context.node_id=contentNode.id,context.customChannel=!0,_this6.$forceUpdate();var _encodedContext=encodeURI(JSON.stringify(context));external_kolibriCoreAppGlobal_coreVue_router_default().replace({query:{context:_encodedContext}}).catch((function(){}))}return createReturnMsg({message:message,data:{}})})).catch((function(err){return createReturnMsg({message:message,err:err})})).then((function(newMsg){_this6.hashi.mediator.sendLocalMessage(newMsg)}))},getOrUpdateContext:function(message){if(message.context){message.context.customChannel=message.context.customChannel||!0;var encodedContext=encodeURI(JSON.stringify(message.context));external_kolibriCoreAppGlobal_coreVue_router_default().push({query:{context:encodedContext}}).catch((function(){}))}else{var fetchedEncodedContext=this.$route.query.context||this.context;message.context=decodeURI(JSON.stringify(fetchedEncodedContext))}var newMsg=createReturnMsg({message:message,data:{}});this.hashi.mediator.sendLocalMessage(newMsg)},updateTheme:function(message){var themeCopy=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CustomContentRenderervue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){CustomContentRenderervue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CustomContentRenderervue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},message);delete themeCopy.message_id,this.channelTheme=validateChannelTheme(themeCopy);var newMsg=createReturnMsg({message:message,data:{}});return this.hashi.mediator.sendMessage(newMsg)},sendKolibriVersion:function(message){var newMsg=createReturnMsg({message:message,data:"0.16.0"});return this.hashi.mediator.sendMessage(newMsg)},sendChannelMetadata:function(message){var newMsg=createReturnMsg({message:message,data:this.currentChannel});return this.hashi.mediator.sendMessage(newMsg)},sendChannelFilterOptions:function(message){var _this7=this;return external_kolibriCoreAppGlobal_resources_namespaceObject.ChannelResource.fetchFilterOptions(this.topic.channel_id).then((function(response){return createReturnMsg({message:message,data:{availableAuthors:response.data.available_authors,availableTags:response.data.available_tags,availableKinds:response.data.available_kinds}})})).catch((function(err){return createReturnMsg({message:message,err:err})})).then((function(newMsg){_this7.hashi.mediator.sendMessage(newMsg)}))},sendRandomCollection:function(message){var _this8=this,options=message.options,kinds=options.kinds,onlyContent=options.onlyContent,limitToChannel=!("limitToChannel"in options)||options.limitToChannel;return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchRandomCollection({getParams:{parent:"self"===options.parent?this.topic.id:options.parent,channel_id:limitToChannel?this.topic.channel_id:void 0,max_results:options.maxResults?options.maxResults:10,kind:onlyContent?"content":void 0,kind_in:kinds,seed:Date.now().toString()}}).then((function(contentNodes){return createReturnMsg({message:message,data:{maxResults:options.maxResults?options.maxResults:10,results:contentNodes.results}})})).catch((function(err){return createReturnMsg({message:message,err:err})})).then((function(newMsg){_this8.hashi.mediator.sendMessage(newMsg)}))}}},CustomContentRenderer=normalizeComponent(CustomContentRenderervue_type_script_lang_js,CustomContentRenderervue_type_template_id_bb98a946_scoped_true_render,[],!1,null,"bb98a946",null).exports,TopicsHeadervue_type_template_id_32973dc3_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"header",staticClass:"header",style:{backgroundColor:_vm.$themeTokens.surface}},[_c("KGrid",{attrs:{gutter:"0"}},[_c("KGridItem",{staticClass:"breadcrumbs",attrs:{"data-test":"header-breadcrumbs",layout4:{span:4},layout8:{span:8},layout12:{span:12}}},[_vm.breadcrumbs.length?_c("KBreadcrumbs",{attrs:{items:_vm.breadcrumbs,ariaLabel:_vm.learnString("channelAndFoldersLabel")}}):_vm._e()],1),_c("KGridItem",{attrs:{layout4:{span:4,alignment:"auto"},layout8:{span:8,alignment:"auto"},layout12:{span:12,alignment:"auto"}}},[_c("h1",{staticClass:"title",attrs:{"data-test":"header-title"}},[_c("TextTruncatorCss",{attrs:{text:_vm.title,maxLines:1}})],1)]),_vm.thumbnail?_c("KGridItem",{staticClass:"thumbnail",attrs:{layout4:{span:1},layout8:{span:2},layout12:{span:2}}},[_c("ChannelThumbnail",{staticClass:"thumbnail",attrs:{thumbnail:_vm.thumbnail,isMobile:_vm.windowIsSmall}})],1):_vm._e(),_vm.description?_c("KGridItem",{staticClass:"text",attrs:{layout4:{span:_vm.thumbnail?3:4,alignment:"auto"},layout8:{span:_vm.thumbnail?6:8,alignment:"auto"},layout12:{span:_vm.thumbnail?10:12,alignment:"auto"}}},[_c("TextTruncatorCss",{staticClass:"text-description",attrs:{text:_vm.description,maxLines:4}})],1):_vm._e()],1),_c("div",[_vm._t("sticky-sidebar")],2)],1)};TopicsHeadervue_type_template_id_32973dc3_scoped_true_render._withStripped=!0;var TopicsHeader=normalizeComponent({name:"TopicsHeader",components:{ChannelThumbnail:ChannelThumbnail,KBreadcrumbs:KBreadcrumbs,TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],props:{title:{type:String,required:!0},description:{type:String,default:null},thumbnail:{type:String,default:null},breadcrumbs:{type:Array,required:!0}}},TopicsHeadervue_type_template_id_32973dc3_scoped_true_render,[],!1,null,"32973dc3",null).exports,ToggleHeaderTabsvue_type_template_id_ccd38f42_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{directives:[{name:"show",rawName:"v-show",value:!_vm.$isPrint,expression:"!$isPrint"}],staticClass:"tab-block",style:{backgroundColor:_vm.$themeTokens.surface,borderBottom:"1px solid "+_vm.$themeTokens.fineLine}},[_vm.topics.length&&_vm.windowIsLarge?_c("router-link",{staticClass:"header-tab",class:_vm.defaultTabStyles,style:{color:_vm.$themeTokens.annotation,marginLeft:_vm.width>234?"12px":"0",marginRight:_vm.width>234?"12px":"0"},attrs:{to:_vm.foldersLink,activeClass:_vm.activeTabClasses,replace:!0}},[_c("div",{staticClass:"inner",style:{borderColor:this.$themeTokens.primary}},[_vm._v("\n      "+_vm._s(_vm.coreString("folders"))+"\n    ")])]):_vm._e(),_vm.windowIsLarge?_c("router-link",{staticClass:"header-tab",class:_vm.defaultTabStyles,style:{color:_vm.$themeTokens.annotation,marginLeft:_vm.width>234?"12px":"0",marginRight:_vm.width>234?"12px":"0"},attrs:{to:_vm.topics.length?_vm.searchTabLink:{},activeClass:_vm.activeTabClasses,replace:!0}},[_c("div",{staticClass:"inner",style:{borderColor:this.$themeTokens.primary}},[_vm._v("\n      "+_vm._s(_vm.coreString("searchLabel"))+"\n    ")])]):_vm._e()],1)};function ToggleHeaderTabsvue_type_script_lang_js_typeof(o){return ToggleHeaderTabsvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ToggleHeaderTabsvue_type_script_lang_js_typeof(o)}function ToggleHeaderTabsvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ToggleHeaderTabsvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ToggleHeaderTabsvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ToggleHeaderTabsvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ToggleHeaderTabsvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ToggleHeaderTabsvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ToggleHeaderTabsvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ToggleHeaderTabsvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ToggleHeaderTabsvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ToggleHeaderTabsvue_type_template_id_ccd38f42_scoped_true_render._withStripped=!0;var ToggleHeaderTabs=normalizeComponent({name:"ToggleHeaderTabs",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{topic:{type:Object,default:function(){return{}},required:!0},topics:{type:Array,default:function(){return[]}},width:{type:Number,required:!0}},computed:{activeTabClasses:function(){return"router-link-active ".concat(this.$computedClass({color:this.$themeTokens.primary}))},defaultTabStyles:function(){return this.$computedClass({":focus":this.$coreOutline,":hover":{backgroundColor:this.$themePalette.grey.v_300}})},foldersLink:function(){return this.topic?{name:constants_PageNames.TOPICS_TOPIC,params:ToggleHeaderTabsvue_type_script_lang_js_objectSpread({},this.$route.params)}:{}},searchTabLink:function(){if(this.topic){var query=ToggleHeaderTabsvue_type_script_lang_js_objectSpread({},this.$route.query);return{name:constants_PageNames.TOPICS_TOPIC_SEARCH,params:ToggleHeaderTabsvue_type_script_lang_js_objectSpread({},this.$route.params),query:query}}return{}}}},ToggleHeaderTabsvue_type_template_id_ccd38f42_scoped_true_render,[],!1,null,"ccd38f42",null).exports,TopicsMobileHeadervue_type_template_id_9486d896_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("KGrid",{staticClass:"mobile-header",style:{backgroundColor:this.$themeTokens.surface},attrs:{"data-test":"mobile-header"}},[_c("KGridItem",{attrs:{layout4:{span:3}}},[_c("h1",{staticClass:"mobile-title",attrs:{"data-test":"mobile-title"}},[_c("TextTruncatorCss",{attrs:{text:this.topic.title,maxLines:2}})],1)]),_c("KGridItem",{attrs:{layout4:{span:1}}},[_c("img",{staticClass:"channel-logo",attrs:{src:this.topic.thumbnail}})])],1)};TopicsMobileHeadervue_type_template_id_9486d896_scoped_true_render._withStripped=!0;var TopicsMobileHeader=normalizeComponent({name:"TopicsMobileHeader",components:{TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default()},props:{topic:{type:Object,required:!0}}},TopicsMobileHeadervue_type_template_id_9486d896_scoped_true_render,[],!1,null,"9486d896",null).exports,TopicSubsectionvue_type_template_id_1f52ad78_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("h2",[_vm._l(_vm.topic.prefixTitles||[],(function(prefixTitle){return[_c("span",{key:prefixTitle,style:{color:_vm.$themeTokens.annotation}},[_vm._v("\n        "+_vm._s(prefixTitle)+"\n      ")]),_c("KIcon",{key:_vm.topic.title+prefixTitle,style:{top:"4px"},attrs:{icon:"chevronRight",color:_vm.$themeTokens.annotation}})]})),_c("KRouterLink",{staticClass:"folder-header-link",attrs:{text:_vm.topic.title,to:_vm.genContentLinkKeepCurrentBackLink(_vm.topic.id,!1),appearanceOverrides:{color:_vm.$themeTokens.text}},scopedSlots:_vm._u([{key:"iconAfter",fn:function(){return[_c("KIcon",{style:{top:"4px"},attrs:{icon:"chevronRight"}})]},proxy:!0}])})],2),_vm.topic.children&&_vm.topic.children.length?_c("LibraryAndChannelBrowserMainContent",{attrs:{"data-test":"children-cards-grid",contents:_vm.topic.children,gridType:_vm.gridType,allowDownloads:_vm.allowDownloads,currentCardViewStyle:"card",keepCurrentBackLink:!0},on:{toggleInfoPanel:function($event){return _vm.$emit("toggleInfoPanel",$event)}}}):_vm._e(),_vm.topic.showMore?_c("KButton",{staticClass:"more-after-grid",attrs:{"data-test":"more-button",appearance:"basic-link"},on:{click:function($event){return _vm.$emit("showMore",_vm.topic.id)}}},[_vm._v("\n    "+_vm._s(_vm.coreString("showMoreAction"))+"\n  ")]):_vm.topic.viewAll?_c("KRouterLink",{staticClass:"more-after-grid",attrs:{to:_vm.topic.viewAll}},[_vm._v("\n    "+_vm._s(_vm.coreString("viewAll"))+"\n  ")]):_vm.topic.viewMore&&_vm.topic.id!==_vm.subTopicLoading?_c("KButton",{staticClass:"more-after-grid",attrs:{appearance:"basic-link"},on:{click:function($event){return _vm.$emit("loadMoreInSubtopic",_vm.topic.id)}}},[_vm._v("\n    "+_vm._s(_vm.coreString("viewMoreAction"))+"\n  ")]):_vm._e(),_vm.topic.id===_vm.subTopicLoading?_c("KCircularLoader"):_vm._e()],1)};TopicSubsectionvue_type_template_id_1f52ad78_scoped_true_render._withStripped=!0;var TopicSubsection=normalizeComponent({name:"TopicSubsection",components:{LibraryAndChannelBrowserMainContent:LibraryAndChannelBrowserMainContent},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){return{genContentLinkKeepCurrentBackLink:useContentLink().genContentLinkKeepCurrentBackLink}},props:{allowDownloads:{type:Boolean,default:!1},topic:{type:Object,required:!0},subTopicLoading:{type:Boolean,default:!1,required:!1},gridType:{type:Number,default:1}}},TopicSubsectionvue_type_template_id_1f52ad78_scoped_true_render,[],!1,null,"1f52ad78",null).exports,TopicsPanelModalvue_type_template_id_2396268f_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c(_vm.windowIsLarge?"div":"SidePanelModal",{tag:"component",class:_vm.windowIsLarge?"side-panel":"",style:_vm.windowIsLarge?{color:_vm.$themeTokens.text,backgroundColor:_vm.$themeTokens.surface,width:_vm.width}:{},attrs:{alignment:"left",role:"region","aria-label":_vm.learnString("filterAndSearchLabel"),ariaLabel:_vm.learnString("filterAndSearchLabel")},on:{closePanel:function($event){return _vm.$emit("close")},shouldFocusFirstEl:function($event){return _vm.focusFirstEl()}}},[_c("div",{class:_vm.windowIsLarge?"":"drawer-panel"},[_vm._l(_vm.topics||[],(function(t){return _c("div",{key:t.id},[_c("KRouterLink",{ref:"folders",refInFor:!0,staticClass:"side-panel-folder-link",attrs:{text:t.title,appearanceOverrides:{color:_vm.$themeTokens.text},to:_vm.genContentLinkKeepCurrentBackLink(t.id,!1)}})],1)})),_vm.topicMore&&!_vm.topicsLoading?_c("KButton",{attrs:{appearance:"basic-link"},on:{click:function($event){return _vm.$emit("loadMoreTopics")}}},[_vm._v("\n      "+_vm._s(_vm.coreString("viewMoreAction"))+"\n    ")]):_vm._e(),_vm.topicsLoading?_c("KCircularLoader"):_vm._e()],2)])};function TopicsPagevue_type_script_lang_js_typeof(o){return TopicsPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},TopicsPagevue_type_script_lang_js_typeof(o)}function TopicsPagevue_type_script_lang_js_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||TopicsPagevue_type_script_lang_js_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TopicsPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function TopicsPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?TopicsPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){TopicsPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TopicsPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function TopicsPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=TopicsPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=TopicsPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==TopicsPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function TopicsPagevue_type_script_lang_js_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return TopicsPagevue_type_script_lang_js_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||TopicsPagevue_type_script_lang_js_unsupportedIterableToArray(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TopicsPagevue_type_script_lang_js_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return TopicsPagevue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TopicsPagevue_type_script_lang_js_arrayLikeToArray(o,minLen):void 0}}function TopicsPagevue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}TopicsPanelModalvue_type_template_id_2396268f_scoped_true_render._withStripped=!0;var TopicsPagevue_type_script_lang_js={name:"TopicsPage",metaInfo:function(){return{title:this.isRoot?this.$tr("documentTitleForChannel",{channelTitle:this.channelTitle}):this.$tr("documentTitleForTopic",{channelTitle:this.channelTitle,topicTitle:this.topic?this.topic.title:""})}},components:{KBreadcrumbs:KBreadcrumbs,TopicsHeader:TopicsHeader,ToggleHeaderTabs:ToggleHeaderTabs,LibraryAndChannelBrowserMainContent:LibraryAndChannelBrowserMainContent,CustomContentRenderer:CustomContentRenderer,SearchFiltersPanel:SearchFiltersPanel,SidePanelModal:SidePanelModal,LearningActivityChip:LearningActivityChip,BrowseResourceMetadata:BrowseResourceMetadata,SearchResultsGrid:SearchResultsGrid,TopicsMobileHeader:TopicsMobileHeader,TopicSubsection:TopicSubsection,TopicsPanelModal:normalizeComponent({name:"TopicsPanelModal",components:{SidePanelModal:SidePanelModal},mixins:[commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var windowIsLarge=external_kolibriCoreAppGlobal_coreVue_composables_useKResponsiveWindow_default()().windowIsLarge;return{genContentLinkKeepCurrentBackLink:useContentLink().genContentLinkKeepCurrentBackLink,windowIsLarge:windowIsLarge}},props:{topicMore:{type:Boolean,default:!1},topics:{type:Array,default:function(){return[]}},topicsLoading:{type:Boolean,default:!1},width:{type:[Number,String],required:!1,default:null}},methods:{focusFirstEl:function(){this.$refs.folders&&this.$refs.folders.length>0&&this.$refs.folders[0].$el.focus()}}},TopicsPanelModalvue_type_template_id_2396268f_scoped_true_render,[],!1,null,"2396268f",null).exports,ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),DeviceConnectionStatus:DeviceConnectionStatus},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],setup:function(props){var _useCoreLearn=useCoreLearn(),canAddDownloads=_useCoreLearn.canAddDownloads,canDownloadExternally=_useCoreLearn.canDownloadExternally,currentInstance=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy,store=currentInstance.$store,router=currentInstance.$router,topic=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),_useSearch=useSearch(topic),searchTerms=_useSearch.searchTerms,displayingSearchResults=_useSearch.displayingSearchResults,searchLoading=_useSearch.searchLoading,moreLoading=_useSearch.moreLoading,results=_useSearch.results,more=_useSearch.more,search=_useSearch.search,searchMore=_useSearch.searchMore,removeFilterTag=_useSearch.removeFilterTag,clearSearch=_useSearch.clearSearch,currentRoute=_useSearch.currentRoute,_useContentLink=useContentLink(),back=_useContentLink.back,genContentLinkKeepCurrentBackLink=_useContentLink.genContentLinkKeepCurrentBackLink,_useChannels=useChannels(),channelsMap=_useChannels.channelsMap,fetchChannels=_useChannels.fetchChannels,_useContentNodeProgre=useContentNodeProgress(),fetchContentNodeProgress=_useContentNodeProgre.fetchContentNodeProgress,fetchContentNodeTreeProgress=_useContentNodeProgre.fetchContentNodeTreeProgress,_useUser=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()(),isUserLoggedIn=_useUser.isUserLoggedIn,isCoach=_useUser.isCoach,isAdmin=_useUser.isAdmin,isSuperuser=_useUser.isSuperuser,fetchUserDownloadRequests=useDownloadRequests(store).fetchUserDownloadRequests,isRoot=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1),channel=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),contents=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)([]),loading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!0),_getAllDescendantChildren=function _getAllDescendantChildren(topic){var _step,contentnode_id__in=[],_iterator=function(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=TopicsPagevue_type_script_lang_js_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(topic.children?topic.children.results:[]);try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;child.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.TOPIC?contentnode_id__in.push.apply(contentnode_id__in,TopicsPagevue_type_script_lang_js_toConsumableArray(_getAllDescendantChildren(child))):contentnode_id__in.push(child.id)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return contentnode_id__in},fetchRemoteBrowsingContentNodeUserData=function(topic){if(shared_get(isUserLoggedIn)&&props.deviceId){var contentnode_id__in=_getAllDescendantChildren(topic);contentnode_id__in.length&&(shared_get(canAddDownloads)&&fetchUserDownloadRequests({contentnode_id__in:contentnode_id__in}),fetchContentNodeProgress({ids:contentnode_id__in}))}};function _loadTopicsTopic(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},baseurl=_ref.baseurl,shouldResolve=_ref.shouldResolve,id=props.id,route=currentRoute(),skip=route.query&&"true"===route.query.skip,params={include_coach_content:shared_get(isAdmin)||shared_get(isCoach)||shared_get(isSuperuser),baseurl:baseurl};return shared_get(isUserLoggedIn)&&!baseurl&&fetchContentNodeTreeProgress({id:id,params:params}),Promise.all([external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchTree({id:id,params:params}),fetchChannels({baseurl:baseurl})]).then((function(_ref2){var fetchedTopic=TopicsPagevue_type_script_lang_js_slicedToArray(_ref2,1)[0];if(shouldResolve()){var currentChannel=channelsMap[fetchedTopic.channel_id];if(!currentChannel)return void router.replace({name:constants_PageNames.CONTENT_UNAVAILABLE});var rootTopic=function(topic,currentChannel){var isRoot=!topic.parent;return isRoot&&(topic.description=currentChannel.description,topic.tagline=currentChannel.tagline,topic.thumbnail=currentChannel.thumbnail),isRoot}(fetchedTopic,currentChannel),childrenResults=function(id,topic,skip){for(var children=topic.children.results||[],skipped=!1;skip&&1===children.length&&!children[0].is_leaf;)children=(topic=children[0]).children.results||[],skipped=!0,id=topic.id;return{children:children,skipped:skipped,id:id}}(id,fetchedTopic,skip),children=childrenResults.children,skipped=childrenResults.skipped;id=childrenResults.id;var redirectedToNewTopic=function(route,children,id,skipped){if(children.some((function(c){return!c.is_leaf}))||route.name===constants_PageNames.TOPICS_TOPIC_SEARCH){if(skipped)return router.replace({name:route.name,params:TopicsPagevue_type_script_lang_js_objectSpread(TopicsPagevue_type_script_lang_js_objectSpread({},route.params),{},{id:id}),query:route.query}),!0}else router.replace({name:constants_PageNames.TOPICS_TOPIC_SEARCH,params:TopicsPagevue_type_script_lang_js_objectSpread(TopicsPagevue_type_script_lang_js_objectSpread({},route.params),{},{id:id}),query:route.query})}(route,children,id,skipped);if(redirectedToNewTopic)return;fetchRemoteBrowsingContentNodeUserData(fetchedTopic),set(isRoot,rootTopic),set(contents,children),set(topic,fetchedTopic),set(channel,currentChannel),set(loading,!1),store.dispatch("notLoading"),store.commit("CORE_SET_ERROR",null)}}))}function showTopicsTopic(){return store.dispatch("loading").then((function(){var route=currentRoute();store.commit("SET_PAGE_NAME",route.name),set(loading,!0),set(topic,null),set(channel,null),set(contents,[]),set(isRoot,!1);var shouldResolve=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);return(props.deviceId?setCurrentDevice(props.deviceId).then((function(device){return _loadTopicsTopic({baseurl:device.base_url,shouldResolve:shouldResolve})})):_loadTopicsTopic({shouldResolve:shouldResolve})).catch((function(error){if(shouldResolve()){if(error===StudioNotAllowedError||error.response&&410===error.response.status)return void router.replace({name:constants_PageNames.LIBRARY});store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}}))}))}return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)([function(){return props.id},function(){return props.deviceId}],showTopicsTopic),showTopicsTopic(),{fetchRemoteBrowsingContentNodeUserData:fetchRemoteBrowsingContentNodeUserData,canAddDownloads:canAddDownloads,canDownloadExternally:canDownloadExternally,searchTerms:searchTerms,displayingSearchResults:displayingSearchResults,searchLoading:searchLoading,moreLoading:moreLoading,results:results,more:more,search:search,searchMore:searchMore,removeFilterTag:removeFilterTag,clearSearch:clearSearch,back:back,genContentLinkKeepCurrentBackLink:genContentLinkKeepCurrentBackLink,isRoot:isRoot,channel:channel,topic:topic,contents:contents,isUserLoggedIn:isUserLoggedIn,fetchContentNodeTreeProgress:fetchContentNodeTreeProgress,loading:loading}},props:{deviceId:{type:String,default:null},id:{type:String,required:!0},subtopic:{type:String,default:null}},data:function(){return{sidePanelStyleOverrides:{},showMoreResources:!1,sidePanelIsOpen:!1,metadataSidePanelContent:null,expandedTopics:{},subTopicLoading:null,topicMoreLoading:!1,currentSearchCardViewStyle:"card"}},computed:{allowDownloads:function(){return this.isUserLoggedIn&&this.canAddDownloads&&Boolean(this.deviceId)},barTitle:function(){return this.deviceId?this.learnString("exploreLibraries"):this.topic&&this.topic.title||""},breadcrumbs:function(){var _this=this;return this.topic&&this.topic.ancestors?[].concat(TopicsPagevue_type_script_lang_js_toConsumableArray(this.topic.ancestors.map((function(_ref4,index){var title=_ref4.title,id=_ref4.id,link=_this.genContentLinkKeepCurrentBackLink(id,!1);return set_default()(link,["query","skip"],"false"),{text:0===index?_this.channelTitle:title,link:link}}))),[{text:this.topic.ancestors.length?this.topic.title:this.channelTitle}]):[]},searchActive:function(){return this.$route.name===constants_PageNames.TOPICS_TOPIC_SEARCH},channelTitle:function(){return this.channel?this.channel.name:""},resources:function(){return this.contents.filter((function(content){return content.kind!==external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.TOPIC}))},childrenToDisplay:function(){return 2===this.windowBreakpoint||this.windowBreakpoint>4?4:3},gridType:function(){return this.windowBreakpoint>4?2:1},resourcesDisplayed:function(){return!this.topics.length||this.showMoreResources?this.resources:this.resources.slice(0,this.childrenToDisplay)},moreResources:function(){return this.resourcesDisplayed.length<this.resources.length},topics:function(){return this.contents.filter((function(content){return content.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.TOPIC})).filter((function(t){return t.children&&t.children.results.length})).map((function(t){for(var topicChildren=t.children.results,prefixTitles=[];1===topicChildren.length&&!topicChildren[0].is_leaf;)prefixTitles.push(t.title),topicChildren=(t=topicChildren[0]).children?t.children.results:[];return t.prefixTitles=prefixTitles,t}))},topicsForDisplay:function(){var _this2=this;return this.topics.filter((function(t){return!_this2.subTopicId||t.id===_this2.subTopicId})).map((function(t){var childrenToDisplay,topicChildren=t.children?t.children.results:[];childrenToDisplay=_this2.subTopicId||1===_this2.topics.length?topicChildren.length:_this2.expandedTopics[t.id]?3*_this2.childrenToDisplay:_this2.childrenToDisplay;var children=topicChildren.slice(0,childrenToDisplay),showMore=!_this2.subTopicId&&1!=_this2.topics.length&&topicChildren.length>_this2.childrenToDisplay&&!_this2.expandedTopics[t.id],viewMore=t.children?t.children.more:null,viewAll=!_this2.subTopicId&&(topicChildren.length>childrenToDisplay||viewMore)?TopicsPagevue_type_script_lang_js_objectSpread(TopicsPagevue_type_script_lang_js_objectSpread({},_this2.$route),{},{params:TopicsPagevue_type_script_lang_js_objectSpread(TopicsPagevue_type_script_lang_js_objectSpread({},_this2.$route.params),{},{subtopic:t.id})}):null;return TopicsPagevue_type_script_lang_js_objectSpread(TopicsPagevue_type_script_lang_js_objectSpread({},t),{},{viewAll:viewAll,children:children,showMore:showMore,viewMore:viewMore})}))},subTopicId:function(){return this.subtopic},currentChannelIsCustom:function(){return!(!plugin_data_src.enableCustomChannelNav||!this.topic||"CUSTOM_NAVIGATION"!==get_default()(this.topic,["options","modality"]))},sidePanelWidth:function(){return this.windowIsLarge?this.windowBreakpoint<5?234:346:0},gridStyle:function(){var style={};return this.windowIsLarge?style={minHeight:"900px"}:style.top="60px",this.isRtl?style.marginRight="".concat(this.sidePanelWidth+24,"px"):style.marginLeft="".concat(this.sidePanelWidth+24,"px"),style},throttledStickyCalculation:function(){return(0,frame_throttle.P)(this.stickyCalculation)},topicMore:function(){return this.topic&&this.topic.children&&this.topic.children.more},foldersLink:function(){return this.topic?{name:constants_PageNames.TOPICS_TOPIC,params:TopicsPagevue_type_script_lang_js_objectSpread({},this.$route.params)}:{}},searchTabLink:function(){if(this.topic){var query=TopicsPagevue_type_script_lang_js_objectSpread({},this.$route.query);return{name:constants_PageNames.TOPICS_TOPIC_SEARCH,params:TopicsPagevue_type_script_lang_js_objectSpread({},this.$route.params),query:query}}return{}}},watch:{subTopicId:function(newValue,oldValue){newValue&&newValue!==oldValue&&this.handleLoadMoreInSubtopic(newValue)},searchTerms:function(newVal,oldVal){this.$route.name!==constants_PageNames.TOPICS_TOPIC&&(isEqual_default()(newVal,oldVal)||(this.sidePanelIsOpen=!1))},metadataSidePanelContent:function(){this.metadataSidePanelContent?document.documentElement.style.position="fixed":document.documentElement.style.position=""}},beforeDestroy:function(){window.removeEventListener("scroll",this.throttledHandleScroll),document.documentElement.style.position=""},created:function(){window.addEventListener("scroll",this.throttledHandleScroll),this.subTopicId&&this.handleLoadMoreInSubtopic(this.subTopicId)},methods:{throttledHandleScroll:function(){this.throttledStickyCalculation()},toggleInfoPanel:function(content){this.metadataSidePanelContent=content},handleFoldersButton:function(){this.sidePanelIsOpen=!0,this.searchActive&&this.$router.push(this.foldersLink)},handleSearchButton:function(){this.sidePanelIsOpen=!0,this.searchActive||this.$router.push(this.searchTabLink)},stickyCalculation:function(){var header=this.$refs.header&&this.$refs.header.$el,topbar=document.querySelector(".scrolling-header"),headerBottom=header?header.getBoundingClientRect().bottom:0,topbarBottom=topbar?topbar.getBoundingClientRect().bottom:0;header&&headerBottom<Math.max(topbarBottom,0)?this.sidePanelStyleOverrides={position:"fixed",top:"".concat(Math.max(0,headerBottom,topbarBottom),"px"),height:"100%"}:this.sidePanelStyleOverrides={}},handleShowMore:function(topicId){this.expandedTopics=TopicsPagevue_type_script_lang_js_objectSpread(TopicsPagevue_type_script_lang_js_objectSpread({},this.expandedTopics),{},TopicsPagevue_type_script_lang_js_defineProperty({},topicId,!0))},loadMoreContents:function(parentId){var _this3=this,parentIndex=this.contents.findIndex((function(p){return p.id===parentId})),parent=parentIndex>-1?this.contents[parentIndex]:null,more=parent&&parent.children&&parent.children.more;if(more)return this.isUserLoggedIn&&!this.deviceId&&this.fetchContentNodeTreeProgress(more),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchTree(more).then((function(data){var child=_this3.contents[parentIndex];child.children.results=child.children.results.concat(data.children.results),child.children.more=data.children.more,_this3.contents=[].concat(TopicsPagevue_type_script_lang_js_toConsumableArray(_this3.contents.slice(0,parentIndex)),[child],TopicsPagevue_type_script_lang_js_toConsumableArray(_this3.contents.slice(parentIndex+1))),_this3.fetchRemoteBrowsingContentNodeUserData(data)})).catch((function(err){_this3.$store.dispatch("handleApiError",{error:err})}))},handleLoadMoreInSubtopic:function(topicId){var _this4=this;this.subTopicLoading=topicId,this.loadMoreContents(topicId).then((function(){_this4.subTopicLoading=null}))},loadMoreTopics:function(){var _this5=this,more=this.topic.children.more;if(more)return this.isUserLoggedIn&&!this.deviceId&&this.fetchContentNodeTreeProgress(more),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchTree(more).then((function(data){_this5.contents=_this5.contents.concat(data.children.results),_this5.topic=TopicsPagevue_type_script_lang_js_objectSpread(TopicsPagevue_type_script_lang_js_objectSpread({},_this5.topic),{},{children:{results:[].concat(TopicsPagevue_type_script_lang_js_toConsumableArray(_this5.topic.children.results),TopicsPagevue_type_script_lang_js_toConsumableArray(data.children.results)),more:data.children.more}}),_this5.fetchRemoteBrowsingContentNodeUserData(data)})).catch((function(err){_this5.$store.dispatch("handleApiError",{error:err})}))},handleLoadMoreInTopic:function(){var _this6=this;this.topicMoreLoading=!0,this.loadMoreTopics().then((function(){_this6.topicMoreLoading=!1}))},handleShowMoreResources:function(){this.showMoreResources=!0},findFirstEl:function(){this.$refs.embeddedPanel?this.$refs.embeddedPanel.focusFirstEl():this.$refs.resourcePanel.focusFirstEl()}},$trs:{documentTitleForChannel:{message:"Folders - { channelTitle }",context:"A folder is a collection of resources and other subfolders within a channel. This string indicates the folders grouped under a specific channel."},documentTitleForTopic:{message:"{ topicTitle } - { channelTitle }",context:"DO NOT TRANSLATE\nCopy the source string."}}},TopicsPage=normalizeComponent(TopicsPagevue_type_script_lang_js,TopicsPagevue_type_template_id_56c0d04c_scoped_true_render,[],!1,null,"56c0d04c",null).exports,TopicsContentPagevue_type_template_id_e89855e4_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"mainWrapper",staticClass:"main-wrapper"},[_vm.blockDoubleClicks?_c("div",{staticClass:"click-mask"}):_vm._e(),_c("SkipNavigationLink"),_c("LearningActivityBar",{ref:"activityBar",attrs:{resourceTitle:_vm.resourceTitle,learningActivities:_vm.contentLearningActivities,isLessonContext:_vm.lessonContext,isQuiz:_vm.practiceQuiz,showingReportState:_vm.contentProgress>=1,duration:_vm.contentDuration,timeSpent:_vm.timeSpent,isBookmarked:!!_vm.bookmark||_vm.bookmark,isCoachContent:_vm.isCoachContent,contentProgress:_vm.contentProgress,allowMarkComplete:_vm.allowMarkComplete,contentKind:_vm.contentKind,showBookmark:_vm.allowBookmark,showDownloadButton:_vm.showDownloadButton,isDownloading:_vm.isDownloading,downloadingLoaderTooltip:_vm.downloadRequestsTranslator.$tr("downloadStartedLabel"),"data-test":"learningActivityBar"},on:{navigateBack:_vm.navigateBack,toggleBookmark:_vm.toggleBookmark,download:_vm.handleRemoteDownloadRequest,viewResourceList:_vm.toggleResourceList,viewInfo:_vm.openSidePanel,completionModal:_vm.openCompletionModal}}),_vm.loading?_c("KLinearLoader",{staticClass:"loader",attrs:{type:"indeterminate",delay:!1}}):_vm._e(),_vm.notAuthorized?_c("KPageContainer",[_c("AuthMessage",{attrs:{authorizedRole:_vm.authorizedRole,header:_vm.authorizationErrorHeader,details:_vm.authorizationErrorDetails}})],1):_vm.error?_c("KPageContainer",[_c("AppError")],1):!_vm.loading&&_vm.content?_c("div",{staticClass:"main",attrs:{id:"main",role:"main",tabindex:"-1"}},[_c("ContentPage",{ref:"contentPage",staticClass:"content",style:{backgroundColor:_vm.content.assessmentmetadata?"":_vm.$themeTokens.textInverted},attrs:{"data-test":"contentPage",content:_vm.content,lessonId:_vm.lessonId,allowMarkComplete:_vm.allowMarkComplete},on:{mounted:function($event){_vm.contentPageMounted=!0},finished:function($event){_vm.$refs.activityBar&&_vm.$refs.activityBar.animateNextSteps()},error:_vm.onError}})],1):_vm._e(),_c("GlobalSnackbar"),_vm.sidePanelContent?_c("SidePanelModal",{ref:"resourcePanel",attrs:{alignment:"right",closeButtonIconType:"close"},on:{closePanel:function($event){_vm.sidePanelContent=null},shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([{key:"header",fn:function(){return _vm._l(_vm.sidePanelContent.learning_activities,(function(activity){return _c("div",{key:activity,staticClass:"side-panel-chips",class:_vm.$computedClass({"::after":{content:"",flex:"auto"}})},[_c("LearningActivityChip",{staticClass:"chip",staticStyle:{"margin-left":"8px","margin-bottom":"8px"},attrs:{kind:activity}})],1)}))},proxy:!0}],null,!1,1103655693)},[_c("CurrentlyViewedResourceMetadata",{attrs:{content:_vm.sidePanelContent,canDownloadExternally:_vm.canDownloadExternally}})],1):_vm._e(),_vm.showViewResourcesSidePanel?_c("SidePanelModal",{ref:"resourcePanel",staticClass:"also-in-this-side-panel",attrs:{alignment:"right",closeButtonIconType:"close"},on:{closePanel:function($event){_vm.showViewResourcesSidePanel=!1},shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([{key:"header",fn:function(){return[_c("h2",{staticStyle:{margin:"0"}},[_vm._v("\n        "+_vm._s(_vm.viewResourcesTitle)+"\n      ")])]},proxy:!0}],null,!1,2791589371)},[_c("AlsoInThis",{staticStyle:{"margin-top":"8px"},attrs:{contentNodes:_vm.viewResourcesContents,nextFolder:_vm.nextFolder,isLesson:_vm.lessonContext,loading:_vm.resourcesSidePanelLoading,currentResourceId:_vm.currentResourceId,missingLessonResources:_vm.missingLessonResources}})],1):_vm._e(),_vm.showConnectionErrorModal?_c("KModal",{attrs:{title:_vm.deviceFormTranslator.$tr("errorCouldNotConnect"),submitText:_vm.coreString("goBackAction")},on:{submit:_vm.goToAllLibraries}},[_c("p",[_vm._v("\n      "+_vm._s(_vm.learnString("cannotConnectToLibrary",{deviceName:_vm.deviceName}))+"\n    ")])]):_vm._e()],1)};TopicsContentPagevue_type_template_id_e89855e4_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_AuthMessage_namespaceObject=kolibriCoreAppGlobal.coreVue.components.AuthMessage,external_kolibriCoreAppGlobal_coreVue_components_AuthMessage_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_AuthMessage_namespaceObject),AppErrorvue_type_template_id_0b9de6ee_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"app-error",attrs:{role:"alert"}},[_c("img",{attrs:{src:__webpack_require__(4894)}}),_c("h1",[_vm._v("\n    "+_vm._s(_vm.headerText)+"\n  ")]),_vm._l(_vm.paragraphTexts,(function(paragraph){return _c("p",{key:paragraph},[_vm._v("\n    "+_vm._s(paragraph)+"\n  ")])})),_c("p",[_c("KButtonGroup",[_vm._t("buttons",(function(){return[_vm.isPageNotFound?_vm._e():_c("KButton",{attrs:{text:_vm.coreString("refresh"),primary:!0},on:{click:_vm.reloadPage}}),_c("KButton",{attrs:{primary:_vm.isPageNotFound,appearance:"raised-button",text:_vm.exitButtonLabel},on:{click:_vm.handleClickBackToHome}})]}))],2)],1),_vm.isPageNotFound?_vm._e():_c("p",[_c("KButton",{attrs:{appearance:"basic-link",text:_vm.$tr("defaultErrorReportPrompt")},on:{click:function($event){return _vm.revealDetailsModal()}}})],1),_vm.showDetailsModal?_c("ReportErrorModal",{attrs:{error:_vm.error},on:{cancel:_vm.hideDetailsModal}}):_vm._e()],2)};AppErrorvue_type_template_id_0b9de6ee_scoped_true_render._withStripped=!0;var ReportErrorModalvue_type_template_id_43dfa34c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{staticClass:"error-detail-modal",attrs:{title:_vm.$tr("reportErrorHeader"),cancelText:_vm.coreString("closeAction"),size:"large"},on:{cancel:function($event){return _vm.$emit("cancel")}}},[_c("section",[_vm.offline?_c("h3",[_vm._v("\n      "+_vm._s(_vm.$tr("forumPrompt"))+"\n    ")]):_vm._e(),_c("p",[_vm._v(_vm._s(_vm.$tr("forumUseTips")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("forumPostingTips")))]),_c("KExternalLink",{staticClass:"download-as-text-link",attrs:{text:_vm.forumLink,href:_vm.forumLink}})],1),_vm.offline?_c("section",[_c("h3",[_vm._v(_vm._s(_vm.$tr("emailPrompt")))]),_c("p",[_vm._v(_vm._s(_vm.$tr("emailDescription")))]),_c("KExternalLink",{attrs:{text:_vm.emailAddress,href:_vm.emailAddressLink}})],1):_vm._e(),_c("h3",[_vm._v("\n    "+_vm._s(_vm.$tr("errorDetailsHeader"))+"\n  ")]),_c("TechnicalTextBlock",{attrs:{text:_vm.error,maxHeight:240}})],1)};ReportErrorModalvue_type_template_id_43dfa34c_scoped_true_render._withStripped=!0;var TechnicalTextBlockvue_type_template_id_216ad586_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("textarea",{staticClass:"error-log",style:[_vm.dynamicHeightStyle,{backgroundColor:_vm.$themePalette.grey.v_200,border:_vm.$themePalette.grey.v_300}],attrs:{readonly:"",wrap:"soft","aria-hidden":"true"},domProps:{value:_vm.text}}),_c("pre",{ref:"textBox",staticClass:"visuallyhidden"},[_vm._v(_vm._s(_vm.text))]),_c("div",[_vm.clipboardCapable?_c("KButton",{ref:"copyButton",style:{marginTop:"8px",marginBottom:"8px"},attrs:{primary:!1,text:_vm.$tr("copyToClipboardButtonPrompt")}}):_vm._e()],1)])};TechnicalTextBlockvue_type_template_id_216ad586_scoped_true_render._withStripped=!0;var clipboard=__webpack_require__(9598),clipboard_default=__webpack_require__.n(clipboard);function TechnicalTextBlockvue_type_script_lang_js_typeof(o){return TechnicalTextBlockvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},TechnicalTextBlockvue_type_script_lang_js_typeof(o)}function TechnicalTextBlockvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function TechnicalTextBlockvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=TechnicalTextBlockvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=TechnicalTextBlockvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==TechnicalTextBlockvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var TechnicalTextBlockvue_type_script_lang_js={name:"TechnicalTextBlock",props:{text:{type:String,default:""},maxHeight:{type:Number,default:null},minHeight:{type:Number,default:72}},computed:{clipboardCapable:function(){return clipboard_default().isSupported()},dynamicHeightStyle:function(){return{height:"".concat(16+18*this.text.split("\n").length,"px"),maxHeight:"".concat(this.maxHeight,"px"),minHeight:"".concat(this.minHeight,"px")}}},mounted:function(){var _this=this;this.clipboardCapable&&(this.clipboard=new(clipboard_default())(this.$refs.copyButton.$el,{text:function(){return _this.text},container:this.$refs.textBox}),this.clipboard.on("success",(function(){_this.createSnackbar(_this.$tr("copiedToClipboardConfirmation"))})))},destroyed:function(){this.clipboard&&this.clipboard.destroy()},methods:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?TechnicalTextBlockvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){TechnicalTextBlockvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TechnicalTextBlockvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)(["createSnackbar"])),$trs:{copyToClipboardButtonPrompt:{message:"Copy to clipboard",context:"Button which allows the user to copy content to the clipboard.\n\nA clipboard is a temporary storage area where material cut or copied from a file is kept for pasting into another file."},copiedToClipboardConfirmation:{message:"Copied to clipboard",context:"Message displayed when some content is copied to the clipboard.\n\nA clipboard is a temporary storage area where material cut or copied from a file is kept for pasting into another file."}}},TechnicalTextBlock_component=normalizeComponent(TechnicalTextBlockvue_type_script_lang_js,TechnicalTextBlockvue_type_template_id_216ad586_scoped_true_render,[],!1,null,"216ad586",null),ReportErrorModal_component=normalizeComponent({name:"ReportErrorModal",components:{TechnicalTextBlock:TechnicalTextBlock_component.exports},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{error:{type:String,required:!0}},data:function(){return{offline:!1}},computed:{forumLink:function(){return"https://community.learningequality.org/c/support/kolibri"},emailAddress:function(){return"info@learningequality.org"},emailAddressLink:function(){return"mailto:".concat(this.emailAddress)}},$trs:{reportErrorHeader:{message:"Report Error",context:"Title of the window where the user can report an error."},forumPrompt:{message:"Visit the community forums",context:"If a user spots an error in Kolibri, this prompt links through to the Kolibri community forums where they can also report errors or search for similar issues."},forumUseTips:{message:"Search the community forum to see if others encountered similar issues. If unable to find anything, paste the error details below into a new forum post so we can rectify the error in a future version of Kolibri.",context:"If a user spots an error in Kolibri, this text indicates that in Kolibri community forums they can also report errors or search for similar issues."},forumPostingTips:{message:"Include a description of what you were trying to do and what you clicked on when the error appeared.",context:"Helper text for the user when describing the details of the error they saw in their email to the development team.\n"},emailPrompt:{message:"Send an email to the developers",context:"Users can send an email to the Kolibri development team indicating details about an error if they see one."},emailDescription:{message:"Contact the support team with your error details and we'll do our best to help.",context:"This is a message that a user sees if they provoke an error in Kolibri. They can send an email to the Kolibri development team indicating further details about the error."},errorDetailsHeader:{message:"Error details",context:"Here the user would indicate the details of the error they saw in their email to the development team."}}},ReportErrorModalvue_type_template_id_43dfa34c_scoped_true_render,[],!1,null,"43dfa34c",null);function AppErrorvue_type_script_lang_js_typeof(o){return AppErrorvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},AppErrorvue_type_script_lang_js_typeof(o)}function AppErrorvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AppErrorvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AppErrorvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){AppErrorvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AppErrorvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function AppErrorvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=AppErrorvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=AppErrorvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==AppErrorvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AppError=normalizeComponent({name:"AppError",components:{ReportErrorModal:ReportErrorModal_component.exports},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{hideParagraphs:{type:Boolean,default:!1}},data:function(){return{showDetailsModal:!1}},computed:AppErrorvue_type_script_lang_js_objectSpread(AppErrorvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({error:function(state){return state.core.error}})),{},{headerText:function(){return this.isPageNotFound?this.$tr("resourceNotFoundHeader"):this.$tr("defaultErrorHeader")},paragraphTexts:function(){return this.hideParagraphs?[]:this.isPageNotFound?[this.$tr("resourceNotFoundMessage")]:[this.$tr("defaultErrorMessage"),this.$tr("defaultErrorResolution")]},errorObject:function(){if(this.error)try{return JSON.parse(this.error)}catch(err){return null}return null},isPageNotFound:function(){return 404===get_default()(this.errorObject,"status")&&"get"===get_default()(this.errorObject,"config.method")},exitButtonLabel:function(){return this.$tr("defaultErrorExitPrompt")}}),methods:AppErrorvue_type_script_lang_js_objectSpread(AppErrorvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)(["clearError"])),{},{revealDetailsModal:function(){this.showDetailsModal=!0},hideDetailsModal:function(){this.showDetailsModal=!1},reloadPage:function(){__webpack_require__.g.location.reload()},handleClickBackToHome:function(){this.clearError(),this.$router.push({path:"/"})}}),$trs:{defaultErrorHeader:{message:"Sorry! Something went wrong!",context:"This is a generic error message that the user will see when an error has occurred."},defaultErrorExitPrompt:{message:"Back to home",context:"If Kolibri produces an unexpected error, this link appears which take the user back to the homepage."},defaultErrorMessage:{message:"We care about your experience on Kolibri and are working hard to fix this issue",context:"Error message that a user will see if an error that is the result of a known bug has occurred."},defaultErrorResolution:{message:"Try refreshing this page or going back to the home page",context:"Helper text which advises the user to refresh their browser if an error has occurred, or go back to the home page."},defaultErrorReportPrompt:{message:"Help us by reporting this error",context:"Text that informs the user about how to report an error if they see one in Kolibri."},resourceNotFoundHeader:{message:"Resource not found",context:"Error message that may appear if Kolibri cannot find a learning resource such as a video or a quiz."},resourceNotFoundMessage:{message:"Sorry, that resource does not exist",context:"Message that appears when a user tries to access a learning resource that is not available in Kolibri."}}},AppErrorvue_type_template_id_0b9de6ee_scoped_true_render,[],!1,null,"0b9de6ee",null).exports,GlobalSnackbarvue_type_template_id_0060414e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.snackbarIsVisible?_c("CoreSnackbar",{key:_vm.key,attrs:{text:_vm.snackbarOptions.text,actionText:_vm.snackbarOptions.actionText,backdrop:_vm.snackbarOptions.backdrop,autoDismiss:_vm.snackbarOptions.autoDismiss,duration:_vm.snackbarOptions.duration,bottomPosition:_vm.snackbarOptions.bottomPosition},on:{actionClicked:function($event){return _vm.snackbarOptions.actionCallback()},hide:_vm.hideCallback}}):_vm._e()};GlobalSnackbarvue_type_template_id_0060414e_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_CoreSnackbar_namespaceObject=kolibriCoreAppGlobal.coreVue.components.CoreSnackbar;function GlobalSnackbarvue_type_script_lang_js_typeof(o){return GlobalSnackbarvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},GlobalSnackbarvue_type_script_lang_js_typeof(o)}function GlobalSnackbarvue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function GlobalSnackbarvue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?GlobalSnackbarvue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){GlobalSnackbarvue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):GlobalSnackbarvue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function GlobalSnackbarvue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=GlobalSnackbarvue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=GlobalSnackbarvue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==GlobalSnackbarvue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var GlobalSnackbar=normalizeComponent({name:"GlobalSnackbar",components:{CoreSnackbar:__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_CoreSnackbar_namespaceObject)()},computed:GlobalSnackbarvue_type_script_lang_js_objectSpread(GlobalSnackbarvue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["snackbarIsVisible","snackbarOptions"])),{},{key:function(){var options=Object.assign({},this.snackbarOptions);return options.forceReuse?(options.text="",JSON.stringify(options)):JSON.stringify(options)+new Date}}),destroyed:function(){this.clearSnackbarState()},methods:{clearSnackbarState:function(){this.$store.commit("CORE_CLEAR_SNACKBAR")},hideCallback:function(){this.snackbarOptions.hideCallback&&this.snackbarOptions.hideCallback(),this.clearSnackbarState()}}},GlobalSnackbarvue_type_template_id_0060414e_scoped_true_render,[],!1,null,"0060414e",null).exports,SkipNavigationLinkvue_type_template_id_1ea772ea_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"skip-nav-link"},[_c("KButton",{ref:"button",style:this.linkStyles,attrs:{appearance:"basic-link",text:this.$tr("skipToMainContentAction")},on:{click:this.handleClickSkipLink}})],1)};SkipNavigationLinkvue_type_template_id_1ea772ea_scoped_true_render._withStripped=!0;var SkipNavigationLink=normalizeComponent({name:"SkipNavigationLink",computed:{linkStyles:function(){return{backgroundColor:this.$themeTokens.surface}}},methods:{handleClickSkipLink:function(){var mainEl=document.getElementById("main");if(mainEl){var header=mainEl.querySelector("h1");header?(header.setAttribute("tabindex",-1),header.focus()):mainEl.focus()}else this.$refs.button.$el.focus()}},$trs:{skipToMainContentAction:{message:"Skip to main content",context:"Button label for the hamburger menu in the top left corner. Accessible only to those who use screen readers and other assistive technology (AT)."}}},SkipNavigationLinkvue_type_template_id_1ea772ea_scoped_true_render,[],!1,null,"1ea772ea",null).exports,CurrentlyViewedResourceMetadatavue_type_template_id_0a718a95_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.content?_c("section",{staticClass:"metadata"},[_c("div",{staticClass:"section"},[_vm.forBeginners?_c("span",{staticClass:"beginners-chip",style:{backgroundColor:_vm.$themeBrand.secondary.v_600,color:_vm.$themeTokens.textInverted},attrs:{"data-test":"beginners-chip"}},[_vm._v("\n      "+_vm._s(_vm.coreString("forBeginners"))+"\n    ")]):_vm._e()]),_c("div",{staticClass:"section"},[_c("ContentNodeThumbnail",{attrs:{contentNode:_vm.content}})],1),_vm.content.title?_c("div",{staticClass:"section title",attrs:{"data-test":"content-title"}},[_vm._v("\n    "+_vm._s(_vm.content.title)+"\n  ")]):_vm._e(),_vm.content.description?_c("div",{ref:"description",staticClass:"content",class:_vm.truncate,attrs:{"data-test":"content-description"}},[_vm._v("\n    "+_vm._s(_vm.content.description)+"\n  ")]):_vm._e(),_vm.descriptionOverflow?_c("KButton",{staticClass:"show-more-button",attrs:{text:_vm.showMoreOrLess,appearance:"flat-button",primary:!0},on:{click:_vm.toggleShowMoreOrLess}}):_vm._e(),_vm.content.duration?_c("div",{staticClass:"section",attrs:{"data-test":"estimated-time"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("estimatedTime"))+":\n    ")]),_c("span",[_c("TimeDuration",{attrs:{seconds:_vm.content.duration}})],1)]):_vm._e(),_vm.content.grade_levels&&_vm.content.grade_levels.length?_c("div",{staticClass:"section",attrs:{"data-test":"grade-levels"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.coreString("levelLabel"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.levels(_vm.content.grade_levels))+"\n    ")])]):_vm._e(),_vm.content.lang?_c("div",{staticClass:"section",attrs:{"data-test":"lang"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.coreString("languageLabel"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.content.lang.lang_name)+"\n    ")])]):_vm._e(),_vm.content.author?_c("div",{staticClass:"section",attrs:{"data-test":"author"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("author"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.content.author)+"\n    ")])]):_vm._e(),_vm.content.license_owner?_c("div",{staticClass:"section",attrs:{"data-test":"license-owner"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("copyrightHolder"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.content.license_owner)+"\n    ")])]):_vm._e(),_vm.licenseDescription?_c("div",{staticClass:"section",attrs:{"data-test":"license-desc"}},[_c("span",{staticClass:"label"},[_vm._v("\n      "+_vm._s(_vm.learnString("license"))+":\n    ")]),_c("span",[_vm._v("\n      "+_vm._s(_vm.licenseShortName||"")+"\n      "),_c("KIconButton",{staticClass:"license-toggle",attrs:{icon:_vm.licenseDescriptionIsVisible?"chevronUp":"chevronDown",ariaLabel:_vm.learnString("toggleLicenseDescription"),size:"small",type:"secondary"},on:{click:function($event){_vm.licenseDescriptionIsVisible=!_vm.licenseDescriptionIsVisible}}}),_vm.licenseDescriptionIsVisible?_c("div",{staticClass:"license-details"},[_c("p",{staticClass:"license-details-name"},[_vm._v("\n          "+_vm._s(_vm.licenseLongName)+"\n        ")]),_c("p",[_vm._v(_vm._s(_vm.licenseDescription))])]):_vm._e()],1)]):_vm._e(),_vm.canDownloadExternally?_c("DownloadButton",{staticClass:"download-button",attrs:{files:_vm.content.files,nodeTitle:_vm.content.title,"data-test":"download-button"}}):_vm._e()],1):_vm._e()};CurrentlyViewedResourceMetadatavue_type_template_id_0a718a95_scoped_true_render._withStripped=!0;var CurrentlyViewedResourceMetadata=normalizeComponent({name:"CurrentlyViewedResourceMetadata",components:{DownloadButton:external_kolibriCoreAppGlobal_coreVue_components_DownloadButton_default(),ContentNodeThumbnail:ContentNodeThumbnail,TimeDuration:external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],props:{canDownloadExternally:{type:Boolean,required:!1,default:!1},content:{type:Object,required:!0}},data:function(){return{licenseDescriptionIsVisible:!1,showMoreOrLess:"Show More",truncate:"truncate-description",descriptionOverflow:!1}},computed:{forBeginners:function(){return get_default()(this.content,"learner_needs",[]).includes(Needs_FOR_BEGINNERS)},licenseShortName:function(){return(0,external_kolibriCoreAppGlobal_utils_licenseTranslations_namespaceObject.licenseShortName)(get_default()(this,"content.license_name",null))},licenseLongName:function(){return(0,external_kolibriCoreAppGlobal_utils_licenseTranslations_namespaceObject.licenseLongName)(get_default()(this,"content.license_name",null))},licenseDescription:function(){return(0,external_kolibriCoreAppGlobal_utils_licenseTranslations_namespaceObject.licenseDescriptionForConsumer)(get_default()(this,"content.license_name",null),get_default()(this,"content.license_description",null))}},mounted:function(){this.calculateDescriptionOverflow()},methods:{toggleShowMoreOrLess:function(){return"Show More"===this.showMoreOrLess?(this.showMoreOrLess="Show Less",this.truncate="show-description",this.learnString("showLess")):(this.showMoreOrLess="Show More",this.truncate="truncate-description",this.learnString("showMore"))},calculateDescriptionOverflow:function(){this.$refs.description&&this.$refs.description.scrollHeight>175&&(this.descriptionOverflow=!0)},levels:function(_levels){var _this=this,matches=Object.keys(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels).sort().filter((function(k){return _levels.includes(external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentLevels[k])}));if(matches&&matches.length>0){var adjustedMatches=[];return matches.map((function(key){var translationKey;translationKey="PROFESSIONAL"===key?"specializedProfessionalTraining":"WORK_SKILLS"===key?"allLevelsWorkSkills":"BASIC_SKILLS"===key?"allLevelsBasicSkills":camelCase_default()(key),adjustedMatches.push(translationKey)})),adjustedMatches=adjustedMatches.map((function(m){return _this.coreString(m)})).join(", ")}return"-"}}},CurrentlyViewedResourceMetadatavue_type_template_id_0a718a95_scoped_true_render,[],!1,null,"0a718a95",null).exports,ContentPagevue_type_template_id_84920b00_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.sessionReady?[_vm.content.assessmentmetadata?_vm.practiceQuiz||_vm.survey?_c("QuizRenderer",{staticClass:"content-renderer",style:{paddingBottom:_vm.windowIsSmall?"80px":"0px"},attrs:{content:_vm.content,extraFields:_vm.extra_fields,progress:_vm.progress,userId:_vm.currentUserId,userFullName:_vm.fullName,timeSpent:_vm.time_spent,pastattempts:_vm.pastattempts,mastered:_vm.complete,masteryLevel:_vm.masteryLevel,updateContentSession:_vm.updateContentSession,isSurvey:_vm.survey},on:{startTracking:_vm.startTracking,stopTracking:_vm.stopTracking,updateInteraction:_vm.updateInteraction,updateProgress:_vm.updateProgress,updateContentState:_vm.updateContentState,repeat:_vm.repeat,error:_vm.onError,finished:_vm.onFinished}}):_c("AssessmentWrapper",{staticClass:"content-renderer",attrs:{kind:_vm.content.kind,files:_vm.content.files,lang:_vm.content.lang,randomize:_vm.content.assessmentmetadata.randomize,masteryModel:_vm.content.assessmentmetadata.mastery_model,assessmentIds:_vm.content.assessmentmetadata.assessment_item_ids,available:_vm.content.available,extraFields:_vm.extra_fields,progress:_vm.progress,userId:_vm.currentUserId,userFullName:_vm.fullName,timeSpent:_vm.time_spent,pastattempts:_vm.pastattempts,mastered:_vm.complete,totalattempts:_vm.totalattempts},on:{startTracking:_vm.startTracking,stopTracking:_vm.stopTracking,updateInteraction:_vm.updateInteraction,updateProgress:_vm.updateProgress,updateContentState:_vm.updateContentState,error:_vm.onError,finished:_vm.onFinished}}):_c("KContentRenderer",{staticClass:"content-renderer",attrs:{kind:_vm.content.kind,lang:_vm.content.lang,files:_vm.content.files,options:_vm.content.options,available:_vm.content.available,duration:_vm.content.duration,extraFields:_vm.extra_fields,progress:_vm.progress,userId:_vm.currentUserId,userFullName:_vm.fullName,timeSpent:_vm.time_spent},on:{startTracking:_vm.startTracking,stopTracking:_vm.stopTracking,updateProgress:_vm.updateProgress,addProgress:_vm.addProgress,updateContentState:_vm.updateContentState,navigateTo:_vm.navigateTo,error:_vm.onError,finished:_vm.onFinished}})]:_vm._e(),_vm.showCompletionModal?_c("CompletionModal",{ref:"completionModal",attrs:{isUserLoggedIn:_vm.isUserLoggedIn,contentNode:_vm.content,lessonId:_vm.lessonId,isQuiz:_vm.practiceQuiz,isSurvey:_vm.survey,wasComplete:_vm.wasComplete},on:{close:_vm.hideCompletionModal,shouldFocusFirstEl:function($event){return _vm.findFirstEl()}}}):_vm._e(),_vm.showCompleteContentModal&&_vm.allowMarkComplete?_c("MarkAsCompleteModal",{on:{complete:_vm.handleMarkAsComplete,cancel:_vm.hideMarkAsCompleteModal}}):_vm._e()],2)};ContentPagevue_type_template_id_84920b00_scoped_true_render._withStripped=!0;var CompletionModalvue_type_template_id_e5f44b88_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",{attrs:{name:"modal-fade",appear:""}},[_c("div",{staticClass:"modal-overlay",on:{keyup:[function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:($event.stopPropagation(),_vm.emitCloseEvent.apply(null,arguments))},function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.goToNextContentNode.apply(null,arguments)}]}},[_c("div",{ref:"modal",staticClass:"modal",style:[_vm.modalSizeStyles,{background:_vm.$themeTokens.surface}],attrs:{tabindex:0,role:"dialog","aria-labelledby":"modal-title"}},[_c("FocusTrap",{on:{shouldFocusFirstEl:function($event){return _vm.$emit("shouldFocusFirstEl")},shouldFocusLastEl:_vm.focusLastEl}},[_c("KFixedGrid",{style:{margin:"24px"},attrs:{numCols:12}},[_c("KFixedGridItem",{attrs:{span:9}},[_c("h1",{staticClass:"title",attrs:{id:"modal-title"}},[_vm._v("\n              "+_vm._s(_vm.learnString("resourceCompletedLabel"))+"\n            ")])]),_c("KFixedGridItem",{attrs:{span:3,alignment:"right"}})],1),_c("div",{style:_vm.contentStyle},[_vm.isUserLoggedIn?_vm.wasComplete?_vm._e():_c("div",{staticClass:"stats"},[_c("div",{staticClass:"points"},[_c("span",{style:{color:_vm.$themeTokens.correct}},[_vm._v("\n                "+_vm._s(_vm.$tr("plusPoints",{points:_vm.points}))+"\n              ")]),_c("PointsIcon",{style:{display:"inline-block"}})],1),_c("div",[_vm._v(_vm._s(_vm.$tr("keepUpTheGreatProgress")))])]):_c("UiAlert",{style:{marginTop:"8px"},attrs:{dismissible:!1,removeIcon:!0,type:"warning"}},[_vm._v("\n            "+_vm._s(_vm.$tr("signIn"))+"\n          ")]),_vm.loading?_c("KCircularLoader",{staticClass:"loader"}):[_vm.nextContentNode?_c("CompletionModalSection",{ref:"nextContentNodeSection",class:_vm.sectionClass,attrs:{icon:"forwardRounded",title:_vm.$tr("moveOnTitle"),description:_vm.$tr("moveOnDescription"),buttonLabel:_vm.$tr("moveOnButtonLabel"),buttonRoute:_vm.nextContentNodeRoute}},[_c("ResourceItem",{attrs:{contentNode:_vm.nextContentNode,size:"small"}})],1):_vm._e(),_c("CompletionModalSection",{ref:"staySection",class:_vm.sectionClass,attrs:{icon:_vm.isQuiz||_vm.isSurvey?"reports":"restart",title:_vm.staySectionTitle,description:_vm.staySectionDescription,buttonLabel:_vm.isQuiz||_vm.isSurvey?_vm.$tr("reviewQuizButtonLabel"):_vm.$tr("stayButtonLabel")},on:{buttonClick:function($event){return _vm.$emit("close")}}}),_vm.recommendedContentNodes&&_vm.recommendedContentNodes.length?_c("CompletionModalSection",{class:_vm.sectionClass,attrs:{icon:"alternativeRoute",title:_vm.$tr("helpfulResourcesTitle"),description:_vm.$tr("helpfulResourcesDescription")}},[_c("KGrid",{style:{marginTop:"6px"}},_vm._l(_vm.recommendedContentNodes,(function(node){return _c("KGridItem",{key:node.id,style:{marginBottom:"24px"},attrs:{layout12:{span:6},layout8:{span:4},layout4:{span:4}}},[_c("ResourceItem",{attrs:{"data-test":"recommended-resource",contentNode:node,contentNodeRoute:_vm.genContentLinkKeepCurrentBackLink(node.id,node.is_leaf),size:_vm.recommendedResourceItemSize}})],1)})),1)],1):_vm._e()]],2),_c("KIconButton",{ref:"closeButton",staticClass:"close-button",attrs:{icon:"close",ariaLabel:_vm.coreString("closeAction"),tooltip:_vm.coreString("closeAction")},on:{click:function($event){return _vm.$emit("close")}}})],1)],1)])])};CompletionModalvue_type_template_id_e5f44b88_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_PointsIcon_namespaceObject=kolibriCoreAppGlobal.coreVue.components.PointsIcon,external_kolibriCoreAppGlobal_coreVue_components_PointsIcon_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_PointsIcon_namespaceObject),CompletionModalSectionvue_type_template_id_f55024f0_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("section",{class:["completion-modal-section",_vm.$computedClass(_vm.sectionStyle)]},[_c("KFixedGrid",{attrs:{numCols:_vm.gridColumnsTotal}},[_vm.displayGridIcon?_c("KFixedGridItem",{staticClass:"icon-wrapper",attrs:{span:_vm.gridIconSpan}},[_c("KIcon",{staticClass:"icon",attrs:{icon:_vm.icon}})],1):_vm._e(),_c("KFixedGridItem",{attrs:{span:_vm.gridDescriptionSpan}},[_c("h2",{staticClass:"title"},[_vm._v("\n        "+_vm._s(_vm.title)+"\n      ")]),_c("p",{staticClass:"description"},[_vm._v("\n        "+_vm._s(_vm.description)+"\n      ")])]),_vm.hasButton&&_vm.displayGridButton?_c("KFixedGridItem",{staticClass:"grid-button-wrapper",attrs:{span:_vm.gridButtonSpan}},[_c(_vm.buttonRoute?"KRouterLink":"KButton",{ref:"button",tag:"component",staticClass:"grid-button",attrs:{to:_vm.buttonRoute,text:_vm.buttonLabel,primary:!0,appearance:"flat-button"},on:{click:function($event){return _vm.$emit("buttonClick")}}})],1):_vm._e()],1),_c("KFixedGrid",{staticClass:"content",attrs:{numCols:_vm.gridColumnsTotal}},[_vm.displayGridIcon?_c("KFixedGridItem",{attrs:{span:1}}):_vm._e(),_c("KFixedGridItem",{attrs:{span:_vm.gridContentSpan}},[_vm._t("default")],2)],1),_vm.hasButton&&!_vm.displayGridButton?_c("div",{style:{textAlign:_vm.isRtl?"left":"right",marginTop:"28px"}},[_c(_vm.buttonRoute?"KRouterLink":"KButton",{ref:"button",tag:"component",attrs:{to:_vm.buttonRoute,text:_vm.buttonLabel,primary:!0,appearance:"flat-button"},on:{click:function($event){return _vm.$emit("buttonClick")}}})],1):_vm._e()],1)};CompletionModalSectionvue_type_template_id_f55024f0_scoped_true_render._withStripped=!0;var CompletionModalSection=normalizeComponent({name:"CompletionModalSection",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],props:{title:{type:String,required:!0},icon:{type:String,required:!0},description:{type:String,required:!1,default:""},buttonLabel:{type:String,required:!1,default:""},buttonRoute:{type:Object,required:!1,default:null}},data:function(){return{gridColumnsTotal:12}},computed:{hasButton:function(){return Boolean(this.buttonLabel)},sectionStyle:function(){return{":not(:last-child)":{borderBottom:"1px solid ".concat(this.$themePalette.grey.v_300)}}},displayGridIcon:function(){return this.windowBreakpoint>0},displayGridButton:function(){return this.windowBreakpoint>0},gridIconSpan:function(){return this.displayGridIcon?1:0},gridDescriptionSpan:function(){return this.gridColumnsTotal-this.gridIconSpan-this.gridButtonSpan},gridButtonSpan:function(){return this.displayGridButton?3:0},gridContentSpan:function(){return this.gridColumnsTotal-this.gridIconSpan}},methods:{getButtonRef:function(){return this.$refs.button}}},CompletionModalSectionvue_type_template_id_f55024f0_scoped_true_render,[],!1,null,"f55024f0",null).exports,ResourceItemvue_type_template_id_34a46102_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c(_vm.contentNodeRoute?"KRouterLink":"div",{tag:"component",class:["resource-item",_vm.$computedClass({":focus":_vm.$coreOutline})],attrs:{to:_vm.contentNodeRoute}},["small"===_vm.size?_c("ResourceLabel",{attrs:{contentNode:_vm.contentNode,contentNodeRoute:_vm.contentNodeRoute,disableLinkFocus:""}}):"medium"===_vm.size?_c("KFixedGrid",{attrs:{numCols:"2",gutter:"16"}},[_c("KFixedGridItem",{attrs:{span:"1"}},[_c("ContentNodeThumbnail",{attrs:{contentNode:_vm.contentNode}})],1),_c("KFixedGridItem",{style:{position:"relative"},attrs:{span:"1"}},[_c("ResourceLabel",{style:{position:"absolute",top:"50%",transform:"translateY(-50%)"},attrs:{contentNode:_vm.contentNode,contentNodeRoute:_vm.contentNodeRoute,disableLinkFocus:"",hideIcon:""}})],1)],1):"large"===_vm.size?[_c("ContentNodeThumbnail",{attrs:{contentNode:_vm.contentNode}}),_c("ResourceLabel",{style:{marginTop:"16px"},attrs:{contentNode:_vm.contentNode,contentNodeRoute:_vm.contentNodeRoute,disableLinkFocus:"",condensed:""}})]:_vm._e()],2)};ResourceItemvue_type_template_id_34a46102_scoped_true_render._withStripped=!0;var ResourceLabelvue_type_template_id_16f69828_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",{class:["resource-label",_vm.condensed?"resource-label-condensed":{}]},[_vm.hideIcon?_vm._e():[_vm.contentNode.is_leaf?_c("LearningActivityIcon",{staticClass:"icon",attrs:{kind:_vm.contentNode.learning_activities}}):_c("KIcon",{staticClass:"icon",attrs:{icon:"topic",color:_vm.$themePalette.grey.v_500}})],_c("span",{staticClass:"text-wrapper"},[_c(_vm.contentNodeRoute?"KRouterLink":"span",{tag:"component",staticClass:"title",attrs:{to:_vm.contentNodeRoute,tabindex:_vm.disableLinkFocus?-1:0}},[_vm._v("\n      "+_vm._s(_vm.contentNode.title)+"\n    ")]),_vm.contentNode.duration?_c("TimeDuration",{staticClass:"duration",style:{color:_vm.$themePalette.grey.v_700},attrs:{seconds:_vm.contentNode.duration}}):_vm._e()],1)],2)};ResourceLabelvue_type_template_id_16f69828_scoped_true_render._withStripped=!0;var ResourceLabel_component=normalizeComponent({name:"ResourceLabel",components:{LearningActivityIcon:LearningActivityIcon,TimeDuration:external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default()},props:{contentNode:{type:Object,required:!0},contentNodeRoute:{type:Object,required:!1,default:null},disableLinkFocus:{type:Boolean,required:!1,default:!1},hideIcon:{type:Boolean,required:!1,default:!1},condensed:{type:Boolean,required:!1,default:!1}}},ResourceLabelvue_type_template_id_16f69828_scoped_true_render,[],!1,null,"16f69828",null),ResourceItem=normalizeComponent({name:"ResourceItem",components:{ResourceLabel:ResourceLabel_component.exports,ContentNodeThumbnail:ContentNodeThumbnail},props:{contentNode:{type:Object,required:!0},contentNodeRoute:{type:Object,required:!1,default:null},size:{type:String,required:!1,default:"small",validator:function(value){return["small","medium","large"].includes(value)}}}},ResourceItemvue_type_template_id_34a46102_scoped_true_render,[],!1,null,"34a46102",null).exports,CompletionModalvue_type_script_lang_js={name:"CompletionModal",components:{FocusTrap:external_kolibriCoreAppGlobal_coreVue_components_FocusTrap_default(),PointsIcon:external_kolibriCoreAppGlobal_coreVue_components_PointsIcon_default(),CompletionModalSection:CompletionModalSection,ResourceItem:ResourceItem,UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var canAccessUnassignedContent=useDeviceSettings().canAccessUnassignedContent,fetchLesson=useLearnerResources().fetchLesson,genContentLinkKeepCurrentBackLink=useContentLink().genContentLinkKeepCurrentBackLink;return{baseurl:currentDeviceData().baseurl,canAccessUnassignedContent:canAccessUnassignedContent,fetchLesson:fetchLesson,genContentLinkKeepCurrentBackLink:genContentLinkKeepCurrentBackLink}},props:{isUserLoggedIn:{type:Boolean,required:!0},contentNode:{type:Object,required:!0},lessonId:{type:String,default:null},isQuiz:{type:Boolean,default:!1},isSurvey:{type:Boolean,default:!1},wasComplete:{type:Boolean,default:!1}},data:function(){return{lastFocus:null,recommendedContentNodes:[],nextContentNode:null,loading:!0}},computed:{contentNodeId:function(){return this.contentNode&&this.contentNode.id},staySectionDescription:function(){return this.isQuiz?this.$tr("reviewQuizDescription"):this.isSurvey?this.$tr("reviewSurveyDescription"):this.$tr("stayDescription")},staySectionTitle:function(){return this.isQuiz?this.$tr("reviewQuizTitle"):this.isSurvey?this.$tr("reviewSurveyTitle"):this.$tr("stayTitle")},points:function(){return external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.MaxPointsPerContent},modalSizeStyles:function(){var maxWidth=this.maxModalWidth,maxHeight=this.windowHeight;return this.windowBreakpoint>1&&(maxWidth-=32,maxHeight-=32),{maxWidth:maxWidth+"px",maxHeight:maxHeight+"px"}},maxModalWidth:function(){return this.windowWidth<1e3?this.windowWidth:1e3},contentStyle:function(){return{overflowX:"hidden",padding:this.windowBreakpoint<2?"0 24px":"0 54px"}},sectionClass:function(){return this.$computedClass({":not(:last-child)":{borderBottom:"1px solid ".concat(this.$themePalette.grey.v_300)}})},recommendedResourceItemSize:function(){return this.windowBreakpoint>1?"large":this.windowBreakpoint>0?"medium":"small"},nextContentNodeRoute:function(){return this.genContentLinkKeepCurrentBackLink(this.nextContentNode.id,this.nextContentNode.is_leaf)}},created:function(){var _this=this,promises=[];this.lessonId?promises.push(this.loadNextLessonContent()):this.canAccessUnassignedContent&&promises.push(this.loadNextContent()),this.canAccessUnassignedContent&&promises.push(this.loadRecommendedContent()),Promise.all(promises).then((function(){_this.loading=!1}))},beforeMount:function(){this.lastFocus=document.activeElement},mounted:function(){var _this2=this;window.document.documentElement.style.overflow="hidden",this.$nextTick((function(){_this2.focusFirstEl()}))},destroyed:function(){var _this3=this;window.document.documentElement.style.overflow="",window.setTimeout((function(){return _this3.lastFocus.focus()}))},methods:{focusLastEl:function(){this.$el.querySelector(".close-button").focus()},loadNextContent:function(){var _this4=this,fetchGrandparent=this.contentNode.ancestors.length>1,treeParams={id:fetchGrandparent?this.contentNode.ancestors.slice(-2)[0].id:this.contentNode.parent,params:{include_coach_content:this.$store.getters.isAdmin||this.$store.getters.isCoach||this.$store.getters.isSuperuser,depth:fetchGrandparent?2:1,baseurl:this.baseurl}};return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchTree(treeParams).then((function(ancestor){var parent,contentIndex=(parent=fetchGrandparent?ancestor.children.results.find((function(c){return c.id===_this4.contentNode.parent})):ancestor).children.results.findIndex((function(c){return c.id===_this4.contentNode.id}));_this4.nextContentNode=parent.children.results.slice(contentIndex+1)[0]||null}))},loadRecommendedContent:function(){var _this5=this;if(!this.baseurl)return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchRecommendationsFor(this.contentNodeId).then((function(data){_this5.recommendedContentNodes=data}))},loadNextLessonContent:function(){var _this6=this;return this.fetchLesson({lessonId:this.lessonId}).then((function(lesson){var index=lesson.resources.findIndex((function(c){return c.contentnode_id===_this6.contentNodeId}));_this6.nextContentNode=lesson.resources[index+1]?lesson.resources[index+1].contentnode:null}))},emitCloseEvent:function(){this.$emit("close")},goToNextContentNode:function(){this.$router.push(this.nextContentNodeRoute)},focusElementTest:function(event){var target=event.target;if(!(target===window||!this.$refs.modal||target===this.$refs.modal||this.$refs.modal.contains(target.activeElement))){var $coreSnackbar=document.getElementById("coresnackbar");if(!$coreSnackbar||!$coreSnackbar.contains(target)){var $coreModal=document.getElementById("modal-window");$coreModal&&$coreModal.contains(target)||this.$refs.modal.contains(target)||this.focusModal()}}},focusFirstEl:function(){this.nextContentNode&&this.$refs.nextContentNodeSection?this.$refs.nextContentNodeSection.getButtonRef().$el.focus():this.$refs.staySection&&this.$refs.staySection.getButtonRef().$el.focus()}},$trs:{signIn:{message:"Sign in or create an account to begin earning points",context:"Message that a learner will see upon completing a resource if they are not signed in to Kolibri."},plusPoints:{message:"+ { points, number } points",context:"Indicates the amount of points awarded to the learner for completing a resource."},keepUpTheGreatProgress:{message:"Keep up the great progress!",context:"Message of encouragement which displays when learner has completed a resource."},moveOnTitle:{message:"Keep going",context:"Message to the user after completing a resource, to select the next resource."},moveOnDescription:{message:"Move on to the next resource in the folder",context:"Message to the user after completing a resource in a folder."},moveOnButtonLabel:{message:"Move on",context:"Label for a button used if learner decides to move forward to the following resource."},stayTitle:{message:"Stay and practice",context:"Message to the user to continue practicing after they completed a resource."},stayDescription:{message:"Stay on this resource to keep practicing",context:"Description on 'Resource completed' window."},stayButtonLabel:{message:"Stay here",context:"Label for a button used if learner decides to repeat the completed resource."},reviewSurveyTitle:{message:"Review survey",context:"Message to the user to review a survey after they completed it."},reviewSurveyDescription:{message:"Open the survey report to review your answers",context:"After learner submitted a survey, they can view the report page."},reviewQuizTitle:{message:"Review quiz",context:"Message to the user to review a quiz after they completed it."},reviewQuizDescription:{message:"Open the quiz report to review your answers",context:"After learner submitted a practice quiz, they can view the report page."},reviewQuizButtonLabel:{message:"View report",context:"Label for a button used if learner decides to view the practice quiz report."},helpfulResourcesTitle:{message:"You may find helpful",context:"Message to the user after completing a resource with additional suggestions."},helpfulResourcesDescription:{message:"Here are some related resources we think you'll find helpful",context:"Description on the 'Resource completed' window."}}},CompletionModal=normalizeComponent(CompletionModalvue_type_script_lang_js,CompletionModalvue_type_template_id_e5f44b88_scoped_true_render,[],!1,null,"e5f44b88",null).exports,QuizRenderervue_type_template_id_7ad6aeac_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.submitting?_c("KCircularLoader"):_vm.mastered?_c("QuizReport",{attrs:{userId:_vm.userId,userName:_vm.userFullName,content:_vm.content},on:{repeat:_vm.repeat}}):_c("KGrid",{attrs:{gridStyle:_vm.gridStyle}},[_vm.windowIsLarge?_c("KGridItem",{ref:"questionListWrapper",staticClass:"column-pane",attrs:{layout12:{span:4}}},[_c("div",{staticClass:"column-contents-wrapper"},[_c("KPageContainer",[_c("AnswerHistory",{attrs:{pastattempts:_vm.pastattempts,questionNumber:_vm.questionNumber,wrapperComponentRefs:this.$refs,questions:_vm.itemIdArray},on:{goToQuestion:_vm.goToQuestion}})],1)],1)]):_vm._e(),_c("KGridItem",{staticClass:"column-pane",attrs:{layout12:{span:8}}},[_c("div",{class:{"column-contents-wrapper":!_vm.windowIsSmall}},[_c("KPageContainer",[_c("h1",[_vm._v("\n            "+_vm._s(_vm.$tr("question",{num:_vm.questionNumber+1,total:_vm.questionsTotal}))+"\n          ")]),_vm.itemId?_c("KContentRenderer",{ref:"contentRenderer",attrs:{kind:_vm.content.kind,lang:_vm.content.lang,files:_vm.content.files,available:_vm.content.available,extraFields:_vm.extraFields,itemId:_vm.itemId,assessment:!0,allowHints:!1,answerState:_vm.currentAttempt.answer,progress:_vm.progress,userId:_vm.userId,userFullName:_vm.userFullName,timeSpent:_vm.timeSpent},on:{interaction:_vm.saveAnswer,updateProgress:_vm.updateProgress,updateContentState:_vm.updateContentState,error:function(err){return _vm.$emit("error",err)}}}):_c("UiAlert",{attrs:{dismissible:!1,type:"error"}},[_vm._v("\n            "+_vm._s(_vm.$tr("noItemId"))+"\n          ")])],1),_c("BottomAppBar",{attrs:{dir:_vm.bottomBarLayoutDirection,maxWidth:null}},[_c(_vm.windowIsSmall?"div":"KButtonGroup",{tag:"component"},[_c("KButton",{attrs:{disabled:_vm.questionNumber===_vm.questionsTotal-1,primary:!0,dir:_vm.layoutDirReset,"aria-label":_vm.$tr("nextQuestion"),appearanceOverrides:_vm.navigationButtonStyle},on:{click:function($event){return _vm.goToQuestion(_vm.questionNumber+1)}},scopedSlots:_vm._u([{key:"iconAfter",fn:function(){return[_c("KIcon",{style:_vm.navigationIconStyleNext,attrs:{icon:"forward",color:"white"}})]},proxy:!0}])},[_vm.displayNavigationButtonLabel?_c("span",[_vm._v(_vm._s(_vm.$tr("nextQuestion")))]):_vm._e()]),_c("KButton",{class:{"left-align":_vm.windowIsSmall},attrs:{disabled:0===_vm.questionNumber,primary:!0,dir:_vm.layoutDirReset,appearanceOverrides:_vm.navigationButtonStyle,"aria-label":_vm.$tr("previousQuestion")},on:{click:function($event){return _vm.goToQuestion(_vm.questionNumber-1)}},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("KIcon",{style:_vm.navigationIconStylePrevious,attrs:{icon:"back",color:"white"}})]},proxy:!0}])},[_vm.displayNavigationButtonLabel?_c("span",[_vm._v(_vm._s(_vm.$tr("previousQuestion")))]):_vm._e()])],1),_vm.windowIsLarge?_c("div",{staticClass:"left-align",attrs:{dir:_vm.layoutDirReset}},[_c("div",{staticClass:"answered"},[_vm._v("\n              "+_vm._s(_vm.answeredText)+"\n            ")]),_c("KButton",{attrs:{text:_vm.isSurvey?_vm.$tr("submitSurvey"):_vm.$tr("submitExam"),primary:!1,appearance:"flat-button"},on:{click:_vm.toggleModal}})],1):_vm._e()],1),_vm.windowIsLarge?_vm._e():_c("KPageContainer",[_c("div",{staticClass:"bottom-block",class:{windowIsSmall:_vm.windowIsSmall}},[_c("div",{staticClass:"answered"},[_vm._v("\n              "+_vm._s(_vm.answeredText)+"\n            ")]),_c("KButton",{attrs:{text:_vm.isSurvey?_vm.$tr("submitSurvey"):_vm.$tr("submitExam"),primary:!1,appearance:"flat-button"},on:{click:_vm.toggleModal}})],1)])],1)])],1),_vm.submitModalOpen?_c("KModal",{attrs:{title:_vm.isSurvey?_vm.$tr("submitSurvey"):_vm.$tr("submitExam"),submitText:_vm.isSurvey?_vm.$tr("submitSurvey"):_vm.$tr("submitExam"),cancelText:_vm.coreString("goBackAction")},on:{submit:_vm.finishExam,cancel:_vm.toggleModal}},[_c("p",[_vm._v(_vm._s(_vm.$tr("areYouSure")))]),_vm.questionsUnanswered?_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("unanswered",{numLeft:_vm.questionsUnanswered}))+"\n    ")]):_vm._e()]):_vm._e()],1)};QuizRenderervue_type_template_id_7ad6aeac_scoped_true_render._withStripped=!0;var debounce=__webpack_require__(2230),debounce_default=__webpack_require__.n(debounce),external_kolibriCoreAppGlobal_coreVue_components_UiIconButton_namespaceObject=kolibriCoreAppGlobal.coreVue.components.UiIconButton,external_kolibriCoreAppGlobal_coreVue_components_UiIconButton_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_UiIconButton_namespaceObject),AnswerHistoryvue_type_template_id_57182861_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ul",{staticClass:"history-list"},_vm._l(_vm.questions,(function(question,index){return _c("li",{key:index,ref:"item-"+index,refInFor:!0,staticClass:"list-item"},[_c("button",{staticClass:"clickable",class:_vm.buttonClass(index),attrs:{disabled:_vm.questionNumber===index},on:{click:function($event){return _vm.$emit("goToQuestion",index)}}},[_c("KIcon",{staticClass:"dot",attrs:{icon:"notStarted",color:_vm.isAnswered(question)?_vm.$themeTokens.progress:_vm.$themeTokens.textDisabled}}),_c("div",{staticClass:"text"},[_vm._v("\n        "+_vm._s(_vm.questionText(index+1))+"\n      ")])],1)])})),0)};AnswerHistoryvue_type_template_id_57182861_scoped_true_render._withStripped=!0;var AnswerHistory=normalizeComponent({name:"AnswerHistory",props:{pastattempts:{type:Array,default:function(){return[]}},questions:{type:Array,default:function(){return[]}},questionNumber:{type:Number,required:!0},wrapperComponentRefs:{type:Object,required:!0}},watch:{questionNumber:function(index){var element=this.$refs["item-".concat(index)][0];if(element&&element.scrollIntoView&&this.wrapperComponentRefs.questionListWrapper){var container=this.wrapperComponentRefs.questionListWrapper.$el;!function(element,container){return element.offsetTop<container.scrollTop}(element,container)?function(element,container){return element.offsetTop+element.offsetHeight>container.offsetHeight+container.scrollTop}(element,container)&&element.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"}):element.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}}},methods:{questionText:function(num){return this.$tr("question",{num:num})},isAnswered:function(question){var attempt=this.pastattempts.find((function(attempt){return attempt.item===question}));return attempt&&attempt.answer},buttonClass:function(index){return this.questionNumber===index?this.$computedClass({backgroundColor:this.$themePalette.grey.v_100}):this.$computedClass({backgroundColor:this.$themeTokens.surface,":hover":{backgroundColor:this.$themePalette.grey.v_100}})}},$trs:{question:{message:"Question { num, number, integer}",context:"In the report section, the 'Answer history' shows the learner if they have answered questions correctly or incorrectly.\n\nOnly translate 'Question'."}}},AnswerHistoryvue_type_template_id_57182861_scoped_true_render,[],!1,null,"57182861",null).exports,QuizReportvue_type_template_id_22ac5eba_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.content?_c("ExamReport",{staticClass:"report",attrs:{contentId:_vm.content.content_id,title:_vm.content.title,duration:_vm.content.duration,userName:_vm.userName,userId:_vm.userId,selectedInteractionIndex:_vm.selectedInteractionIndex,questionNumber:_vm.questionNumber,tryIndex:_vm.tryIndex,exercise:_vm.content,exerciseContentNodes:[_vm.content],navigateTo:_vm.navigateTo,questions:_vm.questions,isSurvey:_vm.isSurvey,isQuiz:!_vm.isSurvey},scopedSlots:_vm._u([{key:"actions",fn:function(){return[_c("KButton",{on:{click:function($event){return _vm.$emit("repeat")}}},[_vm._v("\n      "+_vm._s(_vm.isSurvey?_vm.$tr("submitAgainButton"):_vm.$tr("tryAgainButton"))+"\n    ")])]},proxy:!0}],null,!1,663806910)}):_vm._e()};QuizReportvue_type_template_id_22ac5eba_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_ExamReport_namespaceObject=kolibriCoreAppGlobal.coreVue.components.ExamReport,external_kolibriCoreAppGlobal_coreVue_components_ExamReport_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_ExamReport_namespaceObject),QuizReport=normalizeComponent({name:"QuizReport",components:{ExamReport:external_kolibriCoreAppGlobal_coreVue_components_ExamReport_default()},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],props:{content:{type:Object,required:!0},userId:{type:String,default:null},userName:{type:String,required:!0}},data:function(){return{questionNumber:0,selectedInteractionIndex:0,tryIndex:0}},computed:{questions:function(){var _this=this;return this.content?this.content.assessmentmetadata.assessment_item_ids.map((function(id,index){return{item:id,question_id:id,exercise_id:_this.content.id,counter_in_exercise:index,title:_this.content.title}})):[]},isSurvey:function(){return get_default()(this,["content","options","modality"])===Modalities_SURVEY}},methods:{navigateTo:function(tryIndex,question,interaction){this.tryIndex=tryIndex,this.questionNumber=question,this.selectedInteractionIndex=interaction}},$trs:{tryAgainButton:{message:"Try again",context:"Label for a button used to retake the quiz"},submitAgainButton:{message:"Submit again",context:"Label for a button used to resubmit the survey"}}},QuizReportvue_type_template_id_22ac5eba_scoped_true_render,[],!1,null,"22ac5eba",null).exports;function QuizRenderervue_type_script_lang_js_typeof(o){return QuizRenderervue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},QuizRenderervue_type_script_lang_js_typeof(o)}function QuizRenderervue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function QuizRenderervue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?QuizRenderervue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){QuizRenderervue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):QuizRenderervue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function QuizRenderervue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=QuizRenderervue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=QuizRenderervue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==QuizRenderervue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var QuizRenderervue_type_script_lang_js={name:"QuizRenderer",components:{AnswerHistory:AnswerHistory,UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default(),UiIconButton:external_kolibriCoreAppGlobal_coreVue_components_UiIconButton_default(),BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default(),QuizReport:QuizReport},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{content:{type:Object,required:!0},extraFields:{type:Object,default:function(){return{}}},progress:{type:Number,default:0},userId:{type:String,default:null},userFullName:{type:String,default:null},timeSpent:{type:Number,default:null},pastattempts:{type:Array,default:function(){return[]}},mastered:{type:Boolean,default:!1},masteryLevel:{type:Number,default:0},updateContentSession:{type:Function,default:function(){}},isSurvey:{type:Boolean,default:function(){}}},data:function(){return{submitModalOpen:!1,startTime:Date.now(),questionNumber:0,submitting:!1}},computed:{gridStyle:function(){return this.windowIsSmall?{}:{position:"fixed",top:"64px",right:"16px",bottom:"72px",left:"16px"}},answeredText:function(){return this.$tr("questionsAnswered",{numAnswered:this.questionsAnswered,numTotal:this.questionsTotal})},currentAttempt:function(){var _this=this;return this.pastattempts.find((function(attempt){return attempt.item===_this.itemId}))||{item:this.itemId,complete:!1,time_spent:0,correct:0,answer:null,simple_answer:"",hinted:!1}},itemIdArray:function(){if(this.content.assessmentmetadata.randomize){var seed=this.userid?this.userid+this.masteryLevel:Date.now();return external_kolibriCoreAppGlobal_utils_shuffled_default()(this.content.assessmentmetadata.assessment_item_ids,seed)}return this.content.assessmentmetadata.assessment_item_ids},itemId:function(){return this.itemIdArray[this.questionNumber]},questionsAnswered:function(){return Object.keys(this.pastattempts.reduce((function(map,attempt){return attempt.answer&&(map[attempt.item]=!0),map}),{})).length},questionsUnanswered:function(){return this.questionsTotal-this.questionsAnswered},questionsTotal:function(){return this.content.assessmentmetadata.assessment_item_ids.length},debouncedSetAndSaveCurrentExamAttemptLog:function(){return debounce_default()(this.setAndSaveCurrentExamAttemptLog,500)},bottomBarLayoutDirection:function(){return this.isRtl?"ltr":"rtl"},layoutDirReset:function(){return this.isRtl?"rtl":"ltr"},displayNavigationButtonLabel:function(){return this.windowBreakpoint>0},navigationButtonStyle:function(){return this.displayNavigationButtonLabel?{}:{minWidth:"36px",width:"36px",padding:0}},navigationIconStyleNext:function(){return this.displayNavigationButtonLabel?{position:"relative",top:"3px",left:"4px"}:{}},navigationIconStylePrevious:function(){return this.displayNavigationButtonLabel?{position:"relative",top:"3px",left:"-4px"}:{}}},watch:{itemId:function(newVal,oldVal){newVal!==oldVal&&(this.startTime=Date.now())},mastered:function(newVal,oldVal){!newVal&&oldVal&&this.startTracking()}},created:function(){this.mastered||this.startTracking()},methods:{setAndSaveCurrentExamAttemptLog:function(){var _this2=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},close=_ref.close,interaction=_ref.interaction;LearnerClassroomResource.clearCache();var data={};return interaction&&(data.interaction=QuizRenderervue_type_script_lang_js_objectSpread(QuizRenderervue_type_script_lang_js_objectSpread({},interaction),{},{replace:!0})),close?(data.progress=1,data.force=!0,data.immediate=!0,this.submitting=!0):data.progress=Math.max(.001,Math.min(this.pastattempts.length/this.content.assessmentmetadata.assessment_item_ids.length,.99)),this.updateContentSession(data).then((function(){close&&(_this2.stopTracking(),_this2.submitting=!1)}))},checkAnswer:function(){return this.$refs.contentRenderer?this.$refs.contentRenderer.checkAnswer():null},saveAnswer:function(){var close=arguments.length>0&&void 0!==arguments[0]&&arguments[0],answer=this.checkAnswer();if(answer&&!isEqual_default()(answer.answerState,this.currentAttempt.answer)){var interaction={answer:answer.answerState,simple_answer:answer.simpleAnswer||"",correct:answer.correct,item:this.itemId,id:this.currentAttempt.id,time_spent:((this.currentAttempt.time_spent||0)+Date.now()-this.startTime)/1e3};return this.startTime=Date.now(),close?this.setAndSaveCurrentExamAttemptLog({close:close,interaction:interaction}):this.debouncedSetAndSaveCurrentExamAttemptLog({interaction:interaction})}return close?this.setAndSaveCurrentExamAttemptLog({close:close}):Promise.resolve()},goToQuestion:function(questionNumber){this.questionNumber=questionNumber},toggleModal:function(){var _this3=this;Promise.resolve(this.submitModalOpen||this.debouncedSetAndSaveCurrentExamAttemptLog.flush()).then((function(){_this3.submitModalOpen=!_this3.submitModalOpen}))},finishExam:function(){var _this4=this;this.saveAnswer(!0).then((function(){_this4.submitModalOpen=!1,_this4.$emit("finished")}))},updateProgress:function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];this.$emit.apply(this,["updateProgress"].concat(args))},updateContentState:function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];this.$emit.apply(this,["updateContentState"].concat(args))},startTracking:function(){this.mounted=!0;for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];this.$emit.apply(this,["startTracking"].concat(args))},stopTracking:function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];this.$emit.apply(this,["stopTracking"].concat(args))},repeat:function(){this.$emit("repeat")}},$trs:{submitExam:{message:"Submit quiz",context:"Action that learner takes to submit their quiz answers so that the coach can review them."},submitSurvey:{message:"Submit survey",context:"Action that learner takes to submit their exam answers so that they can be reviewed."},questionsAnswered:{message:"{numAnswered, number} of {numTotal, number} {numTotal, plural, one {question answered} other {questions answered}}",context:'Indicates the number of questions a learner has answered. Only translate "of" and "question/questions answered".'},previousQuestion:{message:"Previous",context:"Button indicating the previous question in a quiz."},nextQuestion:{message:"Next",context:"Button indicating the next question in a quiz."},areYouSure:{message:"You cannot change your answers after you submit",context:"Message a learner sees when they submit answers in an exercise to their coach. It serves as a way of checking that the user is aware that once they've submitted their answers, they cannot change them afterwards."},unanswered:{message:"You have {numLeft, number} {numLeft, plural, one {question unanswered} other {questions unanswered}}",context:"Indicates how many questions the learner has not answered."},noItemId:{message:"This question has an error, please move on to the next question",context:"Message they may appear to the learner if there is a question missing in a quiz. The question may have been deleted accidentally, for example."},question:{message:"Question {num, number, integer} of {total, number, integer}",context:'Indicates which question the user is working on currently and the total number of questions in a quiz.\n\nFor example: "Question 2 of 10".'}}},QuizRenderer=normalizeComponent(QuizRenderervue_type_script_lang_js,QuizRenderervue_type_template_id_7ad6aeac_scoped_true_render,[],!1,null,"7ad6aeac",null).exports,MarkAsCompleteModalvue_type_template_id_02a03310_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("KModal",{attrs:{title:_vm.learnString("markResourceAsCompleteLabel"),submitText:_vm.coreString("confirmAction"),cancelText:_vm.coreString("cancelAction")},on:{submit:function($event){return _vm.$emit("complete")},cancel:function($event){return _vm.$emit("cancel")}}},[_vm.showLoading?_vm._e():_c("div",[_vm._v("\n    "+_vm._s(_vm.$tr("markResourceAsCompleteConfirmation"))+"\n  ")])])};function ContentPagevue_type_script_lang_js_typeof(o){return ContentPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ContentPagevue_type_script_lang_js_typeof(o)}function ContentPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ContentPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ContentPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ContentPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ContentPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ContentPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ContentPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ContentPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ContentPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}MarkAsCompleteModalvue_type_template_id_02a03310_render._withStripped=!0;var ContentPagevue_type_script_lang_js={name:"ContentPage",metaInfo:function(){return{title:this.learnString("documentTitle",{contentTitle:this.content.title,channelTitle:this.content.ancestors[0]?this.content.ancestors[0].title:""})}},components:{AssessmentWrapper:AssessmentWrapper,CompletionModal:CompletionModal,QuizRenderer:QuizRenderer,MarkAsCompleteModal:normalizeComponent({name:"MarkAsCompleteModal",mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],data:function(){return{showLoading:!1}},$trs:{markResourceAsCompleteConfirmation:{message:"Are you sure you want to mark this resource as completed?",context:"The text asking the user to confirm that they want to manually mark the resource as complete, regardless of whether they've hit the 'completion criteria'"}}},MarkAsCompleteModalvue_type_template_id_02a03310_render,[],!1,null,null,null).exports},mixins:[commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){var _useProgressTracking=useProgressTracking(),progress=_useProgressTracking.progress,time_spent=_useProgressTracking.time_spent,extra_fields=_useProgressTracking.extra_fields,pastattempts=_useProgressTracking.pastattempts,complete=_useProgressTracking.complete,totalattempts=_useProgressTracking.totalattempts,context=_useProgressTracking.context,initContentSession=_useProgressTracking.initContentSession,updateContentSession=_useProgressTracking.updateContentSession,startTrackingProgress=_useProgressTracking.startTrackingProgress,stopTrackingProgress=_useProgressTracking.stopTrackingProgress,genContentLinkKeepCurrentBackLink=useContentLink().genContentLinkKeepCurrentBackLink,errored=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1);return{errored:errored,progress:progress,time_spent:time_spent,extra_fields:extra_fields,pastattempts:pastattempts,complete:complete,totalattempts:totalattempts,context:context,initContentSession:initContentSession,updateContentSession:function(data){return errored.value?Promise.resolve():updateContentSession(data)},startTracking:startTrackingProgress,stopTracking:stopTrackingProgress,genContentLinkKeepCurrentBackLink:genContentLinkKeepCurrentBackLink}},props:{content:{type:Object,required:!0,validator:function(val){return val.kind&&val.content_id}},lessonId:{type:String,required:!1,default:null},allowMarkComplete:{type:Boolean,required:!1,default:!1}},data:function(){return{showCompletionModal:!1,wasComplete:!1,sessionReady:!1}},computed:ContentPagevue_type_script_lang_js_objectSpread(ContentPagevue_type_script_lang_js_objectSpread(ContentPagevue_type_script_lang_js_objectSpread(ContentPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isUserLoggedIn","currentUserId"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({fullName:function(state){return state.core.session.full_name}})),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)(["showCompleteContentModal"])),{},{practiceQuiz:function(){return get_default()(this,["content","options","modality"])===Modalities_QUIZ},survey:function(){return get_default()(this,["content","options","modality"])===Modalities_SURVEY},masteryLevel:function(){return get_default()(this,["context","mastery_level"])}}),watch:{progress:function(){this.cacheProgress()}},created:function(){return this.initSession()},mounted:function(){this.$emit("mounted")},methods:{cacheProgress:function(){setContentNodeProgress({content_id:this.content.content_id,progress:this.progress})},updateInteraction:function(_ref){var progress=_ref.progress,interaction=_ref.interaction;this.updateContentSession({progress:progress,interaction:interaction})},updateProgress:function(progress){return this.updateContentSession({progress:progress})},addProgress:function(progressDelta){this.updateContentSession({progressDelta:progressDelta})},updateContentState:function(contentState){this.updateContentSession({contentState:contentState})},hideMarkAsCompleteModal:function(){this.$store.commit("SET_SHOW_COMPLETE_CONTENT_MODAL",!1)},handleMarkAsComplete:function(){var _this=this;return this.hideMarkAsCompleteModal(),this.displayCompletionModal(),this.updateProgress(1).then((function(){_this.$store.dispatch("createSnackbar",_this.learnString("resourceCompletedLabel"))})).catch((function(error){_this.$store.dispatch("handleApiError",{error:error})}))},navigateTo:function(message){var _this2=this,id=message.nodeId;return external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchModel({id:id}).then((function(contentNode){external_kolibriCoreAppGlobal_coreVue_router_default().push(_this2.genContentLinkKeepCurrentBackLink(contentNode.id,contentNode.is_leaf))})).catch((function(error){_this2.$store.dispatch("handleApiError",{error:error})}))},onFinished:function(){var _this3=this;if(!this.errored)if(this.wasComplete)this.$emit("finished");else if(this.complete)this.displayCompletionModal();else{var watchComplete=this.$watch("complete",(function(){_this3.displayCompletionModal(),watchComplete()}));setTimeout(watchComplete,250)}},displayCompletionModal:function(){this.showCompletionModal=!0},hideCompletionModal:function(){this.showCompletionModal=!1,this.wasComplete=!0},onError:function(error){this.errored=!0,this.$emit("error",error)},initSession:function(){var _this4=this,repeat=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.hideMarkAsCompleteModal(),this.sessionReady=!1,this.initContentSession({node:this.content,lessonId:this.lessonId,repeat:repeat}).then((function(){_this4.sessionReady=!0,_this4.wasComplete=_this4.progress>=1,_this4.cacheProgress()}))},repeat:function(){var _this5=this;this.stopTracking().then((function(){_this5.initSession(!0)}))},findFirstEl:function(){var _this6=this;this.$nextTick((function(){_this6.$refs.completionModal.focusFirstEl()}))}}},ContentPage=normalizeComponent(ContentPagevue_type_script_lang_js,ContentPagevue_type_template_id_84920b00_scoped_true_render,[],!1,null,"84920b00",null).exports,LearningActivityBarvue_type_template_id_675947fc_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("nav",{attrs:{"aria-label":_vm.$tr("optionsLabel")}},[_c("UiToolbar",{staticClass:"toolbar",staticStyle:{"z-index":"8"},style:_vm.contentSpecificStyles,scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("KIconButton",{attrs:{icon:"back","data-test":"backButton",tooltip:_vm.coreString("goBackAction"),ariaLabel:_vm.coreString("goBackAction")},on:{click:_vm.onBackButtonClick}})]},proxy:!0},{key:"actions",fn:function(){return[_c("Transition",{attrs:{name:"downloading-loader"}},[_c("span",{ref:"downloadingLoader"},[_c("KCircularLoader",{style:{margin:"10px 4px 0px 4px"},attrs:{shouldShow:_vm.isDownloading,minVisibleTime:3e3,"data-test":"downloadingLoader",size:24}}),_c("KTooltip",{attrs:{reference:"downloadingLoader",refs:_vm.$refs}},[_vm._v("\n            "+_vm._s(_vm.downloadingLoaderTooltip)+"\n          ")])],1)]),_vm.isQuiz&&!_vm.showingReportState?_c("KIconButton",{ref:"timerButton",attrs:{"data-test":"timerButton",icon:"timer",tooltip:_vm.coreString("timeSpentLabel"),ariaLabel:_vm.coreString("timeSpentLabel")},on:{click:_vm.toggleTimer}}):_vm._e(),_c("CoreMenu",{directives:[{name:"show",rawName:"v-show",value:_vm.isTimerOpen,expression:"isTimerOpen"}],ref:"timer",staticClass:"menu",style:{left:_vm.isRtl?"16px":"auto",right:_vm.isRtl?"auto":"16px"},attrs:{raised:!0,isOpen:_vm.isTimerOpen,containFocus:!0},on:{close:_vm.closeTimer},scopedSlots:_vm._u([{key:"options",fn:function(){return[_c("div",{staticClass:"timer-display"},[_c("div",[_c("strong",[_vm._v(_vm._s(_vm.coreString("timeSpentLabel")))])]),_c("div",{style:{paddingBottom:"8px"}},[_c("TimeDuration",{attrs:{seconds:_vm.timeSpent}})],1),_vm.duration?_c("div",[_c("strong",[_vm._v(_vm._s(_vm.learnString("suggestedTime")))])]):_vm._e(),_vm.duration?_c("SuggestedTime",{attrs:{seconds:_vm.duration}}):_vm._e()],1)]},proxy:!0}])}),_vm.deviceId?_c("DeviceConnectionStatus",{attrs:{deviceId:_vm.deviceId}}):_vm._e(),_c("TransitionGroup",{attrs:{name:"bar-actions"}},_vm._l(_vm.barActions,(function(action){return _c("KIconButton",{key:action.id,staticClass:"bar-actions-item",class:"next-steps"===action.id&&_vm.nextStepsAnimate?"bounce":"",attrs:{"data-test":"bar_"+action.dataTest,icon:action.icon,color:action.iconColor,tooltip:action.label,ariaLabel:action.label,disabled:action.disabled},on:{click:function($event){return _vm.onActionClick(action.event)}}})})),1),_c("span",{staticClass:"menu-wrapper"},[_vm.menuActions.length?_c("KIconButton",{ref:"moreOptionsButton",attrs:{"data-test":"moreOptionsButton",icon:"optionsHorizontal",tooltip:_vm.$tr("moreOptions"),ariaLabel:_vm.$tr("moreOptions")},on:{click:_vm.toggleMenu}}):_vm._e(),_c("CoreMenu",{directives:[{name:"show",rawName:"v-show",value:_vm.isMenuOpen,expression:"isMenuOpen"}],ref:"menu",staticClass:"menu",style:{left:_vm.isRtl?"16px":"auto",right:_vm.isRtl?"auto":"16px"},attrs:{raised:!0,isOpen:_vm.isMenuOpen,containFocus:!0},on:{close:_vm.closeMenu,shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([{key:"options",fn:function(){return _vm._l(_vm.menuActions,(function(action){return _c("CoreMenuOption",{key:action.id,style:{cursor:"pointer"},attrs:{"data-test":"menu_"+action.dataTest,disabled:action.disabled,icon:action.icon},on:{select:function($event){return _vm.onActionClick(action.event)}}},[_c("KLabeledIcon",{scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("KIcon",{attrs:{icon:action.icon,color:action.iconColor}})]},proxy:!0}],null,!0)},[_c("div",[_vm._v(_vm._s(action.label))])])],1)}))},proxy:!0}])})],1)]},proxy:!0}])},[_c("CoachContentLabel",{staticStyle:{"margin-top":"8px",width:"auto"},attrs:{value:_vm.isCoachContent}}),_c("KLabeledIcon",{style:{"margin-top":"8px"},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("LearningActivityIcon",{attrs:{"data-test":"learningActivityIcon",kind:_vm.learningActivities,shaded:!0}})]},proxy:!0}])},[_vm.windowBreakpoint<=3?_c("TextTruncatorCss",{attrs:{text:_vm._f("truncateText")(_vm.resourceTitle,50),maxLines:1}}):_c("TextTruncatorCss",{attrs:{text:_vm._f("truncateText")(_vm.resourceTitle,70),maxLines:1}})],1),_c("ProgressIcon",{staticClass:"progress-icon",attrs:{progress:_vm.contentProgress}})],1)],1)};LearningActivityBarvue_type_template_id_675947fc_scoped_true_render._withStripped=!0;var external_kolibriCoreAppGlobal_coreVue_components_SuggestedTime_namespaceObject=kolibriCoreAppGlobal.coreVue.components.SuggestedTime,external_kolibriCoreAppGlobal_coreVue_components_SuggestedTime_default=__webpack_require__.n(external_kolibriCoreAppGlobal_coreVue_components_SuggestedTime_namespaceObject),LearningActivityBarvue_type_script_lang_js={name:"LearningActivityBar",components:{CoachContentLabel:external_kolibriCoreAppGlobal_coreVue_components_CoachContentLabel_default(),CoreMenu:external_kolibriCoreAppGlobal_coreVue_components_CoreMenu_default(),CoreMenuOption:external_kolibriCoreAppGlobal_coreVue_components_CoreMenuOption_default(),TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default(),LearningActivityIcon:LearningActivityIcon,ProgressIcon:external_kolibriCoreAppGlobal_coreVue_components_ProgressIcon_default(),UiToolbar:external_kolibriCoreAppGlobal_coreVue_components_UiToolbar_default(),TimeDuration:external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default(),SuggestedTime:external_kolibriCoreAppGlobal_coreVue_components_SuggestedTime_default(),DeviceConnectionStatus:DeviceConnectionStatus},filters:{truncateText:function(value,maxLength){return value&&value.length>maxLength?value.substring(0,maxLength)+"...":value}},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{resourceTitle:{type:String,required:!0},learningActivities:{type:Array,required:!0,validator:external_kolibriCoreAppGlobal_utils_validators_namespaceObject.validateLearningActivity},isLessonContext:{type:Boolean,required:!1,default:!1},isBookmarked:{type:Boolean,required:!1,default:!1},allowMarkComplete:{type:Boolean,required:!1,default:!1},contentProgress:{type:Number,required:!1,default:0},isCoachContent:{type:Number,required:!1,default:0},contentKind:{type:String,required:!1,default:null},isQuiz:{type:Boolean,required:!1,default:!1},showingReportState:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1,default:null},timeSpent:{type:Number,required:!1,default:null},showBookmark:{type:Boolean,required:!1,default:!0},showDownloadButton:{type:Boolean,required:!1,default:!1},isDownloading:{type:Boolean,required:!1,default:!1},downloadingLoaderTooltip:{type:String,required:!1,default:""}},data:function(){return{isMenuOpen:!1,isTimerOpen:!1,nextStepsAnimate:!1}},computed:{deviceId:function(){return get_default()(this.$route,"params.deviceId")},showMarkComplete:function(){return this.allowMarkComplete&&this.contentProgress<1},disableDownloadButton:function(){return this.isDownloading},allActions:function(){var actions=[{id:"view-resource-list",icon:"resourceList",label:this.isLessonContext?this.$tr("viewLessonResources"):this.$tr("viewTopicResources"),event:"viewResourceList",dataTest:this.isLessonContext?"viewLessonPlanButton":"viewTopicResourcesButton"}];return this.showBookmark&&actions.push({id:"bookmark",icon:this.isBookmarked?"bookmark":"bookmarkEmpty",label:this.isBookmarked?this.coreString("removeFromBookmarks"):this.coreString("saveToBookmarks"),event:"toggleBookmark",disabled:null===this.isBookmarked,dataTest:this.isBookmarked?"removeBookmarkButton":"addBookmarkButton"}),this.showDownloadButton&&actions.push({id:"download",icon:"download",iconColor:this.disableDownloadButton?this.$themeTokens.textDisabled:null,label:this.coreString("downloadAction"),event:"download",dataTest:"downloadButton",disabled:this.disableDownloadButton}),this.showMarkComplete&&actions.push({id:"mark-complete",icon:"star",iconColor:this.$themeTokens.mastered,label:this.learnString("markResourceAsCompleteLabel"),event:"markComplete",dataTest:"markCompleteButton"}),this.contentProgress>=1&&actions.unshift({id:"next-steps",icon:"forwardRounded",label:this.learnString("nextStepsLabel"),event:"completionModal"}),actions.push({id:"view-info",icon:"info",label:this.coreString("viewInformation"),event:"viewInfo",dataTest:"viewInfoButton"}),actions},numBarActions:function(){var maxSize=1;return 1===this.windowBreakpoint||2===this.windowBreakpoint?maxSize=2:this.windowBreakpoint>2&&(maxSize=this.showMarkComplete?3:4),this.allActions.length>maxSize?maxSize-1:maxSize},barActions:function(){return this.allActions.slice(0,this.numBarActions)},menuActions:function(){return this.allActions.slice(this.numBarActions)},contentSpecificStyles:function(){return this.contentKind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.EXERCISE?{border:"1px solid ".concat(this.$themeTokens.fineLine),"box-shadow":"none"}:{}}},created:function(){var _this=this;window.addEventListener("click",this.onWindowClick),this.$on("markComplete",(function(){return _this.$store.commit("SET_SHOW_COMPLETE_CONTENT_MODAL",!0)}))},beforeDestroy:function(){window.removeEventListener("click",this.onWindowClick)},methods:{closeMenu:function(){var _this2=this,_ref$focusMoreOptions=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).focusMoreOptionsButton,focusMoreOptionsButton=void 0===_ref$focusMoreOptions||_ref$focusMoreOptions;this.isMenuOpen=!1,focusMoreOptionsButton&&this.$nextTick((function(){_this2.$refs.moreOptionsButton.$el.focus()}))},toggleTimer:function(){var _this3=this;this.isTimerOpen=!this.isTimerOpen,this.isTimerOpen&&this.$nextTick((function(){_this3.$refs.timer.$el.focus()}))},closeTimer:function(){var _this4=this,_ref2$focusTimerButto=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).focusTimerButton,focusTimerButton=void 0===_ref2$focusTimerButto||_ref2$focusTimerButto;this.isTimerOpen=!1,focusTimerButton&&this.$nextTick((function(){_this4.$refs.timerButton.$el.focus()}))},toggleMenu:function(){var _this5=this;this.isMenuOpen=!this.isMenuOpen,this.isMenuOpen&&this.$nextTick((function(){_this5.$refs.menu.$el.focus()}))},onBackButtonClick:function(){this.$emit("navigateBack")},onActionClick:function(actionEvent){this.$emit(actionEvent)},onWindowClick:function(event){var _this$$refs$menu$$el,_this$$refs$moreOptio,_this$$refs$timerButt,_this$$refs$timer;this.isMenuOpen&&(null!==(_this$$refs$menu$$el=this.$refs.menu.$el)&&void 0!==_this$$refs$menu$$el&&_this$$refs$menu$$el.contains(event.target)||null!==(_this$$refs$moreOptio=this.$refs.moreOptionsButton)&&void 0!==_this$$refs$moreOptio&&_this$$refs$moreOptio.$el.contains(event.target)||this.closeMenu({focusMoreOptionsButton:!1}));this.isTimerOpen&&(null!==(_this$$refs$timerButt=this.$refs.timerButton)&&void 0!==_this$$refs$timerButt&&_this$$refs$timerButt.$el.contains(event.target)||null!==(_this$$refs$timer=this.$refs.timer)&&void 0!==_this$$refs$timer&&_this$$refs$timer.$el.contains(event.target)||this.closeTimer({focusTimerButton:!1}))},findFirstEl:function(){var _this6=this;this.$nextTick((function(){_this6.$refs.menu.focusFirstEl()}))},animateNextSteps:function(){var _this7=this;this.nextStepsAnimate=!0,setTimeout((function(){_this7.nextStepsAnimate=!1}),1500)}},$trs:{moreOptions:{message:"More options",context:"Tooltip text."},viewLessonResources:{message:"View lesson resources",context:"Tooltip text."},viewTopicResources:{message:"View folder resources",context:"Tooltip text."},optionsLabel:{message:"Options",context:"A label for the section of the page containing toolbar buttons"}}},LearningActivityBar=normalizeComponent(LearningActivityBarvue_type_script_lang_js,LearningActivityBarvue_type_template_id_675947fc_scoped_true_render,[],!1,null,"675947fc",null).exports,AlsoInThisvue_type_template_id_0744d5e6_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"wrapper"},[_vm.missingLessonResources?_c("MissingResourceAlert"):_vm._e(),_vm.contentNodes.length?_c("div",{staticClass:"content-list",class:_vm.nextFolder?"bottom-link":""},_vm._l(_vm.contentNodes,(function(content){return _c("KRouterLink",{key:content.id,staticClass:"item",class:[_vm.windowIsSmall&&"small",content.id===_vm.currentResourceId&&_vm.$computedClass(_vm.currentlyViewedItemStyle)],style:_vm.linkStyles,attrs:{to:content.is_leaf?_vm.genContentLinkKeepCurrentBackLink(content.id,content.is_leaf):_vm.genContentLinkKeepPreviousBackLink(content.id)}},[content.id===_vm.currentResourceId?_c("p",{style:_vm.currentlyViewingTextStyle},[_vm._v("\n        "+_vm._s(_vm.$tr("currentlyViewing"))+"\n      ")]):_vm._e(),content.is_leaf?_c("LearningActivityIcon",{staticClass:"activity-icon",attrs:{kind:content.learning_activities}}):_c("KIcon",{staticClass:"topic-icon",attrs:{icon:"topic"}}),_c("div",{staticClass:"content-meta"},[_c("div",{staticClass:"text-and-time"},[_c("TextTruncatorCss",{staticClass:"content-title",attrs:{text:content.title,maxLines:2}}),content.duration?_c("TimeDuration",{staticClass:"time-duration",style:{color:_vm.$themeTokens.annotation},attrs:{seconds:content.duration}}):_vm._e()],1),_c("div",{staticClass:"progress"},[1===_vm.progressFor(content)?_c("KIcon",{staticClass:"mastered-icon",style:{fill:_vm.$themeTokens.mastered},attrs:{icon:"star"}}):_c("ProgressBar",{staticClass:"bar",attrs:{contentNode:content}})],1)])],1)})),1):_vm.loading?_c("KCircularLoader"):_c("div",[_vm._v("\n    "+_vm._s(_vm.emptyMessage)+"\n  ")]),_vm.nextFolder?_c("KRouterLink",{staticClass:"next-content-link",style:Object.assign({},{borderTop:"1px solid "+_vm.$themeTokens.fineLine,background:_vm.$themeTokens.surface},_vm.linkStyles),attrs:{to:_vm.genContentLinkKeepPreviousBackLink(_vm.nextFolder.id)}},[_c("KIcon",{staticClass:"folder-icon",attrs:{icon:"topic"}}),_c("div",{staticClass:"next-label"},[_vm._v("\n      "+_vm._s(_vm.nextFolderMessage)+"\n    ")]),_c("div",{staticClass:"next-title"},[_vm._v("\n      "+_vm._s(_vm.nextFolder.title)+"\n    ")]),_c("KIcon",{staticClass:"forward-icon",attrs:{icon:"forward"}})],1):_vm._e()],1)};AlsoInThisvue_type_template_id_0744d5e6_scoped_true_render._withStripped=!0;var lodash_isBoolean=__webpack_require__(2172),isBoolean_default=__webpack_require__.n(lodash_isBoolean),AlsoInThisvue_type_script_lang_js={name:"AlsoInThis",components:{LearningActivityIcon:LearningActivityIcon,ProgressBar:ProgressBar,TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default(),TimeDuration:external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default(),MissingResourceAlert:MissingResourceAlert},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){var contentNodeProgressMap=useContentNodeProgress().contentNodeProgressMap,_useContentLink=useContentLink();return{contentNodeProgressMap:contentNodeProgressMap,genContentLinkKeepCurrentBackLink:_useContentLink.genContentLinkKeepCurrentBackLink,genContentLinkKeepPreviousBackLink:_useContentLink.genContentLinkKeepPreviousBackLink}},props:{contentNodes:{type:Array,required:!0,default:function(){return[]}},nextFolder:{type:Object,required:!1,default:function(){},validator:function(node){if(!node)return!0;var id=node.id,is_leaf=node.is_leaf,title=node.title;return id&&isBoolean_default()(is_leaf)&&title}},isLesson:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentResourceId:{type:String,required:!0},missingLessonResources:{type:Boolean,default:!1}},computed:{linkStyles:function(){return{color:this.$themeTokens.text+"!important",fontSize:"14px"}},currentlyViewingTextStyle:function(){return{color:this.$themePalette.grey.v_700,fontSize:"12px",margin:"auto"}},currentlyViewedItemStyle:function(){return{padding:"15px 0",":before":{content:"''",backgroundColor:this.$themePalette.grey.v_100,position:"absolute",top:"0",bottom:"0",width:"200vw",transform:"translateX(-50%)",zIndex:"-1"}}},emptyMessage:function(){return this.isLesson?this.$tr("noOtherLessonResources"):this.$tr("noOtherTopicResources")},nextFolderMessage:function(){return this.$tr("nextFolder")}},methods:{progressFor:function(node){return this.contentNodeProgressMap[node.content_id]||0}},$trs:{currentlyViewing:{message:"Currently viewing",context:"Indicator of resource that is currently being viewed."},noOtherLessonResources:{message:"No other resources in this lesson",context:"Message indicating that no resources remain in the lesson they are engaging with."},noOtherTopicResources:{message:"No other resources in this folder",context:"Message indicating that no resources remain in the topic they are browsing."},nextFolder:{message:"Next folder",context:"Indicates navigation to the next folder and its contents."}}};function TopicsContentPagevue_type_script_lang_js_typeof(o){return TopicsContentPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},TopicsContentPagevue_type_script_lang_js_typeof(o)}function TopicsContentPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function TopicsContentPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?TopicsContentPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){TopicsContentPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TopicsContentPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function TopicsContentPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=TopicsContentPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=TopicsContentPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==TopicsContentPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function TopicsContentPagevue_type_script_lang_js_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return TopicsContentPagevue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TopicsContentPagevue_type_script_lang_js_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TopicsContentPagevue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TopicsContentPagevue_type_script_lang_js={name:"TopicsContentPage",metaInfo:function(){var _this=this;return{titleTemplate:function(title){return _this.error?_this.$tr("kolibriTitleMessage",{title:_this.$tr("errorPageTitle")}):title?_this.$tr("kolibriTitleMessage",{title:title}):_this.coreString("kolibriLabel")},title:this.pageTitle}},components:{AlsoInThis:normalizeComponent(AlsoInThisvue_type_script_lang_js,AlsoInThisvue_type_template_id_0744d5e6_scoped_true_render,[],!1,null,"0744d5e6",null).exports,AppError:AppError,AuthMessage:external_kolibriCoreAppGlobal_coreVue_components_AuthMessage_default(),ContentPage:ContentPage,SidePanelModal:SidePanelModal,GlobalSnackbar:GlobalSnackbar,LearningActivityBar:LearningActivityBar,LearningActivityChip:LearningActivityChip,CurrentlyViewedResourceMetadata:CurrentlyViewedResourceMetadata,SkipNavigationLink:SkipNavigationLink},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],setup:function(props){var currentInstance=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.getCurrentInstance)().proxy,store=currentInstance.$store,router=currentInstance.$router,_useCoreLearn=useCoreLearn(),canDownloadExternally=_useCoreLearn.canDownloadExternally,canAddDownloads=_useCoreLearn.canAddDownloads,_useContentNodeProgre=useContentNodeProgress(),fetchContentNodeProgress=_useContentNodeProgre.fetchContentNodeProgress,fetchContentNodeTreeProgress=_useContentNodeProgre.fetchContentNodeTreeProgress,contentNodeProgressMap=_useContentNodeProgre.contentNodeProgressMap,_useChannels=useChannels(),channelsMap=_useChannels.channelsMap,fetchChannels=_useChannels.fetchChannels,fetchLesson=useLearnerResources().fetchLesson,_useContentLink=useContentLink(),back=_useContentLink.back,genExternalBackURL=_useContentLink.genExternalBackURL,_currentDeviceData=currentDeviceData(),baseurl=_currentDeviceData.baseurl,deviceName=_currentDeviceData.deviceName,_useDownloadRequests=useDownloadRequests(),addDownloadRequest=_useDownloadRequests.addDownloadRequest,downloadRequestMap=_useDownloadRequests.downloadRequestMap,downloadRequestsTranslator=_useDownloadRequests.downloadRequestsTranslator,pollUserDownloadRequests=_useDownloadRequests.pollUserDownloadRequests,downloadRequestLoading=_useDownloadRequests.loading,deviceFormTranslator=(0,external_kolibriCoreAppGlobal_utils_i18n_namespaceObject.crossComponentTranslator)(external_kolibriCoreAppGlobal_coreVue_componentSets_sync_namespaceObject.AddDeviceForm),_useUser=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()(),currentUserId=_useUser.currentUserId,isUserLoggedIn=_useUser.isUserLoggedIn,isCoach=_useUser.isCoach,isAdmin=_useUser.isAdmin,isSuperuser=_useUser.isSuperuser,channel=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),content=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(null),loading=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(!1);function _loadTopicsContent(shouldResolve,baseurl){var id=props.id;return Promise.all([external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchModel({id:id,getParams:{baseurl:baseurl}}),fetchChannels({baseurl:baseurl})]).then((function(_ref){var fetchedContent=TopicsContentPagevue_type_script_lang_js_slicedToArray(_ref,1)[0];if(shouldResolve()){var currentChannel=channelsMap[fetchedContent.channel_id];if(!currentChannel)return void router.replace({name:constants_PageNames.CONTENT_UNAVAILABLE});set(channel,currentChannel),set(content,fetchedContent),set(loading,!1),store.commit("CORE_SET_ERROR",null)}}),(function(error){shouldResolve()&&store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))}function showTopicsContent(){var deviceId=props.deviceId;set(loading,!0),store.commit("SET_PAGE_NAME",constants_PageNames.TOPICS_CONTENT),set(channel,null),set(content,null);var promise,shouldResolve=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);return promise=deviceId?setCurrentDevice(deviceId).then((function(device){var baseurl=device.base_url;return shared_get(canAddDownloads)&&pollUserDownloadRequests({contentnode_id:props.id}),_loadTopicsContent(shouldResolve,baseurl)})):_loadTopicsContent(shouldResolve),promise.catch((function(error){if(shouldResolve()){if(error===StudioNotAllowedError||error.response&&410===error.response.status)return void router.replace({name:constants_PageNames.LIBRARY});store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}}))}return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)((function(){return props.id}),showTopicsContent),showTopicsContent(),{baseurl:baseurl,deviceName:deviceName,canDownloadExternally:canDownloadExternally,contentNodeProgressMap:contentNodeProgressMap,fetchContentNodeProgress:fetchContentNodeProgress,fetchContentNodeTreeProgress:fetchContentNodeTreeProgress,fetchLesson:fetchLesson,canAddDownloads:canAddDownloads,back:back,genExternalBackURL:genExternalBackURL,addDownloadRequest:addDownloadRequest,downloadRequestMap:downloadRequestMap,downloadRequestsTranslator:downloadRequestsTranslator,deviceFormTranslator:deviceFormTranslator,content:content,channel:channel,loading:loading,downloadRequestLoading:downloadRequestLoading,isUserLoggedIn:isUserLoggedIn,isCoach:isCoach,isAdmin:isAdmin,isSuperuser:isSuperuser,currentUserId:currentUserId}},props:{authorized:{type:Boolean,required:!1,default:!0},authorizedRole:{type:String,default:null},deviceId:{type:String,default:null},id:{type:String,required:!0}},data:function(){return{bookmark:null,sidePanelContent:null,showViewResourcesSidePanel:!1,nextFolder:null,viewResourcesContents:[],resourcesSidePanelFetched:!1,resourcesSidePanelLoading:!1,contentPageMounted:!1,lesson:null,showConnectionErrorModal:!1}},computed:TopicsContentPagevue_type_script_lang_js_objectSpread(TopicsContentPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({error:function(state){return state.core.error},blockDoubleClicks:function(state){return state.core.blockDoubleClicks}})),{},{isCoachContent:function(){return this.content&&this.content.coach_content?1:0},contentProgress:function(){return this.content?this.contentNodeProgressMap[this.content.content_id]:null},contentKind:function(){return this.content?this.content.kind:null},contentDuration:function(){return this.content?this.content.duration:null},contentLearningActivities:function(){return this.content?this.content.learning_activities:[]},practiceQuiz:function(){return get_default()(this,["content","options","modality"])===Modalities_QUIZ},notAuthorized:function(){return!!(this.error&&this.error.response&&this.error.response.status&&403==this.error.response.status)||!this.authorized},resourceTitle:function(){return this.content?this.content.title:""},allowMarkComplete:function(){return get_default()(this,["content","options","completion_criteria","learner_managed"],!1)},lessonContext:function(){return Boolean(this.lessonId)},lessonId:function(){return get_default()(this.back,"params.lessonId",null)},viewResourcesTitle:function(){return this.lessonContext?this.$tr("nextInLesson"):this.content&&this.content.ancestors.slice(-1)[0].title},timeSpent:function(){return this.contentPageMounted?this.$refs.contentPage.time_spent:0},currentResourceId:function(){return this.content?this.content.id:""},missingLessonResources:function(){return this.lesson&&this.lesson.resources.some((function(c){return!c.contentnode}))},isRemoteContent:function(){return Boolean(this.deviceId)},allowDownloads:function(){return this.isUserLoggedIn&&this.canAddDownloads&&this.isRemoteContent},downloadRequestedByLearner:function(){var _this$content;return this.allowDownloads&&Boolean(this.downloadRequestMap[null===(_this$content=this.content)||void 0===_this$content?void 0:_this$content.id])},downloadableByLearner:function(){var _this$content2;return this.allowDownloads&&!(null!==(_this$content2=this.content)&&void 0!==_this$content2&&_this$content2.admin_imported)},isDownloading:function(){return this.downloadRequestedByLearner&&"PENDING"===this.downloadRequestMap[this.content.id].status},isDownloaded:function(){var _this$content3,_this$downloadRequest,_this$content4;return(null===(_this$content3=this.content)||void 0===_this$content3?void 0:_this$content3.admin_imported)||this.downloadRequestedByLearner&&"COMPLETED"===(null===(_this$downloadRequest=this.downloadRequestMap[null===(_this$content4=this.content)||void 0===_this$content4?void 0:_this$content4.id])||void 0===_this$downloadRequest?void 0:_this$downloadRequest.status)},showDownloadButton:function(){return this.downloadableByLearner&&!this.downloadRequestLoading&&!this.loading&&!this.isDownloaded},allowBookmark:function(){return this.isUserLoggedIn&&(!this.isRemoteContent||this.isDownloaded)}}),watch:{content:function(newContent,oldContent){!newContent||oldContent&&newContent.id===oldContent.id||this.initializeState()},showViewResourcesSidePanel:function(newVal,oldVal){!0===newVal?this.stopMainScroll(!0):this.stopMainScroll(!1),newVal&&!oldVal&&this.getSidebarInfo()},sidePanelContent:function(newVal){null!==newVal?this.stopMainScroll(!0):this.stopMainScroll(!1)}},created:function(){this.initializeState()},methods:{initializeState:function(){var _this2=this;if(this.bookmark=null,this.showViewResourcesSidePanel=!1,this.nextFolder=null,this.viewResourcesContents=[],this.resourcesSidePanelFetched=!1,this.resourcesSidePanelLoading=!1,this.content){var id=this.content.id;external_kolibriCoreAppGlobal_client_default()({method:"get",url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:bookmarks-list"](),params:{contentnode_id:this.content.id}}).then((function(response){_this2.content&&_this2.content.id===id&&(_this2.bookmark=response.data[0]||!1)}))}},getSidebarInfo:function(){var _this3=this;if(!this.resourcesSidePanelFetched&&!this.resourcesSidePanelLoading){this.resourcesSidePanelLoading=!0;var promise=Promise.resolve();this.lessonId?promise=this.fetchLessonSiblings():this.content&&this.content.id&&(promise=this.fetchSiblings()),promise&&promise.then((function(){_this3.resourcesSidePanelLoading=!1,_this3.resourcesSidePanelFetched=!0}))}},fetchLessonSiblings:function(){var _this4=this;return this.fetchLesson({lessonId:this.lessonId}).then((function(lesson){_this4.lesson=lesson,_this4.viewResourcesContents=lesson.resources.filter((function(n){return n.contentnode})).map((function(n){return n.contentnode}))}))},fetchSiblings:function(){var _this5=this;if(!this.content)return Promise.resolve();var fetchGrandparent=this.content.ancestors.length>1,treeParams={id:fetchGrandparent?this.content.ancestors.slice(-2)[0].id:this.content.parent,params:{include_coach_content:this.isAdmin||this.isCoach||this.isSuperuser,depth:fetchGrandparent?2:1,baseurl:this.baseurl}};return this.isUserLoggedIn&&!this.baseurl&&this.fetchContentNodeTreeProgress(treeParams),external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchTree(treeParams).then((function(ancestor){var parent,nextFolders;if(fetchGrandparent){var parentIndex=ancestor.children.results.findIndex((function(c){return c.id===_this5.content.parent}));parent=ancestor.children.results[parentIndex],nextFolders=ancestor.children.results.slice(parentIndex+1)}else{parent=ancestor;var contentIndex=ancestor.children.results.findIndex((function(c){return c.id===_this5.content.id}));nextFolders=ancestor.children.results.slice(contentIndex+1)}_this5.nextFolder=nextFolders.find((function(c){return c.kind===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentNodeKinds.TOPIC}))||null,_this5.viewResourcesContents=parent.children.results.filter((function(n){return n.id}))}))},navigateBack:function(){constants_PageNames[this.back.name]||constants_ClassesPageNames[this.back.name]?this.$router.push(this.back):window.location.replace(this.genExternalBackURL())},openSidePanel:function(){this.sidePanelContent=this.content},toggleBookmark:function(){var _this6=this;if(this.content)if(this.bookmark)external_kolibriCoreAppGlobal_client_default()({method:"delete",url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:bookmarks_detail"](this.bookmark.id)}).then((function(){_this6.bookmark=!1}));else if(!1===this.bookmark){var id=this.content.id;external_kolibriCoreAppGlobal_client_default()({method:"post",url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:bookmarks-list"](),data:{contentnode_id:id,user:this.currentUserId}}).then((function(response){_this6.content&&_this6.content.id===id&&(_this6.bookmark=response.data)}))}},toggleResourceList:function(){this.showViewResourcesSidePanel=!0},findFirstEl:function(){this.$refs.embeddedPanel?this.$refs.embeddedPanel.focusFirstEl():this.$refs.resourcePanel.focusFirstEl()},openCompletionModal:function(){this.$refs.contentPage&&this.$refs.contentPage.displayCompletionModal()},handleRemoteDownloadRequest:function(){this.addDownloadRequest(this.content)},onError:function(error){error&&error.error===external_kolibriCoreAppGlobal_coreVue_vuex_constants_namespaceObject.ContentErrorConstants.LOADING_ERROR&&this.deviceId&&(this.showConnectionErrorModal=!0)},goToAllLibraries:function(){this.$router.push({name:constants_PageNames.EXPLORE_LIBRARIES})},stopMainScroll:function(sidePanelVisible){var mainWrapperElement=this.$refs.mainWrapper;mainWrapperElement.style.position=sidePanelVisible?"fixed":null}},$trs:{kolibriTitleMessage:{message:"{ title } - Kolibri",context:"DO NOT TRANSLATE\nCopy the source string."},errorPageTitle:{message:"Error",context:"When Kolibri throws an error, this is the text that's used as the title of the error page. The description of the error follows below."},nextInLesson:{message:"Next in lesson",context:"Refers to the next learning resource in a lesson."}}},TopicsContentPage=normalizeComponent(TopicsContentPagevue_type_script_lang_js,TopicsContentPagevue_type_template_id_e89855e4_scoped_true_render,[],!1,null,"e89855e4",null).exports,ContentUnavailablePagevue_type_template_id_7a2b7890_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("LearnAppBarPage",{attrs:{appBarTitle:_vm.learnString("learnLabel")}},[_c("h1",[_vm._v(_vm._s(_vm.$tr("header")))]),_c("p",[_vm.deviceContentUrl?_c("KExternalLink",{attrs:{text:_vm.$tr("adminLink"),href:_vm.deviceContentUrl}}):_vm._e()],1),_vm.showLearnerText?_c("p",[_vm._v("\n    "+_vm._s(_vm.$tr("learnerText"))+"\n  ")]):_vm._e()])};function ContentUnavailablePagevue_type_script_lang_js_typeof(o){return ContentUnavailablePagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ContentUnavailablePagevue_type_script_lang_js_typeof(o)}function ContentUnavailablePagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ContentUnavailablePagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ContentUnavailablePagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ContentUnavailablePagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ContentUnavailablePagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ContentUnavailablePagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ContentUnavailablePagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ContentUnavailablePagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ContentUnavailablePagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}ContentUnavailablePagevue_type_template_id_7a2b7890_scoped_true_render._withStripped=!0;var ContentUnavailablePage=normalizeComponent({name:"ContentUnavailablePage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{LearnAppBarPage:LearnAppBarPage},mixins:[commonLearnStrings],computed:ContentUnavailablePagevue_type_script_lang_js_objectSpread(ContentUnavailablePagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["canManageContent","isLearner"])),{},{deviceContentUrl:function(){var deviceContentUrl=external_kolibriCoreAppGlobal_urls_default()["kolibri:kolibri.plugins.device:device_management"];return deviceContentUrl&&this.canManageContent?"".concat(deviceContentUrl(),"#/content"):""},showLearnerText:function(){return this.isLearner&&!this.canManageContent}}),$trs:{header:{message:"No resources available",context:"Message displayed when there are no learning resources available for the learner to view."},adminLink:{message:"Import channels to your device",context:"Message for admin indicating the possibility of importing channels into Kolibri."},learnerText:{message:"Ask your coach or administrator for assistance",context:"Description on the 'No resources available' page. A learner will see this if no resource have been assigned to them."},documentTitle:{message:"Resource unavailable",context:"Message displays if a resource has been removed or is not available for some other reason."}}},ContentUnavailablePagevue_type_template_id_7a2b7890_scoped_true_render,[],!1,null,"7a2b7890",null).exports,BookmarkPagevue_type_template_id_33acfee0_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("LearnAppBarPage",{attrs:{appBarTitle:_vm.learnString("learnLabel")}},[_c("div",{attrs:{id:"main",role:"main"}},[_c("h1",[_vm._v("\n      "+_vm._s(_vm.$tr("bookmarksHeader"))+"\n    ")]),_vm.bookmarks.length||_vm.loading?_vm._l(_vm.bookmarks,(function(contentNode){return _c("CardList",{key:contentNode.id,staticClass:"card-grid-item",attrs:{contentNode:contentNode,isMobile:_vm.windowIsSmall,to:_vm.genContentLinkBackLinkCurrentPage(contentNode.id,contentNode.is_leaf),createdDate:contentNode.bookmark?contentNode.bookmark.created:null},scopedSlots:_vm._u([{key:"footer",fn:function(){return[_c("HybridLearningFooter",{attrs:{contentNode:contentNode,bookmarked:!0},on:{toggleInfoPanel:function($event){return _vm.toggleInfoPanel(contentNode)},removeFromBookmarks:function($event){return _vm.removeFromBookmarks(contentNode.bookmark)}}})]},proxy:!0}],null,!0)})})):_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("noBookmarks"))+"\n    ")]),_vm.more&&!_vm.loading?_c("KButton",{attrs:{"data-test":"load-more-button",text:_vm.coreString("viewMoreAction")},on:{click:_vm.loadMore}}):_vm.loading?_c("KCircularLoader",{attrs:{delay:!1}}):_vm._e()],2),_vm.sidePanelContent?_c("SidePanelModal",{attrs:{alignment:"right",closeButtonIconType:"close"},on:{closePanel:function($event){_vm.sidePanelContent=null},shouldFocusFirstEl:function($event){return _vm.findFirstEl()}},scopedSlots:_vm._u([{key:"header",fn:function(){return _vm._l(_vm.sidePanelContent.learning_activities,(function(activity){return _c("div",{key:activity,staticClass:"side-panel-chips",class:_vm.$computedClass({"::after":{content:"",flex:"auto"}})},[_c("LearningActivityChip",{staticClass:"chip",staticStyle:{"margin-left":"8px","margin-bottom":"8px"},attrs:{kind:activity}})],1)}))},proxy:!0}],null,!1,1103655693)},[_c("BrowseResourceMetadata",{ref:"resourcePanel",attrs:{content:_vm.sidePanelContent,showLocationsInChannel:!0,canDownloadExternally:_vm.canDownloadExternally}})],1):_vm._e()],1)};function BookmarkPagevue_type_script_lang_js_typeof(o){return BookmarkPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},BookmarkPagevue_type_script_lang_js_typeof(o)}function BookmarkPagevue_type_script_lang_js_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return BookmarkPagevue_type_script_lang_js_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return BookmarkPagevue_type_script_lang_js_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BookmarkPagevue_type_script_lang_js_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BookmarkPagevue_type_script_lang_js_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function BookmarkPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function BookmarkPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?BookmarkPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){BookmarkPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):BookmarkPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function BookmarkPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=BookmarkPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=BookmarkPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==BookmarkPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}BookmarkPagevue_type_template_id_33acfee0_scoped_true_render._withStripped=!0;var BookmarkPage=normalizeComponent({name:"BookmarkPage",metaInfo:function(){return{title:this.coreString("bookmarksLabel")}},components:{BrowseResourceMetadata:BrowseResourceMetadata,SidePanelModal:SidePanelModal,LearningActivityChip:LearningActivityChip,CardList:CardList,LearnAppBarPage:LearnAppBarPage,HybridLearningFooter:HybridLearningFooter},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){return{canDownloadExternally:useCoreLearn().canDownloadExternally,fetchContentNodeProgress:useContentNodeProgress().fetchContentNodeProgress,genContentLinkBackLinkCurrentPage:useContentLink().genContentLinkBackLinkCurrentPage}},data:function(){return{loading:!0,bookmarks:[],more:null,sidePanelContent:null}},created:function(){var _this=this;external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchBookmarks({params:{limit:25,available:!0}}).then((function(data){_this.more=data.more,_this.bookmarks=data.results?data.results:[],_this.loading=!1,_this.fetchContentNodeProgress({ids:_this.bookmarks.map((function(b){return b.id}))})}))},methods:BookmarkPagevue_type_script_lang_js_objectSpread(BookmarkPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapActions)(["createSnackbar"])),{},{loadMore:function(){var _this2=this;this.loading||(this.loading=!0,external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchBookmarks({params:this.more}).then((function(data){var _this2$bookmarks;_this2.more=data.more,(_this2$bookmarks=_this2.bookmarks).push.apply(_this2$bookmarks,BookmarkPagevue_type_script_lang_js_toConsumableArray(data.results)),_this2.loading=!1,_this2.fetchContentNodeProgress({ids:data.results.map((function(b){return b.id}))})})))},removeFromBookmarks:function(bookmark){var _this3=this;bookmark&&external_kolibriCoreAppGlobal_client_default()({method:"delete",url:external_kolibriCoreAppGlobal_urls_default()["kolibri:core:bookmarks_detail"](bookmark.id)}).then((function(){_this3.bookmarks=_this3.bookmarks.filter((function(bm){return bm.bookmark.id!==bookmark.id})),_this3.createSnackbar(_this3.$tr("removedNotification"))}))},toggleInfoPanel:function(content){this.sidePanelContent=content},findFirstEl:function(){this.$refs.resourcePanel.focusFirstEl()}}),$trs:{bookmarksHeader:{message:"Bookmarked resources",context:"Header on the 'Bookmarks' page with the list of the resources user previously saved."},removedNotification:{message:"Removed from bookmarks",context:"Notification indicating that a resource has been removed from the Bookmarks page."},noBookmarks:{message:"You have no bookmarked resources",context:"Status message in the 'Bookmarks' page when user did not bookmark any resources."}}},BookmarkPagevue_type_template_id_33acfee0_scoped_true_render,[],!1,null,"33acfee0",null).exports,ExploreLibrariesPagevue_type_template_id_6a30d5d3_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{appBarTitle:_vm.learnString("exploreLibraries"),route:_vm.back,primary:!1,loading:_vm.loading}},[_c("div",{staticClass:"page-header",style:_vm.pageHeaderStyle,attrs:{"data-test":"page-header"}},[_c("h1",[_vm._v("\n      "+_vm._s(_vm.$tr("allLibraries"))+"\n    ")]),_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("showingLibraries"))+"\n    ")])]),_vm.loading?_c("div",[_c("KCircularLoader")],1):_c("FadeInTransitionGroup",[_vm._l(_vm.pinnedDevices,(function(device){return _c("LibraryItem",{key:device.instance_id,attrs:{device:device,channels:_vm.deviceChannelsMap[device.instance_id],channelsToDisplay:_vm.cardsToDisplay,pinned:!0},on:{togglePin:_vm.handlePinToggle}})})),_vm.areMoreDevicesAvailable?_c("div",{key:"moreDevices"},[_vm.pinnedDevicesExist?_c("div",{attrs:{"data-test":"more-libraries"}},[_c("h2",[_vm._v(_vm._s(_vm.learnString("moreLibraries")))]),_vm.displayShowButton?_c("KButton",{attrs:{"data-test":"show-button",text:_vm.coreString("showAction"),primary:!1},on:{click:_vm.loadMoreDevices}}):_vm._e()],1):_vm._e(),_c("FadeInTransitionGroup",_vm._l(_vm.unpinnedDevices.slice(0,_vm.moreDevices),(function(device){return _c("LibraryItem",{key:device.instance_id,attrs:{device:device,channels:_vm.deviceChannelsMap[device.instance_id],channelsToDisplay:_vm.cardsToDisplay,pinned:!1},on:{togglePin:_vm.handlePinToggle}})})),1),_vm.displayShowMoreButton?_c("KButton",{attrs:{"data-test":"show-more-button",text:_vm.coreString("showMoreAction"),primary:!1},on:{click:_vm.loadMoreDevices}}):_vm._e()],1):_vm._e()],2)],1)};ExploreLibrariesPagevue_type_template_id_6a30d5d3_scoped_true_render._withStripped=!0;var ExploreLibrariesPage=normalizeComponent({name:"ExploreLibrariesPage",components:{FadeInTransitionGroup:FadeInTransitionGroup,ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),LibraryItem:LibraryItem},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],setup:function(){var _useDevices=useDevices(),networkDevicesWithChannels=_useDevices.networkDevicesWithChannels,keepDeviceChannelsUpdated=_useDevices.keepDeviceChannelsUpdated,deviceChannelsMap=_useDevices.deviceChannelsMap,isLoadingChannels=_useDevices.isLoadingChannels,_usePinnedDevices=usePinnedDevices(networkDevicesWithChannels),handlePinToggle=_usePinnedDevices.handlePinToggle,fetchPinsForUser=_usePinnedDevices.fetchPinsForUser,userPinsMap=_usePinnedDevices.userPinsMap,pinnedDevices=_usePinnedDevices.pinnedDevices,unpinnedDevices=_usePinnedDevices.unpinnedDevices,pinnedDevicesExist=_usePinnedDevices.pinnedDevicesExist,back=useContentLink().back,makeComputedCardCount=useCardLayoutSpan().makeComputedCardCount,moreDevices=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.ref)(0);keepDeviceChannelsUpdated(),fetchPinsForUser().then((function(){set(moreDevices,shared_get(pinnedDevicesExist)?0:4)})),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.watch)(pinnedDevicesExist,(function(newVal,oldVal){!oldVal&&newVal?set(moreDevices,Math.max(4-shared_get(pinnedDevices).length,0)):!oldVal||newVal||shared_get(moreDevices)||set(moreDevices,4)}));var cardsToDisplay=makeComputedCardCount(1,3);return{handlePinToggle:handlePinToggle,pinnedDevices:pinnedDevices,unpinnedDevices:unpinnedDevices,pinnedDevicesExist:pinnedDevicesExist,userPinsMap:userPinsMap,deviceChannelsMap:deviceChannelsMap,networkDevicesWithChannels:networkDevicesWithChannels,back:back,loading:isLoadingChannels,moreDevices:moreDevices,cardsToDisplay:cardsToDisplay}},computed:{areMoreDevicesAvailable:function(){var _this$unpinnedDevices;return(null===(_this$unpinnedDevices=this.unpinnedDevices)||void 0===_this$unpinnedDevices?void 0:_this$unpinnedDevices.length)>0},displayShowButton:function(){return 0===this.moreDevices&&this.areMoreDevicesAvailable},displayShowMoreButton:function(){var _this$unpinnedDevices2;return!this.displayShowButton&&this.moreDevices<(null===(_this$unpinnedDevices2=this.unpinnedDevices)||void 0===_this$unpinnedDevices2?void 0:_this$unpinnedDevices2.length)},pageHeaderStyle:function(){return{backgroundColor:this.$themeTokens.surface,color:this.$themeTokens.text}}},methods:{loadMoreDevices:function(){this.moreDevices+=4}},$trs:{allLibraries:{message:"All libraries",context:"A header for Explore Libraries page"},showingLibraries:{message:"Showing libraries on other devices around you",context:"Description of the kind of devices displayed"},allResources:{message:"All resources",context:"A filter option to show all resources"},myDownloadsOnly:{message:"My downloads only",context:"A filter option to show only downloaded resources"},skip:{message:"Skip",context:"An action to filter only downloaded resources"},useDownloadedResourcesFilter:{message:"Use this filter to only see resources you have downloaded from this library.",context:"A dialog message displayed when filtering only downloaded resources"}}},ExploreLibrariesPagevue_type_template_id_6a30d5d3_scoped_true_render,[],!1,null,"6a30d5d3",null).exports;function handlers_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return handlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return handlers_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function handlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var handlers_fetchContentNodeProgress=useContentNodeProgress().fetchContentNodeProgress;var fetchClass=useLearnerResources().fetchClass;var external_kolibriCoreAppGlobal_utils_exams_namespaceObject=kolibriCoreAppGlobal.utils.exams;function examViewer_handlers_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=examViewer_handlers_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function handlers_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||examViewer_handlers_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function examViewer_handlers_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return examViewer_handlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?examViewer_handlers_arrayLikeToArray(o,minLen):void 0}}function examViewer_handlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function examReportViewer_handlers_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return examReportViewer_handlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return examReportViewer_handlers_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function examReportViewer_handlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ExamPagevue_type_template_id_72848460_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{route:_vm.homePageLink,appBarTitle:_vm.exam.title||""}},[_vm.loading?_c("KCircularLoader"):_c("KGrid",{attrs:{gridStyle:_vm.gridStyle}},[_vm.windowIsLarge?_c("KGridItem",{ref:"questionListWrapper",staticClass:"column-pane",attrs:{layout12:{span:4}}},[_c("div",{staticClass:"column-contents-wrapper"},[_c("KPageContainer",[_c("div",[_c("p",[_vm._v(_vm._s(_vm.coreString("timeSpentLabel")))]),_c("div",{style:{paddingBottom:"8px"}},[_c("TimeDuration",{staticClass:"timer",attrs:{seconds:_vm.time_spent}})],1),_vm.content&&_vm.content.duration?_c("p",[_vm._v("\n              "+_vm._s(_vm.learnString("suggestedTime"))+"\n            ")]):_vm._e(),_vm.content&&_vm.content.duration?_c("SuggestedTime",{staticClass:"timer",attrs:{seconds:_vm.content.duration}}):_vm._e()],1),_c("span",{staticClass:"divider",style:{borderTop:"solid 1px "+_vm.$themeTokens.fineLine}}),_c("AnswerHistory",{attrs:{pastattempts:_vm.pastattempts,questions:_vm.questions,questionNumber:_vm.questionNumber,wrapperComponentRefs:this.$refs},on:{goToQuestion:_vm.goToQuestion}})],1)],1)]):_vm._e(),_c("KGridItem",{staticClass:"column-pane",attrs:{layout12:{span:8}}},[_c("main",{class:{"column-contents-wrapper":!_vm.windowIsSmall}},[_c("KPageContainer",[_c("h1",[_vm._v("\n            "+_vm._s(_vm.$tr("question",{num:_vm.questionNumber+1,total:_vm.exam.question_count}))+"\n          ")]),_vm.content&&_vm.itemId?_c("KContentRenderer",{ref:"contentRenderer",attrs:{kind:_vm.content.kind,files:_vm.content.files,available:_vm.content.available,extraFields:_vm.content.extra_fields,itemId:_vm.itemId,assessment:!0,allowHints:!1,answerState:_vm.currentAttempt.answer},on:{interaction:_vm.saveAnswer}}):_c("ResourceSyncingUiAlert",{attrs:{multiple:!1}})],1),_c("BottomAppBar",{attrs:{dir:_vm.bottomBarLayoutDirection,maxWidth:null}},[_c(_vm.windowIsSmall?"div":"KButtonGroup",{tag:"component"},[_c("KButton",{attrs:{disabled:_vm.questionNumber===_vm.exam.question_count-1,primary:!0,dir:_vm.layoutDirReset,"aria-label":_vm.$tr("nextQuestion"),appearanceOverrides:_vm.navigationButtonStyle},on:{click:function($event){return _vm.goToQuestion(_vm.questionNumber+1)}},scopedSlots:_vm._u([{key:"iconAfter",fn:function(){return[_c("KIcon",{style:_vm.navigationIconStyleNext,attrs:{icon:"forward",color:_vm.$themeTokens.textInverted}})]},proxy:!0}])},[_vm.displayNavigationButtonLabel?_c("span",[_vm._v(_vm._s(_vm.$tr("nextQuestion")))]):_vm._e()]),_c("KButton",{class:{"left-align":_vm.windowIsSmall},attrs:{disabled:0===_vm.questionNumber,primary:!0,dir:_vm.layoutDirReset,appearanceOverrides:_vm.navigationButtonStyle,"aria-label":_vm.$tr("previousQuestion")},on:{click:function($event){return _vm.goToQuestion(_vm.questionNumber-1)}},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("KIcon",{style:_vm.navigationIconStylePrevious,attrs:{icon:"back",color:_vm.$themeTokens.textInverted}})]},proxy:!0}])},[_vm.displayNavigationButtonLabel?_c("span",[_vm._v(_vm._s(_vm.$tr("previousQuestion")))]):_vm._e()])],1),_vm.windowIsLarge?_c("div",{staticClass:"left-align",attrs:{dir:_vm.layoutDirReset}},[_vm.missingResources?_vm._e():_c("div",{staticClass:"answered"},[_vm._v("\n              "+_vm._s(_vm.answeredText)+"\n            ")]),_vm.missingResources?_vm._e():_c("KButton",{attrs:{text:_vm.$tr("submitExam"),primary:!1,appearance:"flat-button"},on:{click:_vm.toggleModal}}),_vm.missingResources?_c("div",{staticClass:"nosubmit"},[_vm._v("\n              "+_vm._s(_vm.$tr("unableToSubmit"))+"\n            ")]):_vm._e()],1):_vm._e()],1),_vm.windowIsLarge?_vm._e():_c("KPageContainer",[_c("div",{staticClass:"bottom-block",class:{windowIsSmall:_vm.windowIsSmall}},[_vm.missingResources?_vm._e():_c("div",{staticClass:"answered"},[_vm._v("\n              "+_vm._s(_vm.answeredText)+"\n            ")]),_vm.missingResources?_vm._e():_c("KButton",{attrs:{text:_vm.$tr("submitExam"),primary:!1,appearance:"flat-button"},on:{click:_vm.toggleModal}}),_vm.missingResources?_c("div",{staticClass:"nosubmit"},[_vm._v("\n              "+_vm._s(_vm.$tr("unableToSubmit"))+"\n            ")]):_vm._e()],1)])],1)])],1),_vm.submitModalOpen?_c("KModal",{attrs:{title:_vm.$tr("submitExam"),submitText:_vm.$tr("submitExam"),cancelText:_vm.coreString("goBackAction")},on:{submit:_vm.finishExam,cancel:_vm.toggleModal}},[_c("p",[_vm._v(_vm._s(_vm.$tr("areYouSure")))]),_vm.questionsUnanswered?_c("p",[_vm._v("\n      "+_vm._s(_vm.$tr("unanswered",{numLeft:_vm.questionsUnanswered}))+"\n    ")]):_vm._e()]):_vm._e()],1)};ExamPagevue_type_template_id_72848460_scoped_true_render._withStripped=!0;var AnswerHistoryvue_type_template_id_4f750d46_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{attrs:{"aria-label":_vm.$tr("jumpToQuestion"),role:"navigation"}},[_c("ul",{staticClass:"history-list"},_vm._l(_vm.questions,(function(question,index){return _c("li",{key:index,ref:"item-"+index,refInFor:!0,staticClass:"list-item"},[_c("button",{staticClass:"clickable",class:_vm.buttonClass(index),attrs:{disabled:_vm.questionNumber===index},on:{click:function($event){return _vm.$emit("goToQuestion",index)}}},[question.missing?_c("KIcon",{staticClass:"dot",attrs:{icon:"warning",color:_vm.$themePalette.orange.v_400}}):_c("KIcon",{staticClass:"dot",attrs:{icon:"notStarted",color:_vm.isAnswered(question)?_vm.$themeTokens.progress:_vm.$themeTokens.textDisabled}}),_c("div",{staticClass:"text"},[_vm._v("\n          "+_vm._s(_vm.questionText(index+1))+"\n        ")])],1)])})),0)])};function ExamPagevue_type_script_lang_js_typeof(o){return ExamPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ExamPagevue_type_script_lang_js_typeof(o)}function ExamPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ExamPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ExamPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){ExamPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ExamPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ExamPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=ExamPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ExamPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==ExamPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}AnswerHistoryvue_type_template_id_4f750d46_scoped_true_render._withStripped=!0;var ExamPagevue_type_script_lang_js={name:"ExamPage",metaInfo:function(){return{title:this.exam.title}},components:{AnswerHistory:normalizeComponent({name:"AnswerHistory",props:{pastattempts:{type:Array,required:!0},questions:{type:Array,required:!0},questionNumber:{type:Number,required:!0},wrapperComponentRefs:{type:Object,required:!0}},watch:{questionNumber:function(index){var element=this.$refs["item-".concat(index)][0];if(element&&element.scrollIntoView&&this.wrapperComponentRefs.questionListWrapper){var container=this.wrapperComponentRefs.questionListWrapper.$el;!function(element,container){return element.offsetTop<container.scrollTop}(element,container)?function(element,container){return element.offsetTop+element.offsetHeight>container.offsetHeight+container.scrollTop}(element,container)&&element.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"}):element.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}}},methods:{questionText:function(num){return this.$tr("question",{num:num})},isAnswered:function(question){var attempt=this.pastattempts.find((function(attempt){return attempt.item===question.item}));return attempt&&attempt.answer},buttonClass:function(index){return this.questionNumber===index?this.$computedClass({backgroundColor:this.$themePalette.grey.v_100}):this.$computedClass({backgroundColor:this.$themeTokens.surface,":hover":{backgroundColor:this.$themePalette.grey.v_100}})}},$trs:{question:{message:"Question { num, number, integer}",context:"In the report section, the 'Answer history' shows the learner if they have answered questions correctly or incorrectly.\n\nOnly translate 'Question'."},jumpToQuestion:{message:"Jump to question",context:"A label for the section of the page that contains all questions as clickable links"}}},AnswerHistoryvue_type_template_id_4f750d46_scoped_true_render,[],!1,null,"4f750d46",null).exports,UiAlert:external_kolibriCoreAppGlobal_coreVue_components_UiAlert_default(),UiIconButton:external_kolibriCoreAppGlobal_coreVue_components_UiIconButton_default(),BottomAppBar:external_kolibriCoreAppGlobal_coreVue_components_BottomAppBar_default(),TimeDuration:external_kolibriCoreAppGlobal_coreVue_components_TimeDuration_default(),SuggestedTime:external_kolibriCoreAppGlobal_coreVue_components_SuggestedTime_default(),ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default(),ResourceSyncingUiAlert:ResourceSyncingUiAlert},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default(),external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],setup:function(){var _useProgressTracking=useProgressTracking();return{pastattempts:_useProgressTracking.pastattempts,time_spent:_useProgressTracking.time_spent,initContentSession:_useProgressTracking.initContentSession,updateContentSession:_useProgressTracking.updateContentSession,startTrackingProgress:_useProgressTracking.startTrackingProgress,stopTrackingProgress:_useProgressTracking.stopTrackingProgress}},data:function(){return{submitModalOpen:!1,startTime:Date.now()}},computed:ExamPagevue_type_script_lang_js_objectSpread(ExamPagevue_type_script_lang_js_objectSpread(ExamPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({loading:function(state){return state.core.loading}})),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("examViewer",["exam","contentNodeMap","questions","questionNumber"])),{},{gridStyle:function(){return this.windowIsSmall?{}:{position:"fixed",top:"64px",right:"16px",bottom:"72px",left:"16px"}},answeredText:function(){return this.$tr("questionsAnswered",{numAnswered:this.questionsAnswered,numTotal:this.exam.question_count})},backPageLink:function(){return{name:constants_ClassesPageNames.CLASS_ASSIGNMENTS}},homePageLink:function(){return{name:constants_PageNames.HOME}},content:function(){return this.contentNodeMap[this.nodeId]},currentAttempt:function(){var _this=this;return this.pastattempts.find((function(attempt){return attempt.item===_this.attemptLogItemValue}))||{item:this.attemptLogItemValue,complete:!1,time_spent:0,correct:0,answer:null,simple_answer:"",hinted:!1}},currentQuestion:function(){return this.questions[this.questionNumber]},nodeId:function(){return this.currentQuestion?this.currentQuestion.exercise_id:null},missingResources:function(){var _this2=this;return this.questions.some((function(q){return!_this2.contentNodeMap[q.exercise_id]}))},itemId:function(){return this.currentQuestion?this.currentQuestion.question_id:null},attemptLogItemValue:function(){return"".concat(this.nodeId,":").concat(this.itemId)},questionsAnswered:function(){return Object.keys(this.pastattempts.reduce((function(map,attempt){return attempt.answer&&(map[attempt.item]=!0),map}),{})).length},questionsUnanswered:function(){return this.exam.question_count-this.questionsAnswered},debouncedSetAndSaveCurrentExamAttemptLog:function(){return debounce_default()(this.setAndSaveCurrentExamAttemptLog,500)},bottomBarLayoutDirection:function(){return this.isRtl?"ltr":"rtl"},layoutDirReset:function(){return this.isRtl?"rtl":"ltr"},displayNavigationButtonLabel:function(){return this.windowBreakpoint>0},navigationButtonStyle:function(){return this.displayNavigationButtonLabel?{}:{minWidth:"36px",width:"36px",padding:0}},navigationIconStyleNext:function(){return this.displayNavigationButtonLabel?{position:"relative",top:"3px",left:"4px"}:{}},navigationIconStylePrevious:function(){return this.displayNavigationButtonLabel?{position:"relative",top:"3px",left:"-4px"}:{}}}),watch:{attemptLogItemValue:function(newVal,oldVal){newVal!==oldVal&&(this.startTime=Date.now())}},created:function(){var _this3=this;this.initContentSession({quizId:this.$route.params.examId}).then(this.startTrackingProgress).catch((function(err){if(err.response&&403===err.response.status)return _this3.router.replace({name:constants_ClassesPageNames.EXAM_REPORT_VIEWER,params:{userId:_this3.$store.getters.currentUserId,examId:_this3.exam.id,questionNumber:0,questionInteraction:0}});_this3.$store.dispatch("handleApiError",{error:err})}))},methods:{setAndSaveCurrentExamAttemptLog:function(){var _this4=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},close=_ref.close,interaction=_ref.interaction;LearnerClassroomResource.clearCache();var data={};return interaction&&(data.interaction=ExamPagevue_type_script_lang_js_objectSpread(ExamPagevue_type_script_lang_js_objectSpread({},interaction),{},{replace:!0})),close&&(data.progress=1),this.updateContentSession(data).then((function(){close&&_this4.stopTrackingProgress()})).catch((function(){_this4.$router.replace({name:constants_ClassesPageNames.CLASS_ASSIGNMENTS})}))},checkAnswer:function(){return this.$refs.contentRenderer?this.$refs.contentRenderer.checkAnswer():null},saveAnswer:function(){var close=arguments.length>0&&void 0!==arguments[0]&&arguments[0],answer=this.checkAnswer();if(answer&&!isEqual_default()(answer.answerState,this.currentAttempt.answer)){var interaction={answer:answer.answerState,simple_answer:answer.simpleAnswer||"",correct:answer.correct,item:this.attemptLogItemValue,id:this.currentAttempt.id,time_spent:((this.currentAttempt.time_spent||0)+Date.now()-this.startTime)/1e3};return this.startTime=Date.now(),close?this.setAndSaveCurrentExamAttemptLog({close:close,interaction:interaction}):this.debouncedSetAndSaveCurrentExamAttemptLog({interaction:interaction})}return close?this.setAndSaveCurrentExamAttemptLog({close:close}):Promise.resolve()},goToQuestion:function(questionNumber){var _this5=this;(this.debouncedSetAndSaveCurrentExamAttemptLog.flush()||Promise.resolve()).then((function(){_this5.$router.push({name:constants_ClassesPageNames.EXAM_VIEWER,params:{examId:_this5.exam.id,questionNumber:questionNumber}})}))},toggleModal:function(){var _this6=this;if(!this.submitModalOpen)return(this.debouncedSetAndSaveCurrentExamAttemptLog.flush()||Promise.resolve()).then((function(){_this6.submitModalOpen=!_this6.submitModalOpen}));this.submitModalOpen=!this.submitModalOpen},finishExam:function(){var _this7=this;this.saveAnswer(!0).then((function(){_this7.$router.push(_this7.backPageLink)}))}},$trs:{submitExam:{message:"Submit quiz",context:"Action that learner takes to submit their quiz answers so that the coach can review them."},questionsAnswered:{message:"{numAnswered, number} of {numTotal, number} {numTotal, plural, one {question answered} other {questions answered}}",context:'Indicates the number of questions a learner has answered. Only translate "of" and "question/questions answered".'},previousQuestion:{message:"Previous",context:"Button indicating the previous question in a quiz."},nextQuestion:{message:"Next",context:"Button indicating the next question in a quiz."},areYouSure:{message:"You cannot change your answers after you submit",context:"Message a learner sees when they submit answers in an exercise to their coach. It serves as a way of checking that the user is aware that once they've submitted their answers, they cannot change them afterwards."},unanswered:{message:"You have {numLeft, number} {numLeft, plural, one {question unanswered} other {questions unanswered}}",context:"Indicates how many questions the learner has not answered."},question:{message:"Question {num, number, integer} of {total, number, integer}",context:'Indicates which question the user is working on currently and the total number of questions in a quiz.\n\nFor example: "Question 2 of 10".'},unableToSubmit:{message:"Unable to submit quiz because some resources are missing or not supported",context:"Indicates that a learner cannot submit the quiz because they are not able to see all the questions."}}},ExamPage=normalizeComponent(ExamPagevue_type_script_lang_js,ExamPagevue_type_template_id_72848460_scoped_true_render,[],!1,null,"72848460",null).exports,LearnExamReportViewervue_type_template_id_0e630ef4_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ImmersivePage",{attrs:{route:_vm.homePageLink,appBarTitle:_vm.exam.title||""}},[_c("KPageContainer",{staticClass:"container",attrs:{topMargin:50}},[_vm.loading?_c("KCircularLoader"):_vm.exerciseContentNodes&&_vm.exerciseContentNodes.length?_c("div",[_c("ExamReport",{attrs:{contentId:_vm.exam.id,title:_vm.exam.title,userName:_vm.userName,userId:_vm.userId,selectedInteractionIndex:_vm.selectedInteractionIndex,questionNumber:_vm.questionNumber,tryIndex:_vm.tryIndex,exercise:_vm.exercise,exerciseContentNodes:_vm.exerciseContentNodes,navigateTo:_vm.navigateTo,questions:_vm.questions},on:{noCompleteTries:_vm.noCompleteTries}})],1):_c("div",[_c("p",{staticClass:"no-exercise"},[_vm._v("\n        "+_vm._s(_vm.$tr("missingContent"))+"\n      ")])])],1)],1)};function LearnExamReportViewervue_type_script_lang_js_typeof(o){return LearnExamReportViewervue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LearnExamReportViewervue_type_script_lang_js_typeof(o)}function LearnExamReportViewervue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LearnExamReportViewervue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LearnExamReportViewervue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){LearnExamReportViewervue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LearnExamReportViewervue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function LearnExamReportViewervue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=LearnExamReportViewervue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LearnExamReportViewervue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==LearnExamReportViewervue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}LearnExamReportViewervue_type_template_id_0e630ef4_scoped_true_render._withStripped=!0;var LearnExamReportViewer=normalizeComponent({name:"LearnExamReportViewer",metaInfo:function(){return{title:this.$tr("documentTitle",{examTitle:this.exam.title})}},components:{ExamReport:external_kolibriCoreAppGlobal_coreVue_components_ExamReport_default(),ImmersivePage:external_kolibriCoreAppGlobal_coreVue_components_ImmersivePage_default()},computed:LearnExamReportViewervue_type_script_lang_js_objectSpread(LearnExamReportViewervue_type_script_lang_js_objectSpread(LearnExamReportViewervue_type_script_lang_js_objectSpread(LearnExamReportViewervue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("examReportViewer",["exam","exercise","exerciseContentNodes","questionNumber","questions","tryIndex"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("examReportViewer",{classId:function(state){return state.exam.collection},selectedInteractionIndex:function(state){return state.interactionIndex}})),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({userName:function(state){return state.core.session.full_name},userId:function(state){return state.core.session.user_id},loading:function(state){return state.core.loading}})),{},{homePageLink:function(){return{name:constants_PageNames.HOME}}}),methods:{navigateTo:function(tryIndex,questionNumber,interaction){this.$router.push({name:constants_ClassesPageNames.EXAM_REPORT_VIEWER,params:{classId:this.classId,questionInteraction:interaction,questionNumber:questionNumber,tryIndex:tryIndex,examId:this.exam.id}})},noCompleteTries:function(){this.$router.replace({name:constants_ClassesPageNames.CLASS_ASSIGNMENTS,params:{classId:this.classId}})}},$trs:{documentTitle:{message:"Report for { examTitle }",context:"Title indicating for a learner's report page that also indicates the name of the quiz."},missingContent:{message:"This quiz cannot be displayed because some resources were deleted",context:"Error message a user sees if there was a problem accessing a quiz report page. This is because the resource has been removed."}}},LearnExamReportViewervue_type_template_id_0e630ef4_scoped_true_render,[],!1,null,"0e630ef4",null).exports,AllClassesPagevue_type_template_id_e0d485b8_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("LearnAppBarPage",{attrs:{appBarTitle:this.learnString("learnLabel")}},[_c("KBreadcrumbs",{attrs:{items:this.breadcrumbs,ariaLabel:this.learnString("classesAndAssignmentsLabel")}}),this.isUserLoggedIn?_c("YourClasses",{attrs:{classes:this.classrooms,loading:this.loading}}):_c("AuthMessage",{attrs:{authorizedRole:"learner"}})],1)};function AllClassesPagevue_type_script_lang_js_typeof(o){return AllClassesPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},AllClassesPagevue_type_script_lang_js_typeof(o)}function AllClassesPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AllClassesPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AllClassesPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){AllClassesPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AllClassesPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function AllClassesPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=AllClassesPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=AllClassesPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==AllClassesPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}AllClassesPagevue_type_template_id_e0d485b8_scoped_true_render._withStripped=!0;var AllClassesPage=normalizeComponent({name:"AllClassesPage",metaInfo:function(){return{title:this.coreString("classesLabel")}},components:{KBreadcrumbs:KBreadcrumbs,AuthMessage:external_kolibriCoreAppGlobal_coreVue_components_AuthMessage_default(),YourClasses:YourClasses,LearnAppBarPage:LearnAppBarPage},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],computed:AllClassesPagevue_type_script_lang_js_objectSpread(AllClassesPagevue_type_script_lang_js_objectSpread(AllClassesPagevue_type_script_lang_js_objectSpread(AllClassesPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapGetters)(["isUserLoggedIn"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("classes",["classrooms"])),(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)({loading:function(state){return state.core.loading}})),{},{breadcrumbs:function(){return[{text:this.coreString("homeLabel"),link:{name:constants_PageNames.HOME}},{text:this.coreString("classesLabel")}]}})},AllClassesPagevue_type_template_id_e0d485b8_scoped_true_render,[],!1,null,"e0d485b8",null).exports,ClassAssignmentsPagevue_type_template_id_3e346828_scoped_true_render=function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("LearnAppBarPage",{attrs:{appBarTitle:this.learnString("learnLabel")}},[this.loading?_c("KCircularLoader"):_c("div",{attrs:{id:"main",role:"main"}},[_c("KBreadcrumbs",{attrs:{items:this.breadcrumbs,ariaLabel:this.learnString("classesAndAssignmentsLabel")}}),_c("h1",{staticClass:"classroom-name"},[_c("KLabeledIcon",{attrs:{icon:"classes",label:this.className}})],1),_c("AssignedLessonsCards",{attrs:{lessons:this.activeLessons}}),_c("AssignedQuizzesCards",{style:{marginTop:"44px"},attrs:{quizzes:this.activeQuizzes}})],1)],1)};ClassAssignmentsPagevue_type_template_id_3e346828_scoped_true_render._withStripped=!0;var ClassAssignmentsPagevue_type_script_lang_js={name:"ClassAssignmentsPage",metaInfo:function(){return{title:this.$tr("documentTitle")}},components:{AssignedQuizzesCards:AssignedQuizzesCards,AssignedLessonsCards:AssignedLessonsCards,KBreadcrumbs:KBreadcrumbs,LearnAppBarPage:LearnAppBarPage},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings],setup:function(_,_ref){var pollTimeoutId,root=_ref.root,_useLearnerResources=useLearnerResources(),fetchClass=_useLearnerResources.fetchClass,getClass=_useLearnerResources.getClass,getClassActiveLessons=_useLearnerResources.getClassActiveLessons,getClassActiveQuizzes=_useLearnerResources.getClassActiveQuizzes,classId=root.$router.currentRoute.params.classId,classroom=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return getClass(classId)})),className=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return shared_get(classroom)?shared_get(classroom).name:""})),activeLessons=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return getClassActiveLessons(shared_get(classId))})),activeQuizzes=(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.computed)((function(){return getClassActiveQuizzes(shared_get(classId))}));function schedulePoll(){pollTimeoutId=setTimeout(pollForUpdates,3e4)}function pollForUpdates(){fetchClass({classId:classId,force:!0}).then((function(){schedulePoll()}))}return(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onBeforeMount)((function(){schedulePoll()})),(0,external_kolibriCoreAppGlobal_lib_vueCompositionApi_namespaceObject.onBeforeUnmount)((function(){clearTimeout(pollTimeoutId)})),{className:className,activeLessons:activeLessons,activeQuizzes:activeQuizzes}},props:{loading:{type:Boolean,default:!1}},computed:{breadcrumbs:function(){return[{text:this.coreString("homeLabel"),link:{name:constants_PageNames.HOME}},{text:this.coreString("classesLabel"),link:{name:constants_ClassesPageNames.ALL_CLASSES}},{text:this.className}]}},$trs:{documentTitle:{message:"Class assignments",context:"Page/tab title displayed for the Learn page when the learner is enrolled in a class. This is where the learners can see the list of lessons and quizzes coaches have opened and made available for them."}}},ClassAssignmentsPage=normalizeComponent(ClassAssignmentsPagevue_type_script_lang_js,ClassAssignmentsPagevue_type_template_id_3e346828_scoped_true_render,[],!1,null,"3e346828",null).exports,LessonPlaylistPagevue_type_template_id_2b344691_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("LearnAppBarPage",{attrs:{appBarTitle:_vm.learnString("learnLabel")}},[_vm.$store.state.core.loading?_c("KCircularLoader"):_c("div",{attrs:{id:"main",role:"main"}},[_c("KBreadcrumbs",{attrs:{items:_vm.breadcrumbs,ariaLabel:_vm.learnString("classesAndAssignmentsLabel")}}),_c("section",{staticClass:"lesson-details"},[_c("div",[_c("ContentIcon",{staticClass:"lesson-icon",attrs:{kind:"lesson"}}),_c("h1",{staticClass:"title",attrs:{dir:"auto"}},[_vm._v("\n          "+_vm._s(_vm.currentLesson.title)+"\n          "),_vm.lessonHasResources?_c("ProgressIcon",{staticClass:"progress-icon",attrs:{progress:_vm.lessonProgress}}):_vm._e()],1)],1),""!==_vm.currentLesson.description?_c("div",[_c("h3",[_vm._v(_vm._s(_vm.$tr("teacherNote")))]),_c("p",{attrs:{dir:"auto"}},[_vm._v("\n          "+_vm._s(_vm.currentLesson.description)+"\n        ")])]):_vm._e(),_vm.lessonResources.length>_vm.contentNodes.length?_c("ResourceSyncingUiAlert"):_vm._e()],1),_vm.lessonHasResources?_c("section",{staticClass:"content-cards"},_vm._l(_vm.contentNodes,(function(content){return _c("HybridLearningLessonCard",{key:content.id,staticClass:"content-card",attrs:{content:content,isMobile:_vm.windowIsSmall,link:_vm.genContentLinkBackLinkCurrentPage(content.id,!0)}})})),1):_c("p",{staticClass:"no-resources-message"},[_vm._v("\n      "+_vm._s(_vm.$tr("noResourcesInLesson"))+"\n    ")])],1)],1)};LessonPlaylistPagevue_type_template_id_2b344691_scoped_true_render._withStripped=!0;var HybridLearningLessonCardvue_type_template_id_66577515_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"card drop-shadow"},[_c("router-link",{staticClass:"card card-content",class:[{"mobile-card":_vm.isMobile},_vm.$computedClass({":focus":_vm.$coreOutline})],style:{backgroundColor:_vm.$themeTokens.surface},attrs:{to:_vm.link}},[_c("div",{staticClass:"thumbnail"},[_c("CardThumbnail",{attrs:{isMobile:_vm.isMobile,contentNode:_vm.content,hideDuration:!0}})],1),_c("h3",{staticClass:"title"},[_c("TextTruncatorCss",{style:{color:_vm.$themeTokens.text},attrs:{text:_vm.content.title,maxLines:1}})],1),_c("LearningActivityLabel",{staticClass:"learning-activity-label",style:{color:_vm.$themeTokens.text},attrs:{contentNode:_vm.content}}),_c("div",{staticClass:"footer"},[_c("ProgressBar",{attrs:{contentNode:_vm.content}})],1)],1)],1)};HybridLearningLessonCardvue_type_template_id_66577515_scoped_true_render._withStripped=!0;var HybridLearningLessonCard_component=normalizeComponent({name:"HybridLearningLessonCard",components:{CardThumbnail:CardThumbnail,TextTruncatorCss:external_kolibriCoreAppGlobal_coreVue_components_TextTruncatorCss_default(),LearningActivityLabel:LearningActivityLabel,ProgressBar:ProgressBar},mixins:[commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default()],props:{content:{type:Object,required:!0},link:{type:Object,required:!0,validator:external_kolibriCoreAppGlobal_utils_validators_namespaceObject.validateLinkObject},isMobile:{type:Boolean,default:!1}}},HybridLearningLessonCardvue_type_template_id_66577515_scoped_true_render,[],!1,null,"66577515",null);function LessonPlaylistPagevue_type_script_lang_js_typeof(o){return LessonPlaylistPagevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},LessonPlaylistPagevue_type_script_lang_js_typeof(o)}function LessonPlaylistPagevue_type_script_lang_js_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function LessonPlaylistPagevue_type_script_lang_js_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?LessonPlaylistPagevue_type_script_lang_js_ownKeys(Object(t),!0).forEach((function(r){LessonPlaylistPagevue_type_script_lang_js_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):LessonPlaylistPagevue_type_script_lang_js_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function LessonPlaylistPagevue_type_script_lang_js_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=LessonPlaylistPagevue_type_script_lang_js_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=LessonPlaylistPagevue_type_script_lang_js_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==LessonPlaylistPagevue_type_script_lang_js_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var LessonPlaylistPage=normalizeComponent({name:"LessonPlaylistPage",metaInfo:function(){return{title:this.currentLesson.title}},components:{KBreadcrumbs:KBreadcrumbs,HybridLearningLessonCard:HybridLearningLessonCard_component.exports,ContentIcon:external_kolibriCoreAppGlobal_coreVue_components_ContentIcon_default(),ProgressIcon:external_kolibriCoreAppGlobal_coreVue_components_ProgressIcon_default(),LearnAppBarPage:LearnAppBarPage,ResourceSyncingUiAlert:ResourceSyncingUiAlert},mixins:[external_kolibriCoreAppGlobal_coreVue_mixins_commonCoreStrings_default(),commonLearnStrings,external_kolibriCoreAppGlobal_coreVue_mixins_responsiveWindowMixin_default()],setup:function(){var genContentLinkBackLinkCurrentPage=useContentLink().genContentLinkBackLinkCurrentPage;return{contentNodeProgressMap:useContentNodeProgress().contentNodeProgressMap,genContentLinkBackLinkCurrentPage:genContentLinkBackLinkCurrentPage}},computed:LessonPlaylistPagevue_type_script_lang_js_objectSpread(LessonPlaylistPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapState)("lessonPlaylist",["contentNodesMap","currentLesson"])),{},{contentNodes:function(){var _this=this;return this.lessonResources.map((function(r){return _this.contentNodesMap[r.contentnode_id]||null})).filter(Boolean)},lessonResources:function(){return this.currentLesson&&this.currentLesson.resources||[]},lessonHasResources:function(){return this.lessonResources.length>0},lessonHasResourcesAvailable:function(){return this.contentNodes.length>0},lessonProgress:function(){var _this2=this;if(this.lessonHasResourcesAvailable){var total=Object.values(this.contentNodesMap).reduce((function(tot,node){return tot+(_this2.contentNodeProgressMap[node.content_id]||0)}),0);return 0===total?null:total/this.contentNodes.length}},breadcrumbs:function(){return this.currentLesson&&this.currentLesson.classroom?[{text:this.coreString("homeLabel"),link:{name:constants_PageNames.HOME}},{text:this.coreString("classesLabel"),link:{name:constants_ClassesPageNames.ALL_CLASSES}},{text:this.currentLesson.classroom.name,link:{name:constants_ClassesPageNames.CLASS_ASSIGNMENTS,params:{classId:this.currentLesson.classroom.id}}},{text:this.currentLesson.title}]:[]}}),beforeDestroy:function(){this.$route.name!==constants_PageNames.TOPICS_CONTENT&&this.SET_CURRENT_LESSON({})},methods:LessonPlaylistPagevue_type_script_lang_js_objectSpread({},(0,external_kolibriCoreAppGlobal_lib_vuex_namespaceObject.mapMutations)("lessonPlaylist",["SET_CURRENT_LESSON"])),$trs:{noResourcesInLesson:{message:"There are no resources in this lesson",context:"This text displays in the learner's 'Lessons' section if the coach has not added any resources to the lesson."},teacherNote:{message:"Coach note",context:"Label for the field where the coach can add notes for their learners regarding the resource."}}},LessonPlaylistPagevue_type_template_id_2b344691_scoped_true_render,[],!1,null,"2b344691",null).exports;function noClassesGuard(){var canAccessUnassignedContent=external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.canAccessUnassignedContent;if(!shared_get(inClasses)&&canAccessUnassignedContent)return external_kolibriCoreAppGlobal_coreVue_router_default().replace({name:constants_PageNames.LIBRARY})}var classesRoutes=[{name:constants_ClassesPageNames.ALL_CLASSES,path:"/classes",handler:function(){return noClassesGuard()||(store=external_kolibriCoreAppGlobal_coreVue_vuex_store_default()).dispatch("loading").then((function(){return LearnerClassroomResource.fetchCollection().then((function(classrooms){store.commit("SET_PAGE_NAME",constants_ClassesPageNames.ALL_CLASSES),store.commit("classes/SET_LEARNER_CLASSROOMS",classrooms),store.dispatch("notLoading")})).catch((function(error){return error instanceof Error?store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0}):store.dispatch("handleError",{error:error,reloadOnReconnect:!0})}))}));var store},component:AllClassesPage},{name:constants_ClassesPageNames.CLASS_ASSIGNMENTS,path:"/classes/:classId",handler:function(toRoute){var classId=toRoute.params.classId;return noClassesGuard()||function(store,classId){return store.dispatch("loading").then((function(){return fetchClass({classId:classId}).then((function(){store.commit("SET_PAGE_NAME",constants_ClassesPageNames.CLASS_ASSIGNMENTS),store.dispatch("notLoading")})).catch((function(error){return store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),classId)},component:ClassAssignmentsPage},{name:constants_ClassesPageNames.LESSON_PLAYLIST,path:"/classes/:classId/lesson/:lessonId",handler:function(toRoute){var _toRoute$params=toRoute.params,classId=_toRoute$params.classId,lessonId=_toRoute$params.lessonId;return noClassesGuard()||function(store,_ref){var lessonId=_ref.lessonId;return store.dispatch("loading").then((function(){store.getters.isUserLoggedIn&&handlers_fetchContentNodeProgress({lesson:lessonId});var contentNodePromise=external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchLessonResources(lessonId);return LearnerLessonResource.fetchModel({id:lessonId}).then((function(lesson){return store.commit("SET_PAGE_NAME",constants_ClassesPageNames.LESSON_PLAYLIST),store.commit("lessonPlaylist/SET_CURRENT_LESSON",lesson),lesson.resources.length?contentNodePromise:Promise.resolve([])})).then((function(contentNodes){var _step,contentNodesMap={},_iterator=handlers_createForOfIteratorHelper(contentNodes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;contentNodesMap[node.id]=node}}catch(err){_iterator.e(err)}finally{_iterator.f()}store.commit("lessonPlaylist/SET_LESSON_CONTENTNODES",contentNodesMap),store.dispatch("notLoading")})).catch((function(error){return store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),{classId:classId,lessonId:lessonId})},component:LessonPlaylistPage},{name:constants_ClassesPageNames.EXAM_VIEWER,path:"/classes/:classId/exam/:examId/:questionNumber",handler:function(toRoute,fromRoute){if(noClassesGuard())return noClassesGuard();var alreadyOnQuiz=fromRoute.name===constants_ClassesPageNames.EXAM_VIEWER&&toRoute.params.examId===fromRoute.params.examId&&toRoute.params.classId===fromRoute.params.classId;!function(store,params,alreadyOnQuiz){var questionNumber=Number(params.questionNumber),classId=params.classId,examId=params.examId;if(alreadyOnQuiz||store.commit("CORE_SET_PAGE_LOADING",!0),store.commit("SET_PAGE_NAME",constants_ClassesPageNames.EXAM_VIEWER),store.getters.currentUserId){var promises=[LearnerClassroomResource.fetchModel({id:classId}),external_kolibriCoreAppGlobal_resources_namespaceObject.ExamResource.fetchModel({id:examId})],shouldResolve=external_kolibriCoreAppGlobal_utils_samePageCheckGenerator_default()(store);Promise.all(promises).then((function(_ref){var _ref2=handlers_slicedToArray(_ref,2),classroom=_ref2[0],exam=_ref2[1];shouldResolve()&&(store.commit("classAssignments/SET_CURRENT_CLASSROOM",classroom),(exam.question_sources.length?external_kolibriCoreAppGlobal_resources_namespaceObject.ContentNodeResource.fetchCollection({getParams:{ids:exam.question_sources.map((function(item){return item.exercise_id}))}}):Promise.resolve([])).then((function(contentNodes){if(shouldResolve()){var questions=(0,external_kolibriCoreAppGlobal_utils_exams_namespaceObject.convertExamQuestionSources)(exam,{contentNodes:contentNodes});if(exam.learners_see_fixed_order||(questions=external_kolibriCoreAppGlobal_utils_shuffled_default()(questions,store.state.core.session.user_id)),questions.some((function(question){return!question.question_id})))return void store.dispatch("handleError","This quiz cannot be displayed:\nQuestion sources: ".concat(JSON.stringify(questions),"\nExam: ").concat(JSON.stringify(exam)));if(questionNumber>=questions.length)return void store.dispatch("handleError","Question number ".concat(questionNumber," is not valid for this quiz"));var _step,contentNodeMap={},_iterator=examViewer_handlers_createForOfIteratorHelper(contentNodes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;contentNodeMap[node.id]=node}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,_iterator2=examViewer_handlers_createForOfIteratorHelper(questions);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var question=_step2.value;question.missing=!contentNodeMap[question.exercise_id]}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}store.commit("examViewer/SET_STATE",{contentNodeMap:contentNodeMap,exam:exam,questionNumber:questionNumber,questions:questions}),store.commit("CORE_SET_PAGE_LOADING",!1),store.commit("CORE_SET_ERROR",null)}}),(function(error){shouldResolve()&&store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})})))}),(function(error){shouldResolve()&&store.dispatch("handleApiError",{error:error,reloadOnReconnect:!0})}))}else store.commit("CORE_SET_ERROR","You must be logged in as a learner to view this page"),store.commit("CORE_SET_PAGE_LOADING",!1)}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute.params,alreadyOnQuiz)},component:ExamPage},{name:constants_ClassesPageNames.EXAM_REPORT_VIEWER,path:"/classes/:classId/examReport/:examId/:tryIndex/:questionNumber/:questionInteraction",handler:function(toRoute){if(noClassesGuard())return noClassesGuard();!function(store,params){var classId=params.classId,examId=params.examId,tryIndex=params.tryIndex,questionNumber=params.questionNumber,questionInteraction=params.questionInteraction;store.commit("CORE_SET_PAGE_LOADING",!0),store.commit("SET_PAGE_NAME",constants_ClassesPageNames.EXAM_REPORT_VIEWER);var examReportPromise=(0,external_kolibriCoreAppGlobal_utils_exams_namespaceObject.getExamReport)(examId,tryIndex,questionNumber,questionInteraction);Promise.all([examReportPromise]).then((function(_ref){var examReport=examReportViewer_handlers_slicedToArray(_ref,1)[0];store.commit("examReportViewer/SET_STATE",examReport),store.commit("CORE_SET_ERROR",null),store.commit("CORE_SET_PAGE_LOADING",!1)}),(function(){return external_kolibriCoreAppGlobal_coreVue_router_default().replace({name:constants_ClassesPageNames.CLASS_ASSIGNMENTS,params:{classId:classId}})}))}(external_kolibriCoreAppGlobal_coreVue_vuex_store_default(),toRoute.params)},component:LearnExamReportViewer}];function routes_typeof(o){return routes_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},routes_typeof(o)}function routes_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function routes_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?routes_ownKeys(Object(t),!0).forEach((function(r){routes_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):routes_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function routes_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=routes_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=routes_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==routes_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function routes_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var routes_useChannels=useChannels(),routes_channelsMap=routes_useChannels.channelsMap,routes_fetchChannels=routes_useChannels.fetchChannels,routes_isUserLoggedIn=external_kolibriCoreAppGlobal_coreVue_composables_useUser_default()().isUserLoggedIn;function unassignedContentGuard(next){return!external_kolibriCoreAppGlobal_coreVue_vuex_store_default().getters.canAccessUnassignedContent&&next({name:constants_ClassesPageNames.ALL_CLASSES,replace:!0})}var arr,optionalDeviceIdPathSegment="/:deviceId([a-f0-9]{32}|".concat(KolibriStudioId,")?"),routes=[{name:constants_PageNames.ROOT,path:"/",redirect:function(){return shared_get(routes_isUserLoggedIn)?{name:constants_PageNames.HOME,replace:!0}:{name:constants_PageNames.LIBRARY,replace:!0}}},{name:constants_PageNames.HOME,path:"/home",component:HomePage,handler:function(to,from,next){shared_get(routes_isUserLoggedIn)?external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("CORE_SET_PAGE_LOADING",!0):next({name:constants_PageNames.LIBRARY,replace:!0})}}].concat(function(arr){if(Array.isArray(arr))return routes_arrayLikeToArray(arr)}(arr=classesRoutes.map((function(route){return routes_objectSpread(routes_objectSpread({},route),{},{path:"/home".concat(route.path)})})))||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return routes_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?routes_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{name:constants_PageNames.LIBRARY,path:"/library"+optionalDeviceIdPathSegment,handler:function(to,from,next){unassignedContentGuard(next)||shared_get(routes_isUserLoggedIn)||!to.params.deviceId||next({name:constants_PageNames.LIBRARY,replace:!0})},component:LibraryPage,props:function(route){return{deviceId:route.params.deviceId}}},{name:constants_PageNames.CONTENT_UNAVAILABLE,path:"/resources-unavailable",handler:function(){external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("SET_PAGE_NAME",constants_PageNames.CONTENT_UNAVAILABLE),external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("CORE_SET_PAGE_LOADING",!1),external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("CORE_SET_ERROR",null)},component:ContentUnavailablePage},{path:"/topics/:channel_id",handler:function(to){return routes_fetchChannels().then((function(){var channel_id=to.params.channel_id;if(shared_get(routes_channelsMap)[channel_id]){var id=shared_get(routes_channelsMap)[channel_id].root;external_kolibriCoreAppGlobal_coreVue_router_default().replace({name:constants_PageNames.TOPICS_TOPIC,params:{id:id}})}else external_kolibriCoreAppGlobal_coreVue_router_default().replace({name:constants_PageNames.ROOT})}))},component:TopicsPage},{path:"/topics".concat(optionalDeviceIdPathSegment,"/t/:id"),redirect:"/topics".concat(optionalDeviceIdPathSegment,"/t/:id/:subtopic?/folders")},{name:constants_PageNames.TOPICS_TOPIC_SEARCH,path:"/topics".concat(optionalDeviceIdPathSegment,"/t/:id/search"),handler:function(toRoute,fromRoute,next){unassignedContentGuard(next)},component:TopicsPage,props:!0},{name:constants_PageNames.TOPICS_TOPIC,path:"/topics".concat(optionalDeviceIdPathSegment,"/t/:id/:subtopic?/folders"),handler:function(toRoute,fromRoute,next){unassignedContentGuard(next)},component:TopicsPage,props:!0},{name:constants_PageNames.TOPICS_CONTENT,path:"/topics".concat(optionalDeviceIdPathSegment,"/c/:id"),component:TopicsContentPage,props:!0},{name:constants_PageNames.BOOKMARKS,path:"/bookmarks",handler:function(to,from,next){unassignedContentGuard(next)||(external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("SET_PAGE_NAME",constants_PageNames.BOOKMARKS),external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("CORE_SET_PAGE_LOADING",!1),next())},component:BookmarkPage},{name:constants_PageNames.EXPLORE_LIBRARIES,path:"/explore_libraries",component:ExploreLibrariesPage,handler:function(to,from,next){unassignedContentGuard(next)||(shared_get(routes_isUserLoggedIn)?(external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("SET_PAGE_NAME",constants_PageNames.EXPLORE_LIBRARIES),external_kolibriCoreAppGlobal_coreVue_vuex_store_default().commit("CORE_SET_PAGE_LOADING",!1),next()):next({name:constants_PageNames.LIBRARY,replace:!0}))}},{path:"*",redirect:"/"}]);function canAccessUnassignedContent(state,getters){return state.canAccessUnassignedContentSetting||getters.isCoach||getters.isAdmin||getters.isSuperUser}function allowGuestAccess(state){return state.allowGuestAccess}function resetModuleState(store,lastPageName){var moduleName=pageNameToModuleMap[lastPageName];moduleName&&store.commit("".concat(moduleName,"/RESET_STATE"))}function classAssignments_typeof(o){return classAssignments_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},classAssignments_typeof(o)}function classAssignments_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function classAssignments_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=classAssignments_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=classAssignments_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==classAssignments_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var classAssignments={namespaced:!0,state:{currentClassroom:{}},mutations:{SET_CURRENT_CLASSROOM:function(state,classroom){state.currentClassroom=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?classAssignments_ownKeys(Object(t),!0).forEach((function(r){classAssignments_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):classAssignments_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},classroom)},RESET_STATE:function(state){state.currentClassroom={}}}};function classes_toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return classes_arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return classes_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return classes_arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function classes_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function lessonPlaylist_typeof(o){return lessonPlaylist_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},lessonPlaylist_typeof(o)}function lessonPlaylist_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function lessonPlaylist_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?lessonPlaylist_ownKeys(Object(t),!0).forEach((function(r){lessonPlaylist_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lessonPlaylist_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function lessonPlaylist_defineProperty(obj,key,value){var i;return i=function(t,r){if("object"!=lessonPlaylist_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=lessonPlaylist_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(key,"string"),(key="symbol"==lessonPlaylist_typeof(i)?i:String(i))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var pluginModule={state:function(){return{pageName:"",welcomeModalVisible:!1,canAccessUnassignedContentSetting:plugin_data_src.allowLearnerUnassignedResourceAccess,allowGuestAccess:plugin_data_src.allowGuestAccess,showCompleteContentModal:!1}},actions:actions_namespaceObject,getters:getters_namespaceObject,mutations:{SET_PAGE_NAME:function(state,name){state.pageName=name},SET_SHOW_COMPLETE_CONTENT_MODAL:function(state,valToSet){state.showCompleteContentModal=valToSet},SET_WELCOME_MODAL_VISIBLE:function(state,visibility){state.welcomeModalVisible=visibility}},modules:{classAssignments:classAssignments,classes:{namespaced:!0,state:{classrooms:[]},mutations:{SET_LEARNER_CLASSROOMS:function(state,classrooms){state.classrooms=classes_toConsumableArray(classrooms)},RESET_STATE:function(state){state.classrooms=[]}}},examReportViewer:{namespaced:!0,state:{currentAttempt:{},currentInteraction:void 0,currentInteractionHistory:[],currentQuestion:{},exam:{},examAttempts:[],masteryLog:{},exercise:{},exerciseContentNodes:[],interactionIndex:0,itemId:"",questionNumber:0,questions:[],user:{}},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{currentAttempt:{},currentInteraction:void 0,currentInteractionHistory:[],currentQuestion:{},exam:{},examAttempts:[],masteryLog:{},exercise:{},exerciseContentNodes:[],interactionIndex:0,itemId:"",questionNumber:0,questions:[],user:{}})}}},examViewer:{namespaced:!0,state:{contentNodeMap:{},exam:{},questionNumber:0,questions:[]},mutations:{SET_STATE:function(state,payload){Object.assign(state,payload)},RESET_STATE:function(state){Object.assign(state,{contentNodeMap:{},exam:{},questionNumber:0,questions:[]})}}},lessonPlaylist:{namespaced:!0,state:function(){return{contentNodesMap:{},currentLesson:{}}},mutations:{SET_LESSON_CONTENTNODES:function(state,contentNodes){state.contentNodesMap=lessonPlaylist_objectSpread({},contentNodes)},SET_CURRENT_LESSON:function(state,lesson){state.currentLesson=lessonPlaylist_objectSpread({},lesson)}}}}};function app_typeof(o){return app_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},app_typeof(o)}function app_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,app_toPropertyKey(descriptor.key),descriptor)}}function app_toPropertyKey(t){var i=function(t,r){if("object"!=app_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=app_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==app_typeof(i)?i:String(i)}function app_callSuper(_this,derived,args){return derived=app_getPrototypeOf(derived),function(self,call){if(call&&("object"===app_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(_this,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(derived,args||[],app_getPrototypeOf(_this).constructor):derived.apply(_this,args))}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=app_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function app_getPrototypeOf(o){return app_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},app_getPrototypeOf(o)}function app_setPrototypeOf(o,p){return app_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},app_setPrototypeOf(o,p)}var LearnModule=function(_KolibriApp){function LearnModule(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LearnModule),app_callSuper(this,LearnModule,arguments)}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&app_setPrototypeOf(subClass,superClass)}(LearnModule,_KolibriApp),Constructor=LearnModule,(protoProps=[{key:"stateSetters",get:function(){return[prepareLearnApp]}},{key:"routes",get:function(){return routes}},{key:"RootVue",get:function(){return LearnIndex}},{key:"pluginModule",get:function(){return pluginModule}},{key:"ready",value:function(){var _this2=this;external_kolibriCoreAppGlobal_coreVue_router_default().beforeEach((function(to,from,next){if(to.name===constants_PageNames.CONTENT_UNAVAILABLE||_this2.store.state.allowGuestAccess||_this2.store.getters.isUserLoggedIn)next();else{var currentURL=window.encodeURIComponent(window.location.href);external_kolibriCoreAppGlobal_coreVue_router_default().replace({name:constants_PageNames.CONTENT_UNAVAILABLE,query:{next:currentURL}})}})),external_kolibriCoreAppGlobal_coreVue_router_default().afterEach((function(toRoute,fromRoute){_this2.store.dispatch("blockDoubleClicks"),_this2.store.dispatch("resetModuleState",{toRoute:toRoute,fromRoute:fromRoute})})),_get(app_getPrototypeOf(LearnModule.prototype),"ready",this).call(this)}}])&&app_defineProperties(Constructor.prototype,protoProps),staticProps&&app_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),LearnModule}(KolibriApp);new LearnModule}(),__webpack_exports__=__webpack_require__.O(__webpack_exports__)}();
//# sourceMappingURL=kolibri.plugins.learn.app-0.16.0.js.map